/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojbootstrap',[],function(){"use strict";var e;return{whenDocumentReady:function(){return e||(e="loading"===document.readyState?new Promise(function(e){var n=function(){document.removeEventListener("DOMContentLoaded",n),e()};document.addEventListener("DOMContentLoaded",n)}):Promise.resolve()),e}}});
/*!
 * Knockout JavaScript library v3.5.0
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

(function() {(function(p){var z=this||(0,eval)("this"),w=z.document,R=z.navigator,v=z.jQuery,H=z.JSON;v||"undefined"===typeof jQuery||(v=jQuery);(function(p){"function"===typeof define&&define.amd?define('knockout',["exports","require"],p):"object"===typeof exports&&"object"===typeof module?p(module.exports||exports):p(z.ko={})})(function(S,T){function K(a,c){return null===a||typeof a in W?a===c:!1}function X(b,c){var d;return function(){d||(d=a.a.setTimeout(function(){d=p;b()},c))}}function Y(b,c){var d;return function(){clearTimeout(d);
d=a.a.setTimeout(b,c)}}function Z(a,c){c&&"change"!==c?"beforeChange"===c?this.oc(a):this.bb(a,c):this.pc(a)}function aa(a,c){null!==c&&c.s&&c.s()}function ba(a,c){var d=this.pd,e=d[t];e.qa||(this.Pb&&this.kb[c]?(d.tc(c,a,this.kb[c]),this.kb[c]=null,--this.Pb):e.F[c]||d.tc(c,a,e.G?{da:a}:d.Zc(a)),a.Ka&&a.fd())}var a="undefined"!==typeof S?S:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.J=function(a,c,d){a[c]=d};a.version="3.5.0";a.b("version",
a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1};a.a=function(){function b(a,b){for(var c in a)f.call(a,c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)f.call(b,c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=b;return a}function e(b,c,d,e){var k=b[c].match(n)||[];a.a.C(d.match(n),function(b){a.a.Oa(k,b,e)});b[c]=k.join(" ")}var f=Object.prototype.hasOwnProperty,g={__proto__:[]}instanceof Array,h="function"===typeof Symbol,m={},l={};m[R&&/Firefox\/2/i.test(R.userAgent)?
"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(m,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)l[b[c]]=a});var k={propertychange:!0},q=w&&function(){for(var a=3,b=w.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:p}(),n=/\S+/g,r;return{Ic:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],
C:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},A:"function"==typeof Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Lb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d];return p},hb:function(b,c){var d=a.a.A(b,c);0<d?b.splice(d,1):0===d&&b.shift()},vc:function(b){var c=[];b&&a.a.C(b,function(b){0>a.a.A(c,b)&&c.push(b)});return c},Mb:function(a,
b,c){var d=[];if(a)for(var e=0,k=a.length;e<k;e++)d.push(b.call(c,a[e],e));return d},fb:function(a,b,c){var d=[];if(a)for(var e=0,k=a.length;e<k;e++)b.call(c,a[e],e)&&d.push(a[e]);return d},gb:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Oa:function(b,c,d){var e=a.a.A(a.a.$b(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},Ba:g,extend:c,setPrototypeOf:d,zb:g?d:c,O:b,Ha:function(a,b,c){if(!a)return a;var d={},e;for(e in a)f.call(a,e)&&(d[e]=
b.call(c,a[e],e,a));return d},Sb:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},Xb:function(b){b=a.a.la(b);for(var c=(b[0]&&b[0].ownerDocument||w).createElement("div"),d=0,e=b.length;d<e;d++)c.appendChild(a.na(b[d]));return c},Ca:function(b,c){for(var d=0,e=b.length,k=[];d<e;d++){var f=b[d].cloneNode(!0);k.push(c?a.na(f):f)}return k},ua:function(b,c){a.a.Sb(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Wc:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],
k=e.parentNode,f=0,l=c.length;f<l;f++)k.insertBefore(c[f],e);f=0;for(l=d.length;f<l;f++)a.removeNode(d[f])}},Ua:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==b;)a.length--;if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)a.push(c),c=c.nextSibling;a.push(d)}}return a},Yc:function(a,b){7>q?a.setAttribute("selected",b):a.selected=b},Cb:function(a){return null===a||a===p?"":a.trim?
a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Td:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},ud:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(1!==a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Rb:function(b){return a.a.ud(b,b.ownerDocument.documentElement)},jd:function(b){return!!a.a.Lb(b,a.a.Rb)},P:function(a){return a&&
a.tagName&&a.tagName.toLowerCase()},zc:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(c){throw a.onError&&a.onError(c),c;}}:b},setTimeout:function(b,c){return setTimeout(a.a.zc(b),c)},Fc:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b;},0)},H:function(b,c,d){var e=a.a.zc(d);d=k[c];if(a.options.useOnlyNativeEvents||d||!v)if(d||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var f=function(a){e.call(b,a)},l="on"+c;b.attachEvent(l,
f);a.a.I.za(b,function(){b.detachEvent(l,f)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(c,e,!1);else r||(r="function"==typeof v(b).on?"on":"bind"),v(b)[r](c,e)},Fb:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var d;"input"===a.a.P(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(a.options.useOnlyNativeEvents||!v||d)if("function"==typeof w.createEvent)if("function"==
typeof b.dispatchEvent)d=w.createEvent(l[c]||"HTMLEvents"),d.initEvent(c,!0,!0,z,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error("The supplied element doesn't support dispatchEvent");else if(d&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+c);else throw Error("Browser doesn't support triggering events");else v(b).trigger(c)},c:function(b){return a.N(b)?b():b},$b:function(b){return a.N(b)?b.w():b},Eb:function(b,c,d){var k;c&&("object"===typeof b.classList?
(k=b.classList[d?"add":"remove"],a.a.C(c.match(n),function(a){k.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},Ab:function(b,c){var d=a.a.c(c);if(null===d||d===p)d="";var e=a.h.firstChild(b);!e||3!=e.nodeType||a.h.nextSibling(e)?a.h.ua(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.zd(b)},Xc:function(a,b){a.name=b;if(7>=q)try{var c=a.name.replace(/[&<>'"]/g,function(a){return"&#"+a.charCodeAt(0)+";"});a.mergeAttributes(w.createElement("<input name='"+
c+"'/>"),!1)}catch(d){}},zd:function(a){9<=q&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},vd:function(a){if(q){var b=a.style.width;a.style.width=0;a.style.width=b}},Od:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var d=[],e=b;e<=c;e++)d.push(e);return d},la:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},Da:function(a){return h?Symbol(a):a},Xd:6===q,Yd:7===q,W:q,Kc:function(b,c){for(var d=a.a.la(b.getElementsByTagName("input")).concat(a.a.la(b.getElementsByTagName("textarea"))),
e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},k=[],f=d.length-1;0<=f;f--)e(d[f])&&k.push(d[f]);return k},Md:function(b){return"string"==typeof b&&(b=a.a.Cb(b))?H&&H.parse?H.parse(b):(new Function("return "+b))():null},fc:function(b,c,d){if(!H||!H.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return H.stringify(a.a.c(b),c,d)},Nd:function(c,d,e){e=e||{};var k=e.params||{},f=e.includeFields||this.Ic,l=c;if("object"==typeof c&&"form"===a.a.P(c))for(var l=c.action,h=f.length-1;0<=h;h--)for(var g=a.a.Kc(c,f[h]),m=g.length-1;0<=m;m--)k[g[m].name]=g[m].value;d=a.a.c(d);var n=w.createElement("form");n.style.display="none";n.action=l;n.method="post";for(var q in d)c=w.createElement("input"),c.type="hidden",c.name=q,c.value=a.a.fc(a.a.c(d[q])),n.appendChild(c);b(k,function(a,b){var c=w.createElement("input");
c.type="hidden";c.name=a;c.value=b;n.appendChild(c)});w.body.appendChild(n);e.submitter?e.submitter(n):n.submit();setTimeout(function(){n.parentNode.removeChild(n)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.C);a.b("utils.arrayFirst",a.a.Lb);a.b("utils.arrayFilter",a.a.fb);a.b("utils.arrayGetDistinctValues",a.a.vc);a.b("utils.arrayIndexOf",a.a.A);a.b("utils.arrayMap",a.a.Mb);a.b("utils.arrayPushAll",a.a.gb);a.b("utils.arrayRemoveItem",a.a.hb);a.b("utils.cloneNodes",a.a.Ca);a.b("utils.createSymbolOrString",
a.a.Da);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.Ic);a.b("utils.getFormFields",a.a.Kc);a.b("utils.objectMap",a.a.Ha);a.b("utils.peekObservable",a.a.$b);a.b("utils.postJson",a.a.Nd);a.b("utils.parseJson",a.a.Md);a.b("utils.registerEventHandler",a.a.H);a.b("utils.stringifyJson",a.a.fc);a.b("utils.range",a.a.Od);a.b("utils.toggleDomNodeCssClass",a.a.Eb);a.b("utils.triggerEvent",a.a.Fb);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.O);a.b("utils.addOrRemoveItem",
a.a.Oa);a.b("utils.setTextContent",a.a.Ab);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if(1===arguments.length)return function(){return c.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return c.apply(a,e)}});a.a.g=new function(){var b=0,c="__ko__"+(new Date).getTime(),d={},e,f;a.a.W?(e=function(a,e){var f=a[c];if(!f||"null"===f||!d[f]){if(!e)return p;f=a[c]="ko"+b++;d[f]=
{}}return d[f]},f=function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1}):(e=function(a,b){var d=a[c];!d&&b&&(d=a[c]={});return d},f=function(a){return a[c]?(delete a[c],!0):!1});return{get:function(a,b){var c=e(a,!1);return c&&c[b]},set:function(a,b,c){(a=e(a,c!==p))&&(a[b]=c)},Tb:function(a,b,c){a=e(a,!0);return a[b]||(a[b]=c)},clear:f,Z:function(){return b++ +c}}};a.b("utils.domData",a.a.g);a.b("utils.domData.clear",a.a.g.clear);a.a.I=new function(){function b(b,c){var d=a.a.g.get(b,e);
d===p&&c&&(d=[],a.a.g.set(b,e,d));return d}function c(c){var e=b(c,!1);if(e)for(var e=e.slice(0),f=0;f<e.length;f++)e[f](c);a.a.g.clear(c);a.a.I.cleanExternalData(c);g[c.nodeType]&&d(c.childNodes,!0)}function d(b,d){for(var e=[],k,f=0;f<b.length;f++)if(!d||8===b[f].nodeType)if(c(e[e.length]=k=b[f]),b[f]!==k)for(;f--&&-1==a.a.A(e,b[f]););}var e=a.a.g.Z(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{za:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},xb:function(c,
d){var f=b(c,!1);f&&(a.a.hb(f,d),0==f.length&&a.a.g.set(c,e,p))},na:function(a){f[a.nodeType]&&(c(a),g[a.nodeType]&&d(a.getElementsByTagName("*")));return a},removeNode:function(b){a.na(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){v&&"function"==typeof v.cleanData&&v.cleanData([a])}}};a.na=a.a.I.na;a.removeNode=a.a.I.removeNode;a.b("cleanNode",a.na);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.I);a.b("utils.domNodeDisposal.addDisposeCallback",a.a.I.za);
a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.I.xb);(function(){var b=[0,"",""],c=[1,"<table>","</table>"],d=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,"<select multiple='multiple'>","</select>"],f={thead:c,tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:d,th:d,option:e,optgroup:e},g=8>=a.a.W;a.a.ta=function(c,d){var e;if(v)if(v.parseHTML)e=v.parseHTML(c,d)||[];else{if((e=v.clean([c],d))&&e[0]){for(var k=e[0];k.parentNode&&11!==k.parentNode.nodeType;)k=k.parentNode;
k.parentNode&&k.parentNode.removeChild(k)}}else{(e=d)||(e=w);var k=e.parentWindow||e.defaultView||z,q=a.a.Cb(c).toLowerCase(),n=e.createElement("div"),r;r=(q=q.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&f[q[1]]||b;q=r[0];r="ignored<div>"+r[1]+c+r[2]+"</div>";"function"==typeof k.innerShiv?n.appendChild(k.innerShiv(r)):(g&&e.body.appendChild(n),n.innerHTML=r,g&&n.parentNode.removeChild(n));for(;q--;)n=n.lastChild;e=a.a.la(n.lastChild.childNodes)}return e};a.a.Ld=function(b,c){var d=a.a.ta(b,
c);return d.length&&d[0].parentElement||a.a.Xb(d)};a.a.dc=function(b,c){a.a.Sb(b);c=a.a.c(c);if(null!==c&&c!==p)if("string"!=typeof c&&(c=c.toString()),v)v(b).html(c);else for(var d=a.a.ta(c,b.ownerDocument),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b("utils.parseHtmlFragment",a.a.ta);a.b("utils.setHtml",a.a.dc);a.aa=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.aa.Tc(c.nodeValue);null!=f&&e.push({sd:c,Jd:f})}else if(1==c.nodeType)for(var f=0,g=c.childNodes,h=g.length;f<h;f++)b(g[f],
e)}var c={};return{Wb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},ad:function(a,b){var f=c[a];if(f===p)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},bd:function(c,e){var f=
[];b(c,f);for(var g=0,h=f.length;g<h;g++){var m=f[g].sd,l=[m];e&&a.a.gb(l,e);a.aa.ad(f[g].Jd,l);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},Tc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.aa);a.b("memoization.memoize",a.aa.Wb);a.b("memoization.unmemoize",a.aa.ad);a.b("memoization.parseMemoText",a.aa.Tc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.aa.bd);a.ma=function(){function b(){if(f)for(var b=f,c=0,d;h<f;)if(d=e[h++]){if(h>b){if(5E3<=
++c){h=f;a.a.Fc(Error("'Too much recursion' after processing "+c+" task groups."));break}b=f}try{d()}catch(g){a.a.Fc(g)}}}function c(){b();h=f=e.length=0}var d,e=[],f=0,g=1,h=0;z.MutationObserver?d=function(a){var b=w.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(c):d=w&&"onreadystatechange"in w.createElement("script")?function(a){var b=w.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;w.documentElement.removeChild(b);
b=null;a()};w.documentElement.appendChild(b)}:function(a){setTimeout(a,0)};return{scheduler:d,yb:function(b){f||a.ma.scheduler(c);e[f++]=b;return g++},cancel:function(a){a=a-(g-f);a>=h&&a<f&&(e[a]=null)},resetForTesting:function(){var a=f-h;h=f=e.length=0;return a},Rd:b}}();a.b("tasks",a.ma);a.b("tasks.schedule",a.ma.yb);a.b("tasks.runEarly",a.ma.Rd);a.Ta={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.$({read:b,write:function(e){clearTimeout(d);d=a.a.setTimeout(function(){b(e)},
c)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);a.Hb=!1;f="function"==typeof e?e:"notifyWhenChangesStop"==e?Y:X;a.tb(function(a){return f(a,d,c)})},deferred:function(b,c){if(!0!==c)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");b.Hb||(b.Hb=!0,b.tb(function(c){var e,f=!1;return function(){if(!f){a.ma.cancel(e);e=a.ma.yb(c);try{f=!0,b.notifySubscribers(p,"dirty")}finally{f=
!1}}}}))},notify:function(a,c){a.equalityComparer="always"==c?null:K}};var W={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ta);a.gc=function(b,c,d){this.da=b;this.kc=c;this.lc=d;this.Ib=!1;this.ab=this.Jb=null;a.J(this,"dispose",this.s);a.J(this,"disposeWhenNodeIsRemoved",this.l)};a.gc.prototype.s=function(){this.Ib||(this.ab&&a.a.I.xb(this.Jb,this.ab),this.Ib=!0,this.lc(),this.da=this.kc=this.lc=this.Jb=this.ab=null)};a.gc.prototype.l=function(b){this.Jb=b;a.a.I.za(b,this.ab=this.s.bind(this))};
a.R=function(){a.a.zb(this,D);D.ob(this)};var D={ob:function(a){a.S={change:[]};a.rc=1},subscribe:function(b,c,d){var e=this;d=d||"change";var f=new a.gc(e,c?b.bind(c):b,function(){a.a.hb(e.S[d],f);e.cb&&e.cb(d)});e.Qa&&e.Qa(d);e.S[d]||(e.S[d]=[]);e.S[d].push(f);return f},notifySubscribers:function(b,c){c=c||"change";"change"===c&&this.Gb();if(this.Wa(c)){var d="change"===c&&this.dd||this.S[c].slice(0);try{a.v.wc();for(var e=0,f;f=d[e];++e)f.Ib||f.kc(b)}finally{a.v.end()}}},mb:function(){return this.rc},
Cd:function(a){return this.mb()!==a},Gb:function(){++this.rc},tb:function(b){var c=this,d=a.N(c),e,f,g,h,m;c.bb||(c.bb=c.notifySubscribers,c.notifySubscribers=Z);var l=b(function(){c.Ka=!1;d&&h===c&&(h=c.mc?c.mc():c());var a=f||m&&c.qb(g,h);m=f=e=!1;a&&c.bb(g=h)});c.pc=function(a,b){b&&c.Ka||(m=!b);c.dd=c.S.change.slice(0);c.Ka=e=!0;h=a;l()};c.oc=function(a){e||(g=a,c.bb(a,"beforeChange"))};c.qc=function(){m=!0};c.fd=function(){c.qb(g,c.w(!0))&&(f=!0)}},Wa:function(a){return this.S[a]&&this.S[a].length},
Ad:function(b){if(b)return this.S[b]&&this.S[b].length||0;var c=0;a.a.O(this.S,function(a,b){"dirty"!==a&&(c+=b.length)});return c},qb:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},toString:function(){return"[object Object]"},extend:function(b){var c=this;b&&a.a.O(b,function(b,e){var f=a.Ta[b];"function"==typeof f&&(c=f(c,e)||c)});return c}};a.J(D,"init",D.ob);a.J(D,"subscribe",D.subscribe);a.J(D,"extend",D.extend);a.J(D,"getSubscriptionsCount",D.Ad);a.a.Ba&&a.a.setPrototypeOf(D,
Function.prototype);a.R.fn=D;a.Pc=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.R);a.b("isSubscribable",a.Pc);a.U=a.v=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{wc:b,end:c,ac:function(b){if(e){if(!a.Pc(b))throw Error("Only subscribable things can act as dependencies");e.nd.call(e.od,b,b.ed||(b.ed=++f))}},K:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},pa:function(){if(e)return e.o.pa()},
Va:function(){if(e)return e.o.Va()},rb:function(){if(e)return e.rb},o:function(){if(e)return e.o}}}();a.b("computedContext",a.U);a.b("computedContext.getDependenciesCount",a.U.pa);a.b("computedContext.getDependencies",a.U.Va);a.b("computedContext.isInitial",a.U.rb);a.b("computedContext.registerDependency",a.U.ac);a.b("ignoreDependencies",a.Wd=a.v.K);var I=a.a.Da("_latestValue");a.sa=function(b){function c(){if(0<arguments.length)return c.qb(c[I],arguments[0])&&(c.xa(),c[I]=arguments[0],c.wa()),this;
a.v.ac(c);return c[I]}c[I]=b;a.a.Ba||a.a.extend(c,a.R.fn);a.R.fn.ob(c);a.a.zb(c,F);a.options.deferUpdates&&a.Ta.deferred(c,!0);return c};var F={equalityComparer:K,w:function(){return this[I]},wa:function(){this.notifySubscribers(this[I],"spectate");this.notifySubscribers(this[I])},xa:function(){this.notifySubscribers(this[I],"beforeChange")}};a.a.Ba&&a.a.setPrototypeOf(F,a.R.fn);var G=a.sa.Na="__ko_proto__";F[G]=a.sa;a.N=function(b){if((b="function"==typeof b&&b[G])&&b!==F[G]&&b!==a.o.fn[G])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");
return!!b};a.Ya=function(b){return"function"==typeof b&&(b[G]===F[G]||b[G]===a.o.fn[G]&&b.Mc)};a.b("observable",a.sa);a.b("isObservable",a.N);a.b("isWriteableObservable",a.Ya);a.b("isWritableObservable",a.Ya);a.b("observable.fn",F);a.J(F,"peek",F.w);a.J(F,"valueHasMutated",F.wa);a.J(F,"valueWillMutate",F.xa);a.Ia=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.sa(b);a.a.zb(b,
a.Ia.fn);return b.extend({trackArrayChanges:!0})};a.Ia.fn={remove:function(b){for(var c=this.w(),d=[],e="function"!=typeof b||a.N(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];if(e(g)){0===d.length&&this.xa();if(c[f]!==g)throw Error("Array modified during remove; cannot remove item");d.push(g);c.splice(f,1);f--}}d.length&&this.wa();return d},removeAll:function(b){if(b===p){var c=this.w(),d=c.slice(0);this.xa();c.splice(0,c.length);this.wa();return d}return b?this.remove(function(c){return 0<=
a.a.A(b,c)}):[]},destroy:function(b){var c=this.w(),d="function"!=typeof b||a.N(b)?function(a){return a===b}:b;this.xa();for(var e=c.length-1;0<=e;e--){var f=c[e];d(f)&&(f._destroy=!0)}this.wa()},destroyAll:function(b){return b===p?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.A(b,c)}):[]},indexOf:function(b){var c=this();return a.a.A(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.xa(),this.w()[d]=c,this.wa())},sorted:function(a){var c=this().slice(0);
return a?c.sort(a):c.sort()},reversed:function(){return this().slice(0).reverse()}};a.a.Ba&&a.a.setPrototypeOf(a.Ia.fn,a.sa.fn);a.a.C("pop push reverse shift sort splice unshift".split(" "),function(b){a.Ia.fn[b]=function(){var a=this.w();this.xa();this.yc(a,b,arguments);var d=a[b].apply(a,arguments);this.wa();return d===a?this:d}});a.a.C(["slice"],function(b){a.Ia.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.Oc=function(b){return a.N(b)&&"function"==typeof b.remove&&"function"==
typeof b.push};a.b("observableArray",a.Ia);a.b("isObservableArray",a.Oc);a.Ta.trackArrayChanges=function(b,c){function d(){function c(){if(h){var d=[].concat(b.w()||[]);if(b.Wa("arrayChange")){var e;if(!f||1<h)f=a.a.Ob(m,d,b.Nb);e=f}m=d;f=null;h=0;e&&e.length&&b.notifySubscribers(e,"arrayChange")}}e?c():(e=!0,l=b.notifySubscribers,b.notifySubscribers=function(a,b){b&&"change"!==b||++h;return l.apply(this,arguments)},m=[].concat(b.w()||[]),f=null,g=b.subscribe(c))}b.Nb={};c&&"object"==typeof c&&a.a.extend(b.Nb,
c);b.Nb.sparse=!0;if(!b.yc){var e=!1,f=null,g,h=0,m,l,k=b.Qa,q=b.cb;b.Qa=function(a){k&&k.call(b,a);"arrayChange"===a&&d()};b.cb=function(a){q&&q.call(b,a);"arrayChange"!==a||b.Wa("arrayChange")||(l&&(b.notifySubscribers=l,l=p),g&&g.s(),g=null,e=!1,m=p)};b.yc=function(b,c,d){function k(a,b,c){return l[l.length]={status:a,value:b,index:c}}if(e&&!h){var l=[],g=b.length,q=d.length,m=0;switch(c){case "push":m=g;case "unshift":for(c=0;c<q;c++)k("added",d[c],m+c);break;case "pop":m=g-1;case "shift":g&&
k("deleted",b[m],m);break;case "splice":c=Math.min(Math.max(0,0>d[0]?g+d[0]:d[0]),g);for(var g=1===q?g:Math.min(c+(d[1]||0),g),q=c+q-2,m=Math.max(g,q),U=[],L=[],p=2;c<m;++c,++p)c<g&&L.push(k("deleted",b[c],c)),c<q&&U.push(k("added",d[p],c));a.a.Jc(L,U);break;default:return}f=l}}}};var t=a.a.Da("_state");a.o=a.$=function(b,c,d){function e(){if(0<arguments.length){if("function"===typeof f)f.apply(g.lb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}g.qa||a.v.ac(e);(g.ka||g.G&&e.Xa())&&e.ha();return g.X}"object"===typeof b?d=b:(d=d||{},b&&(d.read=b));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var f=d.write,g={X:p,ra:!0,ka:!0,pb:!1,hc:!1,qa:!1,vb:!1,G:!1,Vc:d.read,lb:c||d.owner,l:d.disposeWhenNodeIsRemoved||d.l||null,Sa:d.disposeWhen||d.Sa,Qb:null,F:{},V:0,Hc:null};e[t]=g;e.Mc="function"===typeof f;a.a.Ba||a.a.extend(e,a.R.fn);a.R.fn.ob(e);a.a.zb(e,C);d.pure?(g.vb=!0,g.G=!0,
a.a.extend(e,da)):d.deferEvaluation&&a.a.extend(e,ea);a.options.deferUpdates&&a.Ta.deferred(e,!0);g.l&&(g.hc=!0,g.l.nodeType||(g.l=null));g.G||d.deferEvaluation||e.ha();g.l&&e.ja()&&a.a.I.za(g.l,g.Qb=function(){e.s()});return e};var C={equalityComparer:K,pa:function(){return this[t].V},Va:function(){var b=[];a.a.O(this[t].F,function(a,d){b[d.La]=d.da});return b},Ub:function(b){if(!this[t].V)return!1;var c=this.Va();return-1!==a.a.A(c,b)?!0:!!a.a.Lb(c,function(a){return a.Ub&&a.Ub(b)})},tc:function(a,
c,d){if(this[t].vb&&c===this)throw Error("A 'pure' computed must not be called recursively");this[t].F[a]=d;d.La=this[t].V++;d.Ma=c.mb()},Xa:function(){var a,c,d=this[t].F;for(a in d)if(Object.prototype.hasOwnProperty.call(d,a)&&(c=d[a],this.Ja&&c.da.Ka||c.da.Cd(c.Ma)))return!0},Id:function(){this.Ja&&!this[t].pb&&this.Ja(!1)},ja:function(){var a=this[t];return a.ka||0<a.V},Qd:function(){this.Ka?this[t].ka&&(this[t].ra=!0):this.Gc()},Zc:function(a){if(a.Hb){var c=a.subscribe(this.Id,this,"dirty"),
d=a.subscribe(this.Qd,this);return{da:a,s:function(){c.s();d.s()}}}return a.subscribe(this.Gc,this)},Gc:function(){var b=this,c=b.throttleEvaluation;c&&0<=c?(clearTimeout(this[t].Hc),this[t].Hc=a.a.setTimeout(function(){b.ha(!0)},c)):b.Ja?b.Ja(!0):b.ha(!0)},ha:function(b){var c=this[t],d=c.Sa,e=!1;if(!c.pb&&!c.qa){if(c.l&&!a.a.Rb(c.l)||d&&d()){if(!c.hc){this.s();return}}else c.hc=!1;c.pb=!0;try{e=this.yd(b)}finally{c.pb=!1}return e}},yd:function(b){var c=this[t],d=!1,e=c.vb?p:!c.V,d={pd:this,kb:c.F,
Pb:c.V};a.v.wc({od:d,nd:ba,o:this,rb:e});c.F={};c.V=0;var f=this.xd(c,d);c.V?d=this.qb(c.X,f):(this.s(),d=!0);d&&(c.G?this.Gb():this.notifySubscribers(c.X,"beforeChange"),c.X=f,this.notifySubscribers(c.X,"spectate"),!c.G&&b&&this.notifySubscribers(c.X),this.qc&&this.qc());e&&this.notifySubscribers(c.X,"awake");return d},xd:function(b,c){try{var d=b.Vc;return b.lb?d.call(b.lb):d()}finally{a.v.end(),c.Pb&&!b.G&&a.a.O(c.kb,aa),b.ra=b.ka=!1}},w:function(a){var c=this[t];(c.ka&&(a||!c.V)||c.G&&this.Xa())&&
this.ha();return c.X},tb:function(b){a.R.fn.tb.call(this,b);this.mc=function(){this[t].G||(this[t].ra?this.ha():this[t].ka=!1);return this[t].X};this.Ja=function(a){this.oc(this[t].X);this[t].ka=!0;a&&(this[t].ra=!0);this.pc(this,!a)}},s:function(){var b=this[t];!b.G&&b.F&&a.a.O(b.F,function(a,b){b.s&&b.s()});b.l&&b.Qb&&a.a.I.xb(b.l,b.Qb);b.F=p;b.V=0;b.qa=!0;b.ra=!1;b.ka=!1;b.G=!1;b.l=p;b.Sa=p;b.Vc=p;this.Mc||(b.lb=p)}},da={Qa:function(b){var c=this,d=c[t];if(!d.qa&&d.G&&"change"==b){d.G=!1;if(d.ra||
c.Xa())d.F=null,d.V=0,c.ha()&&c.Gb();else{var e=[];a.a.O(d.F,function(a,b){e[b.La]=a});a.a.C(e,function(a,b){var e=d.F[a],m=c.Zc(e.da);m.La=b;m.Ma=e.Ma;d.F[a]=m});c.Xa()&&c.ha()&&c.Gb()}d.qa||c.notifySubscribers(d.X,"awake")}},cb:function(b){var c=this[t];c.qa||"change"!=b||this.Wa("change")||(a.a.O(c.F,function(a,b){b.s&&(c.F[a]={da:b.da,La:b.La,Ma:b.Ma},b.s())}),c.G=!0,this.notifySubscribers(p,"asleep"))},mb:function(){var b=this[t];b.G&&(b.ra||this.Xa())&&this.ha();return a.R.fn.mb.call(this)}},
ea={Qa:function(a){"change"!=a&&"beforeChange"!=a||this.w()}};a.a.Ba&&a.a.setPrototypeOf(C,a.R.fn);var N=a.sa.Na;C[N]=a.o;a.Nc=function(a){return"function"==typeof a&&a[N]===C[N]};a.Ed=function(b){return a.Nc(b)&&b[t]&&b[t].vb};a.b("computed",a.o);a.b("dependentObservable",a.o);a.b("isComputed",a.Nc);a.b("isPureComputed",a.Ed);a.b("computed.fn",C);a.J(C,"peek",C.w);a.J(C,"dispose",C.s);a.J(C,"isActive",C.ja);a.J(C,"getDependenciesCount",C.pa);a.J(C,"getDependencies",C.Va);a.wb=function(b,c){if("function"===
typeof b)return a.o(b,c,{pure:!0});b=a.a.extend({},b);b.pure=!0;return a.o(b,c)};a.b("pureComputed",a.wb);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===p||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};g.save(a,h);c(a,function(c){var d=f(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var k=
g.get(d);h[c]=k!==p?k:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[];this.values=[]}a.$c=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.N(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.$c(b);return a.a.fc(b,c,d)};d.prototype={constructor:d,save:function(b,
c){var d=a.a.A(this.keys,b);0<=d?this.values[d]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.a.A(this.keys,b);return 0<=b?this.values[b]:p}}})();a.b("toJS",a.$c);a.b("toJSON",a.toJSON);a.Vd=function(b,c,d){function e(c){var e=a.wb(b,d).extend({Ga:"always"}),h=e.subscribe(function(a){a&&(h.s(),c(a))});e.notifySubscribers(e.w());return h}return"function"!==typeof Promise||c?e(c.bind(d)):new Promise(e)};a.b("when",a.Vd);(function(){a.u={L:function(b){switch(a.a.P(b)){case "option":return!0===
b.__ko__hasDomDataOptionValue__?a.a.g.get(b,a.f.options.Yb):7>=a.a.W?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.u.L(b.options[b.selectedIndex]):p;default:return b.value}},ya:function(b,c,d){switch(a.a.P(b)){case "option":"string"===typeof c?(a.a.g.set(b,a.f.options.Yb,p),"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__,b.value=c):(a.a.g.set(b,a.f.options.Yb,c),b.__ko__hasDomDataOptionValue__=
!0,b.value="number"===typeof c?c:"");break;case "select":if(""===c||null===c)c=p;for(var e=-1,f=0,g=b.options.length,h;f<g;++f)if(h=a.u.L(b.options[f]),h==c||""===h&&c===p){e=f;break}if(d||0<=e||c===p&&1<b.size)b.selectedIndex=e,6===a.a.W&&a.a.setTimeout(function(){b.selectedIndex=e},0);break;default:if(null===c||c===p)c="";b.value=c}}}})();a.b("selectExtensions",a.u);a.b("selectExtensions.readValue",a.u.L);a.b("selectExtensions.writeValue",a.u.ya);a.m=function(){function b(b){b=a.a.Cb(b);123===b.charCodeAt(0)&&
(b=b.slice(1,-1));b+="\n,";var c=[],d=b.match(e),q,n=[],h=0;if(1<d.length){for(var y=0,A;A=d[y];++y){var u=A.charCodeAt(0);if(44===u){if(0>=h){c.push(q&&n.length?{key:q,value:n.join("")}:{unknown:q||n.join("")});q=h=0;n=[];continue}}else if(58===u){if(!h&&!q&&1===n.length){q=n.pop();continue}}else if(47===u&&1<A.length&&(47===A.charCodeAt(1)||42===A.charCodeAt(1)))continue;else 47===u&&y&&1<A.length?(u=d[y-1].match(f))&&!g[u[0]]&&(b=b.substr(b.indexOf(A)+1),d=b.match(e),y=-1,A="/"):40===u||123===
u||91===u?++h:41===u||125===u||93===u?--h:q||n.length||34!==u&&39!==u||(A=A.slice(1,-1));n.push(A)}if(0<h)throw Error("Unbalanced parentheses, braces, or brackets");}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,
"typeof":1},h={};return{Ra:[],va:h,Zb:b,ub:function(e,f){function k(b,e){var f;if(!y){var l=a.getBindingHandler(b);if(l&&l.preprocess&&!(e=l.preprocess(e,b,k)))return;if(l=h[b])f=e,0<=a.a.A(c,f)?f=!1:(l=f.match(d),f=null===l?!1:l[1]?"Object("+l[1]+")"+l[2]:f),l=f;l&&n.push("'"+("string"==typeof h[b]?h[b]:b)+"':function(_z){"+f+"=_z}")}g&&(e="function(){return "+e+" }");q.push("'"+b+"':"+e)}f=f||{};var q=[],n=[],g=f.valueAccessors,y=f.bindingParams,A="string"===typeof e?b(e):e;a.a.C(A,function(a){k(a.key||
a.unknown,a.value)});n.length&&k("_ko_property_writers","{"+n.join(",")+" }");return q.join(",")},Hd:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},$a:function(b,c,d,e,f){if(b&&a.N(b))!a.Ya(b)||f&&b.w()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.m);a.b("expressionRewriting.bindingRewriteValidators",a.m.Ra);a.b("expressionRewriting.parseObjectLiteral",a.m.Zb);a.b("expressionRewriting.preProcessBindings",a.m.ub);a.b("expressionRewriting._twoWayBindings",
a.m.va);a.b("jsonExpressionRewriting",a.m);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.m.ub);(function(){function b(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(d,e){for(var f=d,g=1,h=[];f=f.nextSibling;){if(c(f)&&(a.a.g.set(f,l,!0),g--,0===g))return h;h.push(f);b(f)&&g++}if(!e)throw Error("Cannot find closing comment tag to match: "+d.nodeValue);return null}function e(a,b){var c=d(a,b);return c?
0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&"\x3c!--test--\x3e"===w.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,m={ul:!0,ol:!0},l="__ko_matchedEndComment__";a.h={ea:{},childNodes:function(a){return b(a)?d(a):a.childNodes},Ea:function(c){if(b(c)){c=a.h.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Sb(c)},ua:function(c,d){if(b(c)){a.h.Ea(c);for(var e=
c.nextSibling,f=0,l=d.length;f<l;f++)e.parentNode.insertBefore(d[f],e)}else a.a.ua(c,d)},Uc:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},Vb:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.h.Uc(c,d)},firstChild:function(a){if(b(a))return!a.nextSibling||c(a.nextSibling)?null:a.nextSibling;if(a.firstChild&&c(a.firstChild))throw Error("Found invalid end comment, as the first child of "+
a);return a.firstChild},nextSibling:function(d){b(d)&&(d=e(d));if(d.nextSibling&&c(d.nextSibling)){var f=d.nextSibling;if(c(f)&&!a.a.g.get(f,l))throw Error("Found end comment without a matching opening comment, as child of "+d);return null}return d.nextSibling},Bd:b,Ud:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},Rc:function(d){if(m[a.a.P(d)]){var f=d.firstChild;if(f){do if(1===f.nodeType){var l;l=f.firstChild;var g=null;if(l){do if(g)g.push(l);else if(b(l)){var h=e(l,!0);h?l=
h:g=[l]}else c(l)&&(g=[l]);while(l=l.nextSibling)}if(l=g)for(g=f.nextSibling,h=0;h<l.length;h++)g?d.insertBefore(l[h],g):d.appendChild(l[h])}while(f=f.nextSibling)}}}}})();a.b("virtualElements",a.h);a.b("virtualElements.allowedBindings",a.h.ea);a.b("virtualElements.emptyNode",a.h.Ea);a.b("virtualElements.insertAfter",a.h.Vb);a.b("virtualElements.prepend",a.h.Uc);a.b("virtualElements.setDomNodeChildren",a.h.ua);(function(){a.ga=function(){this.md={}};a.a.extend(a.ga.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=
b.getAttribute("data-bind")||a.i.getComponentNameForNode(b);case 8:return a.h.Bd(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.i.sc(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.i.sc(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.h.Ud(b);default:return null}},
parseBindingsString:function(b,c,d,e){try{var f=this.md,g=b+(e&&e.valueAccessors||""),h;if(!(h=f[g])){var m,l="with($context){with($data||{}){return{"+a.m.ub(b,e)+"}}}";m=new Function("$context","$element",l);h=f[g]=m}return h(c,d)}catch(k){throw k.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+k.message,k;}}});a.ga.instance=new a.ga})();a.b("bindingProvider",a.ga);(function(){function b(b){var c=(b=a.a.g.get(b,B))&&b.M;c&&(b.M=null,c.Sc())}function c(c,d,e){this.node=c;this.xc=
d;this.ib=[];this.T=!1;d.M||a.a.I.za(c,b);e&&e.M&&(e.M.ib.push(c),this.Kb=e)}function d(a){return function(){return a}}function e(a){return a()}function f(b){return a.a.Ha(a.v.K(b),function(a,c){return function(){return b()[c]}})}function g(b,c,e){return"function"===typeof b?f(b.bind(null,c,e)):a.a.Ha(b,d)}function h(a,b){return f(this.getBindings.bind(this,a,b))}function m(b,c){var d=a.h.firstChild(c);if(d){var e,f=a.ga.instance,k=f.preprocessNode;if(k){for(;e=d;)d=a.h.nextSibling(e),k.call(f,e);
d=a.h.firstChild(c)}for(;e=d;)d=a.h.nextSibling(e),l(b,e)}a.j.Ga(c,a.j.T)}function l(b,c){var d=b,e=1===c.nodeType;e&&a.h.Rc(c);if(e||a.ga.instance.nodeHasBindings(c))d=q(c,null,b).bindingContextForDescendants;d&&!u[a.a.P(c)]&&m(d,c)}function k(b){var c=[],d={},e=[];a.a.O(b,function ca(f){if(!d[f]){var l=a.getBindingHandler(f);l&&(l.after&&(e.push(f),a.a.C(l.after,function(c){if(b[c]){if(-1!==a.a.A(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));
ca(c)}}),e.length--),c.push({key:f,Lc:l}));d[f]=!0}});return c}function q(b,c,d){var f=a.a.g.Tb(b,B,{}),l=f.gd;if(!c){if(l)throw Error("You cannot apply bindings multiple times to the same element.");f.gd=!0}l||(f.context=d);var g;if(c&&"function"!==typeof c)g=c;else{var q=a.ga.instance,n=q.getBindingAccessors||h,m=a.$(function(){if(g=c?c(d,b):n.call(q,b,d)){if(d[r])d[r]();if(d[A])d[A]()}return g},null,{l:b});g&&m.ja()||(m=null)}var y=d,u;if(g){var J=function(){return a.a.Ha(m?m():g,e)},t=m?function(a){return function(){return e(m()[a])}}:
function(a){return g[a]};J.get=function(a){return g[a]&&e(t(a))};J.has=function(a){return a in g};a.j.T in g&&a.j.subscribe(b,a.j.T,function(){var c=(0,g[a.j.T])();if(c){var d=a.h.childNodes(b);d.length&&c(d,a.Dc(d[0]))}});a.j.oa in g&&(y=a.j.Bb(b,d),a.j.subscribe(b,a.j.oa,function(){var c=(0,g[a.j.oa])();c&&a.h.firstChild(b)&&c(b)}));f=k(g);a.a.C(f,function(c){var d=c.Lc.init,e=c.Lc.update,f=c.key;if(8===b.nodeType&&!a.h.ea[f])throw Error("The binding '"+f+"' cannot be used with virtual elements");
try{"function"==typeof d&&a.v.K(function(){var a=d(b,t(f),J,y.$data,y);if(a&&a.controlsDescendantBindings){if(u!==p)throw Error("Multiple bindings ("+u+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=f}}),"function"==typeof e&&a.$(function(){e(b,t(f),J,y.$data,y)},null,{l:b})}catch(l){throw l.message='Unable to process binding "'+f+": "+g[f]+'"\nMessage: '+l.message,l;}})}f=u===p;return{shouldBindDescendants:f,
bindingContextForDescendants:f&&y}}function n(b,c){return b&&b instanceof a.fa?b:new a.fa(b,p,p,c)}var r=a.a.Da("_subscribable"),y=a.a.Da("_ancestorBindingInfo"),A=a.a.Da("_dataDependency");a.f={};var u={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.f[b]};var J={};a.fa=function(b,c,d,e,f){function l(){var b=q?h():h,f=a.a.c(b);c?(a.a.extend(k,c),y in c&&(k[y]=c[y])):(k.$parents=[],k.$root=f,k.ko=a);k[r]=n;g?f=k.$data:(k.$rawData=b,k.$data=f);d&&(k[d]=f);e&&e(k,c,f);if(c&&
c[r]&&!a.U.o().Ub(c[r]))c[r]();m&&(k[A]=m);return k.$data}var k=this,g=b===J,h=g?p:b,q="function"==typeof h&&!a.N(h),n,m=f&&f.dataDependency;f&&f.exportDependencies?l():(n=a.wb(l),n.w(),n.ja()?n.equalityComparer=null:k[r]=p)};a.fa.prototype.createChildContext=function(b,c,d,e){!e&&c&&"object"==typeof c&&(e=c,c=e.as,d=e.extend);if(c&&e&&e.noChildContext){var f="function"==typeof b&&!a.N(b);return new a.fa(J,this,null,function(a){d&&d(a);a[c]=f?b():b},e)}return new a.fa(b,this,c,function(a,b){a.$parentContext=
b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)},e)};a.fa.prototype.extend=function(b,c){return new a.fa(J,this,null,function(c){a.a.extend(c,"function"==typeof b?b(c):b)},c)};var B=a.a.g.Z();c.prototype.Sc=function(){this.Kb&&this.Kb.M&&this.Kb.M.rd(this.node)};c.prototype.rd=function(b){a.a.hb(this.ib,b);!this.ib.length&&this.T&&this.Bc()};c.prototype.Bc=function(){this.T=!0;this.xc.M&&!this.ib.length&&(this.xc.M=null,a.a.I.xb(this.node,b),a.j.Ga(this.node,
a.j.oa),this.Sc())};a.j={T:"childrenComplete",oa:"descendantsComplete",subscribe:function(b,c,d,e){b=a.a.g.Tb(b,B,{});b.Fa||(b.Fa=new a.R);return b.Fa.subscribe(d,e,c)},Ga:function(b,c){var d=a.a.g.get(b,B);if(d&&(d.Fa&&d.Fa.notifySubscribers(b,c),c==a.j.T))if(d.M)d.M.Bc();else if(d.M===p&&d.Fa&&d.Fa.Wa(a.j.oa))throw Error("descendantsComplete event not supported for bindings on this node");},Bb:function(b,d){var e=a.a.g.Tb(b,B,{});e.M||(e.M=new c(b,e,d[y]));return d[y]==e?d:d.extend(function(a){a[y]=
e})}};a.Sd=function(b){return(b=a.a.g.get(b,B))&&b.context};a.eb=function(b,c,d){1===b.nodeType&&a.h.Rc(b);return q(b,c,n(d))};a.kd=function(b,c,d){d=n(d);return a.eb(b,g(c,d,b),d)};a.Pa=function(a,b){1!==b.nodeType&&8!==b.nodeType||m(n(a),b)};a.uc=function(a,b,c){!v&&z.jQuery&&(v=z.jQuery);if(2>arguments.length){if(b=w.body,!b)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?");}else if(!b||1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");
l(n(a,c),b)};a.Cc=function(b){return!b||1!==b.nodeType&&8!==b.nodeType?p:a.Sd(b)};a.Dc=function(b){return(b=a.Cc(b))?b.$data:p};a.b("bindingHandlers",a.f);a.b("bindingEvent",a.j);a.b("bindingEvent.subscribe",a.j.subscribe);a.b("bindingEvent.startPossiblyAsyncContentBinding",a.j.Bb);a.b("applyBindings",a.uc);a.b("applyBindingsToDescendants",a.Pa);a.b("applyBindingAccessorsToNode",a.eb);a.b("applyBindingsToNode",a.kd);a.b("contextFor",a.Cc);a.b("dataFor",a.Dc)})();(function(b){function c(c,e){var l=
Object.prototype.hasOwnProperty.call(f,c)?f[c]:b,k;l?l.subscribe(e):(l=f[c]=new a.R,l.subscribe(e),d(c,function(b,d){var e=!(!d||!d.synchronous);g[c]={definition:b,Fd:e};delete f[c];k||e?l.notifySubscribers(b):a.ma.yb(function(){l.notifySubscribers(b)})}),k=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function e(c,d,f,k){k||(k=a.i.loaders.slice(0));var g=k.shift();if(g){var n=g[c];if(n){var r=!1;if(n.apply(g,d.concat(function(a){r?
f(null):null!==a?f(a):e(c,d,f,k)}))!==b&&(r=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,f,k)}else f(null)}var f={},g={};a.i={get:function(d,e){var f=Object.prototype.hasOwnProperty.call(g,d)?g[d]:b;f?f.Fd?a.v.K(function(){e(f.definition)}):a.ma.yb(function(){e(f.definition)}):c(d,e)},Ac:function(a){delete g[a]},nc:e};a.i.loaders=[];a.b("components",a.i);a.b("components.get",a.i.get);
a.b("components.clearCachedDefinition",a.i.Ac)})();(function(){function b(b,c,d,e){function g(){0===--A&&e(h)}var h={},A=2,u=d.template;d=d.viewModel;u?f(c,u,function(c){a.i.nc("loadTemplate",[b,c],function(a){h.template=a;g()})}):g();d?f(c,d,function(c){a.i.nc("loadViewModel",[b,c],function(a){h[m]=a;g()})}):g()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});else if("function"===typeof b[m])d(b[m]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in
b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function d(b){switch(a.a.P(b)){case "script":return a.a.ta(b.text);case "textarea":return a.a.ta(b.value);case "template":if(e(b.content))return a.a.Ca(b.content.childNodes)}return a.a.Ca(b.childNodes)}function e(a){return z.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"===typeof b.require?T||z.require?(T||z.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function g(a){return function(b){throw Error("Component '"+
a+"': "+b);}}var h={};a.i.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.i.sb(b))throw Error("Component "+b+" is already registered");h[b]=c};a.i.sb=function(a){return Object.prototype.hasOwnProperty.call(h,a)};a.i.unregister=function(b){delete h[b];a.i.Ac(b)};a.i.Ec={getConfig:function(b,c){c(a.i.sb(b)?h[b]:null)},loadComponent:function(a,c,d){var e=g(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,f){b=g(b);if("string"===typeof c)f(a.a.ta(c));else if(c instanceof
Array)f(c);else if(e(c))f(a.a.la(c.childNodes));else if(c.element)if(c=c.element,z.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)f(d(c));else if("string"===typeof c){var h=w.getElementById(c);h?f(d(h)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+c);else b("Unknown template value: "+c)},loadViewModel:function(a,b,d){c(g(a),b,d)}};var m="createViewModel";a.b("components.register",a.i.register);a.b("components.isRegistered",a.i.sb);a.b("components.unregister",
a.i.unregister);a.b("components.defaultLoader",a.i.Ec);a.i.loaders.push(a.i.Ec);a.i.cd=h})();(function(){function b(b,e){var f=b.getAttribute("params");if(f){var f=c.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ha(f,function(c){return a.o(c,null,{l:b})}),g=a.a.Ha(f,function(c){var e=c.w();return c.ja()?a.o({read:function(){return a.a.c(c())},write:a.Ya(e)&&function(a){c()(a)},l:b}):e});Object.prototype.hasOwnProperty.call(g,"$raw")||(g.$raw=f);return g}return{$raw:{}}}a.i.getComponentNameForNode=
function(b){var c=a.a.P(b);if(a.i.sb(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.W&&b.tagName===c))return c};a.i.sc=function(c,e,f,g){if(1===e.nodeType){var h=a.i.getComponentNameForNode(e);if(h){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var m={name:h,params:b(e,f)};c.component=g?function(){return m}:m}}return c};var c=new a.ga;9>a.a.W&&(a.i.register=function(a){return function(b){return a.apply(this,
arguments)}}(a.i.register),w.createDocumentFragment=function(b){return function(){var c=b(),f=a.i.cd,g;for(g in f);return c}}(w.createDocumentFragment))})();(function(){function b(b,c,d){c=c.template;if(!c)throw Error("Component '"+b+"' has no template");b=a.a.Ca(c);a.h.ua(d,b)}function c(a,b,c){var d=a.createViewModel;return d?d.call(a,b,c):b}var d=0;a.f.component={init:function(e,f,g,h,m){function l(){var a=k&&k.dispose;"function"===typeof a&&a.call(k);n&&n.s();q=k=n=null}var k,q,n,r=a.a.la(a.h.childNodes(e));
a.h.Ea(e);a.a.I.za(e,l);a.o(function(){var g=a.a.c(f()),h,u;"string"===typeof g?h=g:(h=a.a.c(g.name),u=a.a.c(g.params));if(!h)throw Error("No component name specified");var p=a.j.Bb(e,m),B=q=++d;a.i.get(h,function(d){if(q===B){l();if(!d)throw Error("Unknown component '"+h+"'");b(h,d,e);var f=c(d,u,{element:e,templateNodes:r});d=p.createChildContext(f,{extend:function(a){a.$component=f;a.$componentTemplateNodes=r}});f&&f.koDescendantsComplete&&(n=a.j.subscribe(e,a.j.oa,f.koDescendantsComplete,f));
k=f;a.Pa(d,e)}})},null,{l:e});return{controlsDescendantBindings:!0}}};a.h.ea.component=!0})();var V={"class":"className","for":"htmlFor"};a.f.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.O(d,function(c,d){d=a.a.c(d);var g=c.indexOf(":"),g="lookupNamespaceURI"in b&&0<g&&b.lookupNamespaceURI(c.substr(0,g)),h=!1===d||null===d||d===p;h?g?b.removeAttributeNS(g,c):b.removeAttribute(c):d=d.toString();8>=a.a.W&&c in V?(c=V[c],h?b.removeAttribute(c):b[c]=d):h||(g?b.setAttributeNS(g,c,d):b.setAttribute(c,
d));"name"===c&&a.a.Xc(b,h?"":d)})}};(function(){a.f.checked={after:["value","attr"],init:function(b,c,d){function e(){var e=b.checked,f=g();if(!a.U.rb()&&(e||!m&&!a.U.pa())){var l=a.v.K(c);if(k){var n=q?l.w():l,B=r;r=f;B!==f?e&&(a.a.Oa(n,f,!0),a.a.Oa(n,B,!1)):a.a.Oa(n,f,e);q&&a.Ya(l)&&l(n)}else h&&(f===p?f=e:e||(f=p)),a.m.$a(l,d,"checked",f,!0)}}function f(){var d=a.a.c(c()),e=g();k?(b.checked=0<=a.a.A(d,e),r=e):b.checked=h&&e===p?!!d:g()===d}var g=a.wb(function(){if(d.has("checkedValue"))return a.a.c(d.get("checkedValue"));
if(n)return d.has("value")?a.a.c(d.get("value")):b.value}),h="checkbox"==b.type,m="radio"==b.type;if(h||m){var l=c(),k=h&&a.a.c(l)instanceof Array,q=!(k&&l.push&&l.splice),n=m||k,r=k?g():p;m&&!b.name&&a.f.uniqueName.init(b,function(){return!0});a.o(e,null,{l:b});a.a.H(b,"click",e);a.o(f,null,{l:b});l=p}}};a.m.va.checked=!0;a.f.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.f["class"]={update:function(b,c){var d=a.a.Cb(a.a.c(c()));a.a.Eb(b,b.__ko__cssValue,!1);b.__ko__cssValue=d;a.a.Eb(b,
d,!0)}};a.f.css={update:function(b,c){var d=a.a.c(c());null!==d&&"object"==typeof d?a.a.O(d,function(c,d){d=a.a.c(d);a.a.Eb(b,c,d)}):a.f["class"].update(b,c)}};a.f.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.f.disable={update:function(b,c){a.f.enable.update(b,function(){return!a.a.c(c())})}};a.f.event={init:function(b,c,d,e,f){var g=c()||{};a.a.O(g,function(g){"string"==typeof g&&a.a.H(b,g,function(b){var l,k=c()[g];
if(k){try{var q=a.a.la(arguments);e=f.$data;q.unshift(e);l=k.apply(e,q)}finally{!0!==l&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.f.foreach={Qc:function(b){return function(){var c=b(),d=a.a.$b(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.ba.Na};a.a.c(c);return{foreach:d.data,as:d.as,noChildContext:d.noChildContext,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,
beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.ba.Na}}},init:function(b,c){return a.f.template.init(b,a.f.foreach.Qc(c))},update:function(b,c,d,e,f){return a.f.template.update(b,a.f.foreach.Qc(c),d,e,f)}};a.m.Ra.foreach=!1;a.h.ea.foreach=!0;a.f.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(k){g=f.body}e=g===b}f=c();a.m.$a(f,
d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.H(b,"focus",f);a.a.H(b,"focusin",f);a.a.H(b,"blur",g);a.a.H(b,"focusout",g);b.__ko_hasfocusLastValue=!1},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),!d&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.v.K(a.a.Fb,null,[b,d?"focusin":"focusout"]))}};a.m.va.hasfocus=!0;a.f.hasFocus=a.f.hasfocus;a.m.va.hasFocus=
"hasfocus";a.f.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.dc(b,c())}};(function(){function b(b,d,e){a.f[b]={init:function(b,c,h,m,l){var k,q,n={},r,p,A;if(d){m=h.get("as");var u=h.get("noChildContext");A=!(m&&u);n={as:m,noChildContext:u,exportDependencies:A}}p=(r="render"==h.get("completeOn"))||h.has(a.j.oa);a.o(function(){var h=a.a.c(c()),m=!e!==!h,u=!q,t;if(A||m!==k){p&&(l=a.j.Bb(b,l));if(m){if(!d||A)n.dataDependency=a.U.o();t=d?l.createChildContext("function"==
typeof h?h:c,n):a.U.pa()?l.extend(null,n):l}u&&a.U.pa()&&(q=a.a.Ca(a.h.childNodes(b),!0));m?(u||a.h.ua(b,a.a.Ca(q)),a.Pa(t,b)):(a.h.Ea(b),r||a.j.Ga(b,a.j.T));k=m}},null,{l:b});return{controlsDescendantBindings:!0}}};a.m.Ra[b]=!1;a.h.ea[b]=!0}b("if");b("ifnot",!1,!0);b("with",!0)})();a.f.let={init:function(b,c,d,e,f){c=f.extend(c);a.Pa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.let=!0;var Q={};a.f.options={init:function(b){if("select"!==a.a.P(b))throw Error("options binding applies only to SELECT elements");
for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.fb(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,e){if(y&&k)a.u.ya(b,a.a.c(d.get("value")),!0);else if(r.length){var f=0<=a.a.A(r,a.u.L(e[0]));a.a.Yc(e[0],f);y&&!f&&a.v.K(a.a.Fb,null,[b,"change"])}}var h=b.multiple,m=0!=b.length&&h?b.scrollTop:null,l=a.a.c(c()),k=d.get("valueAllowUnset")&&d.has("value"),
q=d.get("optionsIncludeDestroyed");c={};var n,r=[];k||(h?r=a.a.Mb(e(),a.u.L):0<=b.selectedIndex&&r.push(a.u.L(b.options[b.selectedIndex])));l&&("undefined"==typeof l.length&&(l=[l]),n=a.a.fb(l,function(b){return q||b===p||null===b||!a.a.c(b._destroy)}),d.has("optionsCaption")&&(l=a.a.c(d.get("optionsCaption")),null!==l&&l!==p&&n.unshift(Q)));var y=!1;c.beforeRemove=function(a){b.removeChild(a)};l=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(l=function(b,c){g(0,c);
a.v.K(d.get("optionsAfterRender"),null,[c[0],b!==Q?b:p])});a.a.cc(b,n,function(c,e,g){g.length&&(r=!k&&g[0].selected?[a.u.L(g[0])]:[],y=!0);e=b.ownerDocument.createElement("option");c===Q?(a.a.Ab(e,d.get("optionsCaption")),a.u.ya(e,p)):(g=f(c,d.get("optionsValue"),c),a.u.ya(e,a.a.c(g)),c=f(c,d.get("optionsText"),g),a.a.Ab(e,c));return[e]},c,l);a.v.K(function(){if(k)a.u.ya(b,a.a.c(d.get("value")),!0);else{var c;h?c=r.length&&e().length<r.length:c=r.length&&0<=b.selectedIndex?a.u.L(b.options[b.selectedIndex])!==
r[0]:r.length||0<=b.selectedIndex;c&&a.a.Fb(b,"change")}});a.a.vd(b);m&&20<Math.abs(m-b.scrollTop)&&(b.scrollTop=m)}};a.f.options.Yb=a.a.g.Z();a.f.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.H(b,"change",function(){var e=c(),f=[];a.a.C(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.u.L(b))});a.m.$a(e,d,"selectedOptions",f)})},update:function(b,c){if("select"!=a.a.P(b))throw Error("values binding applies only to SELECT elements");var d=a.a.c(c()),e=b.scrollTop;
d&&"number"==typeof d.length&&a.a.C(b.getElementsByTagName("option"),function(b){var c=0<=a.a.A(d,a.u.L(b));b.selected!=c&&a.a.Yc(b,c)});b.scrollTop=e}};a.m.va.selectedOptions=!0;a.f.style={update:function(b,c){var d=a.a.c(c()||{});a.a.O(d,function(c,d){d=a.a.c(d);if(null===d||d===p||!1===d)d="";if(v)v(b).css(c,d);else if(/^--/.test(c))b.style.setProperty(c,d);else{c=c.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});var g=b.style[c];b.style[c]=d;d===g||b.style[c]!=g||isNaN(d)||(b.style[c]=
d+"px")}})}};a.f.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.H(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.f.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Ab(b,c())}};a.h.ea.text=!0;(function(){if(z&&z.navigator){var b=function(a){if(a)return parseFloat(a[1])},c=z.navigator.userAgent,
d,e,f,g,h;(d=z.opera&&z.opera.version&&parseInt(z.opera.version()))||(h=b(c.match(/Edge\/([^ ]+)$/)))||b(c.match(/Chrome\/([^ ]+)/))||(e=b(c.match(/Version\/([^ ]+) Safari/)))||(f=b(c.match(/Firefox\/([^ ]+)/)))||(g=a.a.W||b(c.match(/MSIE ([^ ]+)/)))||(g=b(c.match(/rv:([^ )]+)/)))}if(8<=g&&10>g)var m=a.a.g.Z(),l=a.a.g.Z(),k=function(b){var c=this.activeElement;(c=c&&a.a.g.get(c,l))&&c(b)},q=function(b,c){var d=b.ownerDocument;a.a.g.get(d,m)||(a.a.g.set(d,m,!0),a.a.H(d,"selectionchange",k));a.a.g.set(b,
l,c)};a.f.textInput={init:function(b,c,l){function k(c,d){a.a.H(b,c,d)}function m(){var d=a.a.c(c());if(null===d||d===p)d="";L!==p&&d===L?a.a.setTimeout(m,4):b.value!==d&&(x=!0,b.value=d,x=!1,v=b.value)}function t(){w||(L=b.value,w=a.a.setTimeout(B,4))}function B(){clearTimeout(w);L=w=p;var d=b.value;v!==d&&(v=d,a.m.$a(c(),l,"textInput",d))}var v=b.value,w,L,z=9==a.a.W?t:B,x=!1;g&&k("keypress",B);11>g&&k("propertychange",function(a){x||"value"!==a.propertyName||z(a)});8==g&&(k("keyup",B),k("keydown",
B));q&&(q(b,z),k("dragend",t));(!g||9<=g)&&k("input",z);5>e&&"textarea"===a.a.P(b)?(k("keydown",t),k("paste",t),k("cut",t)):11>d?k("keydown",t):4>f?(k("DOMAutoComplete",B),k("dragdrop",B),k("drop",B)):h&&"number"===b.type&&k("keydown",t);k("change",B);k("blur",B);a.o(m,null,{l:b})}};a.m.va.textInput=!0;a.f.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.f.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.f.uniqueName.qd;a.a.Xc(b,d)}}};a.f.uniqueName.qd=0;a.f.using={init:function(b,
c,d,e,f){var g;d.has("as")&&(g={as:d.get("as"),noChildContext:d.get("noChildContext")});c=f.createChildContext(c,g);a.Pa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.using=!0;a.f.value={after:["options","foreach"],init:function(b,c,d){var e=a.a.P(b),f="input"==e;if(!f||"checkbox"!=b.type&&"radio"!=b.type){var g=["change"],h=d.get("valueUpdate"),m=!1,l=null;h&&("string"==typeof h&&(h=[h]),a.a.gb(g,h),g=a.a.vc(g));var k=function(){l=null;m=!1;var e=c(),f=a.u.L(b);a.m.$a(e,d,"value",f)};!a.a.W||
!f||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.A(g,"propertychange")||(a.a.H(b,"propertychange",function(){m=!0}),a.a.H(b,"focus",function(){m=!1}),a.a.H(b,"blur",function(){m&&k()}));a.a.C(g,function(c){var d=k;a.a.Td(c,"after")&&(d=function(){l=a.u.L(b);a.a.setTimeout(k,0)},c=c.substring(5));a.a.H(b,c,d)});var q;q=f&&"file"==b.type?function(){var d=a.a.c(c());null===d||d===p||""===d?b.value="":a.v.K(k)}:function(){var f=a.a.c(c()),g=a.u.L(b);if(null!==l&&
f===l)a.a.setTimeout(q,0);else if(f!==g||g===p)"select"===e?(g=d.get("valueAllowUnset"),a.u.ya(b,f,g),g||f===a.u.L(b)||a.v.K(k)):a.u.ya(b,f)};a.o(q,null,{l:b})}else a.eb(b,{checkedValue:c})},update:function(){}};a.m.va.value=!0;a.f.visible={update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};a.f.hidden={update:function(b,c){a.f.visible.update(b,function(){return!a.a.c(c())})}};(function(b){a.f[b]={init:function(c,d,e,f,g){return a.f.event.init.call(this,
c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");a.ca=function(){};a.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.ca.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.B.D(d)}if(1==b.nodeType||8==b.nodeType)return new a.B.ia(b);
throw Error("Unknown template type: "+b);};a.ca.prototype.renderTemplate=function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d,e)};a.ca.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.ca.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.ca);a.ic=function(){function b(b,c,d,h){b=a.m.Zb(b);
for(var m=a.m.Ra,l=0;l<b.length;l++){var k=b[l].key;if(Object.prototype.hasOwnProperty.call(m,k)){var q=m[k];if("function"===typeof q){if(k=q(b[l].value))throw Error(k);}else if(!q)throw Error("This template engine does not support the '"+k+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.m.ub(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return h.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,
d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{wd:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.ic.Kd(b,c)},d)},Kd:function(a,f){return a.replace(c,function(a,c,d,e,k){return b(k,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},ld:function(b,c){return a.aa.Wb(function(d,h){var m=d.nextSibling;m&&m.nodeName.toLowerCase()===c&&a.eb(m,b,h)})}}}();a.b("__tr_ambtns",a.ic.ld);(function(){a.B={};a.B.D=function(b){if(this.D=b){var c=
a.a.P(b);this.Db="script"===c?1:"textarea"===c?2:"template"==c&&b.content&&11===b.content.nodeType?3:4}};a.B.D.prototype.text=function(){var b=1===this.Db?"text":2===this.Db?"value":"innerHTML";if(0==arguments.length)return this.D[b];var c=arguments[0];"innerHTML"===b?a.a.dc(this.D,c):this.D[b]=c};var b=a.a.g.Z()+"_";a.B.D.prototype.data=function(c){if(1===arguments.length)return a.a.g.get(this.D,b+c);a.a.g.set(this.D,b+c,arguments[1])};var c=a.a.g.Z();a.B.D.prototype.nodes=function(){var b=this.D;
if(0==arguments.length){var e=a.a.g.get(b,c)||{},f=e.jb||(3===this.Db?b.content:4===this.Db?b:p);if(!f||e.hd)if(e=this.text())f=a.a.Ld(e,b.ownerDocument),this.text(""),a.a.g.set(b,c,{jb:f,hd:!0});return f}a.a.g.set(b,c,{jb:arguments[0]})};a.B.ia=function(a){this.D=a};a.B.ia.prototype=new a.B.D;a.B.ia.prototype.constructor=a.B.ia;a.B.ia.prototype.text=function(){if(0==arguments.length){var b=a.a.g.get(this.D,c)||{};b.jc===p&&b.jb&&(b.jc=b.jb.innerHTML);return b.jc}a.a.g.set(this.D,c,{jc:arguments[0]})};
a.b("templateSources",a.B);a.b("templateSources.domElement",a.B.D);a.b("templateSources.anonymousTemplate",a.B.ia)})();(function(){function b(b,c,d){var e;for(c=a.h.nextSibling(c);b&&(e=b)!==c;)b=a.h.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],g=e.parentNode,h=a.ga.instance,m=h.preprocessNode;if(m){b(e,f,function(a,b){var c=a.previousSibling,d=m.call(h,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):(c.push(e,f),a.a.Ua(c,
g))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.uc(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.aa.bd(b,[d])});a.a.Ua(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,m){m=m||{};var p=(b&&d(b)||f||{}).ownerDocument,A=m.templateEngine||g;a.ic.wd(f,A,p);f=A.renderTemplate(f,h,m,p);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");p=!1;switch(e){case "replaceChildren":a.h.ua(b,
f);p=!0;break;case "replaceNode":a.a.Wc(b,f);p=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e);}p&&(c(f,h),m.afterRender&&a.v.K(m.afterRender,null,[f,h[m.as||"$data"]]),"replaceChildren"==e&&a.j.Ga(b,a.j.T));return f}function f(b,c,d){return a.N(b)?b():"function"===typeof b?b(c,d):b}var g;a.ec=function(b){if(b!=p&&!(b instanceof a.ca))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.bc=function(b,c,h,m,r){h=h||{};if((h.templateEngine||g)==
p)throw Error("Set a template engine before calling renderTemplate");r=r||"replaceChildren";if(m){var y=d(m);return a.$(function(){var g=c&&c instanceof a.fa?c:new a.fa(c,null,null,null,{exportDependencies:!0}),p=f(b,g.$data,g),g=e(m,r,p,g,h);"replaceNode"==r&&(m=g,y=d(m))},null,{Sa:function(){return!y||!a.a.Rb(y)},l:y&&"replaceNode"==r?y.parentNode:y})}return a.aa.Wb(function(d){a.bc(b,c,h,d,"replaceNode")})};a.Pd=function(b,d,g,h,m){function y(b,c){a.v.K(a.a.cc,null,[h,b,u,g,t,c]);a.j.Ga(h,a.j.T)}
function t(a,b){c(b,v);g.afterRender&&g.afterRender(b,a);v=null}function u(a,c){v=m.createChildContext(a,{as:B,noChildContext:g.noChildContext,extend:function(a){a.$index=c;B&&(a[B+"Index"]=c)}});var d=f(b,a,v);return e(h,"ignoreTargetNode",d,v,g)}var v,B=g.as,w=!1===g.includeDestroyed||a.options.foreachHidesDestroyed&&!g.includeDestroyed;if(w||g.beforeRemove||!a.Oc(d))return a.$(function(){var b=a.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);w&&(b=a.a.fb(b,function(b){return b===p||null===b||
!a.a.c(b._destroy)}));y(b)},null,{l:h});y(d.w());var z=d.subscribe(function(a){y(d(),a)},null,"arrayChange");z.l(h);return z};var h=a.a.g.Z(),m=a.a.g.Z();a.f.template={init:function(b,c){var d=a.a.c(c());if("string"==typeof d||d.name)a.h.Ea(b);else if("nodes"in d){d=d.nodes||[];if(a.N(d))throw Error('The "nodes" option must be a plain, non-observable array.');var e=d[0]&&d[0].parentNode;e&&a.a.g.get(e,m)||(e=a.a.Xb(d),a.a.g.set(e,m,!0));(new a.B.ia(b)).nodes(e)}else if(d=a.h.childNodes(b),0<d.length)e=
a.a.Xb(d),(new a.B.ia(b)).nodes(e);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c();c=a.a.c(g);d=!0;e=null;"string"==typeof c?c={}:(g=c.name,"if"in c&&(d=a.a.c(c["if"])),d&&"ifnot"in c&&(d=!a.a.c(c.ifnot)));"foreach"in c?e=a.Pd(g||b,d&&c.foreach||[],c,b,f):d?(d=f,"data"in c&&(d=f.createChildContext(c.data,{as:c.as,noChildContext:c.noChildContext,exportDependencies:!0})),e=a.bc(g||b,d,c,
b)):a.h.Ea(b);f=e;(c=a.a.g.get(b,h))&&"function"==typeof c.s&&c.s();a.a.g.set(b,h,!f||f.ja&&!f.ja()?p:f)}};a.m.Ra.template=function(b){b=a.m.Zb(b);return 1==b.length&&b[0].unknown||a.m.Hd(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.h.ea.template=!0})();a.b("setTemplateEngine",a.ec);a.b("renderTemplate",a.bc);a.a.Jc=function(a,c,d){if(a.length&&c.length){var e,f,g,h,m;for(e=f=0;(!d||e<d)&&(h=a[f]);++f){for(g=0;m=c[g];++g)if(h.value===m.value){h.moved=
m.index;m.moved=h.index;c.splice(g,1);e=g=0;break}e+=g}}};a.a.Ob=function(){function b(b,d,e,f,g){var h=Math.min,m=Math.max,l=[],k,p=b.length,n,r=d.length,t=r-p||1,A=p+r+1,u,v,w;for(k=0;k<=p;k++)for(v=u,l.push(u=[]),w=h(r,k+t),n=m(0,k-1);n<=w;n++)u[n]=n?k?b[k-1]===d[n-1]?v[n-1]:h(v[n]||A,u[n-1]||A)+1:n+1:k+1;h=[];m=[];t=[];k=p;for(n=r;k||n;)r=l[k][n]-1,n&&r===l[k][n-1]?m.push(h[h.length]={status:e,value:d[--n],index:n}):k&&r===l[k-1][n]?t.push(h[h.length]={status:f,value:b[--k],index:k}):(--n,--k,
g.sparse||h.push({status:"retained",value:d[n]}));a.a.Jc(t,m,!g.dontLimitMoves&&10*p);return h.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.Ob);(function(){function b(b,c,d,h,m){var l=[],k=a.$(function(){var k=c(d,m,a.a.Ua(l,b))||[];0<l.length&&(a.a.Wc(l,k),h&&a.v.K(h,null,[d,k,m]));l.length=0;a.a.gb(l,k)},null,{l:b,Sa:function(){return!a.a.jd(l)}});
return{Y:l,$:k.ja()?k:p}}var c=a.a.g.Z(),d=a.a.g.Z();a.a.cc=function(e,f,g,h,m,l){function k(b){x={Aa:b,nb:a.sa(w++)};v.push(x);t||F.push(x)}function q(b){x=r[b];w!==x.nb.w()&&D.push(x);x.nb(w++);a.a.Ua(x.Y,e);v.push(x)}function n(b,c){if(b)for(var d=0,e=c.length;d<e;d++)a.a.C(c[d].Y,function(a){b(a,d,c[d].Aa)})}f=f||[];"undefined"==typeof f.length&&(f=[f]);h=h||{};var r=a.a.g.get(e,c),t=!r,v=[],u=0,w=0,B=[],z=[],C=[],D=[],F=[],x,I=0;if(t)a.a.C(f,k);else{if(!l||r&&r._countWaitingForRemove){var E=
a.a.Mb(r,function(a){return a.Aa});l=a.a.Ob(E,f,{dontLimitMoves:h.dontLimitMoves,sparse:!0})}for(var E=0,G,H,K;G=l[E];E++)switch(H=G.moved,K=G.index,G.status){case "deleted":for(;u<K;)q(u++);H===p&&(x=r[u],x.$&&(x.$.s(),x.$=p),a.a.Ua(x.Y,e).length&&(h.beforeRemove&&(v.push(x),I++,x.Aa===d?x=null:C.push(x)),x&&B.push.apply(B,x.Y)));u++;break;case "added":for(;w<K;)q(u++);H!==p?(z.push(v.length),q(H)):k(G.value)}for(;w<f.length;)q(u++);v._countWaitingForRemove=I}a.a.g.set(e,c,v);n(h.beforeMove,D);a.a.C(B,
h.beforeRemove?a.na:a.removeNode);var M,O,P;try{P=e.ownerDocument.activeElement}catch(N){}if(z.length)for(;(E=z.shift())!=p;){x=v[E];for(M=p;E;)if((O=v[--E].Y)&&O.length){M=O[O.length-1];break}for(f=0;u=x.Y[f];M=u,f++)a.h.Vb(e,u,M)}E=0;for(z=a.h.firstChild(e);x=v[E];E++){x.Y||a.a.extend(x,b(e,g,x.Aa,m,x.nb));for(f=0;u=x.Y[f];z=u.nextSibling,M=u,f++)u!==z&&a.h.Vb(e,u,M);!x.Dd&&m&&(m(x.Aa,x.Y,x.nb),x.Dd=!0,M=x.Y[x.Y.length-1])}P&&e.ownerDocument.activeElement!=P&&P.focus();n(h.beforeRemove,C);for(E=
0;E<C.length;++E)C[E].Aa=d;n(h.afterMove,D);n(h.afterAdd,F)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.cc);a.ba=function(){this.allowTemplateRewriting=!1};a.ba.prototype=new a.ca;a.ba.prototype.constructor=a.ba;a.ba.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.W?0:b.nodes)?b.nodes():null)return a.a.la(c.cloneNode(!0).childNodes);b=b.text();return a.a.ta(b,e)};a.ba.Na=new a.ba;a.ec(a.ba.Na);a.b("nativeTemplateEngine",a.ba);(function(){a.Za=function(){var a=this.Gd=function(){if(!v||
!v.tmpl)return 0;try{if(0<=v.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,e,f,g){g=g||w;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=v.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=v.extend({koBindingContext:e},f.templateOptions);e=v.tmpl(h,b,e);e.appendTo(g.createElement("div"));
v.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){w.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(v.tmpl.tag.ko_code={open:"__.push($1 || '');"},v.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.Za.prototype=new a.ca;a.Za.prototype.constructor=a.Za;var b=new a.Za;0<b.Gd&&a.ec(b);a.b("jqueryTmplTemplateEngine",a.Za)})()})})();})();

/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojlogger',[],function(){"use strict";var n={LEVEL_NONE:0,LEVEL_ERROR:1,LEVEL_WARN:2,LEVEL_INFO:3,LEVEL_LOG:4,_METHOD_ERROR:"error",_METHOD_WARN:"warn",_METHOD_INFO:"info",_METHOD_LOG:"log"};return n._defaultOptions={level:n.LEVEL_ERROR,writer:null},n._options=n._defaultOptions,n.error=function(o,t){n._write(n.LEVEL_ERROR,n._METHOD_ERROR,arguments)},n.info=function(o,t){n._write(n.LEVEL_INFO,n._METHOD_INFO,arguments)},n.warn=function(o,t){n._write(n.LEVEL_WARN,n._METHOD_WARN,arguments)},n.log=function(o,t){n._write(n.LEVEL_LOG,n._METHOD_LOG,arguments)},n.option=function(o,t){var i,e,r={};if(0===arguments.length){for(e=Object.keys(n._options),i=0;i<e.length;i++)r[e[i]]=n._options[e[i]];return r}if("string"==typeof o&&void 0===t)return void 0===n._options[o]?null:n._options[o];if("string"==typeof o)n._options[o]=t;else{var _=o;for(e=Object.keys(_),i=0;i<e.length;i++)n.option(e[i],_[e[i]])}},n._write=function(o,t,i){if(!(n.option("level")<o)){var e=n._getWriter();if(null!=e){if(1===i.length&&i[0]instanceof Function)i=[i[0]()];e[t]&&e[t].apply?e[t].apply(e,i):e[t]&&(e[t]=Function.prototype.bind.call(e[t],e),n._write(o,t,i))}}},n._getWriter=function(){var o=null;return n.option("writer")?o=n.option("writer"):"undefined"!=typeof window&&void 0!==window.console&&(o=window.console),o},n});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojresponsiveutils',["ojs/ojlogger"],function(e){"use strict";var n=function(){};return n.SCREEN_RANGE={SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},n.FRAMEWORK_QUERY_KEY={SM_UP:"sm-up",MD_UP:"md-up",LG_UP:"lg-up",XL_UP:"xl-up",XXL_UP:"xxl-up",SM_ONLY:"sm-only",MD_ONLY:"md-only",LG_ONLY:"lg-only",XL_ONLY:"xl-only",MD_DOWN:"md-down",LG_DOWN:"lg-down",XL_DOWN:"xl-down",HIGH_RESOLUTION:"high-resolution"},(n._RANGE={})[n.SCREEN_RANGE.SM]=0,n._RANGE[n.SCREEN_RANGE.MD]=1,n._RANGE[n.SCREEN_RANGE.LG]=2,n._RANGE[n.SCREEN_RANGE.XL]=3,n._RANGE[n.SCREEN_RANGE.XXL]=4,n._getMediaQueryFromClass=function(e){var n=document.getElementsByClassName(e).item(0);return null===n&&((n=document.createElement("meta")).className=e,document.head.appendChild(n)),window.getComputedStyle(n).getPropertyValue("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,"")},n.getFrameworkQuery=function(t){var l=n._getMediaQueryFromClass("oj-mq-"+t);return"null"===l?(e.warn("Framework query not found. Please check that the value of the theming variable$includeResponsiveMediaQueryClasses is set to true, if itis set to false the media queries are not sent down to the browser."),null):l},n.compare=function(e,t){var l=n._RANGE[e],o=n._RANGE[t];if(null==l)throw new Error("size1 param "+e+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD");if(null==o)throw new Error("size2 param "+t+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD");return l-o},n});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define('promise',e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function e(t){return"function"==typeof t}function n(t){B=t}function r(t){G=t}function o(){return function(){return process.nextTick(a)}}function i(){return"undefined"!=typeof z?function(){z(a)}:c()}function s(){var t=0,e=new J(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(a,1)}}function a(){for(var t=0;t<W;t+=2){var e=V[t],n=V[t+1];e(n),V[t]=void 0,V[t+1]=void 0}W=0}function f(){try{var t=Function("return this")().require("vertx");return z=t.runOnLoop||t.runOnContext,i()}catch(e){return c()}}function l(t,e){var n=this,r=new this.constructor(p);void 0===r[Z]&&O(r);var o=n._state;if(o){var i=arguments[o-1];G(function(){return P(o,r,i,n._result)})}else E(n,r,t,e);return r}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function _(t){try{return t.then}catch(e){return nt.error=e,nt}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){G(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===tt?S(t,e._result):e._state===et?j(t,e._result):E(e,void 0,function(e){return g(t,e)},function(e){return j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===l&&n.constructor.resolve===h?b(t,n):r===nt?(j(t,nt.error),nt.error=null):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,v()):t(n)?w(e,n,_(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),T(t)}function S(t,e){t._state===$&&(t._result=e,t._state=tt,0!==t._subscribers.length&&G(T,t))}function j(t,e){t._state===$&&(t._state=et,t._result=e,G(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+tt]=n,o[i+et]=r,0===i&&t._state&&G(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function M(t,e){try{return t(e)}catch(n){return nt.error=n,nt}}function P(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=M(r,o),s===nt?(a=!0,u=s.error,s.error=null):c=!0,n===s)return void j(n,d())}else s=o,c=!0;n._state!==$||(i&&c?g(n,s):a?j(n,u):t===tt?S(n,s):t===et&&j(n,s))}function x(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(n){j(t,n)}}function C(){return rt++}function O(t){t[Z]=rt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function k(){return new Error("Array Methods must be provided an Array")}function F(t){return new ot(this,t).promise}function Y(t){var e=this;return new e(U(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function q(t){var e=this,n=new e(p);return j(n,t),n}function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===r&&!n.cast)return}t.Promise=it}var N=void 0;N=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var U=N,W=0,z=void 0,B=void 0,G=function(t,e){V[W]=t,V[W+1]=e,W+=2,2===W&&(B?B(a):X())},H="undefined"!=typeof window?window:void 0,I=H||{},J=I.MutationObserver||I.WebKitMutationObserver,Q="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),R="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,V=new Array(1e3),X=void 0;X=Q?o():J?s():R?u():void 0===H&&"function"==typeof require?f():c();var Z=Math.random().toString(36).substring(2),$=void 0,tt=1,et=2,nt={error:null},rt=0,ot=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[Z]||O(this.promise),U(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&S(this.promise,this._result))):j(this.promise,k())}return t.prototype._enumerate=function(t){for(var e=0;this._state===$&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=_(t);if(o===l&&t._state!==$)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===it){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===$&&(this._remaining--,t===et?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(tt,e,t)},function(t){return n._settledAt(et,e,t)})},t}(),it=function(){function t(e){this[Z]=C(),this._result=this._state=void 0,this._subscribers=[],p!==e&&("function"!=typeof e&&D(),this instanceof t?x(this,e):K())}return t.prototype["catch"]=function(t){return this.then(null,t)},t.prototype["finally"]=function(t){var n=this,r=n.constructor;return e(t)?n.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):n.then(t,t)},t}();return it.prototype.then=l,it.all=F,it.race=Y,it.resolve=h,it.reject=q,it._setScheduler=n,it._setAsap=r,it._asap=G,it.polyfill=L,it.Promise=it,it});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojcore-base',["require","promise","ojs/ojlogger"],function(t,e,n){"use strict";e.polyfill();var r={};"undefined"!=typeof window?r=window:"undefined"!=typeof self&&(r=self);var s=r.oj,i={version:"7.0.1",revision:"2019-06-06_04-56-24",noConflict:function(){r.oj=s}};r.oj=i,i.Assert={};i.Assert.forceDebug=function(){i.Assert.DEBUG=!0},i.Assert.clearDebug=function(){i.Assert.DEBUG=!1},i.Assert.isDebug=function(){return!0===i.Assert.DEBUG},i.Assert.assert=function(t,e){if(i.Assert.DEBUG&&!t){var n=e||"";if(arguments.length>2){n+="(";for(var r=2;r<arguments.length;r+=1)n+=arguments[r];n+=")"}i.Assert.assertionFailed(n,1)}},i.Assert.failedInAbstractFunction=function(){i.Assert.DEBUG&&i.Assert.assertionFailed("Abstract function called",1)},i.Assert.assertPrototype=function(t,e,n){if(i.Assert.DEBUG){var r=e.prototype;if(null!=t)i.Assert.assertType(e,"function",null,1,!1),Object.prototype.isPrototypeOf.call(r,t)||i.Assert.assertionFailed("object '"+t+"' doesn't match prototype "+r,1,n);else i.Assert.assertionFailed("null object doesn't match prototype "+r,1,n)}},i.Assert.assertPrototypeOrNull=function(t,e,n){if(i.Assert.DEBUG&&null!=t){i.Assert.assertType(e,"function",null,1,!1);var r=e.prototype;Object.prototype.isPrototypeOf.call(r,t)||i.Assert.assertionFailed("object '"+t+"' doesn't match prototype "+r,1,n)}},i.Assert.assertPrototypes=function(t,e,n,r){if(i.Assert.DEBUG){var s=e.prototype,o=n.prototype,a=Object.prototype.isPrototypeOf;a.call(s,t)||a.call(o,t)||i.Assert.assertionFailed("object '"+t+"' doesn't match prototype "+s+" or "+o,1,r)}},i.Assert.assertDomNodeOrNull=function(t,e){i.Assert.DEBUG&&t&&void 0===t.nodeType&&i.Assert.assertionFailed(t+" is not a DOM Node",e+1)},i.Assert.assertDomNode=function(t,e){i.Assert.DEBUG&&(t&&void 0!==t.nodeType||i.Assert.assertionFailed(t+" is not a DOM Node",e+1))},i.Assert.assertDomElement=function(t,e){i.Assert.DEBUG&&(i.Assert.assertDomNode(t,1),1!==t.nodeType?i.Assert.assertionFailed(t+" is not a DOM Element",1):e&&t.nodeName!==e&&i.Assert.assertionFailed(t+" is not a "+e+" Element",1))},i.Assert.assertDomElementOrNull=function(t,e){i.Assert.DEBUG&&null!=t&&(i.Assert.assertDomNode(t,1),1!==t.nodeType?i.Assert.assertionFailed(t+" is not a DOM Element",1):e&&t.nodeName!==e&&i.Assert.assertionFailed(t+" is not a "+e+" Element",1))},i.Assert.assertType=function(t,e,n,r,s){if(i.Assert.DEBUG&&!(null==t&&s||typeof t===e)){var o=t+" is not of type "+e;n&&(o=n+o),r||(r=0),i.Assert.assertionFailed(o,r+1)}},i.Assert.assertObject=function(t,e){i.Assert.DEBUG&&i.Assert.assertType(t,"object",e,1,!1)},i.Assert.assertObjectOrNull=function(t,e){i.Assert.DEBUG&&i.Assert.assertType(t,"object",e,1,!0)},i.Assert.assertNonEmptyString=function(t,e){i.Assert.DEBUG&&(i.Assert.assertType(t,"string",e,1,!1),i.Assert.assert(t.length>0,"empty string"))},i.Assert.assertString=function(t,e){i.Assert.DEBUG&&i.Assert.assertType(t,"string",e,1,!1)},i.Assert.assertStringOrNull=function(t,e){i.Assert.DEBUG&&i.Assert.assertType(t,"string",e,1,!0)},i.Assert.assertFunction=function(t,e){i.Assert.DEBUG&&i.Assert.assertType(t,"function",e,1,!1)},i.Assert.assertFunctionOrNull=function(t,e){i.Assert.DEBUG&&i.Assert.assertType(t,"function",e,1,!0)},i.Assert.assertBoolean=function(t,e){i.Assert.DEBUG&&i.Assert.assertType(t,"boolean",e,1,!1)},i.Assert.assertNumber=function(t,e){i.Assert.DEBUG&&i.Assert.assertType(t,"number",e,1,!1)},i.Assert.assertNumberOrNull=function(t,e){i.Assert.DEBUG&&i.Assert.assertType(t,"number",e,1,!0)},i.Assert.assertArray=function(t,e){i.Assert.DEBUG&&(Array.isArray(t)||(void 0===e&&(e=t+" is not an array"),i.Assert.assertionFailed(e,1)))},i.Assert.assertArrayOrNull=function(t,e){i.Assert.DEBUG&&null!=t&&(Array.isArray(t)||(void 0===e&&(e=t+" is not an array"),i.Assert.assertionFailed(e,1)))},i.Assert.assertNonNumeric=function(t,e){i.Assert.DEBUG&&(isNaN(t)||(void 0===e&&(e=t+" is convertible to a number"),i.Assert.assertionFailed(e,1)))},i.Assert.assertNumeric=function(t,e){i.Assert.DEBUG&&isNaN(t)&&(void 0===e&&(e=t+" is not convertible to a number"),i.Assert.assertionFailed(e,1))},i.Assert.assertInSet=function(t,e,n){if(null==t||void 0===e[t.toString()]){if(void 0===n){for(var r=" is not in set: {",s=Object.keys(e),o=0;o<s.length;o++){r+=s[o],r+=","}n=t+(r+="}")}i.Assert.assertionFailed(n,1)}},i.Assert.assertionFailed=function(t,e,n){e||(e=0);var r="Assertion";throw n&&(r+=" ("+n+")"),r+=" failed: ",void 0!==t&&(r+=t),new Error(r)};var o,a,l,c,u,f,d=r.__oj_Assert_DEBUG;void 0!==d&&(i.Assert.DEBUG=d),i.CollectionUtils={},i.CollectionUtils.copyInto=function(t,e,n,r,s){return i.CollectionUtils._copyIntoImpl(t,e,n,r,s,0)},i.CollectionUtils.isPlainObject=function(t){if(null!==t&&"object"==typeof t)try{var e=Object.prototype.hasOwnProperty;if(t.constructor&&e.call(t.constructor.prototype,"isPrototypeOf"))return!0}catch(t){}return!1},i.CollectionUtils._copyIntoImpl=function(t,e,n,r,s,o){var a;if(null==s&&(s=Number.MAX_VALUE),t&&e&&t!==e)for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];a=n?n(u):u;var f=e[u],d=!1;if(r&&o<s){var p=t[a];i.CollectionUtils.isPlainObject(f)&&(null==p||i.CollectionUtils.isPlainObject(p))&&(d=!0,t[a]=p||{},i.CollectionUtils._copyIntoImpl(t[a],f,n,!0,s,o+1))}d||(t[a]=f)}return t},i.Object=function(){this.Init()},i.Object.superclass=null,i.Object._typeName="oj.Object",i.Object._GET_FUNCTION_NAME_REGEXP=/function\s+([\w$][\w$\d]*)\s*\(/,i.Object.prototype={},i.Object.prototype.constructor=i.Object,i.Object.createSubclass=function(t,e,n){i.Assert.assertFunction(t),i.Assert.assertFunctionOrNull(e),i.Assert.assertStringOrNull(n),void 0===e&&(e=i.Object),i.Assert.assert(t!==e,"Class can't extend itself");var r=i.Object._tempSubclassConstructor;r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,n&&(t._typeName=n)},i.Object.copyPropertiesForClass=function(t,e){i.Assert.assertFunction(t),i.Assert.assert(null!=e,"source object cannot be null");for(var n=Object.keys(e),r=0;r<n.length;r++){var s=n[r];t.prototype[s]=e[s]}},i.Object._tempSubclassConstructor=function(){},i.Object.prototype.getClass=function(t){if(void 0===t)t=this;else if(null===t)return null;return t.constructor},i.Object.prototype.clone=function(){var t=new this.constructor;return i.CollectionUtils.copyInto(t,this),t},i.Object.prototype.toString=function(){return this.toDebugString()},i.Object.prototype.toDebugString=function(){return this.getTypeName()+" Object"},i.Object.getTypeName=function(t){i.Assert.assertFunction(t);var e=t._typeName;if(null==e){var n=t.toString(),r=i.Object._GET_FUNCTION_NAME_REGEXP.exec(n);e=r?r[1]:"anonymous",t._typeName=e}return e},i.Object.prototype.getTypeName=function(){return i.Object.getTypeName(this.constructor)},i.Object.prototype.Init=function(){i.Assert.isDebug()&&i.Assert.assert(this.getTypeName,"Not an oj.Object");var t=this.constructor;t._initialized||i.Object._initClasses(t)},i.Object.ensureClassInitialization=function(t){i.Assert.assertFunction(t),t._initialized||i.Object._initClasses(t)},i.Object.prototype.equals=function(t){return this===t},i.Object.createCallback=function(t,e){return i.Assert.assertFunction(e),e.bind(t)},i.Object._initClasses=function(t){i.Assert.isDebug()&&(i.Assert.assertFunction(t),i.Assert.assert(!t._initialized)),t._initialized=!0;var e=t.superclass;if(e){var n=e.constructor;n&&!n._initialized&&i.Object._initClasses(n)}var r=t.InitClass;r&&r.call(t)},i.Object.compareValues=function(t,e){if(t===e)return!0;if(typeof t!==typeof e)return!1;if(null===t||null===e)return!1;if(t.constructor===e.constructor){if(Array.isArray(t))return i.Object._compareArrayValues(t,e);if(t.constructor===Object)return i.Object.__innerEquals(t,e);if(t.valueOf&&"function"==typeof t.valueOf)return t.valueOf()===e.valueOf()}return!1},i.Object._compareArrayValues=function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(!i.Object.compareValues(t[n],e[n]))return!1;return!0},i.Object._compareIdIndexObject=function(t,e){if("number"==typeof t&&"number"==typeof e||"string"==typeof t&&"string"==typeof e)return t===e;if("object"==typeof t&&"object"==typeof e){if(t.id&&e.id)return t.id===e.id&&(!t.index||!e.index||t.index===e.index);if(t.index&&e.index)return t.index===e.index}return!1},i.Object._compareArrayIdIndexObject=function(t,e){if(!t)return!e||0===e.length;if(!e)return!t||0===t.length;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){for(var r=!1,s=0;s<e.length;s++)if(i.Object._compareIdIndexObject(t[n],e[s])){r=!0;break}if(!r)return!1}return!0},i.Object.__innerEquals=function(t,e){if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;if(t.constructor!==e.constructor)return!1;var n,r,s=Object.prototype.hasOwnProperty,o=Object.keys(t);for(r=0;r<o.length;r++)if(n=o[r],s.call(t,n)){if(!s.call(e,n))return!1;if(t[n]!==e[n]){if("object"!=typeof t[n])return!1;if(!i.Object.__innerEquals(t[n],e[n]))return!1}}var a=Object.keys(e);for(r=0;r<a.length;r++)if(n=a[r],s.call(e,n)&&!s.call(t,n))return!1;return 0!==o.length||0!==a.length||JSON.stringify(t)===JSON.stringify(e)},i.Object.isEmpty=function(t){var e;if(null==t)return!0;for(e in t)if(t.hasOwnProperty(e))return!1;return!0},i.__isAmdLoaderPresent=function(){return"function"==typeof define&&define.amd},i.__getRequirePromise=function(t,e){return i.__isAmdLoaderPresent()?new Promise(function(n,r){e([t],n,r)}):null},i.StringUtils={},i.StringUtils._TRIM_ALL_RE=/^\s*|\s*$/g,i.StringUtils.isEmpty=function(t){return null===t||0===i.StringUtils.trim(t).length},i.StringUtils.isEmptyOrUndefined=function(t){return!(void 0!==t&&!i.StringUtils.isEmpty(t))},i.StringUtils.isString=function(t){return null!==t&&("string"==typeof t||t instanceof String)},i.StringUtils.trim=function(t){return i.StringUtils.isString(t)?t.replace(i.StringUtils._TRIM_ALL_RE,""):t},i.StringUtils.hashCode=function(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e&=e}return e},String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.lastIndexOf(t,e);return-1!==r&&r===e}),i.AgentUtils=function(){},i.AgentUtils.BROWSER={IE:"ie",FIREFOX:"firefox",SAFARI:"safari",CHROME:"chrome",EDGE:"edge",UNKNOWN:"unknown"},i.AgentUtils.ENGINE={TRIDENT:"trident",WEBKIT:"webkit",GECKO:"gecko",BLINK:"blink",EDGE_HTML:"edgehtml",UNKNOWN:"unknown"},i.AgentUtils.OS={WINDOWS:"Windows",SOLARIS:"Solaris",MAC:"Mac",UNKNOWN:"Unknown",ANDROID:"Android",IOS:"IOS",WINDOWSPHONE:"WindowsPhone",LINUX:"Linux"},i.AgentUtils.DEVICETYPE={PHONE:"phone",TABLET:"tablet",OTHERS:"others"},i.AgentUtils.getAgentInfo=function(t){i.StringUtils.isEmptyOrUndefined(t)&&(t=navigator.userAgent),t=t.toLowerCase();var e=i.StringUtils.hashCode(t),n=i.AgentUtils._currAgentInfo;if(n&&n.hashCode===e)return{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode};var r=i.AgentUtils.OS.UNKNOWN,s=i.AgentUtils.BROWSER.UNKNOWN,o=0,a=i.AgentUtils.DEVICETYPE.OTHERS,l=i.AgentUtils.ENGINE.UNKNOWN,c=0;return t.indexOf("iphone")>-1||t.indexOf("ipad")>-1?r=i.AgentUtils.OS.IOS:t.indexOf("mac")>-1?r=i.AgentUtils.OS.MAC:t.indexOf("sunos")>-1?r=i.AgentUtils.OS.SOLARIS:t.indexOf("android")>-1?r=i.AgentUtils.OS.ANDROID:t.indexOf("linux")>-1?r=i.AgentUtils.OS.LINUX:t.indexOf("windows phone")>-1?r=i.AgentUtils.OS.WINDOWSPHONE:t.indexOf("win")>-1&&(r=i.AgentUtils.OS.WINDOWS),r===i.AgentUtils.OS.ANDROID?a=t.indexOf("mobile")>-1?i.AgentUtils.DEVICETYPE.PHONE:i.AgentUtils.DEVICETYPE.TABLET:r===i.AgentUtils.OS.IOS&&(a=t.indexOf("iphone")>-1?i.AgentUtils.DEVICETYPE.PHONE:i.AgentUtils.DEVICETYPE.TABLET),t.indexOf("msie")>-1?(s=i.AgentUtils.BROWSER.IE,o=i.AgentUtils._parseFloatVersion(t,/msie (\d+[.]\d+)/),t.indexOf("trident")&&(l=i.AgentUtils.ENGINE.TRIDENT,c=i.AgentUtils._parseFloatVersion(t,/trident\/(\d+[.]\d+)/))):t.indexOf("trident")>-1?(s=i.AgentUtils.BROWSER.IE,o=i.AgentUtils._parseFloatVersion(t,/rv:(\d+[.]\d+)/),t.indexOf("trident")&&(l=i.AgentUtils.ENGINE.TRIDENT,c=i.AgentUtils._parseFloatVersion(t,/trident\/(\d+[.]\d+)/))):t.indexOf("edge")>-1?(s=i.AgentUtils.BROWSER.EDGE,o=c=i.AgentUtils._parseFloatVersion(t,/edge\/(\d+[.]\d+)/),l=i.AgentUtils.ENGINE.EDGE_HTML):t.indexOf("chrome")>-1?(s=i.AgentUtils.BROWSER.CHROME,(o=i.AgentUtils._parseFloatVersion(t,/chrome\/(\d+[.]\d+)/))>=28?(l=i.AgentUtils.ENGINE.BLINK,c=o):(l=i.AgentUtils.ENGINE.WEBKIT,c=i.AgentUtils._parseFloatVersion(t,/applewebkit\/(\d+[.]\d+)/))):t.indexOf("safari")>-1?(s=i.AgentUtils.BROWSER.SAFARI,o=i.AgentUtils._parseFloatVersion(t,/version\/(\d+[.]\d+)/),l=i.AgentUtils.ENGINE.WEBKIT,c=i.AgentUtils._parseFloatVersion(t,/applewebkit\/(\d+[.]\d+)/)):t.indexOf("firefox")>-1&&(s=i.AgentUtils.BROWSER.FIREFOX,o=i.AgentUtils._parseFloatVersion(t,/rv:(\d+[.]\d+)/),l=i.AgentUtils.ENGINE.GECKO,c=i.AgentUtils._parseFloatVersion(t,/gecko\/(\d+)/)),n={hashCode:e,os:r,browser:s,browserVersion:o,deviceType:a,engine:l,engineVersion:c},i.AgentUtils._currAgentInfo=n,{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode}},i.AgentUtils._parseFloatVersion=function(t,e){var n=t.match(e);if(n){var r=n[1];if(r)return parseFloat(r)}return 0},o=/(^array)|(\|array)/,a=/(^object)|(\|object)/,l=/\s*\[[^]*\]\s*/,c=/\s*\{[^]*\}\s*/,u=/^(?:\{\{)([^]+)(?:\}\})$/,f=/^(?:\[\[)([^]+)(?:\]\])$/,i.__AttributeUtils={},i.__AttributeUtils.getExpressionInfo=function(t){var e={};if(t){var n=t.trim(),r=u.exec(n);(r=r?r[1]:null)||(e.downstreamOnly=!0,r=(r=f.exec(n))?r[1]:null),e.expr=r}return e},i.__AttributeUtils.attributeToPropertyName=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})},i.__AttributeUtils.propertyNameToAttribute=function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},i.__AttributeUtils.eventTypeToEventListenerProperty=function(t){return"on"+t.substr(0,1).toUpperCase()+t.substr(1)},i.__AttributeUtils.eventListenerPropertyToEventType=function(t){return/^on[A-Z]/.test(t)?t.substr(2,1).toLowerCase()+t.substr(3):null},i.__AttributeUtils.propertyNameToChangeEventType=function(t){return t+"Changed"},i.__AttributeUtils.eventTriggerToEventType=function(t){return"oj"+t.substr(0,1).toUpperCase()+t.substr(1)},i.__AttributeUtils.coerceValue=function(t,e,n,r){if(!r)throw new Error("Unable to parse "+e+"='"+n+"' for "+t+" with id "+t.id+" . This attribute only supports data bound values. Check the API doc for supported types");var s=r.toLowerCase(),i=l.test(n),u=c.test(n);if(o.test(s)&&i||a.test(s)&&u||"any"===s&&(i||u))try{return JSON.parse(n)}catch(r){throw new Error("Unable to parse "+e+"='"+n+"' for "+t.tagName+" with id "+t.id+" to a JSON Object. Check the value for correct JSON syntax, e.g. double quoted strings. "+r)}else if("boolean"===s){if(null==n||"true"===n||""===n||n.toLowerCase()===e)return!0;if("false"===n)return!1}else if("number"===s){if(!isNaN(n))return Number(n)}else if(-1!==r.split("|").indexOf("string")||"any"===s)return n;throw new Error("Unable to parse "+e+"='"+n+"' for "+t+" with id "+t.id+" to a "+r+".")},"undefined"!=typeof window&&window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){var e,n=(this.document||this.ownerDocument).querySelectorAll(t),r=this;do{for(e=n.length;--e>=0&&n.item(e)!==r;);}while(e<0&&(r=r.parentElement));return r}),i.ElementUtils={isValidCustomElementName:function(t){var e=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]).has(t),n=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(t);return!e&&n&&!t.startsWith("oj-bind-",0)}},i.EventSource=function(){this.Init()},i.Object.createSubclass(i.EventSource,i.Object,"oj.EventSource"),i.EventSource.prototype.Init=function(){this._eventHandlers=[],i.EventSource.superclass.Init.call(this)},i.EventSource.prototype.on=function(t,e){for(var n=!1,r=0;r<this._eventHandlers.length;r++)if(this._eventHandlers[r].eventType===t&&this._eventHandlers[r].eventHandlerFunc===e){n=!0;break}n||this._eventHandlers.push({eventType:t,eventHandlerFunc:e})},i.EventSource.prototype.off=function(t,e){for(var n=this._eventHandlers.length-1;n>=0;n--)if(this._eventHandlers[n].eventType===t&&this._eventHandlers[n].eventHandlerFunc===e){this._eventHandlers.splice(n,1);break}},i.EventSource.prototype.handleEvent=function(t,e){for(var n=0;n<this._eventHandlers.length;n++){var r=this._eventHandlers[n];if(r.eventType===t&&!1===r.eventHandlerFunc.apply(this,Array.prototype.slice.call(arguments).slice(1)))return!1}return!0},i.KeyUtils={},i.KeyUtils.equals=function(t,e){return i.Object.compareValues(t,e)},function(){if("undefined"!=typeof window){var t;if(!((t=document.createEvent("Event")).initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented)){var e=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(e.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}"function"!=typeof window.CustomEvent&&(n.prototype=Object.getPrototypeOf(new n("bogusEvent")),window.CustomEvent=n)}function n(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}}(),function(){var t,e;"undefined"!=typeof window&&!window.setImmediate&&window.postMessage&&(window.setImmediate=function(){var r=arguments[0],s=Array.prototype.slice.call(arguments,1);"function"!=typeof r&&(r=new Function(r.toString()));var i=(isNaN(e)&&(e=0),e+=1);return t||(t=new Map),t.set(i,{callback:r,args:s}),1===t.size&&window.addEventListener("message",n),window.postMessage({id:i,message:"oj-setImmediate"},"*"),i},window.clearImmediate=r);function n(e){var n=e.data;if(n&&"oj-setImmediate"===n.message){var s=n.id,i=t.get(s);if(r(s),i){var o=i.callback,a=i.args;o.apply(window,a)}}}function r(e){t&&(t.delete(e),t.size<1&&(window.removeEventListener("message",n),t=null))}}(),function(){if("undefined"!=typeof window&&!window.__extends){var t,e=this&&this.__extends||(t=Object.setPrototypeOf,function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});window.__extends=e}}(),"undefined"!=typeof window&&(window.Symbol?(window.Symbol.asyncIterator||(window.Symbol.asyncIterator="asyncIterator"),window.Symbol.iterator||(window.Symbol.iterator="iterator")):(window.Symbol={},window.Symbol.asyncIterator="asyncIterator",window.Symbol.iterator="iterator")),function(){if("undefined"!=typeof window&&0===new window.Set([0]).size){var t=window.Set;function e(e){var n=new t;return e&&e.forEach(n.add,n),n}e.prototype=t.prototype,e.prototype.constructor=e,window.Set=e}}();var p=r.__ojCheckpointManager;return i.CHECKPOINT_MANAGER={},i.CHECKPOINT_MANAGER.startCheckpoint=function(t,e){p&&p.startCheckpoint(t,e)},i.CHECKPOINT_MANAGER.endCheckpoint=function(t){p&&p.endCheckpoint(t)},i.CHECKPOINT_MANAGER.getRecord=function(t){return p?p.getRecord(t):void 0},i.CHECKPOINT_MANAGER.matchRecords=function(t){return p?p.matchRecords(t):[]},i.CHECKPOINT_MANAGER.dump=function(t){n.info(function(){for(var e="Checkpoint Records:",n=i.CHECKPOINT_MANAGER.matchRecords(t),r=0;r<n.length;r++){var s=n[r];e=e+"\n"+s.name;var o=s.description;null!=o&&(e=e+" ("+o+")"),e=(e+=":\n")+"start: "+s.start+"\tduration: "+s.duration}return e})},i});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojcontext',["ojs/ojcore-base","ojs/ojlogger"],function(e,t){"use strict";e.BusyContext=function(e){this.Init(e)},e.Object.createSubclass(e.BusyContext,e.Object,"oj.BusyContext"),e.BusyContext._defaultTimeout=Number.NaN,e.BusyContext.setDefaultTimeout=function(t){isNaN(t)||(e.BusyContext._defaultTimeout=t)},e.BusyContext.prototype.Init=function(t){e.BusyContext.superclass.Init.call(this),this._hostNode=t,this._statesMap=new Map,this._mediator={getMasterWhenReadyPromise:function(){return this._masterWhenReadyPromise||(this._masterWhenReadyPromise=new Promise(this._captureWhenReadyPromiseResolver.bind(this))),this._masterWhenReadyPromise},resolveMasterWhenReadyPromise:function(){this._masterWhenReadyPromiseResolver&&this._masterWhenReadyPromiseResolver(!0),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseResolver=null,this._masterWhenReadyPromiseRejecter=null},rejectMasterWhenReadyPromise:function(e){this._masterWhenReadyPromiseRejecter&&this._masterWhenReadyPromiseRejecter(e),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseRejecter=null,this._masterWhenReadyPromiseResolver=null},getSlaveTimeoutPromise:function(e,t,s){var o,n=new Promise(function(e,n){o=window.setTimeout(function(){n(t())},s)});return this._slaveTimeoutPromiseTimers.push(o),Promise.race([e,n]).then(this._clearAllSlaveTimeouts.bind(this))},getNextTickPromise:function(){return this._nextTickPromise||(this._nextTickPromise=new Promise(function(e){window.setImmediate(function(){this._nextTickPromise=null,e(!0)}.bind(this))}.bind(this))),this._nextTickPromise},_clearAllSlaveTimeouts:function(){var e=this._slaveTimeoutPromiseTimers;this._slaveTimeoutPromiseTimers=[];for(var t=0;t<e.length;t++)window.clearTimeout(e[t]);return!0},_captureWhenReadyPromiseResolver:function(e,t){this._masterWhenReadyPromiseResolver=e,this._masterWhenReadyPromiseRejecter=t},_slaveTimeoutPromiseTimers:[]}},e.BusyContext._log=function(s){if(t.option("level")===t.LEVEL_LOG){t.log(">> Busy states: %d",s.size);var o=e.BusyContext._values(s);o.length>0&&t.log(o.join("\n"))}},e.BusyContext._values=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t},e.BusyContext.prototype.addBusyState=function(s){t.log("BusyContext.addBusyState: start scope='%s'",this._getDebugScope());var o=this._statesMap,n=new e.BusyState(s[e.BusyContext._DESCRIPTION]);return t.log(">> "+n),o.set(n.id,n),this._addBusyStateToParent(),t.log("BusyContext.addBusyState: end scope='%s'",this._getDebugScope()),this._removeBusyState.bind(this,n)},e.BusyContext.prototype.dump=function(s){t.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),s||"");var o=this._statesMap;t.info(">> Busy states: %d",o.size);var n=e.BusyContext._values(o);n.length>0&&t.info(n.join("\n")),t.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),s||"")},e.BusyContext.prototype.getBusyStates=function(){var t=this._statesMap;return e.BusyContext._values(t)},e.BusyContext.prototype.clear=function(){t.log("BusyContext.clear: start scope='%s'",this._getDebugScope());for(var s=this._statesMap,o=e.BusyContext._values(s),n=0;n<o.length;n++){var i=o[n];try{this._removeBusyState(i)}catch(e){t.log("BusyContext.clear: %o",e)}Object.defineProperty(i,e.BusyContext._OJ_RIP,{value:!0,enumerable:!1})}t.log("BusyContext.clear: end scope='%s'",this._getDebugScope())},e.BusyContext.prototype.whenReady=function(s){var o=this._getDebugScope();t.log("BusyContext.whenReady: start, scope='%s', timeout=%d",o,s);var n=this._statesMap,i=this._mediator,r=i.getNextTickPromise(),a=e.BusyContext._BOOTSTRAP_MEDIATOR.whenReady(),u=Promise.all([r,a]).then(function(){t.log("BusyContext.whenReady: bootstrap mediator ready scope=%s",o);try{e.BusyContext._deliverThrottledUpdates()}catch(e){throw t.error("Fatal exception delivering binding updates: %o",e),e}return 0!==n.size||this._waitingOnNextTickBusynessEval?(t.log("BusyContext.whenReady: busy states returning master scope=%s",o),i.getMasterWhenReadyPromise()):(t.log("BusyContext.whenReady: resolved no busy states scope=%s",o),!0)}.bind(this));if(isNaN(s)&&!isNaN(e.BusyContext._defaultTimeout)&&(s=e.BusyContext._defaultTimeout),!isNaN(s)){u=i.getSlaveTimeoutPromise(u,function(){var i,r="whenReady timeout of "+s+"ms expired ";e.BusyContext._log(n);var a=e.BusyContext._values(n);return(i=e.BusyContext._BOOTSTRAP_MEDIATOR.isReady()?new Error(r+"with the following busy states: "+a.join(", ")):new Error(r+'while the application is loading. Busy state enabled by setting the "window.oj_whenReady = true;" global variable. Application bootstrap busy state is released by calling "oj.Context.getPageContext().getBusyContext().applicationBootstrapComplete();".')).busyStates=a,t.log("BusyContext.whenReady: rejected scope='%s'\n%s",o,i.message),i},s)}return t.log("BusyContext.whenReady: end scope='%s'",this._getDebugScope()),u},e.BusyContext.prototype.isReady=function(){t.log("BusyContext.isReady: start scope='%s'",this._getDebugScope());var s=!1;if(e.BusyContext._BOOTSTRAP_MEDIATOR.isReady()&&!this._waitingOnNextTickBusynessEval){var o=this._statesMap;s=0===o.size,e.BusyContext._log(o)}return t.log("BusyContext.isReady: end scope='%s'",this._getDebugScope()),s},e.BusyContext.prototype._removeBusyState=function(s){var o=this._getDebugScope();t.log("BusyContext._removeBusyState: start scope='%s'",o);var n=this._statesMap;if(s[e.BusyContext._OJ_RIP])t.log("Busy state has been forcefully resolved via clear:\n"+s);else{if(!n.delete(s.id))throw new Error("Busy state has already been resolved:\n"+s);t.log("BusyContext._removeBusyState: resolving busy state:\n"+s),0!==n.size||this._waitingOnNextTickBusynessEval||(this._waitingOnNextTickBusynessEval=!0,window.setImmediate(this._evalBusyness.bind(this))),t.log("BusyContext._removeBusyState: end scope='%s'",o)}},e.BusyContext.prototype._evalBusyness=function(){var s=this._getDebugScope();t.log("BusyContext._evalBusyness: begin scope='%s'",s);try{e.BusyContext._deliverThrottledUpdates()}catch(e){return t.error("Fatal exception delivering binding updates: %o",e),this._mediator.rejectMasterWhenReadyPromise(e),void(this._waitingOnNextTickBusynessEval=!1)}var o=this._statesMap,n=this._mediator;this._waitingOnNextTickBusynessEval=!1,0===o.size?(t.log("BusyContext._evalBusyness: resolving whenReady promises"),n.resolveMasterWhenReadyPromise(),this._resolveBusyStateForParent()):e.BusyContext._log(o),t.log("BusyContext._evalBusyness: end scope='%s'",s)},e.BusyContext.prototype.applicationBootstrapComplete=function(){var s=this._getDebugScope();t.log("BusyContext.applicationBootstrapComplete: begin scope='%s'",s),e.BusyContext._BOOTSTRAP_MEDIATOR.notifyComplete(),t.log("BusyContext.applicationBootstrapComplete: end scope='%s'",s)},e.BusyContext.prototype._getParentBusyContext=function(){if(this._hostNode){var t=e.Context.getContext(e.Context.getParentElement(this._hostNode));if(t)return t.getBusyContext()}return null},e.BusyContext.prototype._addBusyStateToParent=function(){if(!this._parentNotified){this._parentNotified=!0;var t=this._getParentBusyContext();if(t){var s={};s[e.BusyContext._DESCRIPTION]=this._getCompoundDescription.bind(this),this._parentResolveCallback=t.addBusyState(s)}}},e.BusyContext.prototype._resolveBusyStateForParent=function(){this._parentNotified=!1,this._parentResolveCallback&&(this._parentResolveCallback(),this._parentResolveCallback=null)},e.BusyContext.prototype._getCompoundDescription=function(){return"["+e.BusyContext._values(this._statesMap).join(", ")+"]"},e.BusyContext.prototype._getDebugScope=function(){function e(e){var t="undefined";if(e)if(e.id&&e.id.length>0)t="#"+e.id;else{t=e.nodeName,e.hasAttribute("data-oj-context")&&(t+="[data-oj-context]");var s=e.getAttribute("class");s&&(t+="."+s.split(" ").join("."))}return t}return this._debugScope||(this._hostNode?this._debugScope=e(this._hostNode.parentElement)+" > "+e(this._hostNode):this._debugScope="page"),this._debugScope},e.BusyContext.prototype.toString=function(){var e="Busy Context: [scope=";return e+=this._getDebugScope(),e+=" states="+this._getCompoundDescription()+"]"},e.BusyContext._deliverThrottledUpdates=function(){e.ComponentBinding&&e.ComponentBinding.deliverChanges()},e.BusyContext._DESCRIPTION="description",e.BusyContext._OJ_RIP="__ojRip",e.BusyContext._BOOTSTRAP_MEDIATOR=new function(){var e,t,s;"undefined"!=typeof window&&(e=window.oj_whenReady),this.whenReady=function(){return t||(t=e?new Promise(function(e){s=e}):Promise.resolve(!0))},this.isReady=function(){return!e},this.notifyComplete=function(){s?window.setImmediate(function(){e=!1,s(!0),s=null}):e=!1}},e.BusyState=function(t){this._description=t,this._addedWaitTs=e.BusyState._getTs(),this._id=this._addedWaitTs.toString(36)+"_"+Math.random().toString(36)},Object.defineProperties(e.BusyState.prototype,{id:{get:function(){return this._id},enumerable:!0},description:{get:function(){if(this._description)return this._description instanceof Function?this._description():this._description.toString()},enumerable:!0}}),e.BusyState.prototype.toString=function(){var t="Busy state: [description=",s=this.description;return null!==s&&(t+=s),t+=", elapsed="+(e.BusyState._getTs()-this._addedWaitTs)+"]"},e.BusyState._getTs=function(){return window.performance?window.performance.now():(new Date).getTime()};var s=function(e){this.Init(e)};return e.Object.createSubclass(s,e.Object,"oj.Context"),s.prototype.Init=function(e){s.superclass.Init.call(this),this._node=e},s.getContext=function(e){for(;e;){var t=e[s._OJ_CONTEXT_INSTANCE];if(t)return t;if(e.hasAttribute(s._OJ_CONTEXT_ATTRIBUTE))return t=new s(e),Object.defineProperty(e,s._OJ_CONTEXT_INSTANCE,{value:t}),t;e=s.getParentElement(e)}return s.getPageContext()},s.getPageContext=function(){return s._pageContext||(s._pageContext=new s),s._pageContext},s.prototype.getBusyContext=function(){return this._busyContext||(this._busyContext=new e.BusyContext(this._node)),this._busyContext},s.setBusyContextDefaultTimeout=function(t){e.BusyContext.setDefaultTimeout(t)},s._OJ_CONTEXT_ATTRIBUTE="data-oj-context",s._OJ_CONTEXT_INSTANCE="__ojContextInstance",s._OJ_SURROGATE_ATTR="data-oj-surrogate-id",s.getParentElement=function(e){if(e&&e.hasAttribute(s._OJ_SURROGATE_ATTR)){var t=document.getElementById(e.getAttribute(s._OJ_SURROGATE_ATTR));if(t)return t.parentElement}return e.parentElement},s});
/**
 * @license RequireJS i18n 2.0.2 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/i18n for details
 */
!function(){"use strict";var e=/(^.*(^|\/)nls(\/|$))([^/]*)\/?([^/]*)/;function n(e,n,o,a,r,t,l){if(n[e]||(e=e.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),n[e]){if(o.push(e),!0===n[e]||1===n[e]){var u=l?l+e:e;a.push(r+u+"/"+t)}return!0}return!1}function o(e){return"object"==typeof e}function a(e,n){for(var r=Object.keys(n),t=0;t<r.length;t++){var l=r[t];null==e[l]?e[l]=n[l]:o(n[l])&&o(e[l])&&a(e[l],n[l])}}define('ojL10n',["module"],function(o){var r=o.config?o.config():{};return{version:"2.0.1+",load:function(o,t,l,u){var c;(u=u||{}).locale&&(r.locale=u.locale);var i,f,s,v,g,h,p,d,y,m,L,O=e.exec(o),_=O[1],b=O[5],j=[],H={},k="";O[5]?(c=(_=O[1])+b,i=O[4]):(c=o,b=O[4],i=r.locale,"undefined"!=typeof document?(i||(i=u.isBuild?"root":document.documentElement.lang)||(i=void 0===navigator?"root":navigator.systemLanguage||navigator.language||navigator.userLanguage||"root"),r.locale=i):i="root"),f=function(e){var n,o=e.toLowerCase().split(/-|_/),a=[o[0]],r=1;for(n=1;n<o.length;n++){var t=o[n],l=t.length;if(1===l)break;switch(r){case 1:if(r=2,4===l){a.push(t.charAt(0).toUpperCase()+t.slice(1));break}case 2:r=3,a.push(t.toUpperCase());break;default:a.push(t)}}return function(e){if(!("zh"!==e[0]||e.length>1&&4===e[1].length)){var n="Hans",o=e.length>1?e[1]:null;"TW"!==o&&"MO"!==o&&"HK"!==o||(n="Hant"),e.splice(1,0,n)}}(a),a}(i),v=r.noOverlay,g=r.defaultNoOverlayLocale;var x=r.localePrefix;for((y=r.merge)&&(h=y[_+b])&&(O=e.exec(h),p=O[1],d=O[4]),m=[],s=0;s<f.length;s++)k+=(k?"-":"")+f[s],m.push(k);u.isBuild?(j.push(c),h&&j.push(h),t(j,function(){l()})):("query"===r.includeLocale&&(c=t.toUrl(c+".js"),c+=(-1===c.indexOf("?")?"?":"&")+"loc="+i),L=[c],h&&L.push(h),t(L,function(e,o){var r=[],u=function(e,o,a){for(var t=v||!0===e.__noOverlay,l=g||e.__defaultNoOverlayLocale,u=!1,c=m.length-1;c>=0&&(!u||!t);c--)u=n(m[c],e,r,j,o,a,x);var i=1===m.length&&"root"===m[0];t&&(i||!u)&&l&&n(l,e,r,j,o,a,x),i||n("root",e,r,j,o,a,x)};u(e,_,b);var c=r.length;o&&u(o,p,d),t(j,function(){var n=function(e,n,o,l,u){for(var c=n;c<o&&r[c];c++){var i=r[c],f=x?x+i:i,s=e[i];!0!==s&&1!==s||(s=t(l+f+"/"+u)),a(H,s||{})}};n(o,c,r.length,p,d),n(e,0,c,_,b),H._ojLocale_=f.join("-"),l(H)})}))}}})}();
define('ojtranslations/nls/ojtranslations',{root:{"oj-message":{fatal:"Fatal",error:"Error",warning:"Warning",info:"Info",confirmation:"Confirmation","compact-type-summary":"{0}: {1}"},"oj-converter":{summary:"Value is not in the expected format.",detail:"Enter a value in the expected format.","plural-separator":", ",hint:{summary:"Example: {exampleValue}",detail:"Enter a value in the same format as this example: '{exampleValue}'.","detail-plural":"Enter a value in the same format as these examples: '{exampleValue}'."},optionHint:{detail:"An accepted value for option '{propertyName}' is '{propertyValueValid}'.","detail-plural":"Accepted values for option '{propertyName}' are '{propertyValueValid}'."},optionTypesMismatch:{summary:"A value for the option '{requiredPropertyName}' is required when the option '{propertyName}' is set to '{propertyValue}'."},optionTypeInvalid:{summary:"A value of the expected type was not provided for option '{propertyName}'."},optionOutOfRange:{summary:"Value {propertyValue} is out of range for the option '{propertyName}'."},optionValueInvalid:{summary:"An invalid value '{propertyValue}' was specified for the option '{propertyName}'."},number:{decimalFormatMismatch:{summary:"'{value}' is not in the expected number format."},shortLongUnsupportedParse:{summary:"'short' and 'long' are not supported for converter parsing.",detail:"Change component to readonly. readonly fields do not call the converter's parse function."},currencyFormatMismatch:{summary:"'{value}' is not in the expected currency format."},percentFormatMismatch:{summary:"'{value}' is not in the expected percent format."}},color:{invalidFormat:{summary:"Invalid color format.",detail:"Invalid color format option specification."},invalidSyntax:{summary:"Invalid color specification.",detail:"Color specification does not conform to CSS3 standard."}},datetime:{datetimeOutOfRange:{summary:"Value '{value}' is out of range for the '{propertyName}'.",detail:"Enter a value between '{minValue}' and '{maxValue}'.",hour:"hour",minute:"minute",second:"second",millisec:"millisec",month:"month",day:"day",year:"year","month name":"month name",weekday:"weekday"},dateFormatMismatch:{summary:"'{value}' is not in the expected date format."},invalidTimeZoneID:{summary:"Invalid timezone id {timeZoneID} provided."},nonExistingTime:{summary:"The input time does not exist because it falls during the transition to daylight saving time."},missingTimeZoneData:{summary:"TimeZone data is missing. Please call require 'ojs/ojtimezonedata' in order to load the TimeZone data."},timeFormatMismatch:{summary:"'{value}' is not in the expected time format."},datetimeFormatMismatch:{summary:"'{value}' is not in the expected date and time format."},dateToWeekdayMismatch:{summary:"Day '{date}' does not fall on a '{weekday}'.",detail:"Enter a weekday that corresponds with the date."},invalidISOString:{invalidRangeSummary:"The value '{value}' is out of range for the '{propertyName}' field in the ISO 8601 string '{isoStr}'.",summary:"The provided '{isoStr}' is not a valid ISO 8601 string.",detail:"Please provide valid ISO 8601 string."}}},"oj-validator":{length:{hint:{min:"Enter {min} or more characters.",max:"Enter {max} or fewer characters.",inRange:"Enter {min} or more characters, up to a maximum of {max}.",exact:"Enter {length} characters."},messageDetail:{tooShort:"Enter {min} or more characters, not fewer.",tooLong:"Enter {max} or fewer characters, not more."},messageSummary:{tooShort:"There are too few characters.",tooLong:"There are too many characters."}},range:{number:{hint:{min:"Enter a number greater than or equal to {min}.",max:"Enter a number less than or equal to {max}.",inRange:"Enter a number between {min} and {max}.",exact:"Enter the number {num}."},messageDetail:{rangeUnderflow:"The number must be greater than or equal to {min}.",rangeOverflow:"The number must be less than or equal to {max}.",exact:"The number must be {num}."},messageSummary:{rangeUnderflow:"The number is too low.",rangeOverflow:"The number is too high."}},datetime:{hint:{min:"Enter a date and time on or after {min}.",max:"Enter a date and time on or before {max}.",inRange:"Enter a date and time between {min} and {max}."},messageDetail:{rangeUnderflow:"Date and time must be on or later than {min}.",rangeOverflow:"Date and time must be on or sooner than {max}."},messageSummary:{rangeUnderflow:"Date and time is earlier than the minimum date and time.",rangeOverflow:"Date and time is later than the maximum date and time."}},date:{hint:{min:"Enter a date on or after {min}.",max:"Enter a date on or before {max}.",inRange:"Enter a date between {min} and {max}."},messageDetail:{rangeUnderflow:"Date must be on or later than {min}.",rangeOverflow:"Date must be on or sooner than {max}."},messageSummary:{rangeUnderflow:"Date is earlier than the minimum date.",rangeOverflow:"Date is later than the maximum date."}},time:{hint:{min:"Enter a time on or after {min}.",max:"Enter a time on or before {max}.",inRange:"Enter a time between {min} and {max}."},messageDetail:{rangeUnderflow:"Time must be on or later than {min}.",rangeOverflow:"Time must be on or sooner than {max}."},messageSummary:{rangeUnderflow:"Time is earlier than the minimum time.",rangeOverflow:"Time is later than the maximum time."}}},restriction:{date:{messageSummary:"Date {value} is of a disabled entry.",messageDetail:"Date {value} should not be of a disabled entry."}},regExp:{summary:"Format is incorrect.",detail:"Value '{value}' must match this pattern: '{pattern}'."},required:{summary:"Value is required.",detail:"You must enter a value."}},"oj-ojEditableValue":{loading:"Loading"},"oj-ojInputDate":{done:"Done",cancel:"Cancel",prevText:"Prev",nextText:"Next",currentText:"Today",weekHeader:"Wk",tooltipCalendar:"Select Date.",tooltipCalendarTime:"Select Date Time.",tooltipCalendarDisabled:"Select Date Disabled.",tooltipCalendarTimeDisabled:"Select Date Time Disabled.",picker:"Picker",weekText:"Week",datePicker:"Date Picker",inputHelp:"Press Key down or Key up for access to Calendar.",inputHelpBoth:"Press Key down or Key up for access to Calendar and Shift + Key down or Shift Key up for access to time drop down.",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},dateRestriction:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojInputTime":{cancelText:"Cancel",okText:"OK",currentTimeText:"Now",hourWheelLabel:"Hour",minuteWheelLabel:"Minute",ampmWheelLabel:"AMPM",tooltipTime:"Select Time.",tooltipTimeDisabled:"Select Time Disabled.",inputHelp:"Press Key down or Key up for access to time drop down.",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}}},"oj-inputBase":{required:{hint:"",messageSummary:"",messageDetail:""},regexp:{messageSummary:"",messageDetail:""}},"oj-ojInputPassword":{regexp:{messageDetail:"Value must match this pattern: '{pattern}'."}},"oj-ojFilmStrip":{labelAccFilmStrip:"Displaying page {pageIndex} of {pageCount}",labelAccArrowNextPage:"Select Next to display next page",labelAccArrowPreviousPage:"Select Previous to display previous page",tipArrowNextPage:"Next",tipArrowPreviousPage:"Previous"},"oj-ojDataGrid":{accessibleSortAscending:"{id} sorted in ascending order",accessibleSortDescending:"{id} sorted in descending order",accessibleActionableMode:"Enter actionable mode.",accessibleNavigationMode:"Enter navigation mode, press F2 to enter edit or actionable mode.",accessibleEditableMode:"Enter editable mode, press escape to navigate outside the data grid.",accessibleSummaryExact:"This is a data grid with {rownum} rows and {colnum} columns",accessibleSummaryEstimate:"This is a data grid with unknown number of rows and columns",accessibleSummaryExpanded:"There are currently {num} rows expanded",accessibleRowExpanded:"Row expanded",accessibleRowCollapsed:"Row collapsed",accessibleRowSelected:"Row {row} selected",accessibleColumnSelected:"Column {column} selected",accessibleStateSelected:"selected",accessibleMultiCellSelected:"{num} cells selected",accessibleColumnSpanContext:"{extent} wide",accessibleRowSpanContext:"{extent} high",accessibleRowContext:"Row {index}",accessibleColumnContext:"Column {index}",accessibleRowHeaderContext:"Row Header {index}",accessibleColumnHeaderContext:"Column Header {index}",accessibleRowEndHeaderContext:"Row End Header {index}",accessibleColumnEndHeaderContext:"Column End Header {index}",accessibleRowHeaderLabelContext:"Row Header Label {level}",accessibleColumnHeaderLabelContext:"Column Header Label {level}",accessibleRowEndHeaderLabelContext:"Row End Header Label {level}",accessibleColumnEndHeaderLabelContext:"Column End Header Label {level}",accessibleLevelContext:"Level {level}",accessibleRangeSelectModeOn:"Add selected range of cells mode on.",accessibleRangeSelectModeOff:"Add selected range of cells mode off.",accessibleFirstRow:"You have reached the first row.",accessibleLastRow:"You have reached the last row.",accessibleFirstColumn:"You have reached the first column",accessibleLastColumn:"You have reached the last column.",accessibleSelectionAffordanceTop:"Top selection handle.",accessibleSelectionAffordanceBottom:"Bottom selection handle.",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",labelResize:"Resize",labelResizeWidth:"Resize Width",labelResizeHeight:"Resize Height",labelSortRow:"Sort Row",labelSortRowAsc:"Sort Row Ascending",labelSortRowDsc:"Sort Row Descending",labelSortCol:"Sort Column",labelSortColAsc:"Sort Column Ascending",labelSortColDsc:"Sort Column Descending",labelCut:"Cut",labelPaste:"Paste",labelEnableNonContiguous:"Enable Non-Contiguous Selection",labelDisableNonContiguous:"Disable Non-Contiguous Selection",labelResizeDialogSubmit:"OK"},"oj-ojRowExpander":{accessibleLevelDescription:"Level {level}",accessibleRowDescription:"Level {level}, Row {num} of {total}",accessibleRowExpanded:"Row expanded",accessibleRowCollapsed:"Row collapsed",accessibleStateExpanded:"expanded",accessibleStateCollapsed:"collapsed"},"oj-ojListView":{msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",msgItemsAppended:"{count} items appended to the end.",indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z",accessibleReorderTouchInstructionText:"Double tap and hold.  Wait for the sound then drag to rearrange.",accessibleReorderBeforeItem:"Before {item}",accessibleReorderAfterItem:"After {item}",accessibleReorderInsideItem:"Into {item}",accessibleNavigateSkipItems:"Skipping {numSkip} items",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-_ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojInputNumber":{required:{hint:"",messageSummary:"",messageDetail:""},numberRange:{hint:{min:"",max:"",inRange:"",exact:""},messageDetail:{rangeUnderflow:"",rangeOverflow:"",exact:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},tooltipDecrement:"Decrement",tooltipIncrement:"Increment"},"oj-ojTable":{labelAccSelectionAffordanceTop:"Top selection handle",labelAccSelectionAffordanceBottom:"Bottom selection handle",labelEnableNonContiguousSelection:"Enable Non-Contiguous Selection",labelDisableNonContiguousSelection:"Disable Non-Contiguous Selection",labelResize:"Resize",labelResizePopupSubmit:"OK",labelResizePopupSpinner:"Resize Column",labelSelectRow:"Select Row",labelEditRow:"Edit Row",labelSelectAndEditRow:"Select And Edit Row",labelSelectColumn:"Select Column",labelSort:"Sort",labelSortAsc:"Sort Ascending",labelSortDsc:"Sort Descending",msgFetchingData:"Fetching Data...",msgNoData:"No data to display.",msgInitializing:"Initializing...",msgColumnResizeWidthValidation:"Width value must be an integer.",msgScrollPolicyMaxCountSummary:"Exceeded maximum rows for table scrolling.",msgScrollPolicyMaxCountDetail:"Please reload with smaller data set.",msgStatusSortAscending:"{0} sorted in ascending order.",msgStatusSortDescending:"{0} sorted in descending order."},"oj-ojTabs":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",labelReorder:"Reorder",removeCueText:"Removable"},"oj-ojCheckboxset":{readonlyNoValue:"",required:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojRadioset":{readonlyNoValue:"",required:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojSelect":{required:{hint:"",messageSummary:"",messageDetail:""},searchField:"Search field",noMatchesFound:"No matches found",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found",filterFurther:"More results available, please filter further."},"oj-ojSwitch":{SwitchON:"On",SwitchOFF:"Off"},"oj-ojCombobox":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found",filterFurther:"More results available, please filter further."},"oj-ojInputSearch":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found"},"oj-ojTree":{stateLoading:"Loading...",labelNewNode:"New Node",labelMultiSelection:"Multiple Selection",labelEdit:"Edit",labelCreate:"Create",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelPasteAfter:"Paste After",labelPasteBefore:"Paste Before",labelRemove:"Remove",labelRename:"Rename",labelNoData:"No data"},"oj-ojPagingControl":{labelAccPaging:"Pagination",labelAccPageNumber:"Page {pageNum} content loaded",labelAccNavFirstPage:"First Page",labelAccNavLastPage:"Last Page",labelAccNavNextPage:"Next Page",labelAccNavPreviousPage:"Previous Page",labelAccNavPage:"Page",labelLoadMore:"Show More...",labelLoadMoreMaxRows:"Reached Maximum Limit of {maxRows} rows",labelNavInputPage:"Page",labelNavInputPageMax:"of {pageMax}",fullMsgItemRange:"{pageFrom}-{pageTo} of {pageMax} items",fullMsgItemRangeAtLeast:"{pageFrom}-{pageTo} of at least {pageMax} items",fullMsgItemRangeApprox:"{pageFrom}-{pageTo} of approx {pageMax} items",msgItemRangeNoTotal:"{pageFrom}-{pageTo} items",fullMsgItem:"{pageTo} of {pageMax} items",fullMsgItemAtLeast:"{pageTo} of at least {pageMax} items",fullMsgItemApprox:"{pageTo} of approx {pageMax} items",msgItemNoTotal:"{pageTo} items",msgItemRangeCurrent:"{pageFrom}-{pageTo}",msgItemRangeCurrentSingle:"{pageFrom}",msgItemRangeOf:"of",msgItemRangeOfAtLeast:"of at least",msgItemRangeOfApprox:"of approx.",msgItemRangeItems:"items",tipNavInputPage:"Go To Page",tipNavPageLink:"Go To Page {pageNum}",tipNavNextPage:"Next",tipNavPreviousPage:"Previous",tipNavFirstPage:"First",tipNavLastPage:"Last",pageInvalid:{summary:"The page value entered is invalid.",detail:"Please enter a value greater than 0."},maxPageLinksInvalid:{summary:"Value for maxPageLinks is invalid.",detail:"Please enter a value greater than 4."}},"oj-ojMasonryLayout":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-panel":{labelAccButtonExpand:"Expand",labelAccButtonCollapse:"Collapse",labelAccButtonRemove:"Remove",labelAccFlipForward:"Flip forward",labelAccFlipBack:"Flip back",tipDragToReorder:"Drag to reorder",labelAccDragToReorder:"Drag to reorder, context menu available"},"oj-ojChart":{labelDefaultGroupName:"Group {0}",labelSeries:"Series",labelGroup:"Group",labelDate:"Date",labelValue:"Value",labelTargetValue:"Target",labelX:"X",labelY:"Y",labelZ:"Z",labelPercentage:"Percentage",labelLow:"Low",labelHigh:"High",labelOpen:"Open",labelClose:"Close",labelVolume:"Volume",labelQ1:"Q1",labelQ2:"Q2",labelQ3:"Q3",labelMin:"Min",labelMax:"Max",labelOther:"Other",tooltipPan:"Pan",tooltipSelect:"Marquee select",tooltipZoom:"Marquee zoom",componentName:"Chart"},"oj-dvtBaseGauge":{componentName:"Gauge"},"oj-ojDiagram":{promotedLink:"{0} link",promotedLinks:"{0} links",promotedLinkAriaDesc:"Indirect",componentName:"Diagram"},"oj-ojGantt":{componentName:"Gantt",accessibleDurationDays:"{0} days",accessibleDurationHours:"{0} hours",accessibleTaskInfo:"Start time is {0}, end time is {1}, duration is {2}",accessibleMilestoneInfo:"Time is {0}",accessibleRowInfo:"Row {0}",accessibleTaskTypeMilestone:"Milestone",accessibleTaskTypeSummary:"Summary",accessiblePredecessorInfo:"{0} predecessors",accessibleSuccessorInfo:"{0} successors",accessibleDependencyInfo:"Dependency type {0}, connects {1} to {2}",startStartDependencyAriaDesc:"start to start",startFinishDependencyAriaDesc:"start to finish",finishStartDependencyAriaDesc:"finish to start",finishFinishDependencyAriaDesc:"finish to finish",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out",labelLevel:"Level",labelRow:"Row",labelStart:"Start",labelEnd:"End",labelDate:"Date",labelBaselineStart:"Baseline Start",labelBaselineEnd:"Baseline End",labelBaselineDate:"Baseline Date",labelLabel:"Label",labelProgress:"Progress",labelMoveBy:"Move By",labelResizeBy:"Resize By",taskMoveInitiated:"Task move initiated",taskResizeEndInitiated:"Task resize end initiated",taskResizeStartInitiated:"Task resize start initiated",taskMoveSelectionInfo:"{0} others selected",taskResizeSelectionInfo:"{0} others selected",taskMoveInitiatedInstruction:"Use the arrow keys to move",taskResizeInitiatedInstruction:"Use the arrow keys to resize",taskMoveFinalized:"Task move finalized",taskResizeFinalized:"Task resize finalized",taskMoveCancelled:"Task move cancelled",taskResizeCancelled:"Task resize cancelled",taskResizeStartHandle:"Task resize start handle",taskResizeEndHandle:"Task resize end handle"},"oj-ojLegend":{componentName:"Legend",tooltipExpand:"Expand",tooltipCollapse:"Collapse"},"oj-ojNBox":{highlightedCount:"{0}/{1}",labelOther:"Other",labelGroup:"Group",labelSize:"Size",labelAdditionalData:"Additional Data",componentName:"{0} Box"},"oj-ojPictoChart":{componentName:"Picture Chart"},"oj-ojSparkChart":{componentName:"Chart"},"oj-ojSunburst":{labelColor:"Color",labelSize:"Size",tooltipExpand:"Expand",tooltipCollapse:"Collapse",componentName:"Sunburst"},"oj-ojTagCloud":{componentName:"Tag Cloud"},"oj-ojThematicMap":{componentName:"Thematic Map",areasRegion:"Areas",linksRegion:"Links",markersRegion:"Markers"},"oj-ojTimeAxis":{componentName:"Time Axis"},"oj-ojTimeline":{componentName:"Timeline",accessibleItemDesc:"Description is {0}.",accessibleItemEnd:"End time is {0}.",accessibleItemStart:"Start time is {0}.",accessibleItemTitle:"Title is {0}.",labelSeries:"Series",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out",labelStart:"Start",labelEnd:"End",labelDate:"Date",labelTitle:"Title",labelDescription:"Description"},"oj-ojTreemap":{labelColor:"Color",labelSize:"Size",tooltipIsolate:"Isolate",tooltipRestore:"Restore",componentName:"Treemap"},"oj-dvtBaseComponent":{labelScalingSuffixThousand:"K",labelScalingSuffixMillion:"M",labelScalingSuffixBillion:"B",labelScalingSuffixTrillion:"T",labelScalingSuffixQuadrillion:"Q",labelInvalidData:"Invalid data",labelNoData:"No data to display",labelClearSelection:"Clear Selection",labelDataVisualization:"Data Visualization",stateSelected:"Selected",stateUnselected:"Unselected",stateMaximized:"Maximized",stateMinimized:"Minimized",stateExpanded:"Expanded",stateCollapsed:"Collapsed",stateIsolated:"Isolated",stateHidden:"Hidden",stateVisible:"Visible",stateDrillable:"Drillable",labelAndValue:"{0}: {1}",labelCountWithTotal:"{0} of {1}"},"oj-ojNavigationList":{defaultRootLabel:"Navigation List",hierMenuBtnLabel:"Hierarchical Menu button",selectedLabel:"selected",previousIcon:"Previous",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",overflowItemLabel:"More",accessibleReorderTouchInstructionText:"Double tap and hold.  Wait for the sound then drag to rearrange.",accessibleReorderBeforeItem:"Before {item}",accessibleReorderAfterItem:"After {item}",labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",removeCueText:"Removable"},"oj-ojSlider":{noValue:"ojSlider has no value",maxMin:"Max must not be less than or equal to min",valueRange:"Value must be within min to max range",optionNum:"{option} option is not a number",invalidStep:"Invalid step; step must be > 0"},"oj-ojDialog":{labelCloseIcon:"Close"},"oj-ojPopup":{ariaLiveRegionInitialFocusFirstFocusable:"Entering pop-up. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusNone:"Pop-up opened. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusFirstFocusableTouch:"Entering pop-up. Pop-up can be closed by navigating to the last link within the pop-up.",ariaLiveRegionInitialFocusNoneTouch:"Pop-up opened. Navigate to the next link to establish focus within the pop-up.",ariaFocusSkipLink:"Double tap to navigate to the open pop-up.",ariaCloseSkipLink:"Double tap to close the open pop-up."},"oj-ojRefresher":{ariaRefreshLink:"Activate link to refresh content",ariaRefreshingLink:"Refreshing content",ariaRefreshCompleteLink:"Refresh complete"},"oj-ojSwipeActions":{ariaShowStartActionsDescription:"Show start actions",ariaShowEndActionsDescription:"Show end actions",ariaHideActionsDescription:"Hide actions"},"oj-ojIndexer":{indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z",indexerOthers:"#",ariaDisabledLabel:"No matching group header",ariaOthersLabel:"number",ariaInBetweenText:"Between {first} and {second}",ariaKeyboardInstructionText:"Press enter to select value.",ariaTouchInstructionText:"Double tap and hold to enter gesture mode, then drag up or down to adjust value."},"oj-ojMenu":{labelCancel:"Cancel",ariaFocusSkipLink:"Focus is within the menu, double tap or swipe to move focus to the first menu item."},"oj-ojColorSpectrum":{labelHue:"Hue",labelOpacity:"Opacity",labelSatLum:"Saturation/Luminance",labelThumbDesc:"Color spectrum four way slider."},"oj-ojColorPalette":{labelNone:"None"},"oj-ojColorPicker":{labelSwatches:"Swatches",labelCustomColors:"Custom Colors",labelPrevColor:"Previous Color",labelDefColor:"Default Color",labelDelete:"Delete",labelDeleteQ:"Delete?",labelAdd:"Add",labelAddColor:"Add color",labelMenuHex:"HEX",labelMenuRgba:"RGBa",labelMenuHsla:"HSLa",labelSliderHue:"Hue",labelSliderSaturation:"Saturation",labelSliderSat:"Sat",labelSliderLightness:"Lightness",labelSliderLum:"Luminosity",labelSliderAlpha:"Alpha",labelOpacity:"Opacity",labelSliderRed:"Red",labelSliderGreen:"Green",labelSliderBlue:"Blue"},"oj-ojFilePicker":{dropzoneText:"Drop files here or click to upload"},"oj-ojProgressbar":{ariaIndeterminateProgressText:"In Progress"},"oj-ojMessage":{labelCloseIcon:"Close",categories:{error:"Error",warning:"Warning",info:"Information",confirmation:"Confirmation"}},"oj-ojMessages":{labelLandmark:"Messages",ariaLiveRegion:{navigationFromKeyboard:"Entering messages region. Press F6 to navigate back to prior focused element.",navigationToTouch:"Messages region has new messages. Use the voice-over rotor to navigate to the messages landmark.",navigationToKeyboard:"Messages region has new messages.  Press F6 to navigate to the most recent message region.",newMessage:"Message category {category}. {summary}."}}},ar:1,"ar-XB":1,cs:1,da:1,de:1,el:1,"en-XA":1,"en-XC":1,es:1,et:1,fi:1,fr:1,"fr-CA":1,he:1,hu:1,it:1,ja:1,ko:1,lt:1,lv:1,nl:1,no:1,pl:1,pt:1,"pt-PT":1,ro:1,ru:1,sk:1,sv:1,th:1,tr:1,"zh-Hans":1,"zh-Hant":1});

/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojconfig',["require","ojs/ojcore-base","ojL10n!ojtranslations/nls/ojtranslations"],function(e,n,o){"use strict";var r={getDeviceType:function(){return n.AgentUtils.getAgentInfo().deviceType},getLocale:function(){if(n.__isAmdLoaderPresent()){n.Assert.assert(void 0!==o,"ojtranslations module must be defined");var e=o._ojLocale_;return"root"===e?"en":e}var t=r._locale;return null==t&&((t=document.documentElement.lang)||(t=void 0===navigator?"en":(navigator.language||navigator.userLanguage||"en").toLowerCase()),t=t.toLowerCase(),r._locale=t),t},setLocale:function(t,i){if(n.__isAmdLoaderPresent()){var a="ojL10n!ojtranslations/nls/",s=[a+t+"/ojtranslations"],u=0;if(n.LocaleData&&(s.push(a+t+"/localeElements"),n.TimezoneData)){var l=n.TimezoneData.__getBundleNames();u=l.length,l.forEach(function(e){s.push(a+t+e)})}e(s,function(e,r){o=e,r&&n.LocaleData.__updateBundle(r);for(var t=0;t<u;t++){var a=arguments[t+2];n.TimezoneData.__mergeIntoLocaleElements(a)}i&&i()})}else r._locale=t,i&&i()},getResourceUrl:function(e){if(null==e||/^\/|:/.test(e))return e;var n=r._resourceBaseUrl;null==n&&(n=r._getOjBaseUrl()||"");var o=n.length;return n+(0===o||"/"===n.charAt(o-1)?"":"/")+e},setResourceBaseUrl:function(e){r._resourceBaseUrl=e},setAutomationMode:function(e){r._automationMode=e},getAutomationMode:function(){return r._automationMode},getVersionInfo:function(){var e="Oracle JET Version: "+n.version+"\n";e+="Oracle JET Revision: "+n.revision+"\n";var o="undefined"!=typeof window;return o&&window.navigator&&(e+="Browser: "+window.navigator.userAgent+"\n",e+="Browser Platform: "+window.navigator.platform+"\n"),$&&($.fn&&(e+="jQuery Version: "+$.fn.jquery+"\n"),$.ui&&$.ui.version&&(e+="jQuery UI Version: "+$.ui.version+"\n")),n.ComponentBinding&&(e+="Knockout Version: "+n.ComponentBinding.__getKnockoutVersion()+"\n"),o&&window.require&&(e+="Require Version: "+window.require.version+"\n"),e},logVersionInfo:function(){console.log(r.getVersionInfo())},_getOjBaseUrl:function(){var o=null;n.__isAmdLoaderPresent()&&(o=e.toUrl("ojs/_foo_").replace(/[^/]*$/,"../"));return o},__getTemplateEngine:function(){if(!r._templateEnginePromise){if(!n.__isAmdLoaderPresent())throw new Error("JET Template engine cannot be loaded with an AMD loader");r._templateEnginePromise=new Promise(function(n,o){e(["./ojtemplateengine"],n,o)})}return r._templateEnginePromise},getConfigBundle:function(){return o}};return r});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojthemeutils',["ojs/ojlogger"],function(e){"use strict";var t=function(){};return t.getThemeName=function(){return(t.parseJSONFromFontFamily("oj-theme-json")||{}).name},t.getThemeTargetPlatform=function(){return(t.parseJSONFromFontFamily("oj-theme-json")||{}).targetPlatform},t.clearCache=function(){this._cache=null},t.parseJSONFromFontFamily=function(t){null==this._cache&&(this._cache={},this._null_cache_value={},this._headfontstring=window.getComputedStyle(document.head).getPropertyValue("font-family"));var r=this._cache[t];if(r===this._null_cache_value)return null;if(null!=r)return r;var n=document.createElement("meta");n.className=t,document.head.appendChild(n);var a=window.getComputedStyle(n).getPropertyValue("font-family");if(null!=a)if(a===this._headfontstring)e.warn("parseJSONFromFontFamily: When the selector ",t," is applied the font-family read off the dom element is ",a,". The parent dom elment has the same font-family value."," This is interpreted to mean that no value was sent down for selector ",t,". Null will be returned.");else{var o=a.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,"");if(o)try{r=JSON.parse(o)}catch(a){var l=o.indexOf(","),i=!1;if(l>-1){o=o.substring(l+2);try{r=JSON.parse(o),i=!0}catch(e){}}if(!1===i)throw e.error("Error parsing json for selector "+t+".\nString being parsed is "+o+". Error is:\n",a),document.head.removeChild(n),a}}return document.head.removeChild(n),this._cache[t]=null==r?this._null_cache_value:r,r},t});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojtimerutils',[],function(){"use strict";var n={};function e(){}return e.prototype.getPromise=function(){},e.prototype.clear=function(){},n.getTimer=function(e){return new n._TimerImpl(e)},n._TimerImpl=function(n){var e,t,i;function o(n){i=null,t(n)}this.getPromise=function(){return e},this.clear=function(){window.clearTimeout(i),i=null,o(!1)},e="undefined"==typeof window?Promise.reject():new Promise(function(e){t=e,i=window.setTimeout(o.bind(null,!0),n)})},n});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojtranslation',["ojs/ojcore-base","ojs/ojconfig"],function(e,r){"use strict";var n={setBundle:function(e){n._bundle=e},getResource:function(e){return n._getResourceString(e)},applyParameters:function(e,r){return null==e?null:n._format(e,r)},getTranslatedString:function(e,r){var t=n._getResourceString(e);if(null==t)return e;var a={};return arguments.length>2?a=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(a=arguments[1])||a instanceof Array||(a=[a])),n.applyParameters(t,a)},getComponentTranslations:function(e){var r=n._getBundle()[e];if(null==r)return{};for(var t={},a=Object.keys(r),u=0;u<a.length;u++){var s=a[u];t[s]=r[s]}return t},_getResourceString:function(r){var t=r?r.split("."):[],a=n._getBundle();e.Assert.assertObject(a);for(var u=0;u<t.length&&a;u++){a=a[t[u]]}return a||null},_format:function(e,r){var n,t,a=e.length,u=[],s=null,o=!1,l=!1,i=!1,c=!1;for(t=0;t<a;t++){var f=e.charAt(t),g=!1;if(o)g=!0,o=!1;else switch(f){case"$":o=!0;break;case"{":c||(l||(n=!1,s=[]),l=!0);break;case"}":if(l&&s.length>0){var d=r[s.join("")];u.push(void 0===d?"null":d)}l=!1;break;case"[":l||(i?c=!0:i=!0);break;case"]":c?c=!1:i=!1;break;default:g=!0}g&&(l?","===f||" "===f?n=!0:n||s.push(f):c||u.push(f))}return u.join("")},_getBundle:function(){var t=n._bundle;if(t)return t;if(e.__isAmdLoaderPresent()){var a=r.getConfigBundle();return e.Assert.assert(void 0!==a,"ojtranslations module must be defined"),a}return{}}};return n});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojcore',["require","ojs/ojcore-base","ojs/ojcontext","ojs/ojconfig","ojs/ojlogger","ojs/ojresponsiveutils","ojs/ojthemeutils","ojs/ojtimerutils","ojs/ojtranslation"],function(o,s,e,t,i,j,n,r,l){"use strict";return s.Logger=i,s.Context=e,s.Config=t,s.ResponsiveUtils=j,s.ThemeUtils=n,s.TimerUtils=r,s.Translations=l,s});
/*! jQuery v3.4.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],E=C.document,r=Object.getPrototypeOf,s=t.slice,g=t.concat,u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.4.1",k=function(e,t){return new k.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:f,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,a[t]=k.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){b(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(d(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?k.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(d(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,k="sizzle"+1*new Date,m=n.document,S=0,r=0,p=ue(),x=ue(),N=ue(),A=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",$=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",F=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp($),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(m.childNodes),m.childNodes),t[m.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:m)!==C&&T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!A[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&U.test(t)){(s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=k),o=(l=h(t)).length;while(o--)l[o]="#"+s+" "+xe(l[o]);c=l.join(","),f=ee.test(t)&&ye(e.parentNode)||e}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){A(t,!0)}finally{s===k&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[k]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:m;return r!==C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),m!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=k,!C.getElementsByName||!C.getElementsByName(k).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){a.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+k+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||v.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",$)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===m&&y(m,e)?-1:t===C||t.ownerDocument===m&&y(m,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]===m?-1:s[r]===m?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),d.matchesSelector&&E&&!A[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){A(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=p[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&p(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(F," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[S,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[S,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[k]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[S,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===S&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[k]&&(v=Ce(v)),y&&!y[k]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=N[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[k]?i.push(a):o.push(a);(a=N(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=S+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument===C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(S=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(S=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=k.split("").sort(D).join("")===k,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);k.find=h,k.expr=h.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=h.uniqueSort,k.text=h.getText,k.isXMLDoc=h.isXML,k.contains=h.contains,k.escapeSelector=h.escape;var T=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=k.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<i.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&N.test(e)?k(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),D.test(r[1])&&k.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,q=k(E);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&k(e);if(!N.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(k(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return"undefined"!=typeof e.contentDocument?e.contentDocument:(A(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(O[r]||k.uniqueSort(n),H.test(r)&&n.reverse()),this.pushStack(n)}});var R=/[^\x20\t\r\n\f]+/g;function M(e){return e}function I(e){throw e}function W(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},k.each(e.match(R)||[],function(e,t){n[t]=!0}),n):k.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){k.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return k.each(arguments,function(e,t){var n;while(-1<(n=k.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<k.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},k.extend({Deferred:function(e){var o=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,M,s),l(u,o,I,s)):(u++,t.call(e,l(u,o,M,s),l(u,o,I,s),l(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==I&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),C.setTimeout(t))}}return k.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:M,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:M)),o[2][3].add(l(0,e,m(n)?n:I))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=k.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(W(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)W(i[t],a(t),o.reject);return o.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&$.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){C.setTimeout(function(){throw e})};var F=k.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),k.ready()}k.fn.ready=function(e){return F.then(e)["catch"](function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||F.resolveWith(E,[k])}}),k.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(k.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var _=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)_(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(k(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},z=/^-ms-/,U=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function V(e){return e.replace(z,"ms-").replace(U,X)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=k.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(R)||[]).length;while(n--)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Q=new Y,J=new Y,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:K.test(i)?JSON.parse(i):i)}catch(e){}J.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=V(r.slice(5)),ee(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){J.set(this,n)}):_(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=J.get(o,n))?t:void 0!==(t=ee(o,n))?t:void 0;this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:k.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Q.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=E.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===k.css(e,"display")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function le(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},u=s(),l=n&&n[3]||(k.cssNumber[t]?"":"px"),c=e.nodeType&&(k.cssNumber[t]||"px"!==l&&+u)&&ne.exec(k.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)k.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,k.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ce={};function fe(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Q.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&se(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ce[s])||(o=a.body.appendChild(a.createElement(s)),u=k.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ce[s]=u)))):"none"!==n&&(l[c]="none",Q.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}k.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?k(this).show():k(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?k.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var me,xe,be=/<|&#?\w+;/;function we(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))k.merge(p,o.nodeType?[o]:o);else if(be.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;k.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<k.inArray(o,r))i&&i.push(o);else if(l=oe(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}me=E.createDocumentFragment().appendChild(E.createElement("div")),(xe=E.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),me.appendChild(xe),y.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Se(){return!1}function Ne(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}function De(e,i,o){o?(Q.set(e,i,!1),k.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Q.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(k.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Q.set(this,i,r),t=o(this,i),this[i](),r!==(n=Q.get(this,i))||t?Q.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Q.set(this,i,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,i)&&k.event.add(e,i,ke)}k.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.get(t);if(v){n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(ie,i),n.guid||(n.guid=k.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;while(l--)d=g=(s=Ee.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=k.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=k.event.special[d]||{},c=k.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),k.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.hasData(e)&&Q.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(R)||[""]).length;while(l--)if(d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=k.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||k.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)k.event.remove(e,d+t[l],n,r,!0);k.isEmptyObject(u)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=k.event.fix(e),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[s.type]||[],c=k.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){a=k.event.handlers.call(this,s,l),t=0;while((i=a[t++])&&!s.isPropagationStopped()){s.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!s.isImmediatePropagationStopped())s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<k(i,this).index(l):k.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click",ke),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Q.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return De(this,e,Ne),!1},trigger:function(){return De(this,e),!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){k.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),k.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){k.event.remove(this,e,n,t)})}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,qe=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),a=Q.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)k.event.add(t,i,l[i][n]);J.hasData(e)&&(s=J.access(e),u=k.extend({},s),J.set(t,u))}}function Ie(n,r,i,o){r=g.apply([],r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Le.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Ie(t,r,i,o)});if(f&&(t=(e=we(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=k.map(ve(e,"script"),Pe)).length;c<f;c++)u=e,c!==p&&(u=k.clone(u,!0,!0),s&&k.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,Re),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Q.access(u,"globalEval")&&k.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&!u.noModule&&k._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):b(u.textContent.replace(He,""),u,l))}return n}function We(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(ve(r)),r.parentNode&&(n&&oe(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=oe(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Me(o[r],a[r]);else Me(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return _(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ie(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),k(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var $e=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Be=new RegExp(re.join("|"),"i");function _e(e,t,n){var r,i,o,a,s=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=k.style(e,t)),!y.pixelBoxStyles()&&$e.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(s).appendChild(u);var e=C.getComputedStyle(u);n="1%"!==e.top,a=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),r=36===t(e.width),u.style.position="absolute",i=12===t(u.offsetWidth/3),ie.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s=E.createElement("div"),u=E.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),i}}))}();var Ue=["Webkit","Moz","ms"],Xe=E.createElement("div").style,Ve={};function Ge(e){var t=k.cssProps[e]||Ve[e];return t||(e in Xe?e:Ve[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;while(n--)if((e=Ue[n]+t)in Xe)return e}(e)||e)}var Ye=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function Ze(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function et(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=k.css(e,n+re[a],!0,i)),r?("content"===n&&(u-=k.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(u-=k.css(e,"border"+re[a]+"Width",!0,i))):(u+=k.css(e,"padding"+re[a],!0,i),"padding"!==n?u+=k.css(e,"border"+re[a]+"Width",!0,i):s+=k.css(e,"border"+re[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function tt(e,t,n){var r=Fe(e),i=(!y.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,a=_e(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+et(e,t,n||(i?"border":"content"),o,r,a)+"px"}function nt(e,t,n,r,i){return new nt.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=V(t),u=Qe.test(t),l=e.style;if(u||(t=Ge(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=le(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=V(t);return Qe.test(t)||(t=Ge(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_e(e,t,r)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(e,u){k.cssHooks[u]={get:function(e,t,n){if(t)return!Ye.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,u,n):ue(e,Je,function(){return tt(e,u,n)})},set:function(e,t,n){var r,i=Fe(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===k.css(e,"boxSizing",!1,i),s=n?et(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-et(e,u,"border",!1,i)-.5)),s&&(r=ne.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=k.css(e,u)),Ze(0,t,s)}}}),k.cssHooks.marginLeft=ze(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(_e(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(i,o){k.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+re[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(k.cssHooks[i+o].set=Ze)}),k.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=nt).prototype={constructor:nt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}}).init.prototype=nt.prototype,(nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=nt.prototype.init,k.fx.step={};var rt,it,ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function lt(){it&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(lt):C.setTimeout(lt,k.fx.interval),k.fx.tick())}function ct(){return C.setTimeout(function(){rt=void 0}),rt=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function dt(o,e,t){var n,a,r=0,i=dt.prefilters.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=rt||ct(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:rt||ct(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=dt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return k.map(c,pt,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(R);for(var n,r=0,i=e.length;r<i;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&se(e),v=Q.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],st.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||k.style(e,r)}if((u=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Q.get(e,"display")),"none"===(c=k.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=k.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Q.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&fe([e],!0),p.done(function(){for(r in g||fe([e]),Q.remove(e,"fxshow"),d)k.style(e,r,d[r])})),u=pt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=k.isEmptyObject(t),o=k.speed(e,n,r),a=function(){var e=dt(this,k.extend({},t),o);(i||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=k.timers,r=Q.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ut.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Q.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(ft(r,!0),e,t,n)}}),k.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),rt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){it||(it=!0,lt())},k.fx.stop=function(){it=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},ot=E.createElement("input"),at=E.createElement("select").appendChild(E.createElement("option")),ot.type="checkbox",y.checkOn=""!==ot.value,y.optSelected=at.selected,(ot=E.createElement("input")).value="t",ot.type="radio",y.radioValue="t"===ot.value;var ht,gt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return _(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(R);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=gt[t]||k.find.attr;gt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=gt[o],gt[o]=r,r=null!=a(e,t,n)?o:null,gt[o]=i),r}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function mt(e){return(e.match(R)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}k.fn.extend({prop:function(e,t){return _(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).addClass(t.call(this,e,xt(this)))});if((e=bt(t)).length)while(n=this[u++])if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).removeClass(t.call(this,e,xt(this)))});if(!arguments.length)return this.attr("class","");if((e=bt(t)).length)while(n=this[u++])if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,xt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=k(this),r=bt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=xt(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+mt(xt(n))+" ").indexOf(t))return!0;return!1}});var wt=/\r/g;k.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(wt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:mt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=k.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<k.inArray(k.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},y.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var Tt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!Tt.test(d+k.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[k.expando]?e:new k.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,Tt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Q.get(o,"events")||{})[e.type]&&Q.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&G(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!G(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),k.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Ct),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Ct),k.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),y.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){k.event.simulate(r,e.target,k.event.fix(e))};k.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Q.access(e,r);t||e.addEventListener(n,i,!0),Q.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Q.access(e,r)-1;t?Q.access(e,r,t):(e.removeEventListener(n,i,!0),Q.remove(e,r))}}});var Et=C.location,kt=Date.now(),St=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var Nt=/\[\]$/,At=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function qt(n,e,r,i){var t;if(Array.isArray(e))k.each(e,function(e,t){r||Nt.test(n)?i(n,t):qt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)qt(n+"["+t+"]",e[t],r,i)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(n in e)qt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&jt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var Lt=/%20/g,Ht=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Mt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Ft=E.createElement("a");function Bt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(R)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function _t(t,i,o,a){var s={},u=t===Wt;function l(e){var r;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function zt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Ft.href=Et.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,k.ajaxSettings),t):zt(k.ajaxSettings,e)},ajaxPrefilter:Bt(It),ajaxTransport:Bt(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=k.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?k(y):k.event,x=k.Deferred(),b=k.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Pt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace(Mt,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(R)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Ft.protocol+"//"+Ft.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=k.param(v.data,v.traditional)),_t(It,v,t,T),h)return T;for(i in(g=k.event&&v.global)&&0==k.active++&&k.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Rt.test(v.type),f=v.url.replace(Ht,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Lt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(St.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Ot,"$1"),o=(St.test(f)?"&":"?")+"_="+kt+++o),v.url=f+o),v.ifModified&&(k.lastModified[f]&&T.setRequestHeader("If-Modified-Since",k.lastModified[f]),k.etag[f]&&T.setRequestHeader("If-None-Match",k.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+$t+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=_t(Wt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(k.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(k.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--k.active||k.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,i){k[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e,t){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Xt=k.ajaxSettings.xhr();y.cors=!!Xt&&"withCredentials"in Xt,y.ajax=Xt=!!Xt,k.ajaxTransport(function(i){var o,a;if(y.cors||Xt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Ut[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Vt,Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||k.expando+"_"+kt++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?k(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Vt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=mt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=k.css(e,"position"),c=k(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=k.css(e,"top"),u=k.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===k.css(e,"position"))e=e.offsetParent;return e||ie})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;k.fn[t]=function(e){return _(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=ze(y.pixelPosition,function(e,t){if(t)return t=_e(e,n),$e.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,s){k.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){k.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return _(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},s,n?e:void 0,n)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=A,k.isFunction=m,k.isWindow=x,k.camelCase=V,k.type=w,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var Qt=C.jQuery,Jt=C.$;return k.noConflict=function(e){return C.$===k&&(C.$=Jt),e&&C.jQuery===k&&(C.jQuery=Qt),k},e||(C.jQuery=C.$=k),k});

/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojresponsiveknockoututils',["ojs/ojcore","jquery","ojs/ojresponsiveutils","knockout"],function(e,r,n,t){"use strict";var a={createMediaQueryObservable:function(e){if(null==e)throw new Error("ResponsiveKnockoutUtils.createMediaQueryObservable: aborting, queryString is null");var n=window.matchMedia(e),a=t.observable(n.matches);return n.addListener(function(e){a(e.matches)}),-1!==navigator.userAgent.indexOf("WebKit")&&-1===navigator.userAgent.indexOf("Chrome")&&r(window).resize(function(){var e="oj-webkit-bug-123293";0===r("body").has("."+e).length&&r("body").append('<div aria-hidden="true" class="oj-helper-hidden-accessible '+e+'">'),r("."+e).text((new Date).getMilliseconds().toString())}),a},createScreenRangeObservable:function(){var e=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.XXL_UP),r=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.XL_UP),i=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.LG_UP),u=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.MD_UP),l=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.SM_UP),o=null==e?null:a.createMediaQueryObservable(e),s=null==r?null:a.createMediaQueryObservable(r),E=null==i?null:a.createMediaQueryObservable(i),c=null==u?null:a.createMediaQueryObservable(u),R=null==l?null:a.createMediaQueryObservable(l);return t.computed(function(){if(o&&o())return n.SCREEN_RANGE.XXL;if(s&&s())return n.SCREEN_RANGE.XL;if(E&&E())return n.SCREEN_RANGE.LG;if(c&&c())return n.SCREEN_RANGE.MD;if(R&&R())return n.SCREEN_RANGE.SM;throw new Error(" NO MATCH in ResponsiveKnockoutUtils.createScreenRangeObservable")})}};return a});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojkeysetimpl',["ojs/ojcore"],function(t){"use strict";return function(e){this.NOT_A_KEY={},this.has=function(t){return this.get(t)!==this.NOT_A_KEY},this.get=function(e){var i,s,n=this.NOT_A_KEY,o=this;if(this._keys.has(e))return e;if(e!==Object(e))return this.NOT_A_KEY;if("function"==typeof Symbol&&"function"==typeof Set.prototype[Symbol.iterator])for(s=(i=this._keys[Symbol.iterator]()).next();!s.done;){if(t.KeyUtils.equals(s.value,e))return s.value;s=i.next()}else this._keys.forEach(function(i){n===o.NOT_A_KEY&&t.KeyUtils.equals(i,e)&&(n=i)});return n},this.InitializeWithKeys=function(t){this._keys=new Set(t)},this.InitializeWithKeys(e)}});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojset',["ojs/ojcore","ojs/ojkeysetimpl"],function(t,e){return function(){function t(t){this.initialKeys=t;var s=this;this._set=new Set,this._keyset=new e,t&&t.forEach(function(t){s.add(t)}),Object.defineProperty(this,"size",{get:function(){return this._set.size}}),this[Symbol.iterator]=function(){return this._set[Symbol.iterator]()}}return t.prototype.clear=function(){this._set.clear(),this._keyset._keys.clear()},t.prototype.delete=function(t){var e=this._keyset.get(t);return e!==this._keyset.NOT_A_KEY&&(this._keyset._keys.delete(e),this._set.delete(e))},t.prototype.forEach=function(t,e){this._set.forEach(t,e)},t.prototype.keys=function(){return this._set.keys()},t.prototype.values=function(){return this._set.values()},t.prototype.entries=function(){return this._set.entries()},t.prototype.has=function(t){return this._keyset.has(t)},t.prototype.add=function(t){return this._keyset.get(t)===this._keyset.NOT_A_KEY&&(this._keyset._keys.add(t),this._set.add(t)),this},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return Set[Symbol.toStringTag]()},enumerable:!0,configurable:!0}),t}()});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojmap',["ojs/ojcore","ojs/ojkeysetimpl"],function(e,t){"use strict";var s=function(){this._map=new Map,this._keyset=new t},i=s.prototype;return Object.defineProperty(i,"size",{get:function(){return this._map.size}}),i.clear=function(){this._map.clear(),this._keyset._keys.clear()},i.delete=function(e){var t=this._keyset.get(e);return t!==this._keyset.NOT_A_KEY&&(this._keyset._keys.delete(t),this._map.delete(t))},i.forEach=function(e){this._map.forEach(e)},i.get=function(e){var t=this._keyset.get(e);return this._map.get(t)},i.has=function(e){return this._keyset.has(e)},i.set=function(e,t){var s=this._keyset.get(e);return s===this._keyset.NOT_A_KEY?(this._keyset._keys.add(e),this._map.set(e,t)):this._map.set(s,t),this},s});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojeventtarget',["ojs/ojcore"],function(e){"use strict";var t=function(){function e(){}return e.prototype.addEventListener=function(e,t){this._eventListeners||(this._eventListeners=[]),this._eventListeners.push({type:e.toLowerCase(),listener:t})},e.prototype.removeEventListener=function(e,t){if(this._eventListeners){var n=void 0;for(n=this._eventListeners.length-1;n>=0;n--)this._eventListeners[n].type==e&&this._eventListeners[n].listener==t&&this._eventListeners.splice(n,1)}},e.prototype.dispatchEvent=function(e){if(this._eventListeners){var t,n=this._eventListeners.slice(0);for(t=0;t<n.length;t++){var i=n[t];if(e&&e.type&&i.type==e.type.toLowerCase()&&!1===i.listener.apply(this,[e]))return!1}}return!0},e.applyMixin=function(t){[e].forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(n){"constructor"!==n&&(t.prototype[n]=e.prototype[n])})})},e}();e.EventTargetMixin=t;var n=function(){return function(e,t){this.type=e,this.options=t,null!=t&&(this.detail=t.detail)}}();e.GenericEvent=n});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojdataprovider',["ojs/ojcore","ojs/ojeventtarget"],function(t){"use strict";var r,e,n=t.GenericEvent;!function(t){!function(t){t.$co="$co",t.$eq="$eq",t.$ew="$ew",t.$pr="$pr",t.$gt="$gt",t.$ge="$ge",t.$lt="$lt",t.$le="$le",t.$ne="$ne",t.$regex="$regex",t.$sw="$sw"}(t.AttributeOperator||(t.AttributeOperator={}))}(r||(r={})),t.AttributeFilterOperator=r,t.AttributeFilterOperator.AttributeOperator=r.AttributeOperator,function(t){!function(t){t.$and="$and",t.$or="$or"}(t.CompoundOperator||(t.CompoundOperator={}))}(e||(e={})),t.CompoundFilterOperator=e,t.CompoundFilterOperator.CompoundOperator=e.CompoundOperator;var i=function(t){function r(e){var n={};return n[r._DETAIL]=e,t.call(this,"mutate",n)||this}return __extends(r,t),r._DETAIL="detail",r}(n);t.DataProviderMutationEvent=i,t.DataProviderMutationEvent=i;var a=function(t){function r(){return t.call(this,"refresh")||this}return __extends(r,t),r}(n);t.DataProviderRefreshEvent=a,t.DataProviderRefreshEvent=a,t.DataProvider=function(){};var o=function(){function t(){}return t.prototype.fetchByKeys=function(t){var r=0,e=this.getIterationLimit?this.getIterationLimit():-1,n={size:25},i=new Map,a=this.fetchFirst(n)[Symbol.asyncIterator]();return function t(n,i,a){return i.next().then(function(o){var f=o.value,s=f.data,u=f.metadata,p=u.map(function(t){return t.key}),l=!0;return n.keys.forEach(function(t){a.has(t)||p.map(function(r,e){r==t&&a.set(r,{metadata:u[e],data:s[e]})}),a.has(t)||(l=!1)}),r+=s.length,l||o.done?a:-1!=e&&r>=e?a:t(n,i,a)})}(t,a,i).then(function(r){var e=new Map;return r.forEach(function(t,r){var n=[t];e.set(r,n[0])}),{fetchParameters:t,results:e}})},t.prototype.containsKeys=function(t){return this.fetchByKeys(t).then(function(r){var e=new Set;return t.keys.forEach(function(t){null!=r.results.get(t)&&e.add(t)}),Promise.resolve({containsParameters:t,results:e})})},t.prototype.getCapability=function(t){if("fetchByKeys"==t)return{implementation:"iteration"};var r=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;for(var e=1;this["_ojLastGetCapability"+e];)++e;for(--e;e>0&&!(r=this["_ojLastGetCapability"+e](t));e--);delete this._ojSkipLastCapability}return r},t.applyMixin=function(r){var e=r.prototype.getCapability;if([t].forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(e){"constructor"!==e&&(r.prototype[e]=t.prototype[e])})}),e){for(var n=1;r.prototype["_ojLastGetCapability"+n];)++n;r.prototype["_ojLastGetCapability"+n]=e}},t}();t.FetchByKeysMixin=o,t.FetchByKeysMixin.applyMixin=o.applyMixin;var f=function(){function t(){}return t.prototype.fetchByOffset=function(t){var r=t&&t.size>0?t.size:25,e=t?t.sortCriteria:null,n=t&&t.offset>0?t.offset:0,i=0,a=this.getIterationLimit?this.getIterationLimit():-1,o=!1,f={};f.size=r,f.sortCriteria=e;var s=new Array,u=this.fetchFirst(f)[Symbol.asyncIterator]();return function t(e,f,s){return f.next().then(function(u){o=u.done;var p=u.value,l=p.data,c=p.metadata,h=l.length;if(n<i+h)for(var y=n<=i?0:n-i;y<h&&s.length!=r;y++)s.push({metadata:c[y],data:l[y]});return i+=h,s.length<r&&!o?-1!=a&&i>=a?s:t(e,f,s):s})}(t,u,s).then(function(r){return{fetchParameters:t,results:r,done:o}})},t.prototype.getCapability=function(t){if("fetchByOffset"==t)return{implementation:"iteration"};var r=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;for(var e=1;this["_ojLastGetCapability"+e];)++e;for(--e;e>0&&!(r=this["_ojLastGetCapability"+e](t));e--);delete this._ojSkipLastCapability}return r},t.applyMixin=function(r){var e=r.prototype.getCapability;if([t].forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(e){"constructor"!==e&&(r.prototype[e]=t.prototype[e])})}),e){for(var n=1;r.prototype["_ojLastGetCapability"+n];)++n;r.prototype["_ojLastGetCapability"+n]=e}},t}();t.FetchByOffsetMixin=f,t.FetchByOffsetMixin.applyMixin=f.applyMixin;var s=function(){function r(t){var r=t?t.filterDef:null;r&&(this.op=r.op),r.value?(this.value=r.value,r.attribute&&(this.attribute=r.attribute)):r&&(this.criteria=r.criteria)}return r.prototype.filter=function(e,n,i){return t.FilterUtils.satisfy(r._transformFilter(this),e)},r._transformFilter=function(t){var e;if(t){var n=t.op;if("$le"===n?n="$lte":"$ge"===n?n="$gte":"$pr"===n&&(n="$exists"),"$and"!=n&&"$or"!=n){var i=t.value;e={};var a=t.attribute;if(a){var o={};"$sw"!==n&&"$ew"!==n&&"$co"!==n||(n="$regex",i=r._fixStringExpr(n,i)),o[n]=i,e[a]=o}else{var f=[];r._transformObjectExpr(i,n,null,f),e.$and=f}}else{var s=[];t.criteria.forEach(function(t){s.push(r._transformFilter(t))}),(e={})[n]=s}}return e},r._transformObjectExpr=function(t,e,n,i){if(Object.keys(t).length>0)Object.keys(t).forEach(function(a){var o=t[a],f=n?n+"."+a:a;if(o instanceof Object)r._transformObjectExpr(o,e,f,i);else{var s={};"$sw"!==e&&"$ew"!==e&&"$co"!==e||(e="$regex",o=r._fixStringExpr(e,o)),s[e]=o;var u={};u[f]=s,i.push(u)}});else{var a={};a[e]=t;var o={};o[n]=a,i.push(o)}},r._fixStringExpr=function(t,r){return("string"==typeof r||r instanceof String)&&("$sw"===t?r="^"+r:"$ew"===t&&(r+="$")),r},r}(),u=function(){function t(){}return t.getFilter=function(t){return new s(t)},t}();t.FilterFactory=u,t.FilterUtils=function(){function t(t,r){var e=!1;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];if(e||!n(i))throw new Error("parsing error "+r);t.operator=i,t.right=a,e=!0}}function r(t,r,e){var n;if("$lt"===t)return(e=(n=a(e,r))[0])<(r=n[1]);if("$gt"===t)return(e=(n=a(e,r))[0])>(r=n[1]);if("$lte"===t)return(e=(n=a(e,r))[0])<=(r=n[1]);if("$gte"===t)return(e=(n=a(e,r))[0])>=(r=n[1]);if("$eq"===t)return e===r;if("$ne"===t)return e!==r;if("$regex"===t)return!!e&&("string"==typeof e||e instanceof String||(e=new String(e)),null!==e.match(r));if("$exists"===t)return r?null!=e:null==e;throw new Error("not a valid expression! "+expTree)}function e(t){return"$and"===t||"$or"===t}function n(t){return"$lt"===t||"$gt"===t||"$lte"===t||"$gte"===t||"$eq"===t||"$ne"===t||"$regex"===t||"$exists"===t}function i(t){return null!=t&&(t instanceof String||"string"==typeof t)}function a(t,r){return i(t)&&null==r?r="":i(r)&&null==t&&(t=""),[t,r]}function o(t,r){for(var e=t.split("."),n=r,i=0;i<e.length;i++)n=n[e[i]];return n}return{satisfy:function(i,a){return!i||function t(i,a){var f=i.operator;if(e(f)){if(!i.left&&i.array instanceof Array){for(var s,u=i.array,p=0;p<u.length;p++){var l=t(u[p],a);if("$or"===f&&!0===l)return!0;if("$and"===f&&!1===l)return!1;s=l}return s}throw new Error("invalid expression tree!"+i)}if(n(f)){var c,h=i.right;if("*"!=i.left)return c=o(i.left,a),r(f,h,c);var y,v=Object.keys(a);for(y=0;y<v.length;y++)if(c=o(v[y],a),r(f,h,c))return!0;return!1}throw new Error("not a valid expression!"+i)}(function r(i){var a,o=[];for(var f in i)if(i.hasOwnProperty(f)){var s=i[f];if(0===f.indexOf("$")){if(e(f)){if(!(s instanceof Array))throw new Error("not a valid expression: "+i);a={operator:f,array:[]};for(var u=0;u<s.length;u++){var p=r(s[u]);a.array.push(p)}}else if(n(f))throw new Error("not a valid expression: "+i)}else if("object"!=typeof s)o.push({left:f,right:s,operator:"$eq"});else{var l={left:f};t(l,s),o.push(l)}}return o.length>1?a={operator:"$and",array:o}:1===o.length&&(a=o[0]),a}(i),a)},getValue:o,assembleObject:function(t,r){var e;if(r){e={};for(var n=0;n<r.length;n++)for(var i=e,a=t,o=r[n].split("."),f=0;f<o.length;f++)a=a[o[f]],!i[o[f]]&&f<o.length-1&&(i[o[f]]={}),f===o.length-1?i[o[f]]=a:i=i[o[f]]}else e=t;return e}}}();var p={};return p.FetchByKeysMixin=t.FetchByKeysMixin,p.FetchByOffsetMixin=t.FetchByOffsetMixin,p.FilterFactory=t.FilterFactory,p});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojarraydataprovider',["ojs/ojcore","jquery","knockout","ojs/ojset","ojs/ojmap","ojs/ojdataprovider","ojs/ojeventtarget"],function(t,e,n,i,r,a){var s=function(){function e(t,n){this.data=t,this.options=n,this.Item=function(){return function(t,n,i){this._parent=t,this.metadata=n,this.data=i,this[e._METADATA]=n,this[e._DATA]=i}}(),this.ItemMetadata=function(){return function(t,n){this._parent=t,this.key=n,this[e._KEY]=n}}(),this.FetchByKeysResults=function(){return function(t,n,i){this._parent=t,this.fetchParameters=n,this.results=i,this[e._FETCHPARAMETERS]=n,this[e._RESULTS]=i}}(),this.ContainsKeysResults=function(){return function(t,n,i){this._parent=t,this.containsParameters=n,this.results=i,this[e._CONTAINSPARAMETERS]=n,this[e._RESULTS]=i}}(),this.FetchByOffsetResults=function(){return function(t,n,i,r){this._parent=t,this.fetchParameters=n,this.results=i,this.done=r,this[e._FETCHPARAMETERS]=n,this[e._RESULTS]=i,this[e._DONE]=r}}(),this.FetchListParameters=function(){return function(t,n,i,r){this._parent=t,this.size=n,this.sortCriteria=i,this.attributes=r,this[e._SIZE]=n,this[e._SORTCRITERIA]=i,this[e._ATTRIBUTES]=r}}(),this.FetchListResult=function(){return function(t,n,i,r){this._parent=t,this.fetchParameters=n,this.data=i,this.metadata=r,this[e._FETCHPARAMETERS]=n,this[e._DATA]=i,this[e._METADATA]=r}}(),this.AsyncIterable=function(){return function(t,e){this._parent=t,this._asyncIterator=e,this[Symbol.asyncIterator]=function(){return this._asyncIterator}}}(),this.AsyncIterator=function(){function t(t,n,i,r){this._parent=t,this._nextFunc=n,this._params=i,this._offset=r,this._cachedOffset=r,this._cacheObj={},this._cacheObj[e._MUTATIONSEQUENCENUM]=t._mutationSequenceNum}return t.prototype.next=function(){var t=this._nextFunc(this._params,this._cachedOffset,this._cacheObj);return this._cachedOffset=this._cachedOffset+t.value[e._DATA].length,Promise.resolve(t)},t}(),this.AsyncIteratorResult=function(){return function(t,n,i){this._parent=t,this.value=n,this.done=i,this[e._VALUE]=n,this[e._DONE]=i}}(),this.DataProviderMutationEventDetail=function(){return function(t,n,i,r){this._parent=t,this.add=n,this.remove=i,this.update=r,this[e._ADD]=n,this[e._REMOVE]=i,this[e._UPDATE]=r}}(),this.DataProviderOperationEventDetail=function(){return function(t,n,i,r,a){this._parent=t,this.keys=n,this.metadata=i,this.data=r,this.indexes=a,this[e._KEYS]=n,this[e._METADATA]=i,this[e._DATA]=r,this[e._INDEXES]=a}}(),this.DataProviderAddOperationEventDetail=function(){return function(t,n,i,r,a,s,o){this._parent=t,this.keys=n,this.afterKeys=i,this.addBeforeKeys=r,this.metadata=a,this.data=s,this.indexes=o,this[e._KEYS]=n,this[e._AFTERKEYS]=i,this[e._ADDBEFOREKEYS]=r,this[e._METADATA]=a,this[e._DATA]=s,this[e._INDEXES]=o}}(),this._cachedIndexMap=[],this._sequenceNum=0,this._mutationSequenceNum=0,this._subscribeObservableArray(t),null!=n&&null!=n[e._KEYS]&&(this._keysSpecified=!0,this._keys=n[e._KEYS])}return e.prototype.containsKeys=function(t){var n=this;return this.fetchByKeys(t).then(function(r){var a=new i;return t[e._KEYS].forEach(function(t){null!=r[e._RESULTS].get(t)&&a.add(t)}),Promise.resolve(new n.ContainsKeysResults(n,t,a))})},e.prototype.fetchByKeys=function(n){var i=this;this._generateKeysIfNeeded();var a,s=new r,o=this._getKeys(),u=null!=n?n[e._ATTRIBUTES]:null,h=0;if(n){var l=i._getRowData();return n[e._KEYS].forEach(function(e){for(a=null,h=0;h<o.length;h++)if(t.Object.compareValues(o[h],e)){a=h;break}if(null!=a&&a>=0){var n=l[a];u&&u.length>0&&(n=i._filterRowAttributes(u,n)),s.set(e,new i.Item(i,new i.ItemMetadata(i,e),n))}}),Promise.resolve(new i.FetchByKeysResults(i,n,s))}return Promise.reject("Keys are a required parameter")},e.prototype.fetchByOffset=function(t){var n=this,i=null!=t?t[e._SIZE]:-1,r=null!=t?t[e._SORTCRITERIA]:null,a=null!=t&&t[e._OFFSET]>0?t[e._OFFSET]:0,s=null!=t?t[e._ATTRIBUTES]:null;this._generateKeysIfNeeded();var o=[],u=!0;if(t){var h=new this.FetchListParameters(this,i,r,s),l=this._fetchFrom(h,a),_=l[e._VALUE];u=l[e._DONE];var f=_[e._DATA],c=_[e._METADATA].map(function(t){return t[e._KEY]});return o=f.map(function(t,e){return new n.Item(n,new n.ItemMetadata(n,c[e]),t)}),Promise.resolve(new this.FetchByOffsetResults(this,t,o,u))}return Promise.reject("Offset is a required parameter")},e.prototype.fetchFirst=function(t){return new this.AsyncIterable(this,new this.AsyncIterator(this,this._fetchFrom.bind(this),t,0))},e.prototype.getCapability=function(t){return e.getCapability(t)},e.getCapability=function(t){if("sort"==t)return{attributes:"multiple"};if("fetchByKeys"==t)return{implementation:"lookup"};if("fetchByOffset"==t)return{implementation:"randomAccess"};if("fetchCapability"==t){var e=new Set;return e.add("exclusion"),{attributeFilter:{expansion:{},ordering:{},defaultShape:{features:e}}}}return"filter"==t?{operators:["$co","$eq","$ew","$pr","$gt","$ge","$lt","$le","$ne","$regex","$sw"],attributeExpression:["*"]}:null},e.prototype.getTotalSize=function(){return Promise.resolve(this._getRowData().length)},e.prototype.isEmpty=function(){return this._getRowData().length>0?"no":"yes"},e.prototype.createOptimizedKeySet=function(t){return new i(t)},e.prototype.createOptimizedKeyMap=function(t){if(t){var e=new r;return t.forEach(function(t,n){e.set(n,t)}),e}return new r},e.prototype._getRowData=function(){return this[e._DATA]instanceof Array?this[e._DATA]:this[e._DATA]()},e.prototype._getKeys=function(){return null==this._keys||this._keys instanceof Array?this._keys:this._keys()},e.prototype._indexOfKey=function(e){var n,i=this._getKeys(),r=-1;for(n=0;n<i.length;n++)if(t.Object.compareValues(i[n],e)){r=n;break}return r},e.prototype._subscribeObservableArray=function(e){if(!(e instanceof Array)){if(!this._isObservableArray(e))throw new Error("Invalid data type. ArrayDataProvider only supports Array or observableArray.");var n=this;e.subscribe(function(e){var r,a,s,o,u,h=[],l=[],_=[],f=[],c=[];n._mutationSequenceNum++;var p=!0,d=!0;e.forEach(function(t){"deleted"===t.status?p=!1:"added"===t.status&&(d=!1)});var E=[],v=[],A=null,T=null,y=null;if(!p&&!d){for(r=0;r<e.length;r++){o=e[r].index,u=e[r].status;var m=n._getId(e[r].value);for(a=0;a<e.length;a++)a!=r&&o===e[a].index&&u!==e[a].status&&E.indexOf(r)<0&&v.indexOf(r)<0&&(null==m||t.Object.compareValues(m,n._getId(e[a].value)))&&("deleted"===u?(v.push(r),E.push(a)):(v.push(a),E.push(r)))}for(r=0;r<e.length;r++)if(E.indexOf(r)>=0){var R=n._getKeys()[e[r].index];l.push(R),h.push(e[r].value),_.push(e[r].index)}if(l.length>0){f=l.map(function(t){return new n.ItemMetadata(n,t)});var I=new i;l.map(function(t){I.add(t)}),A=new n.DataProviderOperationEventDetail(n,I,f,h,_)}}if(h=[],l=[],_=[],!p){for(r=0;r<e.length;r++)"deleted"===e[r].status&&E.indexOf(r)<0&&v.indexOf(r)<0&&(l.push(n._getKeys()[e[r].index]),h.push(e[r].value),_.push(e[r].index));if(l.length>0&&l.map(function(t){var e=n._indexOfKey(t);n._keys.splice(e,1)}),l.length>0){f=l.map(function(t){return new n.ItemMetadata(n,t)});var S=new i;l.map(function(t){S.add(t)}),y=new n.DataProviderOperationEventDetail(n,S,f,h,_)}}if(h=[],l=[],_=[],!d){var g=n._generateKeysIfNeeded(),O=null==n._getKeys()||!(n._getKeys().length>0);for(r=0;r<e.length;r++)if("added"===e[r].status&&E.indexOf(r)<0&&v.indexOf(r)<0){null==(s=n._getId(e[r].value))&&(g||n._keysSpecified)&&(s=n._getKeys()[e[r].index]),null==s?(s=n._sequenceNum++,n._keys.splice(e[r].index,0,s)):(O||-1===n._indexOfKey(s))&&n._keys.splice(e[r].index,0,s),l.push(s);var D=n._getKeys()[e[r].index+1];D=null==D?null:D,c.push(D),h.push(e[r].value),_.push(e[r].index)}if(l.length>0){f=l.map(function(t){return new n.ItemMetadata(n,t)});var b=new i;l.map(function(t){b.add(t)});var w=new i;c.map(function(t){w.add(t)}),T=new n.DataProviderAddOperationEventDetail(n,b,w,c,f,h,_)}}n._fireMutationEvent(T,y,A)},null,"arrayChange"),e.subscribe(function(e){n._mutationEvent?n.dispatchEvent(n._mutationEvent):n._mutationRemoveEvent||n._mutationAddEvent||n._mutationUpdateEvent?(n._mutationRemoveEvent&&n.dispatchEvent(n._mutationRemoveEvent),n._mutationAddEvent&&n.dispatchEvent(n._mutationAddEvent),n._mutationUpdateEvent&&n.dispatchEvent(n._mutationUpdateEvent)):n.dispatchEvent(new t.DataProviderRefreshEvent),n._mutationEvent=null,n._mutationRemoveEvent=null,n._mutationAddEvent=null,n._mutationUpdateEvent=null},null,"change")}},e.prototype._fireMutationEvent=function(e,n,i){var r=this,a=!1;if(["keys","indexes"].forEach(function(t){a||(a=r._hasSamePropValue(n,e,t)||r._hasSamePropValue(n,i,t)||r._hasSamePropValue(e,i,t))}),a){if(n){var s=new this.DataProviderMutationEventDetail(this,null,n,null);this._mutationRemoveEvent=new t.DataProviderMutationEvent(s)}if(e){var o=new this.DataProviderMutationEventDetail(this,e,null,null);this._mutationAddEvent=new t.DataProviderMutationEvent(o)}if(i){var u=new this.DataProviderMutationEventDetail(this,null,null,i);this._mutationUpdateEvent=new t.DataProviderMutationEvent(u)}}else{var h=new this.DataProviderMutationEventDetail(this,e,n,i);this._mutationEvent=new t.DataProviderMutationEvent(h)}},e.prototype._hasSamePropValue=function(e,n,i){var r=!1;return e&&e[i]&&e[i].forEach(function(e){!r&&n&&n[i]&&n[i].forEach(function(n){!r&&t.Object.compareValues(e,n)&&(r=!0)})}),r},e.prototype._isObservableArray=function(t){return n.isObservable(t)&&!(void 0===t.destroyAll)},e.prototype._generateKeysIfNeeded=function(){if(null==this._keys){var t=null!=this.options?this.options[e._KEYATTRIBUTES]||this.options[e._IDATTRIBUTE]:null;this._keys=[];var n=this._getRowData(),i=void 0,r=0;for(r=0;r<n.length;r++)null!=(i=this._getId(n[r]))&&"@index"!=t||(i=this._sequenceNum++),this._keys[r]=i;return!0}return!1},e.prototype._getId=function(t){var n,i=null!=this.options?this.options[e._KEYATTRIBUTES]||this.options[e._IDATTRIBUTE]:null;if(null!=i){if(Array.isArray(i)){var r=void 0;for(n=[],r=0;r<i.length;r++)n[r]=this._getVal(t,i[r])}else n="@value"==i?this._getAllVals(t):this._getVal(t,i);return n}return null},e.prototype._getVal=function(t,e){return"function"==typeof t[e]?t[e]():t[e]},e.prototype._getAllVals=function(t){var e=this;return Object.keys(t).map(function(n){return e._getVal(t,n)})},e.prototype._fetchFrom=function(t,n,i){var r=this,s=null!=t?t[e._ATTRIBUTES]:null;this._generateKeysIfNeeded();var o=null!=t?t[e._SORTCRITERIA]:null,u=this._getCachedIndexMap(o,i),h=this._getRowData(),l=u.map(function(t){var e=h[t];return s&&s.length>0&&(e=r._filterRowAttributes(s,e)),e}),_=u.map(function(t){return r._getKeys()[t]}),f=null!=t?t[e._SIZE]>0?t[e._SIZE]:t[e._SIZE]<0?r._getKeys().length:25:25,c=n+f<l.length,p=this._mergeSortCriteria(o);null!=p&&((t=t||{})[e._SORTCRITERIA]=p);var d=[],E=[];if(null!=t&&t[e._FILTERCRITERION]){var v=null;v=t[e._FILTERCRITERION].filter?t[e._FILTERCRITERION]:a.FilterFactory.getFilter({filterDef:t[e._FILTERCRITERION]});for(var A=n;d.length<f&&A<l.length;)v.filter(l[A])&&(d.push(l[A]),E.push(_[A])),A++;c=A<l.length}else d=l.slice(n,n+f),E=_.slice(n,n+f);var T=E.map(function(t){return new r.ItemMetadata(r,t)}),y=new this.FetchListResult(this,t,d,T);return new this.AsyncIteratorResult(this,y,!c)},e.prototype._getCachedIndexMap=function(t,n){if(n&&n.indexMap&&n[e._MUTATIONSEQUENCENUM]===this._mutationSequenceNum)return n.indexMap;var i=this._getRowData().map(function(t,e){return e}),r=this._sortData(i,t);return n&&(n.indexMap=r,n[e._MUTATIONSEQUENCENUM]=this._mutationSequenceNum),r},e.prototype._sortData=function(t,e){var n=this._getRowData(),i=t.map(function(t){return{index:t,value:n[t]}});return null!=e&&i.sort(this._getSortComparator(e)),i.map(function(t){return t.index})},e.prototype._getSortComparator=function(t){var n=this;return function(i,r){var a,s,o,u,h,l,_=null!=n.options?n.options[e._SORTCOMPARATORS]:null;for(a=0;a<t.length;a++)if(s=t[a][e._DIRECTION],o=t[a][e._ATTRIBUTE],u=null,null!=_&&(u=_[e._COMPARATORS].get(o)),h=n._getVal(i.value,o),l=n._getVal(r.value,o),null!=u){var f="descending"==s?-1:1,c=u(h,l)*f;if(0!=c)return c}else{var p=0,d="string"==typeof h?h:new String(h).toString(),E="string"==typeof l?l:new String(l).toString();if(0!=(p="ascending"==s?d.localeCompare(E,void 0,{numeric:!0,sensitivity:"base"}):E.localeCompare(d,void 0,{numeric:!0,sensitivity:"base"})))return p}return 0}},e.prototype._mergeSortCriteria=function(t){var n=null!=this.options?this.options[e._IMPLICITSORT]:null;if(null!=n){if(null==t)return n;var i=t.slice(0),r=void 0,a=void 0,s=void 0;for(r=0;r<n.length;r++){for(s=!1,a=0;a<i.length;a++)i[a][e._ATTRIBUTE]==n[r][e._ATTRIBUTE]&&(s=!0);s||i.push(n[r])}return i}return t},e.prototype._filterRowAttributes=function(t,n){var i=this,r=null;if(Array.isArray(t)){r={};var a,s=!1;t.forEach(function(t){t!=e._ATDEFAULT&&t.name!=e._ATDEFAULT||(s=!0)}),Object.keys(n).forEach(function(e){if(s){var o=!1,u=e,h=void 0;for(a=0;a<t.length;a++)if((h=t[a]instanceof Object?t[a].name:t[a]).startsWith("!")){if((h=h.substr(1,h.length-1))==e){o=!0;break}}else if(h==e){u=t[a];break}o||(r[e]=i._filterRowAttributes(u,n))}else t.forEach(function(t){var a;(a=t instanceof Object?t.name:t).startsWith("!")||a!=e||(r[a]=i._filterRowAttributes(t,n))})})}else if(t instanceof Object){var o=t.name,u=t.attributes;o&&!o.startsWith("!")&&(n[o]instanceof Object&&!Array.isArray(n[o])?r=i._filterRowAttributes(u,n[o]):Array.isArray(n[o])?(r=[],n[o].forEach(function(t,e){r[e]=i._filterRowAttributes(u,t)})):r=n[o])}else r=n[t];return r},e._KEY="key",e._KEYS="keys",e._AFTERKEYS="afterKeys",e._ADDBEFOREKEYS="addBeforeKeys",e._DIRECTION="direction",e._ATTRIBUTE="attribute",e._ATTRIBUTES="attributes",e._SORT="sort",e._SORTCRITERIA="sortCriteria",e._FILTERCRITERION="filterCriterion",e._DATA="data",e._METADATA="metadata",e._INDEXES="indexes",e._OFFSET="offset",e._SIZE="size",e._IDATTRIBUTE="idAttribute",e._IMPLICITSORT="implicitSort",e._KEYATTRIBUTES="keyAttributes",e._SORTCOMPARATORS="sortComparators",e._COMPARATORS="comparators",e._COMPARATOR="comparator",e._RESULTS="results",e._CONTAINS="contains",e._FETCHPARAMETERS="fetchParameters",e._CONTAINSPARAMETERS="containsParameters",e._VALUE="value",e._DONE="done",e._ADD="add",e._REMOVE="remove",e._UPDATE="update",e._DETAIL="detail",e._FETCHLISTRESULT="fetchListResult",e._ATDEFAULT="@default",e._MUTATIONSEQUENCENUM="mutationSequenceNum",e}();return t.ArrayDataProvider=s,t.EventTargetMixin.applyMixin(s),s});
/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */
/*jslint regexp: true */
/*global require, XMLHttpRequest, ActiveXObject,
  define, window, process, Packages,
  java, location, Components, FileUtils */

define('text',['module'], function (module) {
    'use strict';

    var text, fs, Cc, Ci, xpcIsWindows,
        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],
        xmlRegExp = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
        bodyRegExp = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
        hasLocation = typeof location !== 'undefined' && location.href,
        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\:/, ''),
        defaultHostName = hasLocation && location.hostname,
        defaultPort = hasLocation && (location.port || undefined),
        buildMap = {},
        masterConfig = (module.config && module.config()) || {};

    function useDefault(value, defaultValue) {
        return value === undefined || value === '' ? defaultValue : value;
    }

    //Allow for default ports for http and https.
    function isSamePort(protocol1, port1, protocol2, port2) {
        if (port1 === port2) {
            return true;
        } else if (protocol1 === protocol2) {
            if (protocol1 === 'http') {
                return useDefault(port1, '80') === useDefault(port2, '80');
            } else if (protocol1 === 'https') {
                return useDefault(port1, '443') === useDefault(port2, '443');
            }
        }
        return false;
    }

    text = {
        version: '2.0.15',

        strip: function (content) {
            //Strips <?xml ...?> declarations so that external SVG and XML
            //documents can be added to a document without worry. Also, if the string
            //is an HTML document, only the part inside the body tag is returned.
            if (content) {
                content = content.replace(xmlRegExp, "");
                var matches = content.match(bodyRegExp);
                if (matches) {
                    content = matches[1];
                }
            } else {
                content = "";
            }
            return content;
        },

        jsEscape: function (content) {
            return content.replace(/(['\\])/g, '\\$1')
                .replace(/[\f]/g, "\\f")
                .replace(/[\b]/g, "\\b")
                .replace(/[\n]/g, "\\n")
                .replace(/[\t]/g, "\\t")
                .replace(/[\r]/g, "\\r")
                .replace(/[\u2028]/g, "\\u2028")
                .replace(/[\u2029]/g, "\\u2029");
        },

        createXhr: masterConfig.createXhr || function () {
            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.
            var xhr, i, progId;
            if (typeof XMLHttpRequest !== "undefined") {
                return new XMLHttpRequest();
            } else if (typeof ActiveXObject !== "undefined") {
                for (i = 0; i < 3; i += 1) {
                    progId = progIds[i];
                    try {
                        xhr = new ActiveXObject(progId);
                    } catch (e) {}

                    if (xhr) {
                        progIds = [progId];  // so faster next time
                        break;
                    }
                }
            }

            return xhr;
        },

        /**
         * Parses a resource name into its component parts. Resource names
         * look like: module/name.ext!strip, where the !strip part is
         * optional.
         * @param {String} name the resource name
         * @returns {Object} with properties "moduleName", "ext" and "strip"
         * where strip is a boolean.
         */
        parseName: function (name) {
            var modName, ext, temp,
                strip = false,
                index = name.lastIndexOf("."),
                isRelative = name.indexOf('./') === 0 ||
                             name.indexOf('../') === 0;

            if (index !== -1 && (!isRelative || index > 1)) {
                modName = name.substring(0, index);
                ext = name.substring(index + 1);
            } else {
                modName = name;
            }

            temp = ext || modName;
            index = temp.indexOf("!");
            if (index !== -1) {
                //Pull off the strip arg.
                strip = temp.substring(index + 1) === "strip";
                temp = temp.substring(0, index);
                if (ext) {
                    ext = temp;
                } else {
                    modName = temp;
                }
            }

            return {
                moduleName: modName,
                ext: ext,
                strip: strip
            };
        },

        xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,

        /**
         * Is an URL on another domain. Only works for browser use, returns
         * false in non-browser environments. Only used to know if an
         * optimized .js version of a text resource should be loaded
         * instead.
         * @param {String} url
         * @returns Boolean
         */
        useXhr: function (url, protocol, hostname, port) {
            var uProtocol, uHostName, uPort,
                match = text.xdRegExp.exec(url);
            if (!match) {
                return true;
            }
            uProtocol = match[2];
            uHostName = match[3];

            uHostName = uHostName.split(':');
            uPort = uHostName[1];
            uHostName = uHostName[0];

            return (!uProtocol || uProtocol === protocol) &&
                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&
                   ((!uPort && !uHostName) || isSamePort(uProtocol, uPort, protocol, port));
        },

        finishLoad: function (name, strip, content, onLoad) {
            content = strip ? text.strip(content) : content;
            if (masterConfig.isBuild) {
                buildMap[name] = content;
            }
            onLoad(content);
        },

        load: function (name, req, onLoad, config) {
            //Name has format: some.module.filext!strip
            //The strip part is optional.
            //if strip is present, then that means only get the string contents
            //inside a body tag in an HTML string. For XML/SVG content it means
            //removing the <?xml ...?> declarations so the content can be inserted
            //into the current doc without problems.

            // Do not bother with the work if a build and text will
            // not be inlined.
            if (config && config.isBuild && !config.inlineText) {
                onLoad();
                return;
            }

            masterConfig.isBuild = config && config.isBuild;

            var parsed = text.parseName(name),
                nonStripName = parsed.moduleName +
                    (parsed.ext ? '.' + parsed.ext : ''),
                url = req.toUrl(nonStripName),
                useXhr = (masterConfig.useXhr) ||
                         text.useXhr;

            // Do not load if it is an empty: url
            if (url.indexOf('empty:') === 0) {
                onLoad();
                return;
            }

            //Load the text. Use XHR if possible and in a browser.
            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {
                text.get(url, function (content) {
                    text.finishLoad(name, parsed.strip, content, onLoad);
                }, function (err) {
                    if (onLoad.error) {
                        onLoad.error(err);
                    }
                });
            } else {
                //Need to fetch the resource across domains. Assume
                //the resource has been optimized into a JS module. Fetch
                //by the module name + extension, but do not include the
                //!strip part to avoid file system issues.
                req([nonStripName], function (content) {
                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,
                                    parsed.strip, content, onLoad);
                });
            }
        },

        write: function (pluginName, moduleName, write, config) {
            if (buildMap.hasOwnProperty(moduleName)) {
                var content = text.jsEscape(buildMap[moduleName]);
                write.asModule(pluginName + "!" + moduleName,
                               "define(function () { return '" +
                                   content +
                               "';});\n");
            }
        },

        writeFile: function (pluginName, moduleName, req, write, config) {
            var parsed = text.parseName(moduleName),
                extPart = parsed.ext ? '.' + parsed.ext : '',
                nonStripName = parsed.moduleName + extPart,
                //Use a '.js' file name so that it indicates it is a
                //script that can be loaded across domains.
                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';

            //Leverage own load() method to load plugin value, but only
            //write out values that do not have the strip argument,
            //to avoid any potential issues with ! in file names.
            text.load(nonStripName, req, function (value) {
                //Use own write() method to construct full module value.
                //But need to create shell that translates writeFile's
                //write() to the right interface.
                var textWrite = function (contents) {
                    return write(fileName, contents);
                };
                textWrite.asModule = function (moduleName, contents) {
                    return write.asModule(moduleName, fileName, contents);
                };

                text.write(pluginName, nonStripName, textWrite, config);
            }, config);
        }
    };

    if (masterConfig.env === 'node' || (!masterConfig.env &&
            typeof process !== "undefined" &&
            process.versions &&
            !!process.versions.node &&
            !process.versions['node-webkit'] &&
            !process.versions['atom-shell'])) {
        //Using special require.nodeRequire, something added by r.js.
        fs = require.nodeRequire('fs');

        text.get = function (url, callback, errback) {
            try {
                var file = fs.readFileSync(url, 'utf8');
                //Remove BOM (Byte Mark Order) from utf8 files if it is there.
                if (file[0] === '\uFEFF') {
                    file = file.substring(1);
                }
                callback(file);
            } catch (e) {
                if (errback) {
                    errback(e);
                }
            }
        };
    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&
            text.createXhr())) {
        text.get = function (url, callback, errback, headers) {
            var xhr = text.createXhr(), header;
            xhr.open('GET', url, true);

            //Allow plugins direct access to xhr headers
            if (headers) {
                for (header in headers) {
                    if (headers.hasOwnProperty(header)) {
                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);
                    }
                }
            }

            //Allow overrides specified in config
            if (masterConfig.onXhr) {
                masterConfig.onXhr(xhr, url);
            }

            xhr.onreadystatechange = function (evt) {
                var status, err;
                //Do not explicitly handle errors, those should be
                //visible via console output in the browser.
                if (xhr.readyState === 4) {
                    status = xhr.status || 0;
                    if (status > 399 && status < 600) {
                        //An http 4xx or 5xx error. Signal an error.
                        err = new Error(url + ' HTTP status: ' + status);
                        err.xhr = xhr;
                        if (errback) {
                            errback(err);
                        }
                    } else {
                        callback(xhr.responseText);
                    }

                    if (masterConfig.onXhrComplete) {
                        masterConfig.onXhrComplete(xhr, url);
                    }
                }
            };
            xhr.send(null);
        };
    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&
            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {
        //Why Java, why is this so awkward?
        text.get = function (url, callback) {
            var stringBuffer, line,
                encoding = "utf-8",
                file = new java.io.File(url),
                lineSeparator = java.lang.System.getProperty("line.separator"),
                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),
                content = '';
            try {
                stringBuffer = new java.lang.StringBuffer();
                line = input.readLine();

                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324
                // http://www.unicode.org/faq/utf_bom.html

                // Note that when we use utf-8, the BOM should appear as "EF BB BF", but it doesn't due to this bug in the JDK:
                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058
                if (line && line.length() && line.charAt(0) === 0xfeff) {
                    // Eat the BOM, since we've already found the encoding on this file,
                    // and we plan to concatenating this buffer with others; the BOM should
                    // only appear at the top of a file.
                    line = line.substring(1);
                }

                if (line !== null) {
                    stringBuffer.append(line);
                }

                while ((line = input.readLine()) !== null) {
                    stringBuffer.append(lineSeparator);
                    stringBuffer.append(line);
                }
                //Make sure we return a JavaScript string and not a Java string.
                content = String(stringBuffer.toString()); //String
            } finally {
                input.close();
            }
            callback(content);
        };
    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&
            typeof Components !== 'undefined' && Components.classes &&
            Components.interfaces)) {
        //Avert your gaze!
        Cc = Components.classes;
        Ci = Components.interfaces;
        Components.utils['import']('resource://gre/modules/FileUtils.jsm');
        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);

        text.get = function (url, callback) {
            var inStream, convertStream, fileObj,
                readData = {};

            if (xpcIsWindows) {
                url = url.replace(/\//g, '\\');
            }

            fileObj = new FileUtils.File(url);

            //XPCOM, you so crazy
            try {
                inStream = Cc['@mozilla.org/network/file-input-stream;1']
                           .createInstance(Ci.nsIFileInputStream);
                inStream.init(fileObj, 1, 0, false);

                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']
                                .createInstance(Ci.nsIConverterInputStream);
                convertStream.init(inStream, "utf-8", inStream.available(),
                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);

                convertStream.readString(inStream.available(), readData);
                convertStream.close();
                inStream.close();
                callback(readData.value);
            } catch (e) {
                throw new Error((fileObj && fileObj.path || '') + ': ' + e);
            }
        };
    }
    return text;
});


define('text!../js/resources/singleItemData.json',[],function () { return '[\n    {\n       "id":0,\n       "series":"Series 1",\n       "group":"Group A",\n       "value":42\n    },\n    {\n       "id":1,\n       "series":"Series 2",\n       "group":"Group A",\n       "value":55\n    },\n    {\n       "id":2,\n       "series":"Series 3",\n       "group":"Group A",\n       "value":36\n    },\n    {\n       "id":3,\n       "series":"Series 4",\n       "group":"Group A",\n       "value":22\n    },\n    {\n       "id":4,\n       "series":"Series 5",\n       "group":"Group A",\n       "value":22\n    }\n ]';});

/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojknockouttemplateutils',["jquery","knockout"],function(e,t){"use strict";var n={getRenderer:function(n,r){var a=function(a){var l=a._parentElement||a.parentElement,o=t.contextFor(a.componentElement);if(o){var c=o.createChildContext(a.data,null,function(e){e.$context=a});t.renderTemplate(n,c,{afterRender:function(t){e(t)._ojDetectCleanData()}},l,r?"replaceNode":"replaceChildren")}return null};return function(t){if(t.componentElement.classList&&t.componentElement.classList.contains("oj-dvtbase")){var r=document.createElement("div");r.style.display="none",r._dvtcontext=t._dvtcontext,t.componentElement.appendChild(r),Object.defineProperty(t,"_parentElement",{value:r,enumerable:!1}),Object.defineProperty(t,"_templateCleanup",{value:function(){e(r).remove()},enumerable:!1}),Object.defineProperty(t,"_templateName",{value:n,enumerable:!1}),a(t);var l=r.children[0];return l?(r.removeChild(l),e(r).remove(),{insert:l}):{preventDefault:!0}}return a(t)}}};return n});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojkoshared',["ojs/ojcore","knockout","ojs/ojlogger"],function(e,t,n){"use strict";function r(){this.Init()}return e.Object.createSubclass(r,e.Object,"ComponentBinding.GlobalChangeQueue"),r.prototype.Init=function(){r.superclass.Init.call(this),this._trackers=[],this._queue=[]},r.prototype.registerComponentChanges=function(t){-1===this._trackers.indexOf(t)&&(this._trackers.push(t),this._delayTimer||(this._delayTimer=setTimeout(e.Object.createCallback(this,this._deliverChangesImpl),1),this._delayPromise=new Promise(function(e){this._delayPromiseResolver=e}.bind(this))))},r.prototype.deliverChanges=function(){this._delayTimer&&clearTimeout(this._delayTimer),this._deliverChangesImpl()},r.prototype.getThrottlePromise=function(){return this._delayPromise||Promise.resolve()},r.prototype._deliverChangesImpl=function(){this._delayTimer=null,this._resolveDelayPromise();var e=this._trackers;this._trackers=[];for(var t=0;t<e.length;t++){var n=e[t];this._queue.push({tracker:n,changes:n.flushChanges()})}for(;this._queue.length>0;){var r=this._queue.shift();r.tracker.applyChanges(r.changes)}},r.prototype._resolveDelayPromise=function(){this._delayPromise&&(this._delayPromiseResolver(),this._delayPromiseResolver=null,this._delayPromise=null)},(new function(){var e=new WeakMap,i={},o={},s="_ojExtended",a="_ojCacheScope",c=new r;function u(e){return new Function("$context","$element","with($context.$data||{}){with($context){return "+e+"}}")}function l(t,n,r){if(!r)return t(n,r);var i,o=e,s=r[a]||r;(i=o.get(s))||(i={},o.set(s,i));var c=i[n];return c||(c=t(n,r),i[n]=c),c}function h(e,t,n){var r=t.getBindingsString;if(r)return r.call(t,e,n);switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:var i=e.nodeValue.match(/^\s*ko(?:\s+([\s\S]+))?\s*$/);return i?i[1]:null;default:return null}}this.install=function(){var e=t.bindingProvider,r=e.instance;if(!r.getBindingAccessors)return n.error("JET's Knockout bindings are not compatible with the current binding provider since it does not implement getBindingAccessors()"),this;var a={};e.instance=a;var c=[];return c.push("getBindingAccessors","nodeHasBindings","getBindings"),c.forEach(function(e){a[e]=function(e,n,r){var o="nodeHasBindings"===n;return function(s){if(o){var a=s.nodeType;if(1!==a&&8!==a)return!1}var c=r(n,e[n]),u=c?c.apply(e,arguments):null,l=i[n];if(null!=l){var h=arguments;l.forEach(function(n){var r=Array.prototype.slice.call(h);r.push(u,e),u=t.ignoreDependencies(n,null,r)})}return u}}(r,e,function(e,n){return"getBindingAccessors"!==e?n:function(e,n){return function(r,i){if(i[s]){var o=h(r,n,i),a=o?function(e,n){return l(function(e){var n=t.expressionRewriting.preProcessBindings(e,{valueAccessors:!0});return u("{"+n+"}")},e,n)}(o,i)(i,r):null;if(1===r.nodeType&&t.components.isRegistered(r.tagName.toLowerCase())){var c=e.call(n,r,i),d=c.component;d&&((a=a||{}).component=d)}return a}return e.call(n,r,i)}}(n,r)})}),a.preprocessNode=function(e){var n=e.preprocessNode;return function(r){var i,s,a=null;return 1===r.nodeType&&(i=o[r.nodeName.toLowerCase()]),i||(i=n,a=e),i&&(s=t.ignoreDependencies(i,a,[r])),Array.isArray(s)&&(s=function(e,n){for(var r=t.bindingProvider.instance,i=n.slice(0),o=n[0],s=0,a=0;s>=0;){var c=t.virtualElements.nextSibling(o);if(o!==e){var u=r.preprocessNode(o);Array.isArray(u)&&(i.splice.apply(i,[a,1].concat(u)),a+=u.length-1)}a+=1;var l=s+1;s=(o=c)?n.indexOf(o,l):-1,a+=s-l}return i}(r,s)),s}}(r),function(e){var t=e.nativeTemplateEngine.prototype,n="renderTemplateSource",r=t[n];t[n]=function(e,t,n,i){return r.call(this,e,t,n,i||document)}}(t),this},this.addPostprocessor=function(e){Object.keys(e).forEach(function(t){i[t]=i[t]||[],i[t].push(e[t])})},this.registerPreprocessor=function(e,t){o[e]=t},this.getBindingsString=function(e,t,n){return h(e,t,n)},this.extendBindingContext=function(e,t,n,r,i){var o={$current:t,$root:void 0,$parent:void 0,$parents:void 0};return n&&(o[n]=t),r&&(o[r]=t),e?o=e.extend(o):o.$data={},Object.defineProperty(o,a,{value:i}),Object.defineProperty(o,s,{value:!0}),o},this.createBindingExpressionEvaluator=function(e,t){return t[s]?u(e):new Function("$context","with($context){with($data||{}){return "+e+";}}")},this.createEvaluator=function(e,t){return l(this.createBindingExpressionEvaluator,e,t)},this.getGlobalChangeQueue=function(){return c},this.getThrottlePromise=function(){return this.getGlobalChangeQueue().getThrottlePromise()}}).install()});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojhtmlutils',["ojs/ojcore","knockout"],function(e,t){"use strict";var r={};return r.stringToNodeArray=function(e){var t,r,n,o,a,l=["table","caption","colgroup","col","thead","tfoot","th","tbody","tr","td","template"];for(t=0;t<l.length;t++)r=l[t],n=e,void 0,void 0,o=new RegExp("<"+r+"(?=\\s|>)","gi"),a=new RegExp("</"+r+"(?=\\s|>)","gi"),e=n.replace(o,"<oj-bind-replace-"+r).replace(a,"</oj-bind-replace-"+r);var i=document.createElement("div");i.innerHTML=e,-1!==e.indexOf("<oj-bind-replace-")&&function e(t){var r=t.childNodes;var n=r.length;for(var o=0;o<n;o++){var a=r[o];e(a);var l,i,c,d=a.nodeName.toLowerCase();if("oj-bind-replace-"===d.substr(0,16)){var p=d.substr(16);for(c=document.createElement(p),l=0;l<a.attributes.length;l++)i=a.attributes[l],c.setAttribute(i.name,i.value);var s=c.content?c.content:c;for(l=0;a.childNodes.length>0;)s.appendChild(a.childNodes[0]);t.replaceChild(c,a)}else if("script"===d||"style"===d){for(c=document.createElement(d),l=0;l<a.attributes.length;l++)i=a.attributes[l],c.setAttribute(i.name,i.value);var u=a.innerHTML;c.innerHTML=u.replace(new RegExp("oj-bind-replace-","g"),""),t.replaceChild(c,a)}else if(8===a.nodeType){var h=a.nodeValue;a.nodeValue=h.replace(new RegExp("oj-bind-replace-","g"),"")}}}(i);var c=i.childNodes,d=[];for(t=c.length;t--;d.unshift(c[t]));return d},r.getTemplateContent=function(e){var t=[];if(1!==e.nodeType||"template"!==e.tagName.toLowerCase())throw new Error("Invalid template node "+e);var r=e.content;return r?t.push(document.importNode(r,!0)):Array.prototype.forEach.call(e.childNodes,function(e){t.push(e.cloneNode(!0))}),t},r});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojtemplateengine',["knockout","ojs/ojcore","ojs/ojkoshared","ojs/ojhtmlutils","ojs/ojlogger"],function(t,e,n,r,o){"use strict";return new function(){this.execute=function(e,n,r,o){var i=a(n),s=n.getAttribute("data-oj-as");return t.applyBindingsToDescendants(u(e,n,r,o,s),i),Array.prototype.slice.call(i.childNodes,0)},this.clean=function(e){return t.cleanNode(e)},this.resolveProperties=function(r,o,s,c,l,f,d,p){var v=u(r,o,l,f,o.getAttribute("data-oj-as"));return function(n,r,o){return i=t.pureComputed(function(){var i={};n.evalMap.forEach(function(e,n){var a=t.utils.unwrapObservable(e(r));o&&o(n,a),i[n[0]]=function(t,e,n){if(e.length<2)return n;for(var r=t[e[0]]||{},o=r,i=e.length-1,a=1;a<i;a++){var u=e[a],s=o[u]||{};o[u]=s,o=s}return o[e[i]]=n,r}(i,n,a)});var a=e.CollectionUtils.copyInto,u=a({},n.staticMap,null,!0);return u=a(u,i,null,!0)}),a={},["peek","subscribe","dispose"].forEach(function(t){a[t]=i[t].bind(i)}),a;var i,a}(function(t,r,o,u,s){var c=i.get(t);if(!c){c={},i.set(t,c);var l=a(t),f=l.querySelector(o);c.evalMap=function(t,r,o){for(var i=new Map,a=t?t.attributes:[],u=0;u<a.length;u++){var s=a[u],c=e.__AttributeUtils.attributeToPropertyName(s.name),l=c.split(".");if(r.has(l[0])){var f=e.__AttributeUtils.getExpressionInfo(s.value),d=f.expr;d&&i.set(l,n.createBindingExpressionEvaluator(d,o))}}return i}(f,u,r),c.staticMap=function(t,e,n){var r={};if(t){var o=t.style;o.display="none",o.position="absolute",t.setAttribute("data-oj-binding-provider","none"),n.appendChild(t),e.forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),n.removeChild(t)}return r}(f,u,s)}return c}(o,v,s,c,p||r),v,d)},this.defineTrackableProperty=function(e,n,r){!function(e,n,r){var o=t.observable(r);Object.defineProperty(e,n,{get:function(){return o()},set:function(t){o(t)},enumerable:!0})}(e,n,r)},this.getThrottlePromise=function(){return n.getThrottlePromise()};var i=new WeakMap;function a(t){for(var e=document.createElement("div"),n=r.getTemplateContent(t),o=0;o<n.length;o++)e.appendChild(n[o]);return e}function u(e,r,i,a,u){var s=r.__ojBindingContext?r.__ojBindingContext:t.contextFor(r);return s||(o.info("Binding context not found when processing template for element with id: "+e.id+". Using binding context for element instead."),s=t.contextFor(e)),n.extendBindingContext(s,i,a,u,e)}}});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/version',["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"});
!function(t){"function"==typeof define&&define.amd?define('jqueryui-amd/widget',["jquery","./version"],t):t(jQuery)}(function(t){var e,i=0,s=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{(s=t._data(n,"events"))&&s.remove&&t(n).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(s,function(e,s){t.isFunction(s)?r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}():r[e]=s}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n&&a.widgetEventPrefix||e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,n,o=s.call(arguments,1),a=0,r=o.length;a<r;a++)for(i in o[a])n=o[a][i],o[a].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=s.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r))!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(s=e.split(".")).shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],s=this;function n(n,o){var a,r;for(r=0;r<n.length;r++)a=s.classesElementLookup[n[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),s.classesElementLookup[n[r]]=a,i.push(n[r]),o&&e.classes[n[r]]&&i.push(e.classes[n[r]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?n.on(u,h,r):i.on(u,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){var a;"string"==typeof n&&(n={effect:n});var r=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojknockout',["ojs/ojcore","jquery","ojs/ojcontext","knockout","ojs/ojkeysetimpl","ojs/ojknockouttemplateutils","ojs/ojresponsiveknockoututils","ojs/ojlogger","ojs/ojkoshared","ojs/ojtemplateengine","jqueryui-amd/widget"],function(e,t,n,r,i,o,a,s,u,l){"use strict";function d(e,t){var n={};return n.value=t.value,n}var c,p,f,h,g;function m(e,t,n){return"pieCenter"===e&&t.template&&(t._renderer=x(n,t.template)),{pieCenter:t}}function v(e,t,n){return"optionTemplate"===e&&null!==t?{optionRenderer:function(e,t){return function(n){var i=n.parentElement,o=e.createChildContext(n.data,null,function(e){e.$optionContext=n});return r.renderTemplate(t,o,null,i),null}}(n,String(t))}:null}function _(e,t){this.Init(e,t)}function C(e,t){var n={};return function(r){var i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$key=r.key,e.$metadata=r.metadata,e.$headerContext=r});return b(r,t,i,o,n),null}}function y(e,t){var n={};return function(r){var i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$keys=r.keys,e.$metadata=r.metadata,e.$cellContext=r,e.$cell=r.cell});return b(r,t,i,o,n),null}}function b(e,n,i,o,a){var s=function(e,t){var n=t[e];null==n&&(n=r.utils.parseHtmlFragment(document.getElementById(e).innerHTML,document),t[e]=n);return n.map(function(e){return e.cloneNode(!0)})}(function(e,t){if("function"==typeof e)return e(t);return e}(n,e),a);r.virtualElements.setDomNodeChildren(i,s),r.applyBindingsToDescendants(o,i);for(var u=0;u<i.childNodes.length;u++)if(1===i.childNodes[u].nodeType){t(i.childNodes[u])._ojDetectCleanData({cleanParent:!0});break}}function B(e,t,n){return"template"===e?{_templateFunction:A(n,t)}:null}function E(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.key,o=r.value;if(null!=i&&null!=o&&t(i.trim(),o.trim()))break}}function x(e,n){return function(i){var o=e.createChildContext(i.context);return r.renderTemplate(n,o,{afterRender:function(e){t(e)._ojDetectCleanData()}},i.parentElement),null}}function A(e,n){return function(i){var o=e.createChildContext(i.data);return r.renderTemplate(n,o,{afterRender:function(e){t(e)._ojDetectCleanData()}},i.parentElement),null}}function N(e,t,n){return"tooltip"===e&&t.template&&(t._renderer=x(n,t.template)),{tooltip:t}}function D(e,n,i){if("item"===e){var o=n.template;return null!=o&&(n.renderer=function(e,n){return function(i){var o=i.parentElement,a=e.createChildContext(i.data,null,function(e){e.$itemContext=i});return r.renderTemplate(n,a,{afterRender:function(e){t(e)._ojDetectCleanData()}},o,"replaceNode"),null}}(i,o)),{item:n}}return null}function j(e,t,n){return"center"===e&&t.template&&(t._renderer=x(n,t.template)),{center:t}}function T(e,t,n){return"rootNodeContent"===e&&t.template&&(t._renderer=x(n,t.template)),{rootNodeContent:t}}e.ComponentBinding=function(e,t){this.Init(e,t)},e.Object.createSubclass(e.ComponentBinding,e.Object,"oj.ComponentBinding"),e.ComponentBinding.create=function(t,n){if(null==t)throw new Error("Binding name is required!");for(var i=new e.ComponentBinding(t,n),o=r.bindingHandlers,a=Array.isArray(t)?t:[t],s=0;s<a.length;s++){var u=a[s];e.ComponentBinding._REGISTERED_NAMES.push(u),o[u]=i}return i},e.ComponentBinding.getDefaultInstance=function(){return e.ComponentBinding._INSTANCE},e.ComponentBinding.prototype.setupManagedAttributes=function(e){var t=e.for;t=null==t?"@global":t;var n=this._managedAttrOptions[t]||[];n.push(e),this._managedAttrOptions[t]=n},e.ComponentBinding.deliverChanges=function(){u.getGlobalChangeQueue().deliverChanges()},e.ComponentBinding.prototype.Init=function(t,n){e.ComponentBinding.superclass.Init.call(this),"string"==typeof n&&(n={componentName:n}),this._bindingOptions=n||{},this._bindingNames=Array.isArray(t)?t:[t],this.init=this._init.bind(this),this.update=this._update.bind(this),this._managedAttrOptions={}},e.ComponentBinding.prototype._getBindingOptions=function(){return this._bindingOptions},e.ComponentBinding.prototype._init=function(e,t,n,i,o){return r.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}},e.ComponentBinding.prototype._update=function(n,i,o,a,l){var d,c,p=[],f=0,h=t(n);function g(t){p.forEach(function(e){e.dispose()}),p=[],t&&d&&(d("destroy"),d=null),c&&(c.dispose(),c=null),h.off(e.ComponentBinding._HANDLER_NAMESPACE)}function m(t,r,i){if(null!=t){var a=h[t];if("function"==typeof a){a=a.bind(h);c=new _(function(t){var n=e.ComponentBinding.__removeDotNotationOptions(t);a("option",t);for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i];a("option",o,n[o])}},u.getGlobalChangeQueue());var f=Object.keys(i).filter(function(e){return!(null==e||e===r)}),g={component:a,changeTracker:c,componentName:t,specifiedOptions:f,computeds:p,valueAccessor:function(){return i},allBindingsAccessor:o,bindingContext:l,destroyCallback:function(){d=null},readOnlyProperties:{}};d=this._initComponent(n,g)}else s.error("Component %s is not found",t)}}r.ignoreDependencies(function(){r.computed(function(){var t=r.utils.unwrapObservable(i());"object"!=typeof t&&s.error("ojComponent binding should evaluate to an object");var n,o=this._bindingOptions.componentName,a=!1;if(null==o&&null!=t){for(var u=[e.ComponentBinding._COMPONENT_OPTION,"role"],l=0;!a&&l<u.length;l++)(n=u[l])in t&&(a=!0,o=t[n]);a||s.error("component attribute is required for the ojComponent binding"),o=r.utils.unwrapObservable(o)}0===f?f=1:r.ignoreDependencies(g,this,[!0]),r.ignoreDependencies(m,this,[o,n,t])},this,{disposeWhenNodeIsRemoved:n})},this),r.utils.domNodeDisposal.addDisposeCallback(n,g.bind(this,!1))},e.ComponentBinding.prototype._initComponent=function(n,i){var o=!1,a=0,s={},u=t(n),l=i.component,d=i.componentName,c=this,p=function(t){if(t.target&&t.target===n){i.destroyCallback();var r=c._bindingOptions.beforeDestroy;r&&r(n,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext),e.ComponentBinding._deliverCreateDestroyEventToManagedProps(!1,s,n,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext),o=!0,i.changeTracker.dispose(),n.removeEventListener("_ojDestroy",p)}};n.addEventListener("_ojDestroy",p);var f=e.ComponentBinding._resolveManagedAttributes(this._managedAttrOptions,i.specifiedOptions,d),h=e.ComponentBinding.getDefaultInstance();if(this!==h){var g=h._getManagedAttributes(i.specifiedOptions,d);e.CollectionUtils.copyInto(g,f),f=g}for(var m={},v=function(){var t=this._property,r=e.ComponentBinding._toJS(i.valueAccessor()[t]);if(0===a){var u=f[t];if(null!=u){s[t]=u;var d=u.init;if(null!=d)for(var c=d(t,r,n,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext)||{},p=Object.keys(c),h=0;h<p.length;h++){var g=p[h];m[g]=e.ComponentBinding.__cloneIfArray(c[g])}}else m[t]=e.ComponentBinding.__cloneIfArray(r)}else if(!o)if(null!=f[t]){var v=f[t].update;if(null!=v)for(var _=v(t,r,n,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext)||{},C=Object.keys(_),y=0;y<C.length;y++){var b=C[y];i.changeTracker.addChange(b,e.ComponentBinding.__cloneIfArray(_[b]))}}else i.readOnlyProperties[t]||i.changeTracker.addChange(t,e.ComponentBinding.__cloneIfArray(r))},_=0;_<i.specifiedOptions.length;_++)i.computeds.push(r.computed(v,{_property:i.specifiedOptions[_]}));a=1,e.ComponentBinding._registerWritebacks(u,i);var C=e.ComponentBinding.__removeDotNotationOptions(m);l(m),Object.keys(C).forEach(function(e){l("option",e,C[e])});var y=this._bindingOptions.afterCreate;return y&&y(n,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext),e.ComponentBinding._deliverCreateDestroyEventToManagedProps(!0,s,n,l,i.valueAccessor,i.allBindingsAccessor,i.bindingContext),m=null,l},e.ComponentBinding.prototype._getManagedAttributes=function(t,n){return e.ComponentBinding._resolveManagedAttributes(this._managedAttrOptions,t,n)},e.ComponentBinding._resolveManagedAttributes=function(e,n,r){var i={},o=[],a=function(t,n){var r=e[t];if(null!=r)for(var i=r.length-1;i>=0;i--){var s=r[i];if(null!=s.attributes&&o.push(s),n){var u=s.use;if(null!=u){u=Array.isArray(u)?u:[u];for(var l=0;l<u.length;l++)a(u[l],!0)}}}};a(r,!0);var s=t.oj[r];if(null!=s)for(var u=Object.getPrototypeOf(s.prototype);null!=u&&"oj"===u.namespace;)a(u.widgetName,!0),u=Object.getPrototypeOf(u);if(a("@global",!1),o.length>0)for(var l=0;l<n.length;l++)for(var d=n[l],c=0;c<o.length;c++){var p=o[c];if(p.attributes.indexOf(d)>=0){i[d]={init:p.init,update:p.update,afterCreate:p.afterCreate,beforeDestroy:p.beforeDestroy};break}}return i},e.ComponentBinding._HANDLER_NAMESPACE=".oj_ko",e.ComponentBinding._registerWritebacks=function(t,n){for(var r={"^slider$":[{event:"slidechange",getter:d}],"^oj*":[{event:"ojoptionchange",getter:function(e,t,n){var r={},i=n.optionMetadata;if(i&&"shouldWrite"===i.writeback){var o=n.option;r[o]=n.value,i.readOnly&&(e.readOnlyProperties[o]=!0)}return r}.bind(void 0,n)}]},i={},o=Object.keys(r),a=0;a<o.length;a++){var s=o[a];if(n.componentName.match(s)){for(var u=r[s],l=0;l<u.length;l++){var c=u[l];t.on(c.event+e.ComponentBinding._HANDLER_NAMESPACE,{getter:c.getter},function(r,o){if(r.target===t[0])for(var a=r.data.getter(r,o),s=n.valueAccessor(),u=Object.keys(a),l=0;l<u.length;l++){var d=u[l];n.changeTracker.suspend(d);try{if(n.specifiedOptions.indexOf(d)>=0){var c=s[e.ComponentBinding._OPTION_MAP],p=null==c?null:c[d],f=s[d];e.ComponentBinding._writeValueToProperty(d,f,a[d],p,n.bindingContext,i)}}finally{n.changeTracker.resume(d)}}})}break}}},e.ComponentBinding._writeValueToProperty=function(t,n,i,o,a,s){if(null!=n&&r.isObservable(n))r.isWriteableObservable(n)&&n(e.ComponentBinding.__cloneIfArray(i));else{if(!(t in s)){var l=null,d=e.__ExpressionUtils.getPropertyWriterExpression(o);null!=d&&(l=u.createEvaluator(d,a)),s[t]=l}var c=s[t];if(c)c(a)(e.ComponentBinding.__cloneIfArray(i))}},e.ComponentBinding._toJS=function(t){var n=r.utils.unwrapObservable(t);return(Array.isArray(n)||e.CollectionUtils.isPlainObject(n))&&n.ojConvertToJS&&(n=r.toJS(n)),n},e.ComponentBinding.__cloneIfArray=function(e){return Array.isArray(e)&&(e=e.slice()),e},e.ComponentBinding.__removeDotNotationOptions=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];i.indexOf(".")>=0&&(t[i]=e[i],delete e[i])}return t},e.ComponentBinding._deliverCreateDestroyEventToManagedProps=function(e,t,n,r,i,o,a){for(var s=Object.keys(t),u=0;u<s.length;u++){var l=s[u],d=t[l],c=e?d.afterCreate:d.beforeDestroy;c&&c(l,n,r,i,o,a)}},e.ComponentBinding.__getKnockoutVersion=function(){return e.__isAmdLoaderPresent()&&r?r.version:""},e.ComponentBinding._isNameRegistered=function(t){return e.ComponentBinding._REGISTERED_NAMES.indexOf(t)>=0},e.ComponentBinding._REGISTERED_NAMES=[],e.ComponentBinding._COMPONENT_OPTION="component",e.ComponentBinding._OPTION_MAP="_ojOptions",c="cleanExternalData",p=r.utils.domNodeDisposal,f=p[c],p[c]=function(t){var n=e.DomUtils?e.DomUtils.setInKoCleanExternal:null;n&&n(t);try{f(t)}finally{n&&n(null)}},e.ComponentBinding._INSTANCE=e.ComponentBinding.create(["ojComponent","jqueryUI"]),t.widget("oj._ojDetectCleanData",{options:{cleanParent:!1},_destroy:function(){var e=r.utils.domNodeDisposal,t=e.cleanExternalData;e.cleanExternalData=function(){};try{this.options.cleanParent&&null!=this.element[0].parentNode?r.cleanNode(this.element[0].parentNode):r.cleanNode(this.element[0])}finally{e.cleanExternalData=t}}}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["pieCenter"],init:function(e,t,n,r,i,o,a){return m(e,t,a)},update:function(e,t,n,r,i,o,a){return m(e,t,a)},for:"ojChart"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["optionTemplate"],init:function(e,t,n,r,i,o,a){var s=v(e,t,a);if(null!==s)return s},update:function(e,t,n,r,i,o,a){return v(e,t,a)},for:"ComboboxOptionRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"ojCombobox",use:"ComboboxOptionRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"ojSelect",use:"ComboboxOptionRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"ojInputSearch",use:"ComboboxOptionRenderer"}),e.Object.createSubclass(_,e.Object,"ComponentBinding.ComponentChangeTracker"),_.prototype.Init=function(e,t){_.superclass.Init.call(this),this._updateCallback=e,this._queue=t,this._changes={},this._suspendCountMap={}},_.prototype.addChange=function(e,t){this._isSuspended(e)||this._disposed||(this._changes[e]=t,this._queue.registerComponentChanges(this))},_.prototype.dispose=function(){this._disposed=!0},_.prototype.resume=function(e){var t=this._suspendCountMap[e]||0;(t-=1)<0?s.error("ComponentChangeTracker suspendCount underflow"):0===t?delete this._suspendCountMap[e]:this._suspendCountMap[e]=t},_.prototype.suspend=function(e){var t=this._suspendCountMap[e]||0;this._suspendCountMap[e]=t+1},_.prototype.applyChanges=function(e){this._disposed||this._updateCallback(e)},_.prototype.flushChanges=function(){var e=this._changes;return this._changes={},e},_.prototype._isSuspended=function(e){return(this._suspendCountMap[e]||0)>=1},r.bindingHandlers.ojContextMenu={update:function(n,i,o,a,s){var u,l,d=".ojContextMenu",c=t(n),p=!1,f=!1,h=300,g=null;c.off(d).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",y,!0),clearTimeout(u);var m=c.data("_ojLastContextMenu");m&&x(m.selector,m.id).off(d);var v=!1,_=r.utils.unwrapObservable(i()),C=t.isPlainObject(_)?n.getAttribute("contextmenu"):null;function y(e){if(p)return e.preventDefault(),e.stopPropagation(),p=!1,!1}function b(e){121===e.which&&e.shiftKey&&E().is(":visible")&&e.preventDefault()}function B(){var t=e.Components.__GetWidgetConstructor(E()[0],"ojMenu"),n=t&&t("instance");if(!n)throw new Error('ojContextMenu binding bound to "'+(C||_)+'", which does not reference a valid JET Menu.');return v||(n.widget().on("ojclose"+d,function(){document.removeEventListener("keyup",b)}),v=!0),n}function E(){return x(_,C)}function x(e,n){return n?t(document.getElementById(n)):t(e).first()}function A(e,t,n){p=n;var r=B();if(p&&c.one("touchend"+d,function(){r.__contextMenuPressHoldJustEnded(!0),setTimeout(function(){r.__contextMenuPressHoldJustEnded(!1)},50)}),"touchstart"===g&&"contextmenu"===e.type||"contextmenu"===g&&"touchstart"===e.type)return g=null,void clearTimeout(l);if(!e.isDefaultPrevented()){var i={launcher:c,initialFocus:"menu",position:{mouse:{my:"start top",at:"start bottom",of:e},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher"}}[t]};r.__openingContextMenu=!0,r.open(e,i),r.__openingContextMenu=!1,r.widget().is(":visible")&&(e.preventDefault(),document.addEventListener("keyup",b),"touchstart"!==e.type&&"contextmenu"!==e.type||(g=e.type,l=setTimeout(function(){g=null},h)))}}c.data("_ojLastContextMenu",{selector:_,id:C}),n.addEventListener("click",y,!0),c.on("touchstart"+d+" mousedown"+d+" keydown"+d+" ",function(e){if("mousedown"!==e.type||!B().__contextMenuPressHoldJustEnded())return p=!1,"touchstart"===e.type&&(f=!0,u=setTimeout(A.bind(void 0,e,"touch",!0),750)),!0}).on("touchend"+d+" touchcancel"+d,function(){return f=!1,clearTimeout(u),!0}).on("keydown"+d+" contextmenu"+d,function(e){("contextmenu"===e.type||121===e.which&&e.shiftKey)&&A(e,f?"touch":"keydown"===e.type?"keyboard":"mouse",!1);return!0}).addClass(e.DomUtils.isTouchSupported()?"oj-menu-context-menu-launcher":"")}},e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["header","cell"],init:function(e,t,n,r,i,o,a){if("header"===e){var s=t.row;if(null!=s){var u=s.template;null!=u&&(s.renderer=C(a,u))}var l=t.column;if(null!=l){var d=l.template;null!=d&&(l.renderer=C(a,d))}var c=t.rowEnd;if(null!=c){var p=c.template;null!=p&&(c.renderer=C(a,p))}var f=t.columnEnd;if(null!=f){var h=f.template;null!=h&&(f.renderer=C(a,h))}return{header:t}}if("cell"===e){var g=t.template;return null!=g&&(t.renderer=y(a,g)),{cell:t}}},update:function(e,t,n,r,i,o,a){if("header"===e){var s=t.row;if(null!=s){var u=s.template;null!=u&&(s.renderer=C(a,u))}var l=t.column;if(null!=l){var d=l.template;null!=d&&(l.renderer=C(a,d))}var c=t.rowEnd;if(null!=c){var p=c.template;null!=p&&(c.renderer=C(a,p))}var f=t.columnEnd;if(null!=f){var h=f.template;null!=h&&(f.renderer=C(a,h))}return{header:t}}if("cell"===e){var g=t.template;return null!=g&&(t.renderer=y(a,g)),{cell:t}}return null},for:"ojDataGrid"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["template"],init:function(e,t,n,r,i,o,a){return B(e,t,a)},update:function(e,t,n,r,i,o,a){return B(e,t,a)},for:"ojDiagram"}),h=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e.__ExpressionUtils={},e.__ExpressionUtils.getPropertyWriterExpression=function(e){if(null==e||["true","false","null","undefined"].indexOf(e)>=0)return null;var t=(e=e.trim()).match(h);return null===t?null:"function(v){"+(t[1]?"Object("+t[1]+")"+t[2]:e)+"=v;}"},e.KnockoutTemplateUtils=o,e.ResponsiveKnockoutUtils=a,u.addPostprocessor({getBindingAccessors:function(t,n,i,o){if(null==i)return null;var a=function(t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if(e.ComponentBinding._isNameRegistered(i))return i}return null}(i);null!=a&&(i=function(t,n,i,o,a){var s=function(e,t,n,i){var o=null,a=u.getBindingsString(e,n,i),s=r.jsonExpressionRewriting.parseObjectLiteral(a),l=null;E(s,function(e,n){return e===t&&(l=n,!0)}),null!=l&&0===l.indexOf("{")&&(o=r.jsonExpressionRewriting.parseObjectLiteral(l));return{attrList:o,bindingExpr:l}}(t,n,i,o),l=s.attrList;if(null==l)return a;var d={};return E(l,function(e,t){d[e]=t}),(a=e.CollectionUtils.copyInto({},a))[n]=function(t,n,r){var i=function(){var r={};return Object.keys(n).forEach(function(e){var i=n[e],o=u.createEvaluator(i,t).bind(null,t);Object.defineProperty(r,e,{get:o,enumerable:!0})}),Object.defineProperty(r,e.ComponentBinding._OPTION_MAP,{value:n}),r};return i.toString=function(){return r},i}(o,d,s.bindingExpr),a}(t,a,o,n,i));return i}}),u.addPostprocessor({nodeHasBindings:function(t,n){return e.BaseCustomElementBridge?n||1===t.nodeType&&e.BaseCustomElementBridge.getRegistered(t.nodeName):n},getBindingAccessors:function(t,n,r){if(1===t.nodeType&&e.BaseCustomElementBridge){var i=t.nodeName,o=e.BaseCustomElementBridge.getRegistered(i);o&&((r=r||{})._ojCustomElement=function(){return{composite:o.composite}})}return r}}),g="attribute-changed",r.bindingHandlers._ojCustomElement={after:["attr"],init:function(e,t,n,i,o){return r.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}},update:function(t,n,i,o,a){var s,u,l=e.BaseCustomElementBridge.getInstance(t);function d(){s&&(s.teardown(),s=null),u&&(t.removeEventListener(g,u),u=null)}r.ignoreDependencies(function(){r.computed(function(){var i=n().composite;r.computedContext.isInitial()||d(),function(n){var r=e.BaseCustomElementBridge.getProperties(l,t);s=new e.__ExpressionPropertyUpdater(t,a,n);var i={_domListener:!0};l.__INITIALIZING_PROPS=!0;for(var o=t.attributes,d=0;d<o.length;d++){var c=o[d],p=e.__AttributeUtils.attributeToPropertyName(c.nodeName),f=e.__AttributeUtils.eventListenerPropertyToEventType(p)&&!r[p];s.setupExpression(c.value,p,f?i:r[p.split(".")[0]])}l.__INITIALIZING_PROPS=!1,u=function(t){var n=t.detail,o=n.attribute,a=e.__AttributeUtils.attributeToPropertyName(o),u=e.__AttributeUtils.eventListenerPropertyToEventType(a)&&!r[a]?i:r[a.split(".")[0]];s.setupExpression(n.value,a,u)},t.addEventListener(g,u)}(i),l.playbackEarlyPropertySets(t),e._KnockoutBindingProvider.getInstance().__NotifyBindingsApplied(t)},null,{disposeWhenNodeIsRemoved:t})}),r.utils.domNodeDisposal.addDisposeCallback(t,d)}},e.__ExpressionPropertyUpdater=function(t,n,i){var o=function(){if(i)return null;return new _(function(e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];g(i)}try{t.setProperties(e)}finally{for(var o=0;o<n.length;o++){var a=n[o];m(a)}}},u.getGlobalChangeQueue())}(),a={},l={},d={},c={},p="Changed";function f(e){return e.$current||e.$data}function h(n,r,i){var o=a[r];if(o||(o=function(e){var t,n=f(e),r=function(r){t&&t(r,n,e)};return r.setListener=function(e){t=e},r}(n),a[r]=o,t.addEventListener(r,o)),null==i||i instanceof Function)o.setListener(i);else{var s=e.__AttributeUtils.eventTypeToEventListenerProperty(r),u="Invalid type '"+typeof i+"' found for attribute '"+e.__AttributeUtils.propertyNameToAttribute(s)+"'. Expected value of type 'function'.";if(!e.BaseCustomElementBridge||!e.BaseCustomElementBridge.getRegistered(t.tagName)){var l=t.tagName.toLowerCase()+" with id '"+t.id+"'";throw new Error(l+": "+u)}e.BaseCustomElementBridge.getInstance(t).throwError(t,u)}}function g(e){var t=c[e]||0;t+=1,c[e]=t}function m(e){var t=c[e];t?(t-=1,c[e]=0===t?null:t):s.error("Property count undefrlow")}this.setupExpression=function(i,a,v){if(v&&function(e,t){var n=e.split("."),r=t;n.shift();for(var i=0;i<n.length&&(r=r.properties);i++)r=r[n[i]];return r}(a,v)){var _=e.__AttributeUtils.getExpressionInfo(i),C=l[a];C&&(C.dispose(),l[a]=null);var y=d[a];if(y&&(t.removeEventListener(a+p,y),d[a]=null),v._domListener){var b=e.__AttributeUtils.eventListenerPropertyToEventType(a);h(n,b,null)}var B=v.readOnly,E=_.expr;if(E){var x=u.createEvaluator(E,n);if(!B){var A=!0;r.ignoreDependencies(function(){l[a]=r.computed(function(){var i,s,u,l=x(n),d=r.utils.unwrapObservable(l);if(v._domListener){var c=e.__AttributeUtils.eventListenerPropertyToEventType(a);h(n,c,d)}else Array.isArray(d)&&(d=d.slice()),v._eventListener&&d&&d instanceof Function&&(s=d,u=f(i=n),d=function(e){s(e,u,i)}),!A&&o?o.addChange(a,d):function(e,n){g(e);try{t.setProperty(e,n)}finally{m(e)}}(a,d)})}),A=!1}return v.writeback&&!_.downstreamOnly&&(d[a]=function(i,o,a){var l=i.split("."),d=l[0],f=function(t){if(!function(e){return c[e]}(d)){var p,f=!1;r.ignoreDependencies(function(){for(var i=t.detail.value,s=1;s<l.length;s++){var d=l[s];i=i[d]}var c=a(n);if(r.isObservable(c))r.isWriteableObservable(c)?(c(e.ComponentBinding.__cloneIfArray(i)),f=!0):p="the observable is not writeable";else{var h=e.__ExpressionUtils.getPropertyWriterExpression(o);if(null!=h){var g=u.createEvaluator(h,n);g(n)(e.ComponentBinding.__cloneIfArray(i)),f=!0}else p="the expression is not a valid update target"}}),f||p&&s.info("The expression '%s' for property '%s' was not updated because %s.",o,i,p)}};return t.addEventListener(d+p,f),f}(a,E,x)),!0}return!1}},this.teardown=function(){var e,n=Object.keys(l);for(e=0;e<n.length;e++){var r=l[n[e]];r&&r.dispose()}for(l={},n=Object.keys(d),e=0;e<n.length;e++){var i=n[e].split(".")[0];t.removeEventListener(i+p,d[i])}for(d={},n=Object.keys(a),e=0;e<n.length;e++){var s=n[e];t.removeEventListener(s,a[s])}a={},o&&o.dispose()}},function(){var t="_ojbindingsobj";function n(e,t,n,r){var a=o(e.getAttribute(n),r);if(a)return i(e,t,"ko "+t+":"+a)}function i(e,t,n){for(var r=e.tagName.toLowerCase(),i=r,o=e.attributes,a=0;a<o.length;a++){var s=o[a];i+=" ",i+=s.name,i+="='",i+=s.value,i+="'"}var u=e.parentNode,l=document.createComment(i),d=document.createComment("/"+r);u.insertBefore(l,e);var c=document.createComment(n),p=document.createComment("/ko");u.insertBefore(c,e);var f,h=[l,c];if("if"===t)for(;e.childNodes.length>0;)f=e.childNodes[0],u.insertBefore(f,e),h.push(f);else if("_ojBindForEach_"===t){for(;e.childNodes.length>0;)if(f=e.childNodes[0],u.insertBefore(f,e),h.push(f),1===f.nodeType&&"template"===f.nodeName.toLowerCase()){if(c._templateNode)throw new Error("Multiple templates found: oj-bind-for-each requires a single template element as its direct child");Object.defineProperty(c,"_templateNode",{value:f,enumerable:!1})}if(!c._templateNode)throw new Error("Template not found: oj-bind-for-each requires a single template element as its direct child")}return u.insertBefore(p,e),h.push(p),u.replaceChild(d,e),h.push(d),h}function o(t,n){if(null!=t){var r=e.__AttributeUtils.getExpressionInfo(t).expr;return null==r&&(r=n?"'"+t+"'":t),r}return null}function a(t,n,i,o,a){var s,l,d,c=e.__AttributeUtils.getExpressionInfo(o).expr;if(null==c)l=e.__AttributeUtils.coerceValue(i,"class",o,"any"),d=Array.isArray(l),s=function(){return d?l.join(" "):l};else{var p=(s=u.createEvaluator(c,a).bind(null,a))();"function"==typeof p?(l=p(),(d=Array.isArray(l))&&(s=r.pureComputed(function(){return p().join(" ")}))):(l=p,(d=Array.isArray(l))&&(s=function(){return l.join(" ")}))}"string"==typeof l||d?n.class=s:t.css=s}function s(t,n,r,i,o){var a=e.__AttributeUtils.getExpressionInfo(r).expr;return null==a?function(){return"object"===o?e.__AttributeUtils.coerceValue(t,n,r,o):r}:u.createEvaluator(a,i).bind(null,i)}function l(e){return function(){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];t[i]=e[i]()}return t}}function d(n){if(1!==n.nodeType)return{};if(!n[t]){for(var r=!!e.BaseCustomElementBridge&&!!e.BaseCustomElementBridge.getRegistered(n.nodeName),i={},o=[],a=[],s=[],u=n.attributes,l=0;l<u.length;l++){var d=u[l],p=c(d.name);p&&("style"===p?i._STYLE_BIND=p:"style."===p.substring(0,6)?a.push(p):o.push(p)),r||"on-"!==d.name.substring(0,3)||s.push(d)}if(a.length){if(i._STYLE_BIND)throw new Error("Cannot have both style and style.* data bound attributes on "+n.tagName+" with id "+n.id);i._STYLE_BIND=a}o.length&&(i._ATTR_BIND=o),s.length&&(i._EVENT_BIND=s),Object.defineProperty(n,t,{value:i})}return n[t]}function c(e){return e&&":"===e.charAt(0)?e.slice(1):null}function p(e){return":"+e}u.registerPreprocessor("oj-bind-text",function(e){return n(e,"text","value",!0)}),u.registerPreprocessor("oj-bind-if",function(e){return n(e,"if","test",!1)}),u.registerPreprocessor("oj-bind-for-each",function(t){var n=t.getAttribute("data"),r=e.__AttributeUtils.getExpressionInfo(n).expr;if(!r)try{var a=JSON.parse(n);if(!Array.isArray(a))throw new Error("got value "+n);r=n}catch(e){throw new Error("The value on the oj-bind-for-each data attribute should be either a JSON array or an expression : "+e)}var s=o(t.getAttribute("as"),!0);if(!r)return;var u="ko _ojBindForEach_:{data:"+r;return i(t,"_ojBindForEach_",u+=s?",as:"+s+"}":"}")}),u.addPostprocessor({nodeHasBindings:function(e,t){var n=d(e);return t||null!=n._ATTR_BIND||null!=n._STYLE_BIND||null!=n._EVENT_BIND},getBindingAccessors:function(t,n,i){if(1===t.nodeType){i=i||{};var o,u,c=d(t),f=c._STYLE_BIND;if(f){if(i.style)throw new Error("Cannot have both style data-bind and JET style binding on "+t.tagName+" with id "+t.id);if("style"===f)i[f]=s(t,f,t.getAttribute(p(f)),n,"object");else{var h={};for(o=0;o<f.length;o++){u=f[o],h[e.__AttributeUtils.attributeToPropertyName(u.substring(6))]=s(t,u,t.getAttribute(p(u)),n,"string")}i.style=l(h)}}var g=c._ATTR_BIND;if(g){if(i.attr)throw new Error("Cannot have both attr data-bind and JET attribute binding on "+t.tagName+" with id "+t.id);var m={};for(o=0;o<g.length;o++)"class"===(u=g[o])?a(i,m,t,t.getAttribute(p(u)),n):m[u]=s(t,u,t.getAttribute(p(u)),n,"string");i.attr=l(m)}var v=c._EVENT_BIND;if(v){var _=new e.__ExpressionPropertyUpdater(t,n,!0);for(o=0;o<v.length;o++){var C=v[o],y=e.__AttributeUtils.attributeToPropertyName(C.nodeName);_.setupExpression(C.value,y,{_domListener:!0})}r.utils.domNodeDisposal.addDisposeCallback(t,function(){_&&(_.teardown(),_=null)})}}return i}})}(),e._KnockoutBindingProvider=function(){this._resolveWhenChildrenBindingsApplied=function(t,n){var r=this._getChildrenBindingsAppliedPromises(t);if("none"===n||0===r.length)e.BaseCustomElementBridge.getInstance(t).resolveBindingProvider(this);else{for(var i=[];r.length>0;){var o=r.shift();("nearestCustomElement"===n||"immediate"===n&&!0===o.immediate)&&i.push(o.promiseCallback)}Promise.all(i).then(function(){this._resolveWhenChildrenBindingsApplied(t,n)}.bind(this))}},this._getChildrenBindingsAppliedPromises=function(e,t){return!e._whenChildrenBindingsApplied&&t&&Object.defineProperty(e,"_whenChildrenBindingsApplied",{value:[],enumerable:!1}),e._whenChildrenBindingsApplied||[]},this.__RegisterBindingAppliedPromiseForChildren=function(e,t){var n=null;if(e){var r=new Promise(function(e){n=e});this._getChildrenBindingsAppliedPromises(e,!0),e._whenChildrenBindingsApplied.push({immediate:t,promiseCallback:r})}return n},this.__NotifyBindingsApplied=function(t){var n=e.BaseCustomElementBridge.getTrackChildrenOption(t);this._resolveWhenChildrenBindingsApplied(t,n)}},e._KnockoutBindingProvider.getInstance=function(){return e._KnockoutBindingProvider._instance},e._KnockoutBindingProvider._instance=new e._KnockoutBindingProvider,e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["tooltip"],init:function(e,t,n,r,i,o,a){return N(e,t,a)},update:function(e,t,n,r,i,o,a){return N(e,t,a)},for:"tooltipOptionRenderer"}),function(){for(var t=["ojChart","ojDiagram","ojNBox","ojPictoChart","ojSunburst","ojTagCloud","ojThematicMap","ojTreemap","ojDialGauge","ojLedGauge","ojRatingGauge","ojSparkChart","ojStatusMeterGauge","ojGantt"],n=0;n<t.length;n++)e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:t[n],use:"tooltipOptionRenderer"})}(),function(){var t=document&&"function"==typeof document.createDocumentFragment;function o(e,t,n){return{status:"added",value:e,index:t,key:n}}function a(e){return{status:"deleted",value:{},index:e}}var s="_ko_ffe_pending_delete_index";function u(e,t,n){if(this.element=t.element||e,this.element._templateNode.__ojBindingContext=n,this.data=t.data,this.as=t.as,this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],r.virtualElements.emptyNode(this.element),this._initChildrenBindingsAppliedPromise(),this.data.fetchFirst)this.fetchData();else{var i=r.unwrap(this.data);this.onArrayChange(function(e,t){var n;if(e){var r=e.length;n=new Array(r);for(var i=0;i<r;i++)n[i]=t(e[i],i,e)}return n}(i,o))}this.addSubscriptions()}u.PENDING_DELETE_INDEX_KEY=s,u.prototype.addSubscriptions=function(){r.isObservable(this.data)?(this.data.indexOf||(this.data=this.data.extend({trackArrayChanges:!0})),this.changeSubs=this.data.subscribe(this.onArrayChange,this,"arrayChange")):this.data.fetchFirst&&(this.dataMutateHandler=this.handleDataMutateEvent.bind(this),this.dataRefreshHandler=this.handleDataRefreshEvent.bind(this),this.data.addEventListener("mutate",this.dataMutateHandler),this.data.addEventListener("refresh",this.dataRefreshHandler))},u.prototype.removeSubscriptions=function(){this.changeSubs?this.changeSubs.dispose():this.data.removeEventListener&&(this.data.removeEventListener("mutate",this.dataMutateHandler),this.data.removeEventListener("refresh",this.dataRefreshHandler))},u.prototype.registerBusyState=function(){var e=this.element.parentNode;return n.getContext(e).getBusyContext().addBusyState({description:"oj-bind-for-each binding on a node with the Id "+e.id+"is loading data."})},u.prototype._initChildrenBindingsAppliedPromise=function(){var t=this.element._templateNode.__ojBindingContext.$current,n=t?{_nearestCustomParent:t._nearestCustomParent,_immediate:t._immediate}:null,r=function(t,n){for(var r=t.parentNode;r&&!e.ElementUtils.isValidCustomElementName(r.localName);)r=r.parentNode;return r||(r=n?n._nearestCustomParent:null),r}(this.element,n),i=function(e,t,n){var r=!1,i=!!n;return e.parentNode===t?r=!0:i&&!e.parentNode.parentNode&&(r=n._immediate),r}(this.element,r,n);this.trackingContext={_nearestCustomParent:r,_immediate:i},this._childrenBindingsPromiseResolver=e._KnockoutBindingProvider.getInstance().__RegisterBindingAppliedPromiseForChildren(r,i)},u.prototype._resolveChildrenBindingsAppliedPromise=function(){this._childrenBindingsPromiseResolver&&(this._childrenBindingsPromiseResolver(),this._childrenBindingsPromiseResolver=null)},u.prototype.fetchData=function(){var e=this.registerBusyState(),t=this.data.fetchFirst({size:-1})[Symbol.asyncIterator](),n=function(r,i,a,s){return function(u){if(a.dataPromise===s){for(var l=u.value,d=r.length,c=0;c<l.metadata.length&&c<l.data.length;c++)r.push(o(l.data[c],d,l.metadata[c].key)),d+=1;if(u.done)i.call(a,r),e();else{var p=t.next();a.dataPromise=p,p.then(n(r,i,a,p),function(){e()})}}else e()}},r=t.next();this.dataPromise=r,r.then(n([],this.onArrayChange,this,r),function(){e()})},u.prototype.getIndexesForEvent=function(e,t){var n,r=[];if(Array.isArray(e))for(n=0;n<e.length;n++)r.push(e[n]);else if(t){var o=Array.isArray(t)?t.length:t.size,a=new i(t),s=new Map,u=0;for(n=0;n<this.firstLastNodesList.length&&u<o;n++){var l=this.firstLastNodesList[n].key,d=a.get(l);d!==a.NOT_A_KEY&&(s.set(d,n),u+=1)}t.forEach(function(e){r.push(s.get(e))})}return r},u.prototype.handleDataMutateEvent=function(e){var t,n,r,i,s=e.detail.add,u=e.detail.remove,l=e.detail.update,d=[],c=this;if(s){var p=s.data;t=s.keys,r=this.getIndexesForEvent(s.indexes,s.addBeforeKeys?s.addBeforeKeys:s.afterKeys);var f=function(e){var t=r.length>e?r[e]:this.firstLastNodesList.length+e;return void 0===t?this.firstLastNodesList.length:t};Array.isArray(p)?(n=0,t.forEach(function(e){d.push(o(p[n],f(n),e)),n+=1},this)):(i=this.registerBusyState(),this.data.fetchByKeys({keys:t}).then(function(e){if(e.results.size>0){var n=0;t.forEach(function(t){var r=e.results.get(t).data;d.push(o(r,f(n),t)),n+=1}),c.onArrayChange(d)}i()},function(){i()}))}else u?(r=(r=this.getIndexesForEvent(u.indexes,u.keys)).filter(function(e){return void 0!==e}),d=r.map(a)):l&&(t=l.keys,r=this.getIndexesForEvent(l.indexes,t),Array.isArray(l.data)?(n=0,t.forEach(function(e){void 0!==r[n]&&(d.push(a(r[n])),d.push(o(l.data[n],r[n],e))),n+=1})):(i=this.registerBusyState(),this.data.fetchByKeys({keys:t}).then(function(e){var n=0;e.results.size>0&&(t.forEach(function(t){if(void 0!==r[n]){var i=e.results.get(t).data;d.push(a(r[n])),d.push(o(i,r[n],t))}n+=1}),c.onArrayChange(d)),i()},function(){i()})));d.length>0&&this.onArrayChange(d)},u.prototype.handleDataRefreshEvent=function(){this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],r.virtualElements.emptyNode(this.element),this.fetchData()},u.prototype.onArrayChange=function(e){for(var t={added:[],deleted:[]},n=0,r=e.length;n<r;n++)if(t.added.length&&"added"===e[n].status){var i=t.added[t.added.length-1];(i.isBatch?i.index+i.values.length-1:i.index)+1===e[n].index?(i.isBatch||(i={isBatch:!0,status:"added",index:i.index,values:[i.value],keys:[i.key]},t.added.splice(t.added.length-1,1,i)),i.values.push(e[n].value),i.keys.push(e[n].key)):t[e[n].status].push(e[n])}else t[e[n].status].push(e[n]);t.deleted.length>0&&(this.changeQueue.push.apply(this.changeQueue,t.deleted),this.changeQueue.push({status:"clearDeletedIndexes"})),this.changeQueue.push.apply(this.changeQueue,t.added),this.changeQueue.length>0&&!this.rendering_queued&&(this.rendering_queued=!0,this.processQueue()),this._resolveChildrenBindingsAppliedPromise()},u.prototype.processQueue=function(){var e=this,t=9007199254740991;r.utils.arrayForEach(this.changeQueue,function(n){"number"==typeof n.index&&(t=Math.min(t,n.index)),e[n.status](n)}),this.flushPendingDeletes(),this.rendering_queued=!1,this.updateIndexes(t),this.changeQueue=[]},u.prototype.added=function(e){for(var t=e.index,n=e.isBatch?e.values:[e.value],i=e.isBatch?e.keys:[e.key],o=this.getLastNodeBeforeIndex(t),a=[],s=0,u=n.length;s<u;++s){var d,c,p=this.getPendingDeleteFor(n[s]);p&&p.nodesets.length?(d=p.nodesets.pop(),c=p.currentChildContext):(c={data:n[s],index:t+s,observableIndex:r.observable()},Object.defineProperties(c,{_nearestCustomParent:{value:this.trackingContext._nearestCustomParent,enumerable:!1},_immediate:{value:this.trackingContext._immediate,enumerable:!1}}),d=l.execute(this.element,this.element._templateNode,c,this.as)),a.push.apply(a,Array.prototype.slice.call(d)),this.firstLastNodesList.splice(t+s,0,{first:d[0],last:d[d.length-1],key:i?i[s]:null,currentChildContext:c})}this.insertAllAfter(a,o)},u.prototype.getNodesForIndex=function(e){var t=[],n=this.firstLastNodesList[e].first,r=this.firstLastNodesList[e].last;for(t.push(n);n&&n!==r;)n=n.nextSibling,t.push(n);return t},u.prototype.getLastNodeBeforeIndex=function(e){return e<1||e-1>=this.firstLastNodesList.length?null:this.firstLastNodesList[e-1].last},u.prototype.insertAllAfter=function(e,n){var i,o,a=this.element;if(1===e.length)r.virtualElements.insertAfter(a,e[0],n);else if(t){var s=document.createDocumentFragment();for(o=0,i=e.length;o!==i;++o)s.appendChild(e[o]);r.virtualElements.insertAfter(a,s,n)}else for(o=e.length-1;o>=0;--o){var u=e[o];if(!u)break;r.virtualElements.insertAfter(a,u,n)}return e},u.prototype.shouldDelayDeletion=function(e){return e&&("object"==typeof e||"function"==typeof e)},u.prototype.getPendingDeleteFor=function(e){var t=e&&e[s];return void 0===t?null:this.pendingDeletes[t]},u.prototype.getOrCreatePendingDeleteFor=function(e){var t=this.getPendingDeleteFor(e);return t||(t={data:e,nodesets:[]},e[s]=this.pendingDeletes.length,this.pendingDeletes.push(t),t)},u.prototype.deleted=function(e){if(this.shouldDelayDeletion(e.value)){var t=this.getOrCreatePendingDeleteFor(e.value);t.nodesets.push(this.getNodesForIndex(e.index)),t.currentChildContext=this.firstLastNodesList[e.index].currentChildContext}else this.removeNodes(this.getNodesForIndex(e.index));this.indexesToDelete.push(e.index)},u.prototype.removeNodes=function(e){if(e.length){!function(){for(var t=e[0].parentNode,n=e.length-1;n>=0;--n)l.clean(e[n]),t.removeChild(e[n])}()}},u.prototype.flushPendingDeletes=function(){for(var e=0,t=this.pendingDeletes.length;e!==t;++e){for(var n=this.pendingDeletes[e];n.nodesets.length;)this.removeNodes(n.nodesets.pop());n.data&&void 0!==n.data[s]&&delete n.data[s]}this.pendingDeletes=[]},u.prototype.clearDeletedIndexes=function(){for(var e=this.indexesToDelete.length-1;e>=0;--e)this.firstLastNodesList.splice(this.indexesToDelete[e],1);this.indexesToDelete=[]},u.prototype.updateIndexes=function(e){for(var t=e,n=this.firstLastNodesList.length;t<n;++t){var r=this.firstLastNodesList[t].currentChildContext;r&&r.observableIndex&&r.observableIndex(t)}},u.prototype.getData=function(){return this.data},u.prototype.setData=function(e){this.removeSubscriptions(),this.data=e,this.addSubscriptions()},r.bindingHandlers._ojBindForEach_={init:function(e,t,n,i,o){var a,s;return r.computed(function(){if(s=t(),a){var e,n,i=s.data,o=a.getData();r.ignoreDependencies(function(){e=r.unwrap(o),n=r.unwrap(i)});var u=r.utils.compareArrays(e,n,{sparse:!0,dontLimitMoves:!0});a.setData(i),a.onArrayChange(u)}},null,{disposeWhenNodeIsRemoved:e}),a=new u(e,s,o),r.utils.domNodeDisposal.addDisposeCallback(e,function(){a.removeSubscriptions()}),{controlsDescendantBindings:!0}}},r.virtualElements.allowedBindings._ojBindForEach_=!0}(),e.koStringTemplateEngine={},e.koStringTemplateEngine.install=function(){if(!r.templates){var e={},t={},n=new r.nativeTemplateEngine;n.makeTemplateSource=function(n,i){if("string"==typeof n){var o=(i=i||document).getElementById(n);return o?new r.templateSources.domElement(o):new function(n){this._templateName=n,this.text=function(t){if(!t)return e[this._templateName];e[this._templateName]=t},this.data=function(e,n){if(t[this._templateName]||(t[this._templateName]={}),1===arguments.length)return t[this._templateName][e];t[this._templateName][e]=n}}(n)}if(n&&1===n.nodeType||8===n.nodeType)return new r.templateSources.anonymousTemplate(n)},r.templates=e,r.setTemplateEngine(n)}},e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["item"],init:function(e,t,n,r,i,o,a){var s=D(e,t,a);if(null!=s)return s},update:function(e,t,n,r,i,o,a){return D(e,t,a)},for:"ojListViewRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"ojListView",use:"ojListViewRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"ojNavigationList",use:"ojListViewRenderer"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["center"],init:function(e,t,n,r,i,o,a){return j(e,t,a)},update:function(e,t,n,r,i,o,a){return j(e,t,a)},for:"ojStatusMeterGauge"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["rootNodeContent"],init:function(e,t,n,r,i,o,a){return T(e,t,a)},update:function(e,t,n,r,i,o,a){return T(e,t,a)},for:"ojSunburst"});function I(e,n,i){var o,a;return o=i,a=n,function(n){var i=null,s=null;if("header"===a)i=e.createChildContext(null,null,function(e){e.$columnIndex=n.columnIndex,e.$headerContext=n.headerContext,e.$data=n.data}),s=n.headerContext.parentElement;else if("cell"===a){var u=n.row;i=e.createChildContext(u,null,function(e){e.$columnIndex=n.columnIndex,e.$cellContext=n.cellContext}),s=n.cellContext.parentElement}"footer"===a&&(i=e.createChildContext(null,null,function(e){e.$columnIndex=n.columnIndex,e.$footerContext=n.footerContext}),s=n.footerContext.parentElement),r.renderTemplate(o,i,{afterRender:function(e){t(e)._ojDetectCleanData()}},s,"replaceNode")}}function P(e,n){return function(i){var o=i.row,a=e.createChildContext(o,null,function(e){e.$rowContext=i.rowContext});r.renderTemplate(n,a,{afterRender:function(e){t(e)._ojDetectCleanData()}},i.rowContext.parentElement,"replaceNode")}}function O(e,t,n){var r,i;if("areaLayers"===e){for(r=0;r<t.length;r++){var o=t[r].areaDataLayer;o&&null!=(i=o.template)&&(o._templateRenderer=A(n,i))}return{areaLayers:t}}if("pointDataLayers"===e){for(r=0;r<t.length;r++)null!=(i=t[r].template)&&(t[r]._templateRenderer=A(n,i));return{pointDataLayers:t}}return null}function k(e,t,n){return"nodeContent"===e&&t.template&&(t._renderer=x(n,t.template)),{nodeContent:t}}e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["columns","columnsDefault","rowTemplate"],init:function(e,t,n,r,i,o,a){if("columns"===e||"columnsDefault"===e){for(var s=0;s<t.length;s++){var u=t[s],l=u.template,d=u.footerTemplate,c=u.headerTemplate;null!=l&&(u.renderer=I(a,"cell",l)),null!=d&&(u.footerRenderer=I(a,"footer",d)),null!=c&&(u.headerRenderer=I(a,"header",c))}return"columns"===e?{columns:t}:{columnsDefault:t}}if("rowTemplate"===e)return{rowRenderer:P(a,t)}},update:function(e,t,n,r,i,o,a){if("columns"===e||"columnsDefault"===e){for(var s=0;s<t.length;s++){var u=t[s],l=u.template,d=u.footerTemplate,c=u.headerTemplate;null!=l&&(u.renderer=I(a,"cell",l)),null!=d&&(u.footerRenderer=I(a,"footer",d)),null!=c&&(u.headerRenderer=I(a,"header",c))}r("columns"===e?{columns:t}:{columnsDefault:t})}else if("rowTemplate"===e)return{rowRenderer:P(a,t)};return null},for:"ojTable"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["areaLayers","pointDataLayers"],init:function(e,t,n,r,i,o,a){return O(e,t,a)},update:function(e,t,n,r,i,o,a){return O(e,t,a)},for:"ojThematicMap"}),e.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["nodeContent"],init:function(e,t,n,r,i,o,a){return k(e,t,a)},update:function(e,t,n,r,i,o,a){return k(e,t,a)},for:"ojTreemap"})});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojmessaging',["ojs/ojcore","jquery"],function(e,s){"use strict";e.Message=function(e,s,t){this.Init(e,s,t)},e.Message.SEVERITY_TYPE={CONFIRMATION:"confirmation",INFO:"info",WARNING:"warning",ERROR:"error",FATAL:"fatal"},e.Message.SEVERITY_LEVEL={FATAL:5,ERROR:4,WARNING:3,INFO:2,CONFIRMATION:1},e.Object.createSubclass(e.Message,e.Object,"oj.Message"),e.Message.prototype.Init=function(s,t,n){e.Message.superclass.Init.call(this),this.summary=s,this.detail=t,this.severity=n||e.Message.SEVERITY_TYPE.ERROR},e.Message.getSeverityLevel=function(s){var t=s;if(t)if("string"==typeof s){var n=e.Message._LEVEL_TO_TYPE.indexOf(t,1);t=-1===n?e.Message.SEVERITY_LEVEL.ERROR:n}else"number"==typeof t&&(t<e.Message.SEVERITY_LEVEL.CONFIRMATION||t>e.Message.SEVERITY_LEVEL.FATAL)&&(t=e.Message.SEVERITY_LEVEL.ERROR);return t||e.Message.SEVERITY_LEVEL.ERROR},e.Message.getSeverityType=function(s){var t=s;t&&("string"==typeof t?-1===e.Message._LEVEL_TO_TYPE.indexOf(t,1)&&(t=e.Message.SEVERITY_TYPE.ERROR):"number"==typeof t&&(t=t<e.Message.SEVERITY_LEVEL.CONFIRMATION||t>e.Message.SEVERITY_LEVEL.FATAL?e.Message.SEVERITY_TYPE.ERROR:e.Message._LEVEL_TO_TYPE[s]));return t||e.Message.SEVERITY_TYPE.ERROR},e.Message.getMaxSeverity=function(t){var n=-1;return t&&t.length>0&&s.each(t,function(s,t){var o=e.Message.getSeverityLevel(t.severity);n=n<o?o:n}),n},e.Message.isValid=function(s){return!(e.Message.getMaxSeverity(s)>=e.Message.SEVERITY_LEVEL.ERROR)},e.Message._LEVEL_TO_TYPE=["none",e.Message.SEVERITY_TYPE.CONFIRMATION,e.Message.SEVERITY_TYPE.INFO,e.Message.SEVERITY_TYPE.WARNING,e.Message.SEVERITY_TYPE.ERROR,e.Message.SEVERITY_TYPE.FATAL];e.Message;return e.ComponentMessage=function(e,s,t,n){this.Init(e,s,t,n)},e.Object.createSubclass(e.ComponentMessage,e.Message,"oj.ComponentMessage"),e.ComponentMessage.DISPLAY={SHOWN:"shown",HIDDEN:"hidden"},e.ComponentMessage._DEFAULT_OPTIONS={display:e.ComponentMessage.DISPLAY.SHOWN,context:""},e.ComponentMessage.prototype.Init=function(t,n,o,E){e.ComponentMessage.superclass.Init.call(this,t,n,o),this._options=s.extend({},e.ComponentMessage._DEFAULT_OPTIONS,E)},e.ComponentMessage.prototype.clone=function(){return new e.ComponentMessage(this.summary,this.detail,this.severity,this._options)},e.ComponentMessage.prototype.canDisplay=function(){return!(this._options&&this._options.display&&this._options.display===e.ComponentMessage.DISPLAY.HIDDEN)},e.ComponentMessage.prototype._forceDisplayToShown=function(){return!(!this._options||e.ComponentMessage.DISPLAY.HIDDEN!==this._options.display)&&(this._options.display=e.ComponentMessage.DISPLAY.SHOWN,!0)},e.ComponentMessage.prototype._isMessageAddedByComponent=function(){return!(!this._options||!this._options.context)},e.Message});
!function(i){"function"==typeof define&&define.amd?define('jqueryui-amd/unique-id',["jquery","./version"],i):i(jQuery)}(function(i){return i.fn.extend({uniqueId:(n=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&i(this).removeAttr("id")})}});var n});
!function(E){"function"==typeof define&&define.amd?define('jqueryui-amd/keycode',["jquery","./version"],E):E(jQuery)}(function(E){return E.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/focusable',["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.focusable=function(i,t){var n,a,r,s,o,u=i.nodeName.toLowerCase();return"area"===u?(a=(n=i.parentNode).name,!(!i.href||!a||"map"!==n.nodeName.toLowerCase())&&((r=e("img[usemap='#"+a+"']")).length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(u)?(s=!i.disabled)&&(o=e(i).closest("fieldset")[0])&&(s=!o.disabled):s="a"===u&&i.href||t,s&&e(i).is(":visible")&&function(e){var i=e.css("visibility");for(;"inherit"===i;)e=e.parent(),i=e.css("visibility");return"hidden"!==i}(e(i)))},e.extend(e.expr[":"],{focusable:function(i){return e.ui.focusable(i,null!=e.attr(i,"tabindex"))}}),e.ui.focusable});
!function(e){"function"==typeof define&&define.amd?define('jqueryui-amd/tabbable',["jquery","./version","./focusable"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{tabbable:function(n){var t=e.attr(n,"tabindex"),u=null!=t;return(!u||t>=0)&&e.ui.focusable(n,u)}})});
(function(){
'use strict';var h=new function(){};var aa=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function m(b){var a=aa.has(b);b=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(b);return!a&&b}function n(b){var a=b.isConnected;if(void 0!==a)return a;for(;b&&!(b.__CE_isImportDocument||b instanceof Document);)b=b.parentNode||(window.ShadowRoot&&b instanceof ShadowRoot?b.host:void 0);return!(!b||!(b.__CE_isImportDocument||b instanceof Document))}
function p(b,a){for(;a&&a!==b&&!a.nextSibling;)a=a.parentNode;return a&&a!==b?a.nextSibling:null}
function t(b,a,c){c=c?c:new Set;for(var d=b;d;){if(d.nodeType===Node.ELEMENT_NODE){var e=d;a(e);var f=e.localName;if("link"===f&&"import"===e.getAttribute("rel")){d=e.import;if(d instanceof Node&&!c.has(d))for(c.add(d),d=d.firstChild;d;d=d.nextSibling)t(d,a,c);d=p(b,e);continue}else if("template"===f){d=p(b,e);continue}if(e=e.__CE_shadowRoot)for(e=e.firstChild;e;e=e.nextSibling)t(e,a,c)}d=d.firstChild?d.firstChild:p(b,d)}}function u(b,a,c){b[a]=c};function v(){this.a=new Map;this.s=new Map;this.f=[];this.b=!1}function ba(b,a,c){b.a.set(a,c);b.s.set(c.constructor,c)}function w(b,a){b.b=!0;b.f.push(a)}function x(b,a){b.b&&t(a,function(a){return y(b,a)})}function y(b,a){if(b.b&&!a.__CE_patched){a.__CE_patched=!0;for(var c=0;c<b.f.length;c++)b.f[c](a)}}function z(b,a){var c=[];t(a,function(b){return c.push(b)});for(a=0;a<c.length;a++){var d=c[a];1===d.__CE_state?b.connectedCallback(d):A(b,d)}}
function B(b,a){var c=[];t(a,function(b){return c.push(b)});for(a=0;a<c.length;a++){var d=c[a];1===d.__CE_state&&b.disconnectedCallback(d)}}
function C(b,a,c){c=c?c:{};var d=c.w||new Set,e=c.i||function(a){return A(b,a)},f=[];t(a,function(a){if("link"===a.localName&&"import"===a.getAttribute("rel")){var c=a.import;c instanceof Node&&(c.__CE_isImportDocument=!0,c.__CE_hasRegistry=!0);c&&"complete"===c.readyState?c.__CE_documentLoadHandled=!0:a.addEventListener("load",function(){var c=a.import;if(!c.__CE_documentLoadHandled){c.__CE_documentLoadHandled=!0;var f=new Set(d);f.delete(c);C(b,c,{w:f,i:e})}})}else f.push(a)},d);if(b.b)for(a=0;a<
f.length;a++)y(b,f[a]);for(a=0;a<f.length;a++)e(f[a])}
function A(b,a){if(void 0===a.__CE_state){var c=a.ownerDocument;if(c.defaultView||c.__CE_isImportDocument&&c.__CE_hasRegistry)if(c=b.a.get(a.localName)){c.constructionStack.push(a);var d=c.constructor;try{try{if(new d!==a)throw Error("The custom element constructor did not produce the element being upgraded.");}finally{c.constructionStack.pop()}}catch(r){throw a.__CE_state=2,r;}a.__CE_state=1;a.__CE_definition=c;if(c.attributeChangedCallback)for(c=c.observedAttributes,d=0;d<c.length;d++){var e=c[d],
f=a.getAttribute(e);null!==f&&b.attributeChangedCallback(a,e,null,f,null)}n(a)&&b.connectedCallback(a)}}}v.prototype.connectedCallback=function(b){var a=b.__CE_definition;a.connectedCallback&&a.connectedCallback.call(b)};v.prototype.disconnectedCallback=function(b){var a=b.__CE_definition;a.disconnectedCallback&&a.disconnectedCallback.call(b)};
v.prototype.attributeChangedCallback=function(b,a,c,d,e){var f=b.__CE_definition;f.attributeChangedCallback&&-1<f.observedAttributes.indexOf(a)&&f.attributeChangedCallback.call(b,a,c,d,e)};function D(b,a){this.c=b;this.a=a;this.b=void 0;C(this.c,this.a);"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function E(b){b.b&&b.b.disconnect()}D.prototype.f=function(b){var a=this.a.readyState;"interactive"!==a&&"complete"!==a||E(this);for(a=0;a<b.length;a++)for(var c=b[a].addedNodes,d=0;d<c.length;d++)C(this.c,c[d])};function ca(){var b=this;this.b=this.a=void 0;this.f=new Promise(function(a){b.b=a;b.a&&a(b.a)})}function F(b){if(b.a)throw Error("Already resolved.");b.a=void 0;b.b&&b.b(void 0)};function G(b){this.j=!1;this.c=b;this.o=new Map;this.l=function(b){return b()};this.g=!1;this.m=[];this.u=new D(b,document)}
G.prototype.define=function(b,a){var c=this;if(!(a instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!m(b))throw new SyntaxError("The element name '"+b+"' is not valid.");if(this.c.a.get(b))throw Error("A custom element with name '"+b+"' has already been defined.");if(this.j)throw Error("A custom element is already being defined.");this.j=!0;var d,e,f,r,k;try{var g=function(b){var a=l[b];if(void 0!==a&&!(a instanceof Function))throw Error("The '"+b+"' callback must be a function.");
return a},l=a.prototype;if(!(l instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");d=g("connectedCallback");e=g("disconnectedCallback");f=g("adoptedCallback");r=g("attributeChangedCallback");k=a.observedAttributes||[]}catch(q){return}finally{this.j=!1}a={localName:b,constructor:a,connectedCallback:d,disconnectedCallback:e,adoptedCallback:f,attributeChangedCallback:r,observedAttributes:k,constructionStack:[]};ba(this.c,b,a);this.m.push(a);this.g||
(this.g=!0,this.l(function(){return da(c)}))};G.prototype.i=function(b){C(this.c,b)};function da(b){if(!1!==b.g){b.g=!1;for(var a=b.m,c=[],d=new Map,e=0;e<a.length;e++)d.set(a[e].localName,[]);C(b.c,document,{i:function(a){if(void 0===a.__CE_state){var e=a.localName,f=d.get(e);f?f.push(a):b.c.a.get(e)&&c.push(a)}}});for(e=0;e<c.length;e++)A(b.c,c[e]);for(;0<a.length;){for(var f=a.shift(),e=f.localName,f=d.get(f.localName),r=0;r<f.length;r++)A(b.c,f[r]);(e=b.o.get(e))&&F(e)}}}
G.prototype.get=function(b){if(b=this.c.a.get(b))return b.constructor};G.prototype.whenDefined=function(b){if(!m(b))return Promise.reject(new SyntaxError("'"+b+"' is not a valid custom element name."));var a=this.o.get(b);if(a)return a.f;a=new ca;this.o.set(b,a);this.c.a.get(b)&&!this.m.some(function(a){return a.localName===b})&&F(a);return a.f};G.prototype.v=function(b){E(this.u);var a=this.l;this.l=function(c){return b(function(){return a(c)})}};window.CustomElementRegistry=G;
G.prototype.define=G.prototype.define;G.prototype.upgrade=G.prototype.i;G.prototype.get=G.prototype.get;G.prototype.whenDefined=G.prototype.whenDefined;G.prototype.polyfillWrapFlushCallback=G.prototype.v;var H=window.Document.prototype.createElement,I=window.Document.prototype.createElementNS,ea=window.Document.prototype.importNode,fa=window.Document.prototype.prepend,ga=window.Document.prototype.append,ha=window.DocumentFragment.prototype.prepend,ia=window.DocumentFragment.prototype.append,J=window.Node.prototype.cloneNode,K=window.Node.prototype.appendChild,L=window.Node.prototype.insertBefore,M=window.Node.prototype.removeChild,N=window.Node.prototype.replaceChild,O=Object.getOwnPropertyDescriptor(window.Node.prototype,
"textContent"),P=window.Element.prototype.attachShadow,Q=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),R=window.Element.prototype.getAttribute,S=window.Element.prototype.setAttribute,T=window.Element.prototype.removeAttribute,U=window.Element.prototype.getAttributeNS,ja=window.Element.prototype.setAttributeNS,ka=window.Element.prototype.removeAttributeNS,la=window.Element.prototype.insertAdjacentElement,ma=window.Element.prototype.insertAdjacentHTML,na=window.Element.prototype.prepend,
oa=window.Element.prototype.append,V=window.Element.prototype.before,pa=window.Element.prototype.after,qa=window.Element.prototype.replaceWith,ra=window.Element.prototype.remove,sa=window.HTMLElement,W=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),ta=window.HTMLElement.prototype.insertAdjacentElement,ua=window.HTMLElement.prototype.insertAdjacentHTML;function va(){var b=X;window.HTMLElement=function(){function a(){var a=this.constructor,d=b.s.get(a);if(!d)throw Error("The custom element being constructed was not registered with `customElements`.");var e=d.constructionStack;if(!e.length)return e=H.call(document,d.localName),Object.setPrototypeOf(e,a.prototype),e.__CE_state=1,e.__CE_definition=d,y(b,e),e;var d=e.length-1,f=e[d];if(f===h)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");
e[d]=h;Object.setPrototypeOf(f,a.prototype);y(b,f);return f}a.prototype=sa.prototype;Object.defineProperty(a.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:a});return a}()};function Y(b,a,c){function d(a){return function(c){for(var e=[],d=0;d<arguments.length;++d)e[d-0]=arguments[d];for(var d=[],f=[],l=0;l<e.length;l++){var q=e[l];q instanceof Element&&n(q)&&f.push(q);if(q instanceof DocumentFragment)for(q=q.firstChild;q;q=q.nextSibling)d.push(q);else d.push(q)}a.apply(this,e);for(e=0;e<f.length;e++)B(b,f[e]);if(n(this))for(e=0;e<d.length;e++)f=d[e],f instanceof Element&&z(b,f)}}c.h&&(a.prepend=d(c.h));c.append&&(a.append=d(c.append))};function wa(){var b=X;u(Document.prototype,"createElement",function(a){if(this.__CE_hasRegistry){var c=b.a.get(a);if(c)return new c.constructor}a=H.call(this,a);y(b,a);return a});u(Document.prototype,"importNode",function(a,c){a=ea.call(this,a,c);this.__CE_hasRegistry?C(b,a):x(b,a);return a});u(Document.prototype,"createElementNS",function(a,c){if(this.__CE_hasRegistry&&(null===a||"http://www.w3.org/1999/xhtml"===a)){var d=b.a.get(c);if(d)return new d.constructor}a=I.call(this,a,c);y(b,a);return a});
Y(b,Document.prototype,{h:fa,append:ga})};function xa(){var b=X;function a(a,d){Object.defineProperty(a,"textContent",{enumerable:d.enumerable,configurable:!0,get:d.get,set:function(a){if(this.nodeType===Node.TEXT_NODE)d.set.call(this,a);else{var e=void 0;if(this.firstChild){var c=this.childNodes,k=c.length;if(0<k&&n(this))for(var e=Array(k),g=0;g<k;g++)e[g]=c[g]}d.set.call(this,a);if(e)for(a=0;a<e.length;a++)B(b,e[a])}}})}u(Node.prototype,"insertBefore",function(a,d){if(a instanceof DocumentFragment){var e=Array.prototype.slice.apply(a.childNodes);
a=L.call(this,a,d);if(n(this))for(d=0;d<e.length;d++)z(b,e[d]);return a}e=n(a);d=L.call(this,a,d);e&&B(b,a);n(this)&&z(b,a);return d});u(Node.prototype,"appendChild",function(a){if(a instanceof DocumentFragment){var c=Array.prototype.slice.apply(a.childNodes);a=K.call(this,a);if(n(this))for(var e=0;e<c.length;e++)z(b,c[e]);return a}c=n(a);e=K.call(this,a);c&&B(b,a);n(this)&&z(b,a);return e});u(Node.prototype,"cloneNode",function(a){a=J.call(this,a);this.ownerDocument.__CE_hasRegistry?C(b,a):x(b,a);
return a});u(Node.prototype,"removeChild",function(a){var c=n(a),e=M.call(this,a);c&&B(b,a);return e});u(Node.prototype,"replaceChild",function(a,d){if(a instanceof DocumentFragment){var e=Array.prototype.slice.apply(a.childNodes);a=N.call(this,a,d);if(n(this))for(B(b,d),d=0;d<e.length;d++)z(b,e[d]);return a}var e=n(a),f=N.call(this,a,d),c=n(this);c&&B(b,d);e&&B(b,a);c&&z(b,a);return f});O&&O.get?a(Node.prototype,O):w(b,function(b){a(b,{enumerable:!0,configurable:!0,get:function(){for(var a=[],b=
0;b<this.childNodes.length;b++)a.push(this.childNodes[b].textContent);return a.join("")},set:function(a){for(;this.firstChild;)M.call(this,this.firstChild);K.call(this,document.createTextNode(a))}})})};function ya(b){var a=Element.prototype;function c(a){return function(e){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];for(var d=[],k=[],g=0;g<c.length;g++){var l=c[g];l instanceof Element&&n(l)&&k.push(l);if(l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)d.push(l);else d.push(l)}a.apply(this,c);for(c=0;c<k.length;c++)B(b,k[c]);if(n(this))for(c=0;c<d.length;c++)k=d[c],k instanceof Element&&z(b,k)}}V&&(a.before=c(V));V&&(a.after=c(pa));qa&&u(a,"replaceWith",function(a){for(var e=
[],c=0;c<arguments.length;++c)e[c-0]=arguments[c];for(var c=[],d=[],k=0;k<e.length;k++){var g=e[k];g instanceof Element&&n(g)&&d.push(g);if(g instanceof DocumentFragment)for(g=g.firstChild;g;g=g.nextSibling)c.push(g);else c.push(g)}k=n(this);qa.apply(this,e);for(e=0;e<d.length;e++)B(b,d[e]);if(k)for(B(b,this),e=0;e<c.length;e++)d=c[e],d instanceof Element&&z(b,d)});ra&&u(a,"remove",function(){var a=n(this);ra.call(this);a&&B(b,this)})};function za(){var b=X;function a(a,c){Object.defineProperty(a,"innerHTML",{enumerable:c.enumerable,configurable:!0,get:c.get,set:function(a){var e=this,d=void 0;n(this)&&(d=[],t(this,function(a){a!==e&&d.push(a)}));c.set.call(this,a);if(d)for(var f=0;f<d.length;f++){var r=d[f];1===r.__CE_state&&b.disconnectedCallback(r)}this.ownerDocument.__CE_hasRegistry?C(b,this):x(b,this);return a}})}function c(a,c){u(a,"insertAdjacentElement",function(a,e){var d=n(e);a=c.call(this,a,e);d&&B(b,e);n(a)&&z(b,e);
return a})}function d(a,c){function e(a,e){for(var c=[];a!==e;a=a.nextSibling)c.push(a);for(e=0;e<c.length;e++)C(b,c[e])}u(a,"insertAdjacentHTML",function(a,b){a=a.toLowerCase();if("beforebegin"===a){var d=this.previousSibling;c.call(this,a,b);e(d||this.parentNode.firstChild,this)}else if("afterbegin"===a)d=this.firstChild,c.call(this,a,b),e(this.firstChild,d);else if("beforeend"===a)d=this.lastChild,c.call(this,a,b),e(d||this.firstChild,null);else if("afterend"===a)d=this.nextSibling,c.call(this,
a,b),e(this.nextSibling,d);else throw new SyntaxError("The value provided ("+String(a)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");})}P&&u(Element.prototype,"attachShadow",function(a){return this.__CE_shadowRoot=a=P.call(this,a)});Q&&Q.get?a(Element.prototype,Q):W&&W.get?a(HTMLElement.prototype,W):w(b,function(b){a(b,{enumerable:!0,configurable:!0,get:function(){return J.call(this,!0).innerHTML},set:function(a){var b="template"===this.localName,e=b?this.content:this,
c=I.call(document,this.namespaceURI,this.localName);for(c.innerHTML=a;0<e.childNodes.length;)M.call(e,e.childNodes[0]);for(a=b?c.content:c;0<a.childNodes.length;)K.call(e,a.childNodes[0])}})});u(Element.prototype,"setAttribute",function(a,c){if(1!==this.__CE_state)return S.call(this,a,c);var e=R.call(this,a);S.call(this,a,c);c=R.call(this,a);b.attributeChangedCallback(this,a,e,c,null)});u(Element.prototype,"setAttributeNS",function(a,c,d){if(1!==this.__CE_state)return ja.call(this,a,c,d);var e=U.call(this,
a,c);ja.call(this,a,c,d);d=U.call(this,a,c);b.attributeChangedCallback(this,c,e,d,a)});u(Element.prototype,"removeAttribute",function(a){if(1!==this.__CE_state)return T.call(this,a);var c=R.call(this,a);T.call(this,a);null!==c&&b.attributeChangedCallback(this,a,c,null,null)});u(Element.prototype,"removeAttributeNS",function(a,c){if(1!==this.__CE_state)return ka.call(this,a,c);var d=U.call(this,a,c);ka.call(this,a,c);var e=U.call(this,a,c);d!==e&&b.attributeChangedCallback(this,c,d,e,a)});ta?c(HTMLElement.prototype,
ta):la?c(Element.prototype,la):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched.");ua?d(HTMLElement.prototype,ua):ma?d(Element.prototype,ma):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched.");Y(b,Element.prototype,{h:na,append:oa});ya(b)};/*

 Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
var Z=window.customElements;if(!Z||Z.forcePolyfill||"function"!=typeof Z.define||"function"!=typeof Z.get){var X=new v;va();wa();Y(X,DocumentFragment.prototype,{h:ha,append:ia});xa();za();document.__CE_hasRegistry=!0;var customElements=new G(X);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:customElements})};
}).call(self);

//# sourceMappingURL=custom-elements.min.js.map
;
define("customElements", function(){});

/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojcustomelement',["ojs/ojcore","require","ojs/ojlogger","ojs/ojcontext","promise","customElements"],function(e,t,r,n){"use strict";e.BaseCustomElementBridge={},e.BaseCustomElementBridge.proto={getClass:function(t){var r=Object.create(HTMLElement.prototype);this.InitializePrototype(r);var n=this.GetMetadata(t);e.BaseCustomElementBridge._enumerateMetadataForKey(r,n,"properties",this.DefinePropertyCallback.bind(this)),e.BaseCustomElementBridge._enumerateMetadataForKey(r,n,"methods",this.DefineMethodCallback.bind(this)),this.AddComponentMethods(r),r.setProperties=function(t){e.BaseCustomElementBridge.getInstance(this)._setProperties(this,t)},Object.defineProperty(r,"set",{value:function(e,t){this.setProperty(e,t)}}),Object.defineProperty(r,"unset",{value:function(e){this.setProperty(e,void 0)}}),r.attributeChangedCallback=this._attributeChangedCallback,r.connectedCallback=this._connectedCallback,r.disconnectedCallback=this._detachedCallback;var i=function(){var e=window.Reflect;return void 0!==e?e.construct(HTMLElement,[],this.constructor):HTMLElement.call(this)},o=this;return Object.defineProperty(i,"observedAttributes",{get:function(){return o.GetAttributes(n)}}),Object.defineProperty(r,"constructor",{value:i,writable:!0,configurable:!0}),i.prototype=r,Object.setPrototypeOf(i,HTMLElement),i},playbackEarlyPropertySets:function(e){this._bCanSetProperty=!0,this.PlaybackEarlyPropertySets(e)},resolveBindingProvider:function(e){this._bpResolve?this._bpResolve(e):this._bpInst=e},resolveDelayedReadyPromise:function(){this.GetDelayedReadyPromise().resolvePromise()},whenCreated:function(){return this._whenCreatedPromise},AddComponentMethods:function(e){},CreateComponent:function(e){},DefineMethodCallback:function(e,t,r){},DefinePropertyCallback:function(e,t,r){},GetDelayedReadyPromise:function(){return this._delayedReady||(this._delayedReady=new e.BaseCustomElementBridge.__DelayedPromise),this._delayedReady},GetAttributes:function(t){return e.BaseCustomElementBridge.getAttributes(t.properties)},GetMetadata:function(t){return t[e.BaseCustomElementBridge.DESC_KEY_META]},GetAliasForProperty:function(e){return e},GetDefaultValue:function(t){return e.BaseCustomElementBridge._consolidateDefaults(t)},GetTrackChildrenOption:function(){return this.METADATA.extension&&this.METADATA.extension._TRACK_CHILDREN?this.METADATA.extension._TRACK_CHILDREN:"none"},HandleAttributeChanged:function(e,t,r,n){},HandleBindingsApplied:function(e,t){},HandleDetached:function(e){},HandleReattached:function(e){},InitializeElement:function(e){},InitializePrototype:function(e){},BatchedPropertySet:function(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e.setProperty(i,t[i])}},GetEventListenerProperty:function(t){var r=e.__AttributeUtils.eventListenerPropertyToEventType(t),n=this._eventListeners[r];if(n)return n.getListener()},GetProperty:function(t,r,n){var i=e.__AttributeUtils.eventListenerPropertyToEventType(r),o=e.BaseCustomElementBridge.__GetPropertyMetadata(r,e.BaseCustomElementBridge.getProperties(this,t));return i||!o||-1===r.indexOf(".")?n[r]:e.BaseCustomElementBridge.__GetProperty(n,r)},InitializeBridge:function(t){var r=e.BaseCustomElementBridge.__GetDescriptor(t.tagName);this.METADATA=this.GetMetadata(r),this._eventListeners={}},PlaybackEarlyPropertySets:function(e){if(this._earlySets)for(;this._earlySets.length;){var t=this._earlySets.shift();e.setProperty(t.property,t.value)}},SaveEarlyPropertySet:function(e,t){return!this.__INITIALIZING_PROPS&&!this._bCanSetProperty&&(this._earlySets||(this._earlySets=[]),this._earlySets.push({property:e,value:t}),!0)},SetEventListenerProperty:function(t,r,n){var i=e.__AttributeUtils.eventListenerPropertyToEventType(r),o=this._eventListeners[i];o||(o=this._createEventListenerWrapper(),this._eventListeners[i]=o,t.addEventListener(i,o)),null==n||n instanceof Function?o.setListener(n):e.BaseCustomElementBridge.__ThrowTypeError(t,r,n,"function")},SetProperty:function(t,r,n,i,o){var s=e.__AttributeUtils.eventListenerPropertyToEventType(r),a=e.BaseCustomElementBridge.__GetPropertyMetadata(r,e.BaseCustomElementBridge.getProperties(this,t));if(s||!a)t[r]=n;else{var l=t.getProperty(r),u=r.split(".")[0],d=i[u];if(e.CollectionUtils.isPlainObject(d)&&(d=e.CollectionUtils.copyInto({},d,void 0,!0)),!e.BaseCustomElementBridge.__CompareOptionValues(r,a,n,l)){var m=-1!==r.indexOf(".");if(m&&(this._SKIP_PROP_CHANGE_EVENT=!0),o?this.ValidateAndSetProperty(this.GetAliasForProperty.bind(this),i,r,n,t):e.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),i,r,n),this._SKIP_PROP_CHANGE_EVENT=!1,m){var c={};c.path=r,c.value=n,c.previousValue=l;var g=o?"external":"internal";e.BaseCustomElementBridge.__FirePropertyChangeEvent(t,u,i[u],d,g,c)}return{property:u,propertySet:!0,isSubproperty:m}}}return{property:null,propertySet:!1,isSubproperty:!1}},ValidateAndSetProperty:function(t,r,n,i,o){var s=this.ValidatePropertySet(o,n,i);e.BaseCustomElementBridge.__SetProperty(t,r,n,s)},ValidatePropertySet:function(t,n,i){var o=e.BaseCustomElementBridge.getProperties(this,t),s=e.BaseCustomElementBridge.__GetPropertyMetadata(n,o),a=n.split(".");if(s)return o[a[0]].readOnly&&this.throwError(t,"Read-only property '"+n+"' cannot be set."),e.BaseCustomElementBridge.checkEnumValues(t,n,i,s),null!=i?e.BaseCustomElementBridge.checkType(t,n,i,s):i;r.warn(e.BaseCustomElementBridge.getElementInfo(t)+": Ignoring property set for undefined property '"+n+"'.")},_attributeChangedCallback:function(t,r,n){var i=e.BaseCustomElementBridge.getInstance(this);if(i._bCreateCalled){var o=e.__AttributeUtils.attributeToPropertyName(t),s=e.BaseCustomElementBridge.__GetPropertyMetadata(o,e.BaseCustomElementBridge.getProperties(i,this));e.BaseCustomElementBridge.__CheckOverlappingAttribute(this,t),null===n&&(n=void 0);var a={detail:{attribute:t,value:n,previousValue:r}};this.dispatchEvent(new CustomEvent("attribute-changed",a)),e.__AttributeUtils.getExpressionInfo(n).expr||(s&&this.setProperty(o,e.BaseCustomElementBridge.__ParseAttrValue(this,t,o,n,s)),i.HandleAttributeChanged(this,t,r,n))}},_connected:function(t){if(this._bConnected=!0,this._bCreateCalled)this._complete?this.HandleReattached(t):this._registerBusyState(t);else{this._bCreateCalled=!0,this._registerBusyState(t),this._monitorReadyPromise(t),this.InitializeElement(t);var r=this,n=this._getBindingProvider(t);"none"!==e.BaseCustomElementBridge.getTrackChildrenOption(t)&&(n=n.then(function(){return r._whenChildrenCreated(t)})),this._whenCreatedPromise=n.then(function(){try{r.CreateComponent(t)}catch(e){r.throwError(t,"Error while rendering component. "+e)}})}},_connectedCallback:function(){e.BaseCustomElementBridge.getInstance(this)._connected(this)},_detachedCallback:function(){var t=e.BaseCustomElementBridge.getInstance(this);t._bConnected=!1,t._complete?t.HandleDetached(this):t._resolveBusyState(this)},_createEventListenerWrapper:function(){var e,t=function(t){e&&e(t)};return t.setListener=function(t){e=t},t.getListener=function(){return e},t},_monitorReadyPromise:function(e){var t=this,r=function(){t._bConnected&&t._resolveBusyState(e),t._complete=!0};this.GetDelayedReadyPromise().getPromise().then(function(){e.classList.add("oj-complete"),r()},function(){e.classList.add("oj-incomplete"),r()})},_registerBusyState:function(t){var r=n.getContext(t).getBusyContext();this._initCompleteCallback=r.addBusyState({description:e.BaseCustomElementBridge.getElementInfo(t)+" is being upgraded."})},_resolveBusyState:function(e){var t=this._initCompleteCallback;t||this.throwError(e,"Unexpected call to _resolveBusyState()."),this._initCompleteCallback=null,t()},_setProperties:function(e,t){for(var r=[],n={},i=!1,o=Object.keys(t),s=0;s<o.length;s++){var a=o[s];a.indexOf(".")>=0?r.push(a):(n[a]=t[a],i=!0)}i&&this.BatchedPropertySet(e,n);for(var l=0;l<r.length;l++){var u=r[l];e.setProperty(u,t[u])}},throwError:function(t,r){throw this.GetDelayedReadyPromise().rejectPromise(),new Error(e.BaseCustomElementBridge.getElementInfo(t)+": "+r)},_setBpResolver:function(e){this._bpResolve=e},_getBindingProvider:function(t){var r=this._getBindingProviderName(t);return r===e.BaseCustomElementBridge._NO_BINDING_PROVIDER?(this.playbackEarlyPropertySets(t),Promise.resolve(null)):"knockout"===r?this._bpInst?Promise.resolve(this._bpInst):new Promise(this._setBpResolver.bind(this)):void this.throwError(t,"Unknown binding provider '"+r+"'.")},_getBindingProviderName:function(t){var r=t._ojBndgPrv;if(r)return r;if(!(r=t.getAttribute("data-oj-binding-provider")||e.BaseCustomElementBridge._getCompositeBindingProviderName(t))){var n=t.parentElement;null==n?t===document.documentElement?r="knockout":this.throwError(t,"Cannot determine binding provider for a disconnected subtree."):r=this._getBindingProviderName(n)}return Object.defineProperty(t,"_ojBndgPrv",{value:r}),r},_getChildrenToTrack:function(t,r,n){for(var i=t.childNodes,o=0;o<i.length;o++){var s=i[o];e.ElementUtils.isValidCustomElementName(s.localName)?n.push(s):"nearestCustomElement"===r&&this._getChildrenToTrack(s,r,n)}return n},_whenChildrenCreated:function(t){var i=e.BaseCustomElementBridge.getTrackChildrenOption(t),o=n.getContext(t).getBusyContext(),s=this._getChildrenToTrack(t,i,[]).map(function(t){var n=o.addBusyState({description:"Waiting for element "+t.localName+" to be defined."}),i=setInterval(function(){r.warn("Warning: waiting for element "+t.localName+" to be defined.")},2e4);return customElements.whenDefined(t.localName).then(function(){return n(),clearInterval(i),e.BaseCustomElementBridge.getRegistered(t.tagName)?e.BaseCustomElementBridge.getInstance(t).whenCreated():null}).catch(function(e){throw n(),clearInterval(i),new Error("Error defining element "+t.localName+" : "+e)})});return Promise.all(s)}},e.BaseCustomElementBridge.getAttributes=function(t){var r=[];return e.BaseCustomElementBridge._getAttributesFromProperties("",t,r),r},e.BaseCustomElementBridge.getTrackChildrenOption=function(t){var r=e.BaseCustomElementBridge.getInstance(t);return r?r.GetTrackChildrenOption():"none"},e.BaseCustomElementBridge._getAttributesFromProperties=function(t,r,n){if(r)for(var i=Object.keys(r),o=0;o<i.length;o++){var s=i[o],a=r[s];if(!a.readOnly){var l=t+s;n.push(e.__AttributeUtils.propertyNameToAttribute(l)),a.properties&&e.BaseCustomElementBridge._getAttributesFromProperties(l+".",a.properties,n)}}},e.BaseCustomElementBridge.getElementInfo=function(e){return e?e.tagName.toLowerCase()+" with id '"+e.id+"'":""},e.BaseCustomElementBridge.getInstance=function(t){var n=t[e.BaseCustomElementBridge._INSTANCE_KEY];if(!n){var i=e.BaseCustomElementBridge._registry[t.tagName.toLowerCase()];i||r.error(e.BaseCustomElementBridge.getElementInfo(t)+" Attempt to interact with the custom element before it has been registered."),(n=Object.create(i.bridgeProto)).InitializeBridge(t),Object.defineProperty(t,e.BaseCustomElementBridge._INSTANCE_KEY,{value:n})}return n},e.BaseCustomElementBridge.getProperties=function(e,t){return e.METADATA.properties},e.BaseCustomElementBridge.getRegistered=function(t){if(t){var r=e.BaseCustomElementBridge._registry[t.toLowerCase()];if(r)return{composite:r.composite}}return null},e.BaseCustomElementBridge.getSlotMap=function(t){for(var r={},n=t.childNodes,i=0;i<n.length;i++){var o=n[i];if(e.BaseCustomElementBridge.isSlotable(o)){var s=e.BaseCustomElementBridge.getSlotAssignment(o);r[s]||(r[s]=[]),r[s].push(o)}}return r},e.BaseCustomElementBridge.getSlotAssignment=function(e){var t=null!=e.__oj_slots?e.__oj_slots:e.getAttribute&&e.getAttribute("slot");return t||(t=""),t},e.BaseCustomElementBridge.isSlotable=function(e){return 1===e.nodeType||3===e.nodeType&&e.nodeValue.trim()},e.BaseCustomElementBridge._NO_BINDING_PROVIDER="none",e.BaseCustomElementBridge._enumerateMetadataForKey=function(e,t,r,n){if(t&&t[r]){var i=t[r];Object.keys(i).forEach(function(t){n(e,t,i[t])})}},e.BaseCustomElementBridge._getCompositeBindingProviderName=function(t){return e.Composite?e.Composite.getBindingProviderName(t.parentElement):null},e.BaseCustomElementBridge._verifyMetadata=function(t,n){if(n){var i=n.properties;if(i)for(var o=e.BaseCustomElementBridge._GLOBAL_PROPERTIES,s=0;s<o.length;s++)i[o[s]]&&r.error("Error registering composite %s. Redefined global HTML element attribute '%s' in metadata.",t,o[s])}},e.BaseCustomElementBridge.checkEnumValues=function(t,r,n,i){if("string"==typeof n&&i){var o=i.enumValues;if(o&&-1===o.indexOf(n))e.BaseCustomElementBridge.getInstance(t).throwError(t,"Invalid value '"+n+"' found for property '"+r+"'. Expected one of the following '"+o.toString()+"'.")}},e.BaseCustomElementBridge.checkType=function(t,r,n,i){var o=i.type;if(o){var s=(o=o.toLowerCase()).split("|"),a=typeof n;if(1===s.length)("array"===o.substring(0,5)&&!Array.isArray(n)||"object"===o.substring(0,6)&&"object"!==a||"number"===o&&("number"!=typeof n||!isFinite(n))||"string"===o&&"string"!==a)&&e.BaseCustomElementBridge.__ThrowTypeError(t,r,n,o),"boolean"===o&&(n=!!n);else if(2===s.length){var l,u=s.indexOf("string"),d=s.indexOf("promise");-1!==u&&"string"!==a?("function"===(l=0===u?s[1]:s[0])&&"function"!==a||"array"===l.substring(0,5)&&!Array.isArray(n)||"object"===l.substring(0,6)&&"object"!==a)&&e.BaseCustomElementBridge.__ThrowTypeError(t,r,n,o):-1===d||n instanceof Promise||"array"!==(l=0===d?s[1]:s[0]).substring(0,5)||Array.isArray(n)||e.BaseCustomElementBridge.__ThrowTypeError(t,r,n,o)}}return n},e.BaseCustomElementBridge.__CompareOptionValues=function(t,r,n,i){return r.writeback?e.Object.compareValues(n,i):n===i},e.BaseCustomElementBridge.__ThrowTypeError=function(t,r,n,i){e.BaseCustomElementBridge.getInstance(t).throwError(t,"Invalid type '"+typeof n+"' found for property '"+r+"'. Expected value of type '"+i+"'.")},e.BaseCustomElementBridge.__GetDescriptor=function(t){return e.BaseCustomElementBridge._registry[t.toLowerCase()].descriptor},e.BaseCustomElementBridge.__GetCache=function(t){return t?e.BaseCustomElementBridge._registry[t.toLowerCase()].cache:null},e.BaseCustomElementBridge.__CheckOverlappingAttribute=function(t,r){var n=r.split(".");if(n.length>1)for(n.pop();n.length;){var i=n.join(".");if(t.hasAttribute(i))e.BaseCustomElementBridge.getInstance(t).throwError(t,"Cannot set overlapping attributes '"+r+"' and '"+i+"'.");n.pop()}},e.BaseCustomElementBridge.__GetPropertyMetadata=function(e,t){for(var r=t,n=e.split("."),i=0;i<n.length&&(r=r[n[i]])&&(!(n.length>1&&i<n.length-1)||(r=r.properties));i++);return r},e.BaseCustomElementBridge.__InitProperties=function(t,r){var n=e.BaseCustomElementBridge.getInstance(t);n.__INITIALIZING_PROPS=!0;var i=e.BaseCustomElementBridge.getProperties(n,t);if(i)for(var o=t.attributes,s=0;s<o.length;s++){var a=o[s],l=e.__AttributeUtils.attributeToPropertyName(a.nodeName),u=e.BaseCustomElementBridge.__GetPropertyMetadata(l,i);if(u&&!u.readOnly)if(e.BaseCustomElementBridge.__CheckOverlappingAttribute(t,a.nodeName),!e.__AttributeUtils.getExpressionInfo(a.value).expr){var d=e.BaseCustomElementBridge.__ParseAttrValue(t,a.nodeName,l,a.value,u);n.ValidateAndSetProperty(n.GetAliasForProperty.bind(n),r,l,d,t)}}n.__INITIALIZING_PROPS=!1},e.BaseCustomElementBridge.__SetProperty=function(e,t,r,n){var i,o=t,s=r.split("."),a=e(s[0]);s.length>1&&!t[a]&&(o=i={});for(var l=0;l<s.length;l++){var u=e(s[l]);l===s.length-1?o[u]=n:o[u]||(o[u]={}),o=o[u]}i&&(t[a]=i[a])},e.BaseCustomElementBridge.__GetProperty=function(e,t){for(var r=e,n=t.split("."),i=0;i<n.length;i++){var o=n[i];if(i===n.length-1)return r[o];if(!r[o])return;r=r[o]}},e.BaseCustomElementBridge.__ParseAttrValue=function(t,r,n,i,o){if(null==i)return i;var s=o.type,a=e.BaseCustomElementBridge.getInstance(t);function l(n){var i;try{i=e.__AttributeUtils.coerceValue(t,r,n,s)}catch(e){a.throwError(t,e)}return i}var u=e.BaseCustomElementBridge.__GetDescriptor(t.tagName).parseFunction;return u?u(i,n,o,function(e){return l(e)}):l(i)},e.BaseCustomElementBridge.__ProcessEventListeners=function(t){var r=e.CollectionUtils.copyInto({},t,void 0,!0,1);return r.properties=r.properties||{},e.BaseCustomElementBridge._enumerateMetadataForKey(null,r,"properties",function(t,n){var i=e.__AttributeUtils.propertyNameToChangeEventType(n),o=e.__AttributeUtils.eventTypeToEventListenerProperty(i);r.properties[o]={_derived:!0,_eventListener:!0}}),e.BaseCustomElementBridge._enumerateMetadataForKey(null,r,"events",function(t,n){var i=e.__AttributeUtils.eventTypeToEventListenerProperty(n);r.properties[i]={_derived:!0,_eventListener:!0}}),r},e.BaseCustomElementBridge.__Register=function(t,n,i,o){var s=t.toLowerCase();return!e.BaseCustomElementBridge._registry[s]&&(n||r.error("Cannot register "+t+". Missing a descriptor."),e.BaseCustomElementBridge._verifyMetadata(t,n[e.BaseCustomElementBridge.DESC_KEY_META]),e.BaseCustomElementBridge._registry[s]={descriptor:n,bridgeProto:i,composite:o,cache:{}},!0)},e.BaseCustomElementBridge.__FirePropertyChangeEvent=function(t,r,n,i,o,s){var a=e.BaseCustomElementBridge.getInstance(t);if(!a._SKIP_PROP_CHANGE_EVENT){var l={};s&&(l.subproperty=s),l.value=n,l.previousValue=i,l.updatedFrom=o,a.beforePropertyChangedEvent&&a.beforePropertyChangedEvent(t,r,l),("external"!==o||a.__READY_TO_FIRE)&&t.dispatchEvent(new CustomEvent(r+"Changed",{detail:l}))}},e.BaseCustomElementBridge.__DefineDynamicObjectProperty=function(e,t,r,n){Object.defineProperty(e,t,{enumerable:!0,get:r,set:n})};var i=0;e.BaseCustomElementBridge.__GetUnique=function(){var e="_ojcustomelem"+i;return i+=1,e},e.BaseCustomElementBridge._consolidateDefaults=function(t){var r=t.value;if(void 0!==r)return Array.isArray(r)?r.slice():"object"==typeof r?e.CollectionUtils.copyInto({},r,void 0,!0):r;var n=t.properties;if(n){for(var i={},o=Object.keys(n),s=0;s<o.length;s++){var a=e.BaseCustomElementBridge._consolidateDefaults(n[o[s]]);void 0!==a&&(i[o[s]]=a)}return Object.keys(i).length>0?i:void 0}},e.BaseCustomElementBridge._registry={},e.BaseCustomElementBridge.DESC_KEY_CSS="css",e.BaseCustomElementBridge.DESC_KEY_META="metadata",e.BaseCustomElementBridge.DESC_KEY_PARSE_FUN="parseFunction",e.BaseCustomElementBridge.DESC_KEY_VIEW="view",e.BaseCustomElementBridge.DESC_KEY_VIEW_MODEL="viewModel",e.BaseCustomElementBridge._GLOBAL_PROPERTIES=["accesskey","autocapitalize","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","is","itemid","itemprop","itemref","itemscope","itemtype","lang","slot","spellcheck","style","tabindex","title","translate"],e.BaseCustomElementBridge._INSTANCE_KEY="_ojBridge",e.BaseCustomElementBridge.__DelayedPromise=function(){var e,t,r;this.getPromise=function(){return e||(e=new Promise(function(e,n){t=e,r=n})),e},this.rejectPromise=function(e){r&&r(e)},this.resolvePromise=function(e){t&&t(e)}}});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojcomponentcore',["ojs/ojcore","ojs/ojtranslation","jquery","ojs/ojmessaging","ojs/ojlogger","jqueryui-amd/widget","jqueryui-amd/unique-id","jqueryui-amd/keycode","jqueryui-amd/focusable","jqueryui-amd/tabbable","ojs/ojcustomelement"],function(t,e,n,i,o){"use strict";t.Components={};t.Components;t.Components._OJ_CONTAINER_ATTR="data-oj-container";var s="oj-component-names",r="oj-component-initnode",a="oj-subtree-hidden",l="oj-pending-subtree-hidden";function u(t,e){var i=function(){var t=n(this),i=t.data(s);if(null!=i)for(var o=0;o<i.length;o++){var r=t.data("oj-"+i[o]);null!=r&&e(r)}},o=n(t);o.hasClass(r)&&i.call(t),o.find("."+r).each(i)}function c(t,e,i){function o(t){if(e&&t.classList.contains(r)){var o=n(t),a=o.data(s);if(null!=a)for(var l=0;l<a.length;l++){var u=o.data("oj-"+a[l]);null!=u&&e(u)}}i&&"oj-defer"===t.tagName.toLowerCase()&&t._activate()}if(!function(t){for(var e=t;e;){if(e.nodeType===Node.DOCUMENT_NODE)return!1;if(e.classList.contains(a))return!0;e=e.parentNode}return!0}(t)){o(t);var u=["."+r];i&&u.push("oj-defer");var c=[];u.forEach(function(t){c.push("."+a+" "+t),c.push("."+l+" "+t)});for(var g=u.join(","),h=c.join(","),d=function(t,e){for(var n=[],i=0,o=0;o<e.length;o++){for(var s=e[o];i<t.length&&t[i]!==s;)n.push(t[i]),i+=1;i+=1}for(;i<t.length;)n.push(t[i]),i+=1;return n}(t.querySelectorAll(g),t.querySelectorAll(h)),p=0;p<d.length;p++)o(d[p])}}function g(t){this.getCallback=function(){return t}}function h(t,e,n){return Object.keys(e).forEach(function(i){var o=t[i]||[],s=e[i];n?o=o.concat(s):o.push(s),t[i]=o}),t}function d(e){return t.BaseCustomElementBridge.getRegistered(e.tagName)}function p(e){return!!t.Components.__GetWidgetConstructor(e)}function _(t){return d(t)||p(t)}t.Components.setDefaultOptions=function(e){var n=t.Components._defaultProperties||{};Object.keys(e).forEach(function(i){var o=e[i];if(!t.CollectionUtils.isPlainObject(o))throw new Error("Invalid default options");n[i]=h(n[i]||{},o,!1)}),t.Components._defaultProperties=n},t.Components.getDefaultOptions=function(){return t.Components._defaultProperties||{}},t.Components.createDynamicPropertyGetter=function(t){return new g(t)},t.Components.getWidgetConstructor=function(e,n){return e&&!t.BaseCustomElementBridge.getRegistered(e.tagName)?t.Components.__GetWidgetConstructor(e,n):null},t.Components.__GetWidgetConstructor=function(t,e){var i=n(t),o=i.data(s);if(o&&(null==e?e=o[0]:o.indexOf(e)<0&&(e=void 0),null!=e)){var r=i[e];if("function"==typeof r)return r.bind(i)}return null},t.Components.subtreeAttached=function(e){t.DomUtils.fixResizeListeners(e),u(e,function(t){t.__handleSubtreeAttached()})},t.Components.subtreeDetached=function(t){u(t,function(t){t.__handleSubtreeDetached()})},t.Components.subtreeShown=function(e,i){var o=(i||{}).initialRender;o||t.DomUtils.fixResizeListeners(e);var s=n(e)[0];s.classList.remove(a),c(s,function(t){o?t._NotifyInitShown():t._NotifyShown()},!0)},t.Components.subtreeHidden=function(t){var e=n(t)[0];c(e,function(t){t._NotifyHidden()},!1),e.classList.add(a)},t.Components.markPendingSubtreeHidden=function(t){t.classList.add(l)},t.Components.unmarkPendingSubtreeHidden=function(t){t.classList.remove(l)},t.Components.isComponentInitialized=function(t,e){var i=t.data(s);return!!(n.isArray(i)&&i.indexOf(e)>-1&&t.is("."+r))},t.Components.__getDefaultOptions=function(e){for(var n={},i=t.Components.getDefaultOptions(),o=e.length-1;o>=0;o--){var s=i[e[o]];void 0!==s&&(n=h(n,s,!0))}return n},t.Components.getComponentElementByNode=function(e){return function e(n,i){if(null==n)return null;var o=1===n.nodeType;var s=t.Composite&&!i?t.Composite.getContainingComposite(n):null;if(s)return s;if(o&&n.hasAttribute("data-oj-internal"))return n.parentNode instanceof Element&&n.parentNode.hasAttribute("data-oj-surrogate-id")?(n=document.querySelector("[data-oj-popup-"+n.id+"-parent]"),e(n,i)):e(n.parentNode,i);if(_(n))return n;if(o&&n.classList.contains("oj-component")){if(p(n=n.querySelector(".oj-component-initnode:not([data-oj-internal])")||n))return n}else if(o&&n.hasAttribute("data-oj-containerid"))return n=document.getElementById(n.getAttribute("data-oj-containerid")),e(n,i);return e(n.parentNode,i)}(e,!!(arguments.length>1&&arguments[1]))},t.Components.getSubIdByNode=function(e,n){return t.Components.callComponentMethod(e,"getSubIdByNode",n)},t.Components.getNodeBySubId=function(e,n){return t.Components.callComponentMethod(e,"getNodeBySubId",n)},t.Components.getComponentOption=function(e,n){if(!_(e))throw new Error("node is not a component element");return d(e)?e.getProperty?e.getProperty.call(e,n):void 0:t.Components.__GetWidgetConstructor(e)("option",n)},t.Components.setComponentOption=function(e,n,i){if(!_(e))throw new Error("node is not a component element");d(e)?e.setProperty&&e.setProperty.call(e,n,i):t.Components.__GetWidgetConstructor(e)("option",n,i)},t.Components.callComponentMethod=function(e,i,o){if(!_(e))throw new Error("node is not a component element");return d(e)?e[i]?e[i].apply(e,[].slice.call(arguments,2)):void 0:t.Components.__GetWidgetConstructor(e).apply(n(e),[].slice.call(arguments,1))};var m,f={isDefaultPrevented:function(){return!1},preventDefault:function(){this.isDefaultPrevented=A},stopPropagation:function(){this.isPropagationStopped=A},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=A}};function E(t,e,n,i,o,s,r){var a=n,l=!1,u={};delete i[o],Object.defineProperty(i,o,{get:function(){if(l)return a;if(null!=t._settingNestedKey)return a;var n=s(r?r():o);return C([e,n,a],u)},set:function(e){a=e,null!=t._settingNestedKey?u[t._settingNestedKey]=!0:l=!0},enumerable:!0})}function v(t){if(1===t.length){var e=t[0];return e instanceof g?e.getCallback():null}for(var n=!1,i=0;i<t.length&&!n;i++){var o=t[i];null!=o&&o instanceof g&&(n=!0)}if(n){return function(e){var n=[];return t.forEach(function(t){null!=t&&t instanceof g?n.push(t.getCallback()(e)):n.push(t)}),C(n)}}return null}function C(t,e){for(var i,o=0;o<t.length;o++){var s=t[o];if(void 0!==s)if(n.isPlainObject(s))i=y({},n.isPlainObject(i)?[i,s]:[s],o===t.length-1?null:e,null);else i=s}return i}function y(t,e,i,o){for(var s=e.length,r=0;r<s;r++)for(var a=e[r],l=Object.keys(a),u=0;u<l.length;u++){var c,g=l[u];if(c=null==i?null:null==o?g:o+"."+g,null==i||!i[c]){var h=a[g];if(void 0!==h)if(n.isPlainObject(h)){var d=n.isPlainObject(t[g])?[t[g],h]:[h];t[g]=y({},d,i,c)}else t[g]=h}}return t}function A(){return!0}n.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null,this._SetupContextMenu()},_createWidget:function(t,e){t&&(this.OuterWrapper=t._wrapper),this._originalDefaults=this.options||{},this._constructorOptions=t||{},this._super(t,e),this._AfterCreateEvent()},_SetRootAttributes:function(){var t=this.options.rootAttributes;if(t){var e=this.widget();if(null==e)return;var i=t.class;i&&e.addClass(i);var o=t.style;if(o){var s=e.attr("style");s?e.attr("style",s+";"+o):e.attr("style",o)}delete(t=n.extend({},t)).class,delete t.style,e.attr(t),delete t.id;var r=Object.keys(t);if(r.length)throw new Error("Unsupported values passed to rootAttributes option: "+r.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this._SetupResources(),this.element.addClass(r)},_InitOptions:function(t,e){this._setupDefaultOptions(t,e),this._initContextMenuOption(e)},_ComponentCreate:function(){var t,e,n;t=this.element,e=this.widgetName,(n=t.data(s))||(n=[],t.data(s,n)),n.indexOf(e)<0&&n.push(e),this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreateEvent:n.noop,_setOptionClasses:function(){},_setOptionDisabled:function(){},_classes:function(){return""},_removeClass:function(){return this},_addClass:function(){return this},_toggleClass:function(){return this},_SaveAttributes:function(t){},_SaveAllAttributes:function(t){var e=this;this._savedAttributes=[],n.each(t,function(t,i){var o={},s={element:i,attributes:o},r=i.attributes;e._savedAttributes.push(s),n.each(r,function(t,e){var n=e.name;o[n]={attr:e.value}})})},_GetSavedAttributes:function(t){var e=this._savedAttributes;if(void 0===e)return null;for(var n=t[0],i=0,o=e.length;i<o;i++){var s=e[i];if(s.element===n)return s.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){n.each(this._savedAttributes,function(t,e){var i=n(e.element),o=e.attributes;if(1===i.length){var s,r,a=e.element.attributes,l=[];for(s=0,r=a.length;s<r;s++)a[s].name in o||l.push(a[s].name);for(s=0,r=l.length;s<r;s++)i.removeAttr(l[s]);var u=Object.keys(o);for(s=0;s<u.length;s++){var c=u[s];i.attr(c,o[c].attr)}}})},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(e,n,i){return this._IsCustomElement()&&this._getWritebackOption(e)?t.Object.compareValues(n,i):n===i},getTranslatedString:function(t,n){var i={};arguments.length>2?i=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(i=arguments[1])||i instanceof Array||(i=[i]));var o=this.option("translations."+t);return null==o?t:e.applyParameters(o.toString(),i)},getNodeBySubId:function(t){return null!=t&&null!=t.subId||!this.element?null:this.element[0]},getSubIdByNode:function(t){return null},destroy:function(){if(this._IsCustomElement())throw new Error("destroy cannot be called on a custom element");this._trigger("destroy"),t.DomUtils.dispatchEvent(this.element[0],new CustomEvent("_ojDestroy")),this._ReleaseResources(),this._super(),this.element.removeClass(r),this.widget().removeClass("oj-disabled"),this._removeStateClasses(this.element),function(t,e){var n=t.data(s);if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),0===n.length&&t.removeData(s))}}(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(e,i){if(0===arguments.length)return n.widget.extend({},this.options);var s,r=arguments[0],a=r,l=null,u={};if("string"==typeof r){a={};var c=r.split(".");if(r=c.shift(),c.length){var g;l=c.join(".");try{arguments.length>1&&(this._settingNestedKey=l),g=n.widget.extend({},this.options[r]),a[r]=g}finally{this._settingNestedKey=null}for(s=0;s<c.length-1;s++)g[c[s]]=g[c[s]]||{},g=g[c[s]];if(r=c.pop(),1===arguments.length)return void 0===g[r]?null:g[r];g[r]=i}else{if(1===arguments.length)return void 0===this.options[r]?null:this.options[r];a[r]=i}u=arguments[2]||u}else u=arguments[1]||u;if(null!=l){var h={path:e,value:i};u=n.widget.extend({},u,{subkey:l,subproperty:h})}var d=u?u._context:null,p=!!d&&d.internalSet,_={},m=Object.keys(a);for(s=0;s<m.length;s++){var f=m[s],E=a[f],v=this.options[f];u&&u.changed||!this._CompareOptionValues(f,v,E)?_[f]=E:this._IsCustomElement()&&o.info(t.BaseCustomElementBridge.getElementInfo(this.element[0])+": Ignoring property set for property '"+f+"' with same value.")}return Object.keys(_).length>0&&(p?this._internalSetOptions(_,u):this._setOptions(_,u)),this},_internalSetOptions:function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o],r=this.options[o];this.options[o]=s,this._optionChanged(o,s,r,e)}},_setOptions:function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o];this._setOption(o,s,e)}return this},_setOption:function(t,e,n){var i=this.options[t];if("disabled"===t)this.options[t]=e,this.widget().toggleClass("oj-disabled",!!e).attr("aria-disabled",e),e&&this._removeStateClasses(this.widget());else{try{var o=null==n?null:n.subkey;null!=o&&(this._settingNestedKey=o),this._super(t,e)}finally{this._settingNestedKey=null}"contextMenu"===t&&this._SetupContextMenu()}return this._optionChanged(t,e,i,n),this},_optionChanged:function(t,e,i,o){var s,r=null,a=!1,l=!1,u=null,c="external",g=null;if(o&&(r=o._context)){if(r.skipEvent)return;u=r.originalEvent,a=void 0===r.writeback?null!=u:r.writeback,l=r.readOnly,g=r.optionMetadata,s=r.extraData,r.internalSet&&(c="internal")}(g=g||{}).writeback=a?"shouldWrite":"shouldNotWrite",l&&(g.readOnly=!0);var h={option:t,previousValue:i,value:e,optionMetadata:g,updatedFrom:c},d=null==o?null:o.subkey;if(d){var p=d.split("."),_=i;p.forEach(function(t){_&&(_=_[t])});var m=o.subproperty;m.previousValue=_,h.subproperty=m}null!=s&&(h=n.extend({},s,h)),this._trigger("optionChange",u,h)},_SetupResources:function(){this._SetupContextMenu()},_ReleaseResources:function(){this._ReleaseContextMenu()},_trigger:function(t,e,n){return this._trigger2(t,e,n).proceed},_trigger2:function(t,e,i){var o=i||{};if(this._IsCustomElement())return this._triggerCustomEvent(t,e,o);var s=this.options[t],r=n.Event(e,f);return r.type=(this.widgetEventPrefix+t).toLowerCase(),r.target=this.element[0],this.element.trigger(r,o),{proceed:!(n.isFunction(s)&&!1===s.apply(this.element[0],[r].concat(o))||r.isDefaultPrevented()),event:r}},_triggerCustomEvent:function(e,i,o){var s,r,a,l={},u=this._getRootElement();if("optionChange"===e){var c=t.CustomElementBridge.getPropertyForAlias(u,o.option);if(!t.CustomElementBridge.isKnownProperty(u,c))return{proceed:!0,event:null};s=t.__AttributeUtils.propertyNameToChangeEventType(c);for(var g=Object.keys(o),h=0;h<g.length;h++){var d=g[h];if("option"!==d)if("optionMetadata"===d)for(var p=Object.keys(o[d]),_=0;_<p.length;_++){var m=p[_];"writeback"!==m&&"component"!==m&&(l[m]=o[d][m])}else l[d]=o[d]}}else{if(s=t.__AttributeUtils.eventTriggerToEventType(e),!t.CustomElementBridge.isKnownEvent(u,s))return{proceed:!0,event:null};r=!0,a=!0,l=this._resolveJQueryObjects(o)}i&&(l.originalEvent=i instanceof n.Event?i.originalEvent:i);var f={detail:l};r&&(f.bubbles=!0),a&&(f.cancelable=!0);var E=new CustomEvent(s,f);return u.dispatchEvent(E),{proceed:!E.defaultPrevented,event:E}},_resolveJQueryObjects:function(e){for(var i=t.CollectionUtils.copyInto({},e),o=Object.keys(i),s=0;s<o.length;s++){var r=o[s],a=i[r];a&&a instanceof n&&(0===a.length?i[r]=null:1===a.length?i[r]=a[0]:i=a.toArray())}return i},_initContextMenuOption:function(t){var e=this.element.attr("contextmenu");this._initialCmDomAttr=e,!e||"contextMenu"in t||this.option("contextMenu",document.getElementById(e),{_context:{internalSet:!0}})},_handleContextMenuGesture:function(e,i,o){if(!this._IsEffectivelyDisabled()){var s;if("OJ-MENU"===e.tagName)s=e;else{var r=t.Components.__GetWidgetConstructor(e,"ojMenu");if(!(s=r&&r("instance")))throw new Error("Invalid JET Menu.")}this._NotifyContextMenuGesture(s,i,o),n(e).is(":visible")&&i.preventDefault()}},_SetupContextMenu:function(){var e=this._GetContextMenu();if(e||(e=this._GetDefaultContextMenu()),e&&void 0===this._contextMenuGestureInit){this._contextMenuGestureInit=e;var n=this;t.GestureUtils.startDetectContextMenuGesture(this.widget()[0],function(t,i){n._handleContextMenuGesture(e,t,i)})}},_ReleaseContextMenu:function(){this._contextMenuGestureInit=void 0,t.GestureUtils.stopDetectContextMenuGesture(this.widget()[0])},_GetContextMenu:function(){if(this._IsCustomElement()){var e=t.BaseCustomElementBridge.getSlotMap(this._getRootElement()).contextMenu;if(e&&e.length>0)return e[0]}else if(this.options.contextMenu)return n(this.options.contextMenu).first()[0];return null},_NotifyContextMenuGesture:function(t,e,n){this._OpenContextMenu(e,n)},_OpenContextMenu:function(e,i,o,s,r){var a=this._GetContextMenu();if(a||(a=this._contextMenuGestureInit&&n(this._contextMenuGestureInit).is(":visible")?this._contextMenuGestureInit:this._GetDefaultContextMenu()),a){var l={mouse:{my:"start top",at:"start bottom",of:e,collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher",collision:"flipfit"}},u={launcher:this.element,position:l[i]},c={initialFocus:"menu"},g=r?n.extend(u,o,c):n.extend(!0,u,o,c);if(a.__openingContextMenu=!0,"OJ-MENU"===a.tagName)a.open(e,g,s);else{var h=t.Components.__GetWidgetConstructor(a,"ojMenu");(h&&h("instance")).open(e,g,s);var d=function(t){t.preventDefault()};a.addEventListener("contextmenu",d),window.setTimeout(function(){a.removeEventListener("contextmenu",d)},50)}a.__openingContextMenu=!1}},_GetDefaultContextMenu:function(){return null},_removeStateClasses:function(t){t.removeClass("oj-hover oj-focus oj-focus-highlight oj-active"),t.find(".oj-hover").removeClass("oj-hover"),t.find(".oj-focus").removeClass("oj-focus"),t.find(".oj-focus-highlight").removeClass("oj-focus-highlight"),t.find(".oj-active").removeClass("oj-active")},_isRealMouseEvent:function(){return!t.DomUtils.recentTouchEnd()},_AddHoverable:function(t){var e;n.isPlainObject(t)?e=t.element:(e=t,t={});var i=t.afterToggle||n.noop;e.on("mouseenter"+this.hoverableEventNamespace,this._hoverStartHandler.bind(this,i)).on("mouseleave"+this.hoverableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-hover",i))},_RemoveHoverable:function(t){t&&t.off(this.hoverableEventNamespace)},_AddActiveable:function(e){var i;n.isPlainObject(e)?i=e.element:(i=e,e={});var o=e.afterToggle||n.noop;t.DomUtils.isTouchSupported()&&i.on("touchstart"+this.activeableEventNamespace,this._activeStartHandler.bind(this,o)).on("touchend"+this.activeableEventNamespace+" touchcancel"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",o)),i.on("mousedown"+this.activeableEventNamespace,this._activeStartHandler.bind(this,o)).on("mouseup"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",o)).on("mouseenter"+this.activeableEventNamespace,this._activeStartHandler.bind(this,o)).on("mouseleave"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",o))},_RemoveActiveable:function(t){t&&(t.off(this.activeableEventNamespace),m=null)},_activeStartHandler:function(t,e){var i=n(e.currentTarget);("mouseenter"!==e.type||this._isTargetInActiveElement(e.currentTarget))&&(i.hasClass("oj-disabled")||"touchstart"!==e.type&&!this._isRealMouseEvent(e)||(i.addClass("oj-active"),t(e.type),"mousedown"===e.type&&(m=e.currentTarget,this.document.one("mouseup",function(){m=null}))))},_hoverStartHandler:function(t,e){var i=n(e.currentTarget);!i.hasClass("oj-disabled")&&this._isRealMouseEvent(e)&&(i.addClass("oj-hover"),t(e.type))},_hoverAndActiveEndHandler:function(t,e,i){("oj-active"!==t||"mouseleave"!==i.type||this._isTargetInActiveElement(i.currentTarget))&&(n(i.currentTarget).removeClass(t),e(i.type))},_isTargetInActiveElement:function(t){return m===t||null!=m&&n.contains(m,t)},_hoverable:function(){},_focusable:function(e){n.isPlainObject(e)||(e={element:e}),e.component=this,t.DomUtils.makeFocusable(e)},_UnregisterChildNode:function(t){if(t){n(t).off(this.eventNamespace);var e=this.bindings;e&&(this.bindings=n(e.not(t)))}},_GetReadingDirection:function(){return t.DomUtils.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyInitShown:function(){},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(t){this._ancestorDisabled=t},_getTranslationSectionLoader:function(){var t=[],i=this,o=0;this._traverseWidgetHierarchy(function(s){var r=0===o?i._GetTranslationsSectionName():s.widgetFullName;o+=1;var a=e.getComponentTranslations(r);null==a||n.isEmptyObject(a)||t.push(r)});var s=t.length;return s>0?function(){if(1===s)return e.getComponentTranslations(t[0]);for(var i={},o=s-1;o>=0;o--)n.widget.extend(i,e.getComponentTranslations(t[o]));return i}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var e={};this._propertyContext=e;var n=this.element[0];e.containers=function(e){for(var n=e,i=[];n;){var o=n.getAttribute,s=o?o.call(n,t.Components._OJ_CONTAINER_ATTR):null;null!=s&&i.push(s),n=n.parentNode}return i}(n),e.element=n,e.isCustomElement=this._IsCustomElement()}return this._propertyContext},_setupDefaultOptions:function(t,e){var i=this.options,o=this._getTranslationSectionLoader(),s=e.translations;null==o||void 0!==s&&!n.isPlainObject(s)||E(this,void 0,e.translations,i,"translations",o),this._loadGlobalDefaultOptions(t,e)},_loadGlobalDefaultOptions:function(e,i){var o=this.options,s=[];this._traverseWidgetHierarchy(function(t){s.push(t.widgetName)}),s.push("default");var r=t.Components.__getDefaultOptions(s);if(!n.isEmptyObject(r))for(var a=this,l=function(){return a._getDynamicPropertyContext()},u=Object.keys(r),c=0;c<u.length;c++){var g=u[c],h=i[g];if(void 0===h||n.isPlainObject(h)){var d=r[g];if(d){var p=v(d);if(p)E(this,e[g],h,o,g,p,l);else{var _=[e[g]].concat(d);_.push(h),o[g]=C(_)}}}}},_traverseWidgetHierarchy:function(t){for(var e=this.constructor.prototype;null!=e&&"oj"===e.namespace;)t(e),e=Object.getPrototypeOf(e)},_getRootElement:function(){return this.OuterWrapper||this.element[0]},_IsCustomElement:function(){return null!=t.BaseCustomElementBridge.getRegistered(this._getRootElement().tagName)},_FixRendererContext:function(e){if(this._IsCustomElement()){var n=t.CollectionUtils.copyInto({},e);return delete n.component,n.componentElement=this._getRootElement(),n}return e},_WrapCustomElementRenderer:function(t){return this._IsCustomElement()&&"function"==typeof t?function(e){var n=t(e);return n&&n.insert?n.insert:null}:t},__saveWritebackOptions:function(t){this._writebackOptions=t},_getWritebackOption:function(t){return!(!this._writebackOptions||!this._writebackOptions[t])},__handleSubtreeAttached:function(){this._IsCustomElement()||this._NotifyAttached()},__handleSubtreeDetached:function(){this._IsCustomElement()||this._NotifyDetached()},_VerifyConnectedForSetup:function(){return!1},__handleConnected:function(){this._NotifyAttached(),this.__delayConnectDisconnect(0)||this._SetupResources()},__handleDisconnected:function(){this.__delayConnectDisconnect(1)||this._ReleaseResources(),this._NotifyDetached()},__delayConnectDisconnect:function(t){if(!this._VerifyConnectedForSetup())return!1;if(void 0===this.connectedState){var e=this;Promise.resolve().then(function(){e.connectedState===t&&(0===t?e._SetupResources():e._ReleaseResources()),e.connectedState=void 0})}return this.connectedState=t,!0},__handleWatchedAttribute:function(t,e,n){this._WatchedAttributeChanged(t,e,n)},_WatchedAttributeChanged:function(t,e,n){},__getFocusElement:function(){return this.GetFocusElement()},GetFocusElement:function(){return this.element[0]}}),delete n.fn.baseComponent,t.__registerWidget=function(t,e,i,o){if(n.widget(t,e,i),o){var s=t.split(".")[1];delete n.fn[s]}if("oj.oj"===t.substring(0,5)||"oj._oj"===t.substring(0,6)){var r,a=t.split("."),l=a[0],u=a[1],c=l+"-"+u;r="_"===u.substring(0,1)?"_"+l+"-"+u.substring(3):l+"-"+u.substring(2),n.expr.pseudos[r.toLowerCase()]=function(t){return!!n.data(t,c)}}},t.ComponentMessaging=function(t){this.Init(t)},t.Object.createSubclass(t.ComponentMessaging,t.Object,"oj.ComponentMessaging"),t.ComponentMessaging._DISPLAY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline"},t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK={},t.ComponentMessaging.registerMessagingStrategy=function(e,n){e&&"function"==typeof n&&(t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[e]=n)},t.ComponentMessaging.prototype.Init=function(e){t.ComponentMessaging.superclass.Init.call(this),this._component=e,this._activated=!1,this._initializeMessagingStrategies()},t.ComponentMessaging.prototype.activate=function(e,i,o){var s=this;t.Assert.assertObject(o),this._launcher=e,this._contentElement=i,this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},o),this._isActive()?this._reactivate():(n.each(this._strategies,function(t,e){e.activate(s)}),this._activated=!0)},t.ComponentMessaging.prototype.update=function(e){t.Assert.assertObject(e),t.Assert.assertBoolean(this._activated),this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},e),this._activated&&n.each(this._strategies,function(t,n){n.shouldUpdate(e)&&n.update()})},t.ComponentMessaging.prototype.deactivate=function(){n.each(this._strategies,function(t,e){e.deactivate()}),this._activated=!1,this._component=null,this._launcher=null,this._contentElement=null,this._strategies={}},t.ComponentMessaging.prototype.close=function(){this._activated&&n.each(this._strategies,function(t,e){e.close()})},t.ComponentMessaging.prototype._createMessagingStrategy=function(e,n){return new(t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[e]||t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[t.ComponentMessaging._DISPLAY_TYPE.NONE])(n)},t.ComponentMessaging.prototype._getComponent=function(){return this._component||null},t.ComponentMessaging.prototype._getLauncher=function(){return this._launcher||null},t.ComponentMessaging.prototype._getContentElement=function(){return this._contentElement||null},t.ComponentMessaging.prototype._getMessagingContent=function(){return this._messagingContent||{}},t.ComponentMessaging.prototype._isActive=function(){return this._activated},t.ComponentMessaging.prototype._getResolvedMessagingDisplayOptions=function(){for(var e={},i=!1,o=this._component.options.placeholder,s=this._component.options.displayOptions||{},r={},a=Object.keys(s),l=0;l<a.length;l++){var u=a[l],c=s[u];i=!1;var g=u+"";if(Array.isArray(c))for(var h=0;h<c.length;h++){var d=c[h];i||(i=this._resolveDisplayTypeForArtifact(g,d,o,r))}else"string"==typeof c&&(i||(i=this._resolveDisplayTypeForArtifact(g,c,o,r)));i||(r[g]=t.ComponentMessaging._DISPLAY_TYPE.NONE)}return n.each(t.ComponentMessaging._DISPLAY_TYPE,function(t,n){e[n]=[]}),n.each(r,function(t,n){e[n].push(t)}),e},t.ComponentMessaging.prototype._resolveDisplayTypeForArtifact=function(e,n,i,o){var s=!1;switch(n){case t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER:"converterHint"===e&&(s||i||(o[e]=n,s=!0));break;case t.ComponentMessaging._DISPLAY_TYPE.INLINE:"messages"===e&&(s||(o[e]=n,s=!0));break;default:s||(o[e]=n,s=!0)}return s},t.ComponentMessaging.prototype._initializeMessagingStrategies=function(){var e=this._getResolvedMessagingDisplayOptions(),n=e[t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW],i=e[t.ComponentMessaging._DISPLAY_TYPE.NONE],o=e[t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER],s=e[t.ComponentMessaging._DISPLAY_TYPE.INLINE],r={};n.length>0&&(r[t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW,n)),o.length>0&&(r[t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER,o)),s.length>0&&(r[t.ComponentMessaging._DISPLAY_TYPE.INLINE]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.INLINE,s)),r[t.ComponentMessaging._DISPLAY_TYPE.NONE]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NONE,i),this._strategies=r},t.ComponentMessaging.prototype._reactivate=function(){var e,i=this._getResolvedMessagingDisplayOptions(),o=this;n.each(i,function(n,i){n+="",e=o._strategies[n],i&&i.length>0?e?e&&e.reactivate(i):(e=o._createMessagingStrategy(n,i),o._strategies[n]=e,e.activate(o)):e&&t.ComponentMessaging._DISPLAY_TYPE.NONE!==n&&(e.deactivate(),delete o._strategies[n])})},t.MessagingStrategy=function(t){this.Init(t)},t.Object.createSubclass(t.MessagingStrategy,t.Object,"oj.MessagingStrategy"),t.MessagingStrategy.prototype.Init=function(e){t.Assert.assertArray(e),t.MessagingStrategy.superclass.Init.call(this),this._displayOptions=e},t.MessagingStrategy.prototype.activate=function(t){this._componentMessaging=t},t.MessagingStrategy.prototype.deactivate=function(){},t.MessagingStrategy.prototype.close=function(){},t.MessagingStrategy.prototype.reactivate=function(t){this.Init(t)},t.MessagingStrategy.prototype.shouldUpdate=function(t){return!0},t.MessagingStrategy.prototype.update=function(){},t.MessagingStrategy.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},t.MessagingStrategy.prototype.GetContentElement=function(){return this._componentMessaging._getContentElement()},t.MessagingStrategy.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},t.MessagingStrategy.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},t.MessagingStrategy.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},t.MessagingStrategy.prototype.GetConverterHint=function(){var t=[],e=this._getMessagingContent(),n=e&&e.converterHint;return n&&t.push(n),t},t.MessagingStrategy.prototype.GetValidatorHints=function(){var t=[],e=this._getMessagingContent(),i=e&&e.validatorHint||[];return n.each(i,function(e,n){t.push(n)}),t},t.MessagingStrategy.prototype.GetTitle=function(){var t=this._getMessagingContent();return t&&t.title||""},t.MessagingStrategy.prototype.GetValidityState=function(){var t=this._getMessagingContent();return t&&t.validityState||null},t.MessagingStrategy.prototype.HasMessages=function(){var t=this.GetMessages();return!!(t&&t.length>0)},t.MessagingStrategy.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},t.MessagingStrategy.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},t.MessagingStrategy.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},t.MessagingStrategy.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")||-1!==this._displayOptions.indexOf("helpInstruction")},t.MessagingStrategy.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},t.MessagingStrategy.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},t.DefaultMessagingStrategy=function(t){this.Init(t)},t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NONE,t.DefaultMessagingStrategy),t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID="oj-invalid",t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING="oj-warning",t.Object.createSubclass(t.DefaultMessagingStrategy,t.MessagingStrategy,"oj.DefaultMessagingStrategy"),t.DefaultMessagingStrategy.prototype.update=function(){t.DefaultMessagingStrategy.superclass.update.call(this);var e=this.GetLauncher(),n=this.GetMaxSeverity(),o=[],s=[],r=!1,a=this.GetComponent().widget();e&&(this.IsInvalid()?(o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),s.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),r=!0):this.HasMessages()&&n===i.SEVERITY_LEVEL.WARNING?(o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),s.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)):(o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),o.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)),a.removeClass(o.join(" ")).addClass(s.join(" ")),this.GetContentElement().attr({"aria-invalid":r}))},t.DefaultMessagingStrategy.prototype.deactivate=function(){this.GetComponent().widget().removeClass(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID).removeClass(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),this.GetContentElement().removeAttr("aria-invalid"),t.DefaultMessagingStrategy.superclass.deactivate.call(this)},t.PlaceholderMessagingStrategy=function(t){this.Init(t)},t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER,t.PlaceholderMessagingStrategy),t.Object.createSubclass(t.PlaceholderMessagingStrategy,t.MessagingStrategy,"oj.PlaceholderMessagingStrategy"),t.PlaceholderMessagingStrategy.prototype.Init=function(e){t.PlaceholderMessagingStrategy.superclass.Init.call(this,e)},t.PlaceholderMessagingStrategy.prototype.activate=function(e){t.PlaceholderMessagingStrategy.superclass.activate.call(this,e),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype.reactivate=function(e){t.PlaceholderMessagingStrategy.superclass.reactivate.call(this,e),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype.shouldUpdate=function(t){return!(!t||void 0===t.converterHint)},t.PlaceholderMessagingStrategy.prototype.update=function(){t.PlaceholderMessagingStrategy.superclass.update.call(this),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype._refreshPlaceholder=function(){var t=this.GetLauncher();if(this.ShowPlaceholderContent()&&t){var e=this.GetConverterHint(),n=e.length?e[0]:"",i={internalMessagingSet:!0};this.GetComponent().option({placeholder:n},{_context:i})}},t.PlaceholderMessagingStrategy.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint()},t.ComponentValidity=function(t,e){this.Init(t,e)},t.ComponentValidity.isInvalid=function(t){return i.getMaxSeverity(t)>=i.SEVERITY_LEVEL.ERROR},t.Object.createSubclass(t.ComponentValidity,t.Object,"oj.ComponentValidity"),t.ComponentValidity.prototype.Init=function(e,n){t.ComponentValidity.superclass.Init.call(this),this._initialize(e,n)},t.ComponentValidity.prototype.isInvalid=function(){return this._invalid},t.ComponentValidity.prototype.getMessages=function(){return this._messages},t.ComponentValidity.prototype.getMaxSeverity=function(){return this._maxSeverity},t.ComponentValidity.prototype.update=function(t,e){this._initialize(t,e)},t.ComponentValidity.prototype._initialize=function(e,n){this._compValid=e,this._compMessages=n,this._messages=this._getImmediateMessages(),this._maxSeverity=i.getMaxSeverity(this._messages),this._invalid=t.ComponentValidity.isInvalid(this._messages)},t.ComponentValidity.prototype._getImmediateMessages=function(){for(var e=this._compMessages||[],n=[],i=0;i<e.length;i++){var o=e[i];o instanceof t.ComponentMessage&&!o.canDisplay()||n.push(o)}return n},t.CustomElementBridge={},t.CustomElementBridge.proto=Object.create(t.BaseCustomElementBridge.proto),t.CollectionUtils.copyInto(t.CustomElementBridge.proto,{AddComponentMethods:function(e){e.setProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(this);i.SaveEarlyPropertySet(e,n)||(i._setEventProperty(this,e,n)||i._validateAndSetCopyProperty(this,e,n,null)||(t.BaseCustomElementBridge.__GetPropertyMetadata(e,t.BaseCustomElementBridge.getProperties(i,this))?t.CustomElementBridge._getPropertyAccessor(this,e)(n):this[e]=n))},e.getProperty=function(e){var n=t.BaseCustomElementBridge.getInstance(this),i=t.BaseCustomElementBridge.__GetPropertyMetadata(e,t.BaseCustomElementBridge.getProperties(n,this));if(t.__AttributeUtils.eventListenerPropertyToEventType(e)||!i)return this[e];var o=i?i.extension:null;return o&&o._COPY_TO_INNER_ELEM?n._getCopyProperty(this,e,i):t.CustomElementBridge._getPropertyAccessor(this,e)()},e.focus=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._WIDGET_INSTANCE){var n=e._WIDGET_INSTANCE.__getFocusElement();n&&(n!==this?n.focus():HTMLElement.prototype.focus.call(this))}else HTMLElement.prototype.focus.call(this)},e.blur=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._WIDGET_INSTANCE){var n=e._WIDGET_INSTANCE.__getFocusElement();n&&(n!==this?n.blur():HTMLElement.prototype.blur.call(this))}else HTMLElement.prototype.focus.call(this)}},BatchedPropertySet:function(e,n){var i,o=Object.keys(n),s={};for(i=0;i<o.length;i++){var r=o[i],a=n[r];this._setEventProperty(e,r,a)||this._validateAndSetCopyProperty(e,r,a,null)||(a=this.ValidatePropertySet(e,r,a),s[r=this.GetAliasForProperty(r)]=a)}var l=t.Components.__GetWidgetConstructor(this._WIDGET_ELEM);if(l)l("option",s);else for(i=0;i<o.length;i++){var u=o[i];e.setProperty(u,n[u])}},CreateComponent:function(e){var i=this._INNER_DOM_FUNCTION;if(this._WIDGET_ELEM=t.CustomElementBridge._getWidgetElement(e,i?i(e):this._EXTENSION._INNER_ELEM),this._WIDGET_ELEM!==e){for(var o=this._EXTENSION._GLOBAL_TRANSFER_ATTRS||[],s=0;s<o.length;s++){var r=o[s];e.hasAttribute(r)&&(this._WIDGET_ELEM.setAttribute(r,e.getAttribute(r)),this._removingTransfer=!0,e.removeAttribute(r))}this._copyProperties()}t.Components.unmarkPendingSubtreeHidden(e);var a=n(this._WIDGET_ELEM),l=n(this._WIDGET_ELEM)[this._EXTENSION._WIDGET_NAME].bind(a);l(this._PROPS),this._WIDGET=l,this._WIDGET_INSTANCE=l("instance"),this._WRITEBACK_PROPS&&this._WIDGET_INSTANCE.__saveWritebackOptions(this._WRITEBACK_PROPS),e.hasAttribute("disabled")&&!this._disabledProcessed&&t.CustomElementBridge._removeDisabledAttribute(e);var u=function(t){return function(){var n=document.createEvent("UIEvent");n.initEvent(t,!1,!1),e.dispatchEvent(n)}},c=this._WIDGET_INSTANCE.__getFocusElement();c&&c!==e&&(c.addEventListener("focus",u("focus")),c.addEventListener("blur",u("blur"))),this.__READY_TO_FIRE=!0,this.resolveDelayedReadyPromise()},DefineMethodCallback:function(e,n,i){e[n]=function(){var e=t.BaseCustomElementBridge.getInstance(this),o=i.internalName||n;return e._WIDGET.apply(null,[o].concat([].slice.call(arguments)))}},DefinePropertyCallback:function(e,n,i){var o=i.extension;Object.defineProperty(e,n,{enumerable:!0,get:function(){var e=t.BaseCustomElementBridge.getInstance(this);return i._eventListener?e.GetEventListenerProperty(n):o&&o._COPY_TO_INNER_ELEM?e._getCopyProperty(this,n,i):t.CustomElementBridge._getPropertyAccessor(this,n)()},set:function(e){var o=t.BaseCustomElementBridge.getInstance(this);if(!o.SaveEarlyPropertySet(n,e))if(i._eventListener)o.SetEventListenerProperty(this,n,e);else if(!o._validateAndSetCopyProperty(this,n,e,i)){var s={};if(void 0===e&&(s={_context:{skipEvent:!0}},e=o.GetDefaultValue(i),o.__READY_TO_FIRE)){var r=this[n];t.BaseCustomElementBridge.__FirePropertyChangeEvent(this,n,void 0,r,"external")}t.CustomElementBridge._getPropertyAccessor(this,n,s)(e)}}})},GetAttributes:function(e){var n=t.BaseCustomElementBridge.getAttributes(e.properties);return e.extension._GLOBAL_TRANSFER_ATTRS&&(n=n.concat(e.extension._GLOBAL_TRANSFER_ATTRS)),e.extension._WATCHED_ATTRS&&(n=n.concat(e.extension._WATCHED_ATTRS)),n},GetAliasForProperty:function(t){var e=this._EXTENSION._ALIASED_PROPS;return e&&e[t]?e[t]:t},InitializeElement:function(e){t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&t.Components.markPendingSubtreeHidden(e),t.BaseCustomElementBridge.__InitProperties(e,this._PROPS)},HandleAttributeChanged:function(t,e,n,i){var o=this._EXTENSION._GLOBAL_TRANSFER_ATTRS,s=o&&-1!==o.indexOf(e),r=this._EXTENSION._WATCHED_ATTRS,a=r&&-1!==r.indexOf(e);s&&this._WIDGET_ELEM?this._removingTransfer?this._removingTransfer&&(this._removingTransfer=!1):(this._WIDGET_ELEM.setAttribute(e,i),this._removingTransfer=!0,t.removeAttribute(e)):a&&n!==i&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleWatchedAttribute(e,n,i)},HandleDetached:function(e){t.BaseCustomElementBridge.proto.HandleDetached.call(this,e),t.Components.__GetWidgetConstructor(this._WIDGET_ELEM)&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleDisconnected()},HandleReattached:function(e){t.BaseCustomElementBridge.proto.HandleReattached.call(this,e),this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleConnected()},InitializeBridge:function(e){t.BaseCustomElementBridge.proto.InitializeBridge.call(this,e);var n=t.BaseCustomElementBridge.__GetDescriptor(e.tagName);this._INNER_DOM_FUNCTION=n.innerDomFunction,this._EXTENSION=this.METADATA.extension||{},this._PROPS=this._EXTENSION._INNER_ELEM||this._INNER_DOM_FUNCTION?{_wrapper:e}:{},this._setupPropertyAccumulator(e,this._PROPS),this._processProperties(e)},_attributeChangedCallback:function(e,n,i){var s=t.BaseCustomElementBridge.getInstance(this);"disabled"===e&&s._disabledProcessed?null!=i&&(o.warn("Ignoring 'disabled' attribute change after component initialization. Use element property setter instead."),t.CustomElementBridge._removeDisabledAttribute(this)):t.BaseCustomElementBridge.proto._attributeChangedCallback.call(this,e,n,i)},_copyProperties:function(){if(this._COPY_ATTRS)for(var e=0;e<this._COPY_ATTRS.length;e++){var n=this._COPY_ATTRS[e],i=t.__AttributeUtils.attributeToPropertyName(n);if(Object.prototype.hasOwnProperty.call(this._PROPS,i)){var o=this._PROPS[i];this._setCopyProperty(n,o),delete this._PROPS[i]}}},_getCopyProperty:function(e,n,i){var o=t.__AttributeUtils.propertyNameToAttribute(n);if(i.extension._ATTRIBUTE_ONLY){if(this._WIDGET_ELEM.hasAttribute(o)){var s,r=this._WIDGET_ELEM.getAttribute(o);try{s=t.__AttributeUtils.coerceValue(e,o,r,i.type)}catch(t){this.throwError(e,t)}return s}return null}return this._WIDGET_ELEM[n]},_processProperties:function(e){var n=t.BaseCustomElementBridge.getProperties(this,e);if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],r=n[s];r.writeback&&(this._WRITEBACK_PROPS||(this._WRITEBACK_PROPS={}),this._WRITEBACK_PROPS[s]=!0);var a=r.extension;a&&a._COPY_TO_INNER_ELEM&&(this._COPY_ATTRS||(this._COPY_ATTRS=[]),this._COPY_ATTRS.push(s))}},_setCopyProperty:function(t,e){null==e||!1===e?this._WIDGET_ELEM.removeAttribute(t):!0===e?this._WIDGET_ELEM.setAttribute(t,""):this._WIDGET_ELEM.setAttribute(t,e)},_setupPropertyAccumulator:function(e,n){this._WIDGET=function(i,o,s){if("option"===i)return t.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),n,o,s),n[o];throw this.throwError(e,"Cannot access methods before element is upgraded.")}},_validateAndSetCopyProperty:function(e,n,i,o){var s=t.__AttributeUtils.propertyNameToAttribute(n),r=this._COPY_ATTRS&&-1!==this._COPY_ATTRS.indexOf(s);if(r)if(i=this.ValidatePropertySet(e,n,i),this._WIDGET_ELEM){o||(o=t.BaseCustomElementBridge.__GetPropertyMetadata(n,t.BaseCustomElementBridge.getProperties(this,e)));var a=this._getCopyProperty(e,n,o);this._setCopyProperty(s,i),t.BaseCustomElementBridge.__FirePropertyChangeEvent(e,n,this._getCopyProperty(e,n,o),a,"external")}else this._PROPS[s]=i;return r},_setEventProperty:function(e,n,i){var o=!1;return t.__AttributeUtils.eventListenerPropertyToEventType(n)&&(e[n]=i,o=!0),o}}),t.CustomElementBridge.getMetadata=function(e){return t.CustomElementBridge._METADATA_MAP[e.toLowerCase()]},t.CustomElementBridge.isKnownEvent=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e);return null!=(i.METADATA.events&&i.METADATA.events[n])},t.CustomElementBridge.isKnownProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e);return null!=(i.METADATA.properties&&i.METADATA.properties[n])},t.CustomElementBridge.getPropertyForAlias=function(e,n){var i=t.BaseCustomElementBridge.getInstance(e)._EXTENSION._COMPONENT_TO_ELEMENT_ALIASES;return i&&i[n]?i[n]:n},t.CustomElementBridge.register=function(e,n){var i=n[t.BaseCustomElementBridge.DESC_KEY_META];i=t.BaseCustomElementBridge.__ProcessEventListeners(i),n[t.BaseCustomElementBridge.DESC_KEY_META]=i,t.CustomElementBridge._METADATA_MAP[e.toLowerCase()]=i;var o=i.extension,s=o&&o._WIDGET_NAME?t.CustomElementBridge.proto:t.DefinitionalElementBridge.proto,r=o._ALIASED_PROPS;r&&(o._COMPONENT_TO_ELEMENT_ALIASES={},Object.keys(r).forEach(function(t){o._COMPONENT_TO_ELEMENT_ALIASES[r[t]]=t}));t.BaseCustomElementBridge.__Register(e,n,s)&&customElements.define(e.toLowerCase(),s.getClass(n))},t.CustomElementBridge._getPropertyAccessor=function(e,n,i){return function(o){var s=t.BaseCustomElementBridge.getInstance(e);return 1===arguments.length?(o=s.ValidatePropertySet(e,n,o),n=s.GetAliasForProperty(n),void s._WIDGET("option",n,o,i)):(n=s.GetAliasForProperty(n),s._WIDGET("option",n))}.bind(e)},t.CustomElementBridge._getWidgetElement=function(e,n){var i=e;if(n){var o=e.firstElementChild;if(o&&o.tagName.toLowerCase()===n)i=o;else{i=document.createElement(n);for(var s=[],r=e.childNodes,a=0;a<r.length;a++)s.push(r[a]);for(e.appendChild(i);s.length;){var l=s.shift();t.BaseCustomElementBridge.getSlotAssignment(l)||i.appendChild(l)}}i.setAttribute("data-oj-internal","")}return i},t.CustomElementBridge._removeDisabledAttribute=function(e){t.BaseCustomElementBridge.getInstance(e)._disabledProcessed=!0,e.removeAttribute("disabled")},t.CustomElementBridge._METADATA_MAP={};var S,T,D,P,N,b,I,M=function(){function t(){}return t.isDataProvider=function(t){return!!t.fetchFirst},t.isTreeDataProvider=function(t){return!!t.getChildDataProvider},t}();return t.DataProviderFeatureChecker=M,t.DefinitionalElementBridge={},t.DefinitionalElementBridge.proto=Object.create(t.BaseCustomElementBridge.proto),t.CollectionUtils.copyInto(t.DefinitionalElementBridge.proto,{beforePropertyChangedEvent:function(t,e,n){var i=e,o=n.value;n.subproperty&&(i=n.subproperty.path,o=n.subproperty.value),this._partialRender(t,i,o)},AddComponentMethods:function(e){e.refresh=function(){t.BaseCustomElementBridge.getInstance(this)._fullRender(this)},e.setProperty=function(e,n){var i=t.BaseCustomElementBridge.getInstance(this);i.SaveEarlyPropertySet(e,n)||i.SetProperty(this,e,n,this,!0)},e.getProperty=function(e){return t.BaseCustomElementBridge.getInstance(this).GetProperty(this,e,this)},e._propsProto.setProperty=function(t,e){this._BRIDGE.SetProperty(this._ELEMENT,t,e,this,!1)},e._propsProto.getProperty=function(t){return this._BRIDGE.GetProperty(this,t,this)}},CreateComponent:function(e){t.Components.unmarkPendingSubtreeHidden(e),!this._INSTANCE&&this._EXTENSION._CONSTRUCTOR&&(this._CONTEXT={element:e,props:this._PROPS_PROXY,unique:t.BaseCustomElementBridge.__GetUnique()},this._CONTEXT.uniqueId=e.id?e.id:this._CONTEXT.unique,this._INSTANCE=new this._EXTENSION._CONSTRUCTOR(this._CONTEXT),this._INSTANCE.createDOM&&this._INSTANCE.createDOM(),this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()),this.__READY_TO_FIRE=!0,this.resolveDelayedReadyPromise()},DefineMethodCallback:function(e,n,i){e[n]=function(){var e=t.BaseCustomElementBridge.getInstance(this);if(e._INSTANCE){var o=i.internalName||n;return e._INSTANCE[o].apply(e._INSTANCE,arguments)}}},DefinePropertyCallback:function(e,n,i){function s(e,s){if(!this._BRIDGE.SaveEarlyPropertySet(n,e)){var r=this._BRIDGE._PROPS[n];t.BaseCustomElementBridge.__CompareOptionValues(n,i,e,r)?o.info(t.BaseCustomElementBridge.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+n+"' with same value."):(s&&(e=this._BRIDGE.ValidatePropertySet(this._ELEMENT,n,e)),i._eventListener?(this._BRIDGE.SetEventListenerProperty(this._ELEMENT,n,e),this._BRIDGE._PROPS[n]=e):(this._BRIDGE._PROPS[n]=e,t.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,n,e,r,s?"external":"internal")))}}function r(){var t=this._BRIDGE._PROPS[n];return void 0===t&&(t=this._BRIDGE.GetDefaultValue(i),this._BRIDGE._PROPS[n]=t),t}i._derived||t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e._propsProto,n,function(){return r.bind(this)()},function(t){s.bind(this)(t,!1)}),t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e,n,function(){var e=t.BaseCustomElementBridge.getInstance(this);return r.bind(e._PROPS_PROXY)()},function(e){var n=t.BaseCustomElementBridge.getInstance(this);s.bind(n._PROPS_PROXY)(e,!0)})},InitializeElement:function(e){t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&t.Components.markPendingSubtreeHidden(e),t.BaseCustomElementBridge.__InitProperties(e,e)},InitializePrototype:function(e){t.BaseCustomElementBridge.proto.InitializePrototype.call(this,e),Object.defineProperty(e,"_propsProto",{value:{}})},InitializeBridge:function(e){t.BaseCustomElementBridge.proto.InitializeBridge.call(this,e),this._EXTENSION=this.METADATA.extension||{},this._PROPS={},e._propsProto&&(this._PROPS_PROXY=Object.create(e._propsProto),this._PROPS_PROXY._BRIDGE=this,this._PROPS_PROXY._ELEMENT=e)},_fullRender:function(t){this._INSTANCE&&this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()},_partialRender:function(t,e,n){if(this._INSTANCE){var i=this._INSTANCE.handlePropertyChanged;(!i||!i(e,n))&&this._INSTANCE.updateDOM&&this._INSTANCE.updateDOM()}}}),t.DomUtils={},t.DomUtils._HTML_START_TAG="<html>",t.DomUtils._HTML_END_TAG="</html>",t.DomUtils._LEGAL_ELEMENTS={SPAN:1,B:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1},t.DomUtils._LEGAL_ATTRIBUTES={class:1,style:1},t.DomUtils.isHTMLContent=function(e){return 0===e.indexOf(t.DomUtils._HTML_START_TAG)&&e.lastIndexOf(t.DomUtils._HTML_END_TAG)===e.length-7},t.DomUtils.cleanHtml=function(e){var i=n(document.createElement("span")).get(0);return i.innerHTML=e,e&&e.indexOf("<")>=0&&t.DomUtils._cleanElementHtml(i),i},t.DomUtils._cleanElementHtml=function(e){for(var i=e.childNodes,o=i.length-1;o>=0;o--){var s=i.item(o);if(s&&1===s.nodeType)if(t.DomUtils._LEGAL_ELEMENTS[s.nodeName]){for(var r=s.attributes,a=r.length-1;a>=0;a--){var l=r[a];void 0!==n(s).attr(l.name)&&(t.DomUtils._LEGAL_ATTRIBUTES[l.name]||s.removeAttribute(l.nodeName))}t.DomUtils._cleanElementHtml(s)}else s&&e.removeChild(s)}},t.DomUtils.isAncestor=function(t,e){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1},t.DomUtils.isAncestorOrSelf=function(e,n){return n===e||t.DomUtils.isAncestor(e,n)},t.DomUtils.addResizeListener=function(e,i,o){var s=n(e),r=s.data(t.DomUtils._RESIZE_TRACKER_KEY);null==r&&(r=new t.DomUtils._ResizeTracker(e),s.data(t.DomUtils._RESIZE_TRACKER_KEY,r),r.start()),r.addListener(i,o)},t.DomUtils.removeResizeListener=function(e,i){var o=n(e),s=o.data(t.DomUtils._RESIZE_TRACKER_KEY);null!=s&&(s.removeListener(i),s.isEmpty()&&(s.stop(),o.removeData(t.DomUtils._RESIZE_TRACKER_KEY)))},t.DomUtils.fixResizeListeners=function(e){n(e).find(".oj-helper-detect-expansion").parent().each(function(e,i){var o=n(i).data(t.DomUtils._RESIZE_TRACKER_KEY);null!=o&&o.init(!0)})},t.DomUtils.isMetaKeyPressed=function(e){var n=t.AgentUtils.getAgentInfo();return t.AgentUtils.OS.MAC===n.os?e.metaKey:e.ctrlKey},t.DomUtils.dispatchEvent=function(t,e){var n="disabled",i=t[n];try{t[n]=!1,t.dispatchEvent(e)}finally{t[n]=i}},t.DomUtils._invokeAfterPaint=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,0)}).bind(window),t.DomUtils._cancelInvokeAfterPaint=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(t){return window.clearTimeout(t)}).bind(window),t.DomUtils._ResizeTracker=function(e){var i=n.Callbacks(),o=[],s=[],r=2,a=0,l=null,u=null,c=null,g=null,h=null,d=null,p=null;function _(t){var e=!1;if(null!=g.offsetParent){var n=g.offsetWidth,i=g.offsetHeight;u===n&&c===i||(a=r,f(n,i),e=!0,t&&m(!0))}return e}function m(n){var s=e.offsetWidth,r=e.offsetHeight;i.has()&&(n?(null!==l&&t.DomUtils._cancelInvokeAfterPaint(l),l=t.DomUtils._invokeAfterPaint(function(){l=null,i.fire(s,r)})):i.fire(s,r));for(var a=0;a<o.length;a++)o[a].getCallback()(s,r)}function f(t,e){u=t,c=e;var n=g.firstChild.style,i=1;do{n.width=t+i+"px",n.height=e+i+"px",g.scrollLeft=i,g.scrollTop=i,i+=1}while((0===g.scrollTop||0===g.scrollLeft)&&i<=5);h.scrollLeft=t,h.scrollTop=e}this.addListener=function(e,n){void 0===n||0===n?i.add(e):(o.push(new t.DomUtils._collapsingListenerManager(e,n)),s.push(e))},this.removeListener=function(t){var e=s.indexOf(t);e>=0?(s.splice(e,1),o.splice(e,1)[0].stop()):i.remove(t)},this.isEmpty=function(){return!i.has()&&0===s.length},this.start=function(){if(p=function(t){t.stopPropagation(),_(!0)||a>0&&null!=g.offsetParent&&(0===g.scrollLeft||0===g.scrollTop)&&(a-=1,f(u,c))}.bind(this),e.attachEvent)d=function(){m(!1)}.bind(this),e.attachEvent("onresize",d);else{var t=e.childNodes[0];(g=document.createElement("div")).className="oj-helper-detect-expansion";var n=document.createElement("div");g.appendChild(n),null!=t?e.insertBefore(g,t):e.appendChild(g),g.addEventListener("scroll",p,!1),(h=document.createElement("div")).className="oj-helper-detect-contraction";var i=document.createElement("div");i.style.width="200%",i.style.height="200%",h.appendChild(i),e.insertBefore(h,g),h.addEventListener("scroll",p,!1),this.init(!1)}},this.stop=function(){null!=l&&(t.DomUtils._cancelInvokeAfterPaint(l),l=null),null!=g?(g.removeEventListener("scroll",p),h.removeEventListener("scroll",p),g.parentNode&&e.removeChild(g),h.parentNode&&e.removeChild(h)):e.detachEvent("onresize",d)},this.init=function(t){var e=_(t);t&&!e&&null!=g.offsetParent&&f(u,c)}},t.DomUtils._RESIZE_TRACKER_KEY="_ojResizeTracker",t.DomUtils.isValidIdentifier=function(t){return/^[A-Za-z][0-9A-Z_a-z-]*$/.test(t)},t.DomUtils._collapsingListenerManager=function(t,e){var n=null,i=null,o=function(){t.apply(null,n),i=null},s=function(){n=Array.prototype.slice.call(arguments),null==i&&(i=window.setTimeout(o,e))};this.getCallback=function(){return s},this.stop=function(){null!=i&&(window.clearTimeout(i),i=null)}},t.DomUtils.isTouchSupported=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0},t.DomUtils.setInKoCleanExternal=function(e){t.DomUtils._koCleanNode=e},t.DomUtils.unwrap=function(e,n){var i=t.DomUtils._koCleanNode;i&&e.get(0)===i||(n?n.replaceWith(e):e.unwrap())},t.DomUtils.isChromeEvent=function(e){function i(e){var i=e.target,o=n(i),s=i.getBoundingClientRect(),r=t.DomUtils.getScrollBarWidth(),a="ltr"===t.DomUtils.getReadingDirection();return!(!a||"HTML"!==i.nodeName&&"visible"===o.css("overflow-x")||!(e.clientX>s.right-r))||(!a&&"HTML"===i.nodeName&&e.clientX>s.left-r||(!a&&"visible"!==o.css("overflow-x")&&e.clientX<s.left+r||("HTML"===i.nodeName||"visible"!==o.css("overflow-y"))&&e.clientY>s.bottom-r))}if(!("clientX"in e&&"clientY"in e))return!1;var o=t.AgentUtils.getAgentInfo();return t.AgentUtils.OS.ANDROID!==o.os&&t.AgentUtils.OS.IOS!==o.os&&(t.AgentUtils.ENGINE.GECKO===o.engine?function(t){try{return!t.originalTarget.localName}catch(t){return!0}}(e):t.AgentUtils.ENGINE.WEBKIT===o.engine||t.AgentUtils.ENGINE.BLINK===o.engine?i(e):t.AgentUtils.BROWSER.IE===o.browser&&i(e))},t.DomUtils.getScrollBarWidth=function(){var e=t.DomUtils._scrollBarWidth;if(n.isNumeric(e))return e;var i=n("<div />");n(document.body).append(i),i.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var o=n("<div />");o.height(1),i.append(o);var s=o.width(),r=i.width();return i.remove(),e=r-s,t.DomUtils._scrollBarWidth=e,e},t.DomUtils.getReadingDirection=function(){var t=document.documentElement.getAttribute("dir");return t&&(t=t.toLowerCase()),"rtl"===t?"rtl":"ltr"},t.DomUtils.getScrollLeft=function(e){if("rtl"===t.DomUtils.getReadingDirection()){var n=t.AgentUtils.getAgentInfo().browser;return n===t.AgentUtils.BROWSER.FIREFOX||n===t.AgentUtils.BROWSER.IE||n===t.AgentUtils.BROWSER.EDGE?Math.abs(e.scrollLeft):Math.max(0,e.scrollWidth-e.clientWidth-e.scrollLeft)}return e.scrollLeft},t.DomUtils.setScrollLeft=function(e,n){if("rtl"===t.DomUtils.getReadingDirection()){var i=t.AgentUtils.getAgentInfo().browser;i===t.AgentUtils.BROWSER.FIREFOX?e.scrollLeft=-n:i===t.AgentUtils.BROWSER.IE||i===t.AgentUtils.BROWSER.EDGE?e.scrollLeft=n:e.scrollLeft=Math.max(0,e.scrollWidth-e.clientWidth-n)}else e.scrollLeft=n},t.DomUtils.getCSSLengthAsInt=function(t){if(!isNaN(t))return parseInt(t,10);if(t&&t.length>0&&"auto"!==t){var e=parseInt(t,10);return isNaN(e)&&(e=0),e}return 0},t.DomUtils.getCSSLengthAsFloat=function(t){if(!isNaN(t))return parseFloat(t);if(t&&t.length>0){var e=parseFloat(t);return isNaN(e)&&(e=0),e}return 0},t.DomUtils._LOGICAL_PARENT_DATA="oj-logical-parent",t.DomUtils.getLogicalParent=function(e){if(e)return e.data(t.DomUtils._LOGICAL_PARENT_DATA)},t.DomUtils.setLogicalParent=function(e,n){e&&(null===n?e.removeData(t.DomUtils._LOGICAL_PARENT_DATA):e.data(t.DomUtils._LOGICAL_PARENT_DATA,n))},t.DomUtils.isLogicalAncestorOrSelf=function(e,i){t.Assert.assertDomElement(e),t.Assert.assertDomElement(i);for(var o=i;o;){if(o===e)return!0;var s=t.DomUtils.getLogicalParent(n(o));o=s?s[0]:o.parentNode}return!1},t.DomUtils.validateURL=function(t,e){var n=e||["http:","https:"],i=document.createElement("a");i.href=t;var o=i.protocol;if(null!=o&&(o=o.toLowerCase()),n.indexOf(o)<0)throw new Error(o+" is not a valid URL protocol")},t.DomUtils._supressNativeContextMenu=function(){n(document.body).hasClass("oj-hybrid")&&document.body.addEventListener("contextmenu",function(t){t.preventDefault()},!0)},t.DomUtils._supressNativeContextMenu(),t.DomUtils.PRESS_HOLD_THRESHOLD=750,t.DomUtils.recentTouchEnd=function(){var t=0;function e(){t=Date.now()}return document.addEventListener("touchend",e,!0),document.addEventListener("touchcancel",e,!0),function(){return Date.now()-t<500}}(),t.DomUtils.recentTouchStart=function(){var e=0,n=t.DomUtils.PRESS_HOLD_THRESHOLD+50;return document.addEventListener("touchstart",function(){e=Date.now()},!0),function(){return Date.now()-e<n}}(),t.DomUtils.recentPointer=(T=0,D=t.DomUtils.PRESS_HOLD_THRESHOLD+600,document.addEventListener("mousedown",function(){var e=Date.now();(!S||e>T+t.DomUtils.PRESS_HOLD_THRESHOLD)&&(T=e,S=!1)},!0),document.addEventListener("touchstart",function(){T=Date.now(),S=!0},!0),document.addEventListener("mouseup",function(){T=Date.now(),S=!1},!0),document.addEventListener("touchend",function(){T=Date.now(),S=!1},!0),function(){return Date.now()-T<(S?D:600)}),t.DomUtils.makeFocusable=(P=0,N=(t.ThemeUtils.parseJSONFromFontFamily("oj-focus-config")||{}).focusHighlightPolicy,b=function(e,n){switch(e?e():N){case"all":return!0;case"none":return!1;default:return!(t.DomUtils.recentPointer()||n&&n())}},function(t){var e=t.element,i="ojFocusable";if(t.remove){e.removeClass("oj-focus oj-focus-highlight");var o=e.data(i);if(null==o)return;var s=".ojFocusable"+(""+o).split(",").join(" .ojFocusable");e.off(s).removeData(i)}else{var r=t.afterToggle||n.noop,a=t.applyHighlight?function(e){e.addClass("oj-focus"),b(t.getFocusHighlightPolicy,t.recentPointer)&&e.addClass("oj-focus-highlight"),r("focusin")}:function(t){t.addClass("oj-focus"),r("focusin")};(t.setupHandlers||function(o,s){var r=t.component,a=function(t){o(n(t.currentTarget))},l=function(t){s(n(t.currentTarget))};if(r)r._on(e,{focusin:a,focusout:l});else{var u=P;P+=1;var c=e.data(i);e.data(i,null==c?u:c+","+u);var g={},h=".ojFocusable"+u;g["focusin"+h]=a,g["focusout"+h]=l,e.on(g)}})(a,function(t){t.removeClass("oj-focus oj-focus-highlight"),r("focusout")})}}),t.FocusUtils={},t.FocusUtils._TABBABLE=":tabbable,iframe",t.FocusUtils.containsFocus=function(e){var n=document.activeElement;return!(!e||!n)&&t.DomUtils.isAncestorOrSelf(e,n)},t.FocusUtils.focusElement=function(t){t.focus()},t.FocusUtils.focusFirstTabStop=function(e){var n=t.FocusUtils.getFirstTabStop(e);return n&&t.FocusUtils.focusElement(n),n},t.FocusUtils.isFirstActiveElement=function(e){var i=n(e).find(t.FocusUtils._TABBABLE);if(null==i||0===i.length)return!1;var o=i[0];return document.activeElement===o||o.name===document.activeElement.name&&"radio"===o.type&&"radio"===document.activeElement.type},t.FocusUtils.isLastActiveElement=function(e){var i=n(e).find(t.FocusUtils._TABBABLE);if(null==i||0===i.length)return!1;var o=i[i.length-1];return document.activeElement===o||o.name===document.activeElement.name&&"radio"===o.type&&"radio"===document.activeElement.type},t.FocusUtils.getFirstTabStop=function(e){var i=n(e);if(i.is(t.FocusUtils._TABBABLE))return e;var o=i.find(t.FocusUtils._TABBABLE);if(o&&o.length>0){if(o[0].classList.contains("oj-radio")){var s=o.filter(".oj-selected.oj-radio");return s&&s.length?s[0]:o[0]}return o[0]}return null},t.FocusUtils.getLastTabStop=function(e){var i=n(e).find(t.FocusUtils._TABBABLE);if(i&&i.length>0){if(i[i.length-1].classList.contains("oj-radio")){var o=i.filter(".oj-selected.oj-radio");return o&&o.length?o[o.length-1]:i[i.length-1]}return i[i.length-1]}return null},t.FocusUtils.isFocusable=function(e){return!!n(e).is(":focusable")&&!("A"===e.nodeName&&!e.hasAttribute("tabindex")&&t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.SAFARI)},t.GestureUtils={},t.GestureUtils._EVENT_NAMESPACE=".contextMenu",t.GestureUtils.stopDetectContextMenuGesture=function(e){e._clickListener&&(n(e).off(t.GestureUtils._EVENT_NAMESPACE).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",e._clickListener,!0),clearTimeout(e._contextMenuPressHoldTimer),delete e._clickListener,delete e._contextMenuPressHoldTimer)},t.GestureUtils.startDetectContextMenuGesture=function(e,i){var o,s,r,a,l=t.DomUtils.PRESS_HOLD_THRESHOLD,u=!1,c=!1,g=300,h=null,d=t.GestureUtils._EVENT_NAMESPACE,p=!1;function _(t,o,s){if((u=s)&&n(e).one("touchend"+d,function(){p=!0,setTimeout(function(){p=!1},50)}),"touchstart"===h&&"contextmenu"===t.type||"contextmenu"===h&&"touchstart"===t.type||"keydown"===h&&"contextmenu"===t.type)return"keydown"===h&&"contextmenu"===t.type&&t.preventDefault(),h=null,void clearTimeout(a);t.isDefaultPrevented()||t.originalEvent&&t.originalEvent.defaultPrevented||(i(t,o),t.isDefaultPrevented()&&("touchstart"!==t.type&&"contextmenu"!==t.type&&"keydown"!==t.type||(h=t.type,a=setTimeout(function(){h=null},g))))}var m=function(t){u&&(t.preventDefault(),t.stopPropagation(),u=!1)};e._clickListener=m,e.addEventListener("click",m,!0),n(e).on("touchstart"+d+" mousedown"+d,function(t){if("mousedown"!==t.type||!p){if(u=!1,"touchstart"===t.type&&1===t.originalEvent.touches.length){var n=t.originalEvent.touches[0];s=n.pageX,r=n.pageY,c=!0,o=setTimeout(_.bind(void 0,t,"touch",!0),l),e._contextMenuPressHoldTimer=o}return!0}}).on("touchmove"+d,function(t){var e=t.originalEvent.touches[0];return(Math.abs(s-e.pageX)>5||Math.abs(r-e.pageY)>5)&&(c=!1,clearTimeout(o)),!0}).on("touchend"+d+" touchcancel"+d,function(){return c=!1,clearTimeout(o),!0}).on("keydown"+d+" contextmenu"+d,function(t){("contextmenu"===t.type||121===t.which&&t.shiftKey)&&_(t,c?"touch":"keydown"===t.type?"keyboard":"mouse",!1);return!0}),t.DomUtils.isTouchSupported()&&n(e).addClass("oj-menu-context-menu-launcher")},n(document).ready(function(){!function(){var t=document.createElement("div");t.style.border="1px solid",t.style.borderColor="red green",t.style.position="absolute",t.style.top="-999px",t.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=)";var e=document.body;e.appendChild(t);var n=window.getComputedStyle(t),i=n.backgroundImage;n.borderTopColor!==n.borderRightColor&&(null==i||"none"!==i&&"url (invalid-url:)"!==i)||e.classList.add("oj-hicontrast"),e.removeChild(t)}()}),t.Test={},t.Test.ready=!1,t.Test.domNodeForLocator=function(e){var i=e;if(t.StringUtils.isString(e)){var o=e;try{i=JSON.parse(o)}catch(t){return null}}if(i&&i.element){var s=n(i.element);if(s&&s.length>0){delete i.element;var r=i;return t.Components.getNodeBySubId(s[0],r)}}return null},t.Test.getOpenPopupCount=function(){return t.ZOrderUtils.getOpenPopupCount()},t.Test.findOpenPopups=function(){return t.ZOrderUtils.findOpenPopups()},t.Test.compareStackingContexts=function(e,n){return t.ZOrderUtils.compareStackingContexts(e,n)},n.cleanData=(I=n.cleanData,function(e){for(var n=[],i=0;i<e.length;i++){var o=e[i];if(null==o)break;var s=!1,r=t.Components.__GetWidgetConstructor(o);if(r&&!(s=r("instance")._IsCustomElement())){var a=t.Components.getComponentElementByNode(o);s=a&&t.BaseCustomElementBridge.getRegistered(a.tagName)}s||n.push(o)}n.length>0&&I(n)}),t.Components});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojattributegrouphandler',["ojs/ojcore","jquery"],function(t,e){"use strict";var r=function(t){this.Init(t)};t.Object.createSubclass(r,t.Object,"AttributeGroupHandler"),r.prototype.Init=function(t){if(this._assignments={},this._valueIndex=0,this._matchRules={},null!=t)for(var e=Object.keys(t),r=0;r<e.length;r++){var a=e[r];this.addMatchRule(a,t[a])}},r.prototype.getValueRamp=function(){return[]},r.prototype.getValue=function(t){return this._matchRules[t]?this._matchRules[t]:(this._assignments[t]||(this._values||(this._values=this.getValueRamp().slice()),this._assignments[t]=this._values[this._valueIndex],this._valueIndex+=1,this._valueIndex===this._values.length&&(this._valueIndex=0)),this._assignments[t])},r.prototype.getCategoryAssignments=function(){for(var t=[],e=Object.keys(this._assignments),r=0;r<e.length;r++){var a=e[r];t.push({category:a,value:this._assignments[a]})}return t},r.prototype.addMatchRule=function(t,e){this._matchRules[t]=e};var a=function(t){if(this._attributeValues=[],e(document.body).hasClass("oj-hicontrast"))this._attributeValues=a._DEFAULT_COLORS.slice();else{var r=a.__createAttrDiv();r&&(a.__processAttrDiv(r),r.remove()),a._colors.length>0?this._attributeValues=a._colors.slice():this._attributeValues=a._DEFAULT_COLORS.slice()}this.Init(t)};t.Object.createSubclass(a,r,"ColorAttributeGroupHandler"),a._DEFAULT_COLORS=["#237bb1","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],a._STYLE_CLASSES=["oj-dvt-category1","oj-dvt-category2","oj-dvt-category3","oj-dvt-category4","oj-dvt-category5","oj-dvt-category6","oj-dvt-category7","oj-dvt-category8","oj-dvt-category9","oj-dvt-category10","oj-dvt-category11","oj-dvt-category12"],a._colors=null,a.prototype.getValueRamp=function(){return this._attributeValues},a.__createAttrDiv=function(){if(a._colors)return null;var t=e(document.createElement("div"));t.css("display","none;"),t.attr("id","attrGps"),e(document.body).append(t);for(var r=0;r<a._STYLE_CLASSES.length;r++){var s=e(document.createElement("div"));s.addClass(a._STYLE_CLASSES[r]),t.append(s)}return t},a.__processAttrDiv=function(t){a._colors=[];for(var r=t.children(),s=0;s<r.length;s++){var o=e(r[s]).css("color");o&&a._colors.push(o)}};var s=function(t){this.Init(t)};t.Object.createSubclass(s,r,"ShapeAttributeGroupHandler"),s._attributeValues=["square","circle","diamond","plus","triangleDown","triangleUp","human"],s.prototype.getValueRamp=function(){return s._attributeValues};var o={};return o.AttributeGroupHandler=r,o.ColorAttributeGroupHandler=a,o.ShapeAttributeGroupHandler=s,o});
define('ojtranslations/nls/localeElements',{root:{supplemental:{weekData:{firstDay:{"001":1,AE:6,BH:6,BR:0,DZ:6,EG:6,IQ:6,JO:6,KW:6,LB:1,LY:6,MA:6,OM:6,QA:6,SA:0,SD:6,SY:6,TN:0,YE:0,BY:1,BG:1,ES:1,CZ:1,DK:1,AT:1,CH:1,DE:1,LU:1,CY:1,GR:1,AU:0,CA:0,GB:1,IE:0,IN:0,MT:0,NZ:0,PH:0,SG:0,US:0,ZA:0,AR:0,CL:1,CO:0,CR:1,DO:0,EC:1,GT:0,HN:0,MX:0,NI:0,PA:0,PE:0,PR:0,PY:0,SV:0,UY:1,VE:0,EE:1,FI:1,BE:1,FR:1,IL:0,HR:1,HU:1,ID:0,IS:1,IT:1,JP:0,KR:0,LT:1,LV:1,MK:1,MY:1,NO:1,NL:1,PL:1,PT:1,RO:1,RU:1,SK:1,SI:1,AL:1,BA:1,ME:1,RS:1,SE:1,TH:0,TR:1,UA:1,VN:1,CN:0,HK:0,MO:0,TW:0},weekendStart:{"001":6,AE:5,BH:5,DZ:5,EG:5,IQ:5,JO:5,KW:5,LY:5,MA:5,OM:5,QA:5,SA:5,SD:5,SY:5,TN:5,YE:5,IN:0,IL:5},weekendEnd:{"001":0,AE:6,BH:6,DZ:6,EG:6,IQ:6,JO:6,KW:6,LY:6,MA:6,OM:6,QA:6,SA:6,SD:6,SY:6,TN:6,YE:6,IL:6}},prefferedHours:{"001":"H",AE:"h",BH:"h",DZ:"h",EG:"h",IQ:"h",JO:"h",KW:"h",LB:"h",LY:"h",MA:"H",OM:"h",QA:"h",SA:"h",SD:"h",SY:"h",TN:"h",YE:"h",BG:"H",ES:"H",CZ:"H",DK:"H",AT:"H",CH:"H",DE:"H",LU:"H",CY:"h",GR:"h",AU:"h",CA:"h",GB:"H",IE:"H",IN:"h",NZ:"h",PH:"h",SG:"h",US:"h",ZA:"h",AR:"H",BO:"H",CL:"H",CO:"h",CR:"H",CU:"H",DO:"h",EC:"H",GT:"H",HN:"H",MX:"H",NI:"H",PA:"h",PE:"H",PR:"h",SV:"H",UY:"H",VE:"h",EE:"H",FI:"H",BE:"H",FR:"H",IL:"H",HR:"H",ID:"H",IS:"H",IT:"H",JP:"H",KR:"h",LT:"H",LV:"H",MK:"H",MY:"h",NL:"H",PT:"H",RO:"H",RU:"H",SK:"H",SI:"H",AL:"h",BA:"H",ME:"H",RS:"H",SE:"H",TR:"H",UA:"H",CN:"h",HK:"h",MO:"h",TW:"h"},plurals:{ar:function(r){return 0===r?"zero":1===r?"one":2===r?"two":r%100===Math.floor(r%100)&&r%100>=3&&r%100<=10?"few":r%100===Math.floor(r%100)&&r%100>=11&&r%100<=99?"many":"other"},as:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},be:function(r){return r%10==1&&r%100!=11?"one":r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?"few":r%10==0||r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||r%100===Math.floor(r%100)&&r%100>=11&&r%100<=14?"many":"other"},bg:function(r){return 1===r?"one":"other"},bn:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},bo:function(r){return"other"},brx:function(r){return 1===r?"one":"other"},ca:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},cs:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":t===Math.floor(t)&&t>=2&&t<=4&&0===n?"few":0!==n?"many":"other"},da:function(r){var t=Math.floor(Math.abs(r)),n=parseInt(r.toString().replace(/^[^.]*.?|0+$/g,""),10);return 1===r||0!==n&&(0===t||1===t)?"one":"other"},de:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},el:function(r){return 1===r?"one":"other"},en:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},es:function(r){return 1===r?"one":"other"},et:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},fi:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},fr:function(r){var t=Math.floor(Math.abs(r));return 0===t||1===t?"one":"other"},ga:function(r){return 1===r?"one":2===r?"two":r===Math.floor(r)&&r>=3&&r<=6?"few":r===Math.floor(r)&&r>=7&&r<=10?"many":"other"},gu:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},he:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":2===t&&0===n?"two":0!==n||r>=0&&r<=10||r%10!=0?"other":"many"},hi:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},hr:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length,e=parseInt(r.toString().replace(/^[^.]*.?/,""),10);return 0===n&&t%10==1&&(t%100!=11||e%10==1&&e%100!=11)?"one":0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&(!(t%100>=12&&t%100<=14)||e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14))?"few":"other"},hu:function(r){return 1===r?"one":"other"},id:function(r){return"other"},is:function(r){var t=Math.floor(Math.abs(r)),n=parseInt(r.toString().replace(/^[^.]*.?|0+$/g,""),10);return 0!==n||t%10!=1||t%100==11&&0===n?"other":"one"},it:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},ja:function(r){return"other"},kn:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},ko:function(r){return"other"},kok:function(r){return"other"},ks:function(r){return 1===r?"one":"other"},lt:function(r){var t=parseInt(r.toString().replace(/^[^.]*.?/,""),10);return r%10!=1||r%100>=11&&r%100<=19?r%10===Math.floor(r%10)&&r%10>=2&&r%10<=9&&!(r%100>=11&&r%100<=19)?"few":0!==t?"many":"other":"one"},lv:function(r){var t=r.toString().replace(/^[^.]*.?/,"").length,n=parseInt(r.toString().replace(/^[^.]*.?/,""),10);return r%10==0||r%100===Math.floor(r%100)&&r%100>=11&&r%100<=19||2===t&&n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?"zero":r%10==1&&(r%100!=11||2===t&&n%10==1&&(n%100!=11||2!==t&&n%10==1))?"one":"other"},mk:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length,e=parseInt(r.toString().replace(/^[^.]*.?/,""),10);return 0!==n||t%10!=1&&e%10!=1?"other":"one"},ml:function(r){return 1===r?"one":"other"},mr:function(r){return 0===Math.floor(Math.abs(r))||1===r?"one":"other"},ms:function(r){return"other"},mt:function(r){return 1===r?"one":0===r||r%100===Math.floor(r%100)&&r%100>=2&&r%100<=10?"few":r%100===Math.floor(r%100)&&r%100>=11&&r%100<=19?"many":"other"},nb:function(r){return 1===r?"one":"other"},ne:function(r){return 1===r?"one":"other"},nl:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},nn:function(r){return 1===r?"one":"other"},no:function(r){return 1===r?"one":"other"},or:function(r){return 1===r?"one":"other"},pa:function(r){return r===Math.floor(r)&&r>=0&&r<=1?"one":"other"},pl:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===n&&1!==t&&(t%10===Math.floor(t%10)&&t%10>=0&&t%10<=1||0===n&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===n&&t%100===Math.floor(t%100)&&t%100>=12&&t%100<=14))?"many":"other"},pt:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length,e=parseInt(r.toString().replace(/^[^.]*.?|0+$/g,""),10);return 1===t&&(0===n||0===t&&1===e)?"one":"other"},"pt-PT":function(r){var t=r.toString().replace(/^[^.]*.?/,"").length;return 1===r&&0===t?"one":"other"},ro:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":0!==n||0===r||1!==r&&r%100===Math.floor(r%100)&&r%100>=1&&r%100<=19?"few":"other"},ru:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 0===n&&t%10==1&&t%100!=11?"one":0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===n&&(t%10==0||0===n&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===n&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14))?"many":"other"},sk:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":t===Math.floor(t)&&t>=2&&t<=4&&0===n?"few":0!==n?"many":"other"},sl:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 0===n&&t%100==1?"one":0===n&&t%100==2?"two":0===n&&(t%100===Math.floor(t%100)&&t%100>=3&&t%100<=4||0!==n)?"few":"other"},sq:function(r){return 1===r?"one":"other"},sr:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length,e=parseInt(r.toString().replace(/^[^.]*.?/,""),10);return 0===n&&t%10==1&&(t%100!=11||e%10==1&&e%100!=11)?"one":0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&(!(t%100>=12&&t%100<=14)||e%10===Math.floor(e%10)&&e%10>=2&&e%10<=4&&!(e%100>=12&&e%100<=14))?"few":"other"},sv:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},ta:function(r){return 1===r?"one":"other"},te:function(r){return 1===r?"one":"other"},th:function(r){return"other"},tr:function(r){return 1===r?"one":"other"},uk:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 0===n&&t%10==1&&t%100!=11?"one":0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?"few":0===n&&(t%10==0||0===n&&(t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===n&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14))?"many":"other"},ur:function(r){var t=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===n?"one":"other"},vi:function(r){return"other"},zh:function(r){return"other"}},currencyData:{fractions:{IDR:{_rounding:"0",_digits:"0"},JPY:{_rounding:"0",_digits:"0"},KRW:{_rounding:"0",_digits:"0"}}}}},ar:1,"ar-AE":1,"ar-BH":1,"ar-DZ":1,"ar-EG":1,"ar-IQ":1,"ar-JO":1,"ar-KW":1,"ar-LB":1,"ar-LY":1,"ar-MA":1,"ar-OM":1,"ar-QA":1,"ar-SA":1,"ar-SD":1,"ar-SY":1,"ar-TN":1,"ar-YE":1,as:1,be:1,"be-BY":1,bg:1,"bg-BG":1,bn:1,bo:1,"bo-IN":1,brx:1,ca:1,"ca-ES":1,cs:1,"cs-CZ":1,da:1,"da-DK":1,de:1,"de-AT":1,"de-CH":1,"de-DE":1,"de-LU":1,el:1,"el-CY":1,"el-GR":1,en:1,"en-AU":1,"en-CA":1,"en-GB":1,"en-IE":1,"en-IN":1,"en-MT":1,"en-NZ":1,"en-PH":1,"en-SG":1,"en-US":1,"en-ZA":1,es:1,"es-AR":1,"es-BO":1,"es-CL":1,"es-CO":1,"es-CR":1,"es-CU":1,"es-DO":1,"es-EC":1,"es-ES":1,"es-GT":1,"es-HN":1,"es-MX":1,"es-NI":1,"es-PA":1,"es-PE":1,"es-PR":1,"es-PY":1,"es-SV":1,"es-US":1,"es-UY":1,"es-VE":1,et:1,"et-EE":1,fi:1,"fi-FI":1,fr:1,"fr-BE":1,"fr-CA":1,"fr-CH":1,"fr-FR":1,"fr-LU":1,ga:1,"ga-IE":1,gu:1,he:1,"he-IL":1,hi:1,"hi-IN":1,hr:1,"hr-HR":1,hu:1,"hu-HU":1,id:1,"id-ID":1,is:1,"is-IS":1,it:1,"it-CH":1,"it-IT":1,ja:1,"ja-JP":1,kn:1,ko:1,"ko-KR":1,kok:1,ks:1,lt:1,"lt-LT":1,lv:1,"lv-LV":1,mk:1,"mk-MK":1,ml:1,mr:1,ms:1,"ms-MY":1,mt:1,"mt-MT":1,nb:1,"nb-NO":1,ne:1,"ne-IN":1,nl:1,"nl-BE":1,"nl-NL":1,nn:1,"nn-NO":1,no:1,"no-NO":1,or:1,pa:1,pl:1,"pl-PL":1,pt:1,"pt-BR":1,"pt-PT":1,ro:1,"ro-RO":1,ru:1,"ru-RU":1,sk:1,"sk-SK":1,sl:1,"sl-SI":1,sq:1,"sq-AL":1,sr:1,"sr-Cyrl":1,"sr-Cyrl-BA":1,"sr-Cyrl-ME":1,"sr-Cyrl-RS":1,"sr-Latn":1,"sr-Latn-BA":1,"sr-Latn-ME":1,"sr-Latn-RS":1,sv:1,"sv-SE":1,ta:1,te:1,th:1,"th-TH":1,tr:1,"tr-TR":1,uk:1,"uk-UA":1,ur:1,"ur-IN":1,vi:1,"vi-VN":1,zh:1,"zh-Hans":1,"zh-Hans-CN":1,"zh-Hans-SG":1,"zh-Hant":1,"zh-Hant-HK":1,"zh-Hant-MO":1,"zh-Hant-TW":1,__noOverlay:!0,__defaultNoOverlayLocale:"en-US"});

/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojlocaledata',["ojs/ojcore","ojL10n!ojtranslations/nls/localeElements"],function(e,t){"use strict";var n={setBundle:function(e){n._bundle=e},getFirstDayOfWeek:function(){return n._getWeekData("firstDay")},getWeekendStart:function(){return n._getWeekData("weekendStart")},getWeekendEnd:function(){return n._getWeekData("weekendEnd")},getDayNames:function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=n._getCalendarData().days["stand-alone"][e];return[t.sun,t.mon,t.tue,t.wed,t.thu,t.fri,t.sat]},getMonthNames:function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var t=n._getCalendarData().months["stand-alone"][e];return[t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12]]},isMonthPriorToYear:function(){var e=n._getCalendarData().dateFormats.long.toUpperCase();return e.indexOf("M")<e.indexOf("Y")},_getWeekData:function(e){var t=n.__getBundle(),a=n._getRegion()||"001",r=t.supplemental.weekData[e],o=r[a];return void 0===o&&(o=r["001"]),o},_getCalendarData:function(){var e=n.__getBundle().main;return e[Object.keys(e)[0]].dates.calendars.gregorian},_getRegion:function(){var t=e.Config.getLocale();if(t){var n=t.toUpperCase().split(/-|_/);if(n.length>=2){var a=n[1];if(4!==a.length)return a;if(n.length>=3)return n[2]}}return null},__getBundle:function(){var a=n._bundle;return a||(e.__isAmdLoaderPresent()?(e.Assert.assert(void 0!==t,"LocaleElements module must be loaded"),t):{})},__updateBundle:function(e){t=e}};return n});
/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/internal-deps/dvt/DvtToolkit',['jquery'], function($) {
  "use strict";
  // Internal use only.  All APIs and functionality are subject to change at any time.

  // Declare dvt, since it will be used in the toolkit source.
  var dvt;

dvt=function(){var t={Obj:function(){}};t.Obj._GET_FUNCTION_NAME_REGEXP=/function\s+([\S^]+)\s*\(/,t.Obj.createSubclass=function(e,i){var n=t.Obj._tempSubclassConstructor;n.prototype=i.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=i.prototype},t.Obj._tempSubclassConstructor=function(){},t.Obj.prototype.clone=function(){return null},t.Obj.createCallback=function(t,e){return function(){return e.apply(t,arguments)}},t.Obj.compareValues=function(t,e,i){return t.oj.KeyUtils.equals(e,i)},t.Context=function(e,i,n){var o=i?i+"_svg":null;this._root=t.ToolkitUtils.createSvgDocument(o),e.appendChild(this._root),"chrome"!==t.Agent.browser&&"safari"!==t.Agent.browser||(this._root.style.position="absolute",this._root.style.left="0px",this._root.style.top="0px",this._root.style.padding="inherit",this._sizingSvg=document.createElementNS(t.ToolkitUtils.SVG_NS,"svg"),this._sizingSvg.style.width="100%",this._sizingSvg.style.height="100%",e.appendChild(this._sizingSvg)),this._parentDiv=e,this._appAriaRole=this._parentDiv.getAttribute("role"),this._role=this._appAriaRole,this._referenceDiv=n,this._defs=t.SvgShapeUtils.createElement("defs"),t.ToolkitUtils.appendChildElem(this._root,this._defs),this._keyboardFocusArray=[],this._keyboardFocusIndex=0,this._dndEventManagers=[],this.Init(this._root,i),t.ToolkitUtils.appendChildElem(this._root,this._stage.getElem()),this.oj=null},t.Obj.createSubclass(t.Context,t.Obj),t.Context._DEFAULT_FONT_FAMILY="-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif",t.Context._DEFAULT_FONT_WEIGHT="400",t.Context._id=0,t.Context.DEFAULT_FONT_SIZE="12px",t.Context.ARIA_LABEL_STATE_DELIMITER=", ",t.Context.ARIA_LABEL_DESC_DELIMITER=". ",t.Context.prototype.Init=function(e,i){var n=(i||"_dvt"+t.Context._id)+"_stage";this._stage=new g(this,e,n),t.Context._id++,this._normalizedFontFamilyCache={},this.setDefaultFontSize(t.Context.DEFAULT_FONT_SIZE),this.setDefaultFontFamily(t.Context._DEFAULT_FONT_FAMILY),this.setDefaultFontWeight(t.Context._DEFAULT_FONT_WEIGHT),this._tooltipManagers=new Object,this._customTooltipManagers=new Object,this._scheduler=null,this._globalDefsMap={}},t.Context.prototype.getDefaultFontFamily=function(){return this._defaultFontFamily},t.Context.prototype.setDefaultFontFamily=function(e){e&&(this._defaultFontFamily=this._normalizeFontFamily(e),t.ToolkitUtils.setAttrNullNS(this._stage.getElem(),"font-family",this.getDefaultFontFamily()))},t.Context.prototype.isDefaultFontFamily=function(t){return!!t&&this._defaultFontFamily===this._normalizeFontFamily(t)},t.Context.prototype.getDefaultFontSize=function(){return this._defaultFontSize},t.Context.prototype.setDefaultFontSize=function(e){e&&(this._defaultFontSize=e,t.ToolkitUtils.setAttrNullNS(this._stage.getElem(),"font-size",this.getDefaultFontSize()))},t.Context.prototype.getDefaultFontWeight=function(){return this._defaultFontWeight},t.Context.prototype.setDefaultFontWeight=function(e){e&&(this._defaultFontWeight=e,t.ToolkitUtils.setAttrNullNS(this._stage.getElem(),"font-weight",this.getDefaultFontWeight()))},t.Context.prototype._normalizeFontFamily=function(t){var e=this._normalizedFontFamilyCache[t];return e||(e=t.replace(/, /g,",").replace(/"/g,"'"),this._normalizedFontFamilyCache[t]=e),e},t.Context.prototype.getStage=function(){return this._stage},t.Context.prototype.isReadyToRender=function(){if(this._destroyed)return!1;if(null!=this._parentDiv.offsetParent)return!0;var t=window.getComputedStyle(this._parentDiv);return!(!t||"fixed"!=t.position)&&"none"!=t.display},t.Context.prototype.getSvgDocument=function(){return this._root},t.Context.prototype.getSizingSvg=function(){return this._sizingSvg},t.Context.prototype.removeSizingSvg=function(){this._sizingSvg&&(t.ToolkitUtils.removeAttrNullNS(this._root,"style"),this.getContainer().removeChild(this._sizingSvg),this._sizingSvg=null)},t.Context.prototype.setReadingDirection=function(t){this._readingDirection=t},t.Context.prototype.getReadingDirection=function(){return this._readingDirection},t.Context.prototype.existsGlobalDefReference=function(t){return this._globalDefsMap[t]>0},t.Context.prototype.increaseGlobalDefReference=function(t){null!=t&&(this._globalDefsMap[t]?this._globalDefsMap[t]++:this._globalDefsMap[t]=1)},t.Context.prototype.decreaseGlobalDefReference=function(t){if(null!=t){var e=this._globalDefsMap[t];e&&(1==e?delete this._globalDefsMap[t]:this._globalDefsMap[t]=e-1),this._globalDefsMap[t]||this.removeDefsById(t)}},t.Context.prototype.getTooltipManager=function(e){return e||(e="_dvtTooltip"),e+=this.getStage().getId(),this._tooltipManagers[e]||(this._tooltipManagers[e]=new t.HtmlTooltipManager(this,e)),this._tooltipManagers[e]},t.Context.prototype.hideTooltips=function(){for(var t in this._tooltipManagers)this._tooltipManagers[t].hideTooltip()},t.Context.prototype.getScheduler=function(){return this._scheduler||(this._scheduler=new e(this)),this._scheduler},t.Context.prototype.pageToStageCoords=function(e,i){var n=this.getStageAbsolutePosition(),o=e-n.x,r=i-n.y;return new t.Point(o,r)},t.Context.prototype.stageToPageCoords=function(e,i){var n=this.getStageAbsolutePosition(),o=e+n.x,r=i+n.y;return new t.Point(o,r)},t.Context.prototype.getStageAbsolutePosition=function(){var e=this._referenceDiv;if(!e){var i=this.getStage().getSVGRoot();e=i.parentNode?i.parentNode:i}var n=t.Agent.getElementPosition(e);return new t.Point(parseInt(n.x),parseInt(n.y))},t.Context.prototype.isOffscreen=function(t){if(null!=this._bOffscreen&&!t)return this._bOffscreen;var e,i=this.getStage().getSVGRoot();try{var n=i.getBoundingClientRect();e=n.bottom<0||n.right<0||n.top>(window.innerHeight||document.documentElement.clientHeight)||n.left>(window.innerWidth||document.documentElement.clientWidth)}catch(t){e=!0}return t||(this._bOffscreen=e),e},t.Context.prototype.resetIsOffscreen=function(){this._bOffscreen=null},t.Context.prototype.getCustomTooltipManager=function(t){return t||(t="_dvtCustomTooltip"),t+=this.getStage().getId(),this._customTooltipManagers[t]||(this._customTooltipManagers[t]=new y(this,t)),this._customTooltipManagers[t]},t.Context.prototype.appendDefs=function(e){t.ToolkitUtils.appendChildElem(this._defs,e)},t.Context.prototype.getDefs=function(){return this._defs},t.Context.prototype.removeDefs=function(t){t._obj&&t._obj.destroy(),this._defs.removeChild(t)},t.Context.prototype.removeDefsById=function(t){for(var e=this._defs.childNodes,i=e.length,n=0;n<i;n++){var o=e[n];if(o.id===t)return void this.removeDefs(o)}},t.Context.prototype.getRootAttribute=function(e){return t.ToolkitUtils.getAttrNullNS(this._root,e)},t.Context.resetUniqueSeeds=function(){l._counter=0,t.ClipPath._uniqueSeed=0,t.SvgShapeUtils._uniqueSeed=0,t.Mask._uniqueSeed=0,t.Use._uniqueSeed=0,t.Agent._bInitialized=!1},t.Context.resetCaches=function(){t.TextUtils.clearCaches()},t.Context.prototype.setActiveElement=function(e){this._activeElement&&(t.ToolkitUtils.removeAttrNullNS(this._activeElement.getElem(),"id"),this._activeElement=null);var i=e.getElem(),n=t.ToolkitUtils.getAttrNullNS(i,"id");n||(n=t.Context._generateActiveElementId(e),t.ToolkitUtils.setAttrNullNS(i,"id",n),this._activeElement=e),e.applyAriaProperties(),"application"==this._role&&this._parentDiv.setAttribute("aria-activedescendant",n)},t.Context._generateActiveElementId=function(e){var i="_dvtActiveElement"+(t.Agent.isEnvironmentTest()?"":Math.floor(1e9*Math.random())),n=e.getId();return"string"==typeof n||n instanceof String||"number"==typeof n||n instanceof Number?i+"_"+n:i},t.Context.prototype.setAriaLabel=function(e){this._parentDiv.getAttribute("aria-label")||(e?this._parentDiv.setAttribute("aria-label",t.TextUtils.processAriaLabel(e)):this._parentDiv.removeAttribute("aria-label"))},t.Context.prototype.setAriaRole=function(t){this._appAriaRole||(t?this._parentDiv.setAttribute("role",t):this._parentDiv.removeAttribute("role"),this._role=t)},t.Context.prototype.setTooltipAttachedCallback=function(t){this._tooltipAttachedCallback=t},t.Context.prototype.getTooltipAttachedCallback=function(){return this._tooltipAttachedCallback},t.Context.prototype.resetCurrentKeyboardFocus=function(e){this._keyboardFocusArray&&0!==this._keyboardFocusArray.length&&(e.keyCode==t.KeyboardEvent.TAB&&e.shiftKey?this.setCurrentKeyboardFocus(this._keyboardFocusArray[this._keyboardFocusArray.length-1]):e.keyCode==t.KeyboardEvent.TAB&&this.setCurrentKeyboardFocus(this._keyboardFocusArray[0]))},t.Context.prototype.setKeyboardFocusArray=function(t){(this._keyboardFocusArray=t,this._keyboardFocusIndex=0,t.length>0)&&(this._root.parentNode._currentObj=this._keyboardFocusArray[this._keyboardFocusIndex])},t.Context.prototype.getCurrentKeyboardFocus=function(){return this._keyboardFocusArray.length<=this._keyboardFocusIndex?null:this._keyboardFocusArray[this._keyboardFocusIndex]},t.Context.prototype.setCurrentKeyboardFocus=function(t){var e=this._keyboardFocusArray.indexOf(t);if(-1==e)return!1;var i=this._keyboardFocusArray[e];return this._keyboardFocusIndex=e,this._root.parentNode._currentObj=i,!0},t.Context.prototype.nextKeyboardFocus=function(){var t=this._keyboardFocusArray[this._keyboardFocusIndex+1];return t?(this._keyboardFocusIndex++,this._root.parentNode._currentObj=t,t):null},t.Context.prototype.previousKeyboardFocus=function(){var t=this._keyboardFocusArray[this._keyboardFocusIndex-1];return t?(this._keyboardFocusIndex--,this._root.parentNode._currentObj=t,t):null},t.Context.prototype.getNumberConverter=function(t){var e=this.getLocaleHelpers();return e.numberConverterFactory?e.numberConverterFactory.createConverter(t):null},t.Context.prototype.getLocaleHelpers=function(){return this._localeHelpers?this._localeHelpers:{}},t.Context.prototype.setLocaleHelpers=function(t){this._localeHelpers=t},t.Context.requestAnimationFrame=function(e){return t.Agent.isTouchDevice()&&"chrome"===t.Agent.browser?window.setTimeout(e,1e3/60):window.requestAnimationFrame(e)},t.Context.cancelAnimationFrame=function(e){t.Agent.isTouchDevice()&&"chrome"===t.Agent.browser?clearTimeout(e):window.cancelAnimationFrame(e)},t.Context.prototype.getContainer=function(){return this._parentDiv},t.Context.prototype.createOverlayDiv=function(){var t=document.createElement("div");return t.style.top="-100%",t.style.position="relative",t},t.Context.prototype.setOverlayAttachedCallback=function(t){this._overlayAttachedCallback=t},t.Context.prototype.getOverlayAttachedCallback=function(){return this._overlayAttachedCallback},t.Context.prototype.addDndEventManager=function(t){this._dndEventManagers.push(t)},t.Context.prototype.removeDndEventManager=function(t){var e=this._dndEventManagers.indexOf(t);this._dndEventManagers.splice(e,1)},t.Context.prototype.isLastDndEventManager=function(t){return this._dndEventManagers[this._dndEventManagers.length-1]===t},t.Context.prototype.setFixContextCallback=function(t){this._fixContextCallback=t},t.Context.prototype.fixRendererContext=function(t){return this._fixContextCallback?this._fixContextCallback(t):t},t.Context.prototype.setCustomElement=function(t){this._customElement=t},t.Context.prototype.isCustomElement=function(){return this._customElement},t.Context.prototype.destroy=function(){this._destroyed=!0};var e=function(t){this.Init(t)};t.Obj.createSubclass(e,t.Obj),e.prototype.Init=function(t){this._scheduledItems=new Array,this._bRunning=!1},e.prototype.HandleTimer=function(){for(var i=(new Date).getTime(),n=0;n<this._scheduledItems.length;n++){var o=this._scheduledItems[n];o.processTime(i)&&this.removeScheduled(o)}this._scheduledItems.length<1?(this._bRunning&&(this._bRunning=!1,this._animationRequestId&&t.Context.cancelAnimationFrame(this._animationRequestId)),this._animationRequestId=null):this._animationRequestId=t.Context.requestAnimationFrame(t.Obj.createCallback(this,this.HandleTimer)),e._frameCount++},e.prototype.addScheduled=function(t){this._scheduledItems.indexOf(t)<0&&this._scheduledItems.push(t),this.play()},e.prototype.removeScheduled=function(t){var e=this._scheduledItems.indexOf(t);e>=0&&this._scheduledItems.splice(e,1)},e.prototype.play=function(){if(!this._bRunning){for(var e=0;e<this._scheduledItems.length;e++){var i=this._scheduledItems[e];i.isRunning()||i.play()}this._bRunning=!0,this._animationRequestId=t.Context.requestAnimationFrame(t.Obj.createCallback(this,this.HandleTimer))}},t.Animator=function(t,e,n,o){this._context=t,this._scheduler=t.getScheduler(),this._duration=e||.5,this._delay=n||0,this.setEasing(o),this._bRunning=!1,this._startTime=null,this._progress=0,this._state=i,this._onInit=null,this._onInitObj=null,this._onEnd=null,this._onEndObj=null,this._context=t,this._props=new Map};var i=0;t.Animator.TYPE_NUMBER="typeNumber",t.Animator.TYPE_MATRIX="typeMatrix",t.Animator.TYPE_NUMBER_ARRAY="typeNumberArray",t.Animator.TYPE_COLOR="typeColor",t.Animator.TYPE_COLOR_ARRAY="typeColorArray",t.Animator.TYPE_GROW_POLYLINE="typeGrowPolyline",t.Animator.TYPE_RECTANGLE="typeRectangle",t.Animator.TYPE_POINT="typePoint",t.Animator.TYPE_PATH="typePath",t.Animator.TYPE_GROW_PATH="typeGrowPath",t.Animator.TYPE_FILL="typeFill",t.Animator.TYPE_STROKE="typeStroke",t.Animator.TYPE_POLYLINE="typePolyline",t.Animator.prototype.addProp=function(t,e,i,o,r){var s=this._getPropItem(e,i);s?s.destVal=r:(s=new n(t,o,r),this._setPropItem(e,i,s))},t.Animator.prototype.getDestVal=function(t,e,i){var n=this._getPropItem(t,e);return n?n.destVal:i?e.call(t):null},t.Animator.prototype.setEasing=function(e){this._easing=e||t.Easing.cubicInOut},t.Animator.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]},t.Animator.prototype.setOnEnd=function(t,e){this._onEnd=t,this._onEndObj=e||null},t.Animator.prototype.getOnInit=function(){return[this._onInit,this._onInitObj]},t.Animator.prototype.setOnInit=function(t,e){this._onInit=t,this._onInitObj=e||null},t.Animator.prototype.isRunning=function(){return this._bRunning},t.Animator.prototype.play=function(e){e?this._play():this._animationRequestId=t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._play))},t.Animator.prototype.processTime=function(t){if(this._bRunning){var e=t-this._startTime;if(e<0)return!1;var i=1e3*this._getTotalDuration(),n=1;0!=i&&(n=e/i),n>1&&(n=1),this._processStep(n);var o=n>=1;return o&&this._processEnd(),o}},t.Animator.prototype.stop=function(e){this._animationRequestId&&(t.Context.cancelAnimationFrame(this._animationRequestId),this._animationRequestId=null),this._scheduler.removeScheduled(this),e&&this._processStep(1),this._processEnd()},t.Animator.prototype._getPropItem=function(t,e){var i=this._props.get(t);return i?i.get(e):null},t.Animator.prototype._setPropItem=function(t,e,i){var n=this._props.get(t);n||(n=new Map,this._props.set(t,n)),n.set(e,i)},t.Animator.prototype._getTotalDuration=function(){return this._delay+this._duration},t.Animator.prototype._play=function(){this._bRunning||(this._bRunning=!0,this._processPlay(),this._scheduler.addScheduled(this)),this._context.isOffscreen()&&this.stop(!0),this._animationRequestId=null},t.Animator.prototype._processEnd=function(){this._bRunning&&(this._bRunning=!1,this._progress=1,this._state=1),this._onEnd&&!this._ended&&(this._onEnd.call(this._onEndObj),this._ended=!0)},t.Animator.prototype._processInitialize=function(){this._onInit&&this._onInit.call(this._onInitObj),this._props.forEach(function(t,e){t.forEach(function(t,i){t.startVal=i.call(e)})}),this._state=1},t.Animator.prototype._processPlay=function(){if(this._state==i&&this._processInitialize(),1==this._state)this._startTime=(new Date).getTime(),this._bRunning=!0,this._progress=0;else{var t=1e3*this._progress*this._getTotalDuration();this._startTime=(new Date).getTime()-t}this._state=2},t.Animator.prototype._processStep=function(t){this._progress=t;var e=t;if(this._delay>0){var i=this._delay/this._getTotalDuration(),n=1-i;e=0===n?.5:Math.min(1,(t-i)/n)}if(e>=0){this._easing&&(e=this._easing(e));var r=this._context;this._props.forEach(function(t,i){t.forEach(function(t,n){var s=o.interpolate(r,t.type,t.startVal,t.destVal,e);t.setter.call(i,s)})})}};var n=function(t,e,i){this.type=t,this.setter=e,this.destVal=i,this.startVal=null};t.Playable=function(t){this.Init(t)},t.Obj.createSubclass(t.Playable,t.Obj),t.Playable.appendOnEnd=function(t,e,i){if(t&&e){var n=t.getOnEnd();if(n&&n[0]){t.setOnEnd(function(){n[0].call(n[1]),e.call(i)})}else t.setOnEnd(e,i)}},t.Playable.prependOnInit=function(t,e,i){if(t&&e&&t.getOnInit&&t.setOnInit){var n=t.getOnInit();if(n&&n[0]){t.setOnInit(function(){e.call(i),n[0].call(n[1])})}else t.setOnInit(e,i)}},t.Playable.prototype.Init=function(t){this.Context=t,this._onEnd=null,this._onEndObj=null},t.Playable.prototype.setOnEnd=function(t,e){this._onEnd=t,this._onEndObj=e||null,this.OnEndUpdated()},t.Playable.prototype.CallOnEnd=function(){this._onEnd&&!this._ended&&(this._onEnd.call(this._onEndObj),this._ended=!0)},t.Playable.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]},t.Playable.prototype.OnEndUpdated=function(){},t.Playable.prototype.getDuration=function(){return 0},t.Playable.prototype.initialize=function(){},t.Playable.prototype.play=function(t){},t.Playable.prototype.stop=function(t){},t.ParallelPlayable=function(t){var e;arguments&&arguments.length>1&&arguments[1]instanceof Array?e=arguments[1]:(e=[].slice.call(arguments)).splice(0,1),this.Init(t,e)},t.Obj.createSubclass(t.ParallelPlayable,t.Playable),t.ParallelPlayable.prototype.Init=function(e,i){t.ParallelPlayable.superclass.Init.call(this,e),this._runningCounter=0,this._arPlayables=i||[],this._bStarted=!1},t.ParallelPlayable.prototype.getDuration=function(){for(var e=0,i=0;i<this._arPlayables.length;i++){var n=this._arPlayables[i];n instanceof t.Playable&&(e=Math.max(e,n.getDuration()))}return e},t.ParallelPlayable.prototype.initialize=function(){for(var e=0;e<this._arPlayables.length;e++)this._arPlayables[e]instanceof t.Playable&&this._arPlayables[e].initialize()},t.ParallelPlayable.prototype.play=function(e){this._arPlayables.length>0?e?this._play():(this.initialize(),this._animationRequestId=t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._play))):this._animationRequestId=t.Context.requestAnimationFrame(t.Obj.createCallback(this,this.DoEnd))},t.ParallelPlayable.prototype._play=function(){var e;if(!this._bStarted)for(var i=0;i<this._arPlayables.length;i++)(e=this._arPlayables[i])instanceof t.Playable&&(this._runningCounter++,t.Playable.appendOnEnd(e,this.OnPlayableEnd,this));for(i=0;i<this._arPlayables.length;i++)(e=this._arPlayables[i])instanceof t.Playable&&e.play(!0);this._bStarted=!0,this._animationRequestId=null},t.ParallelPlayable.prototype.stop=function(e){if(this._animationRequestId)return t.Context.cancelAnimationFrame(this._animationRequestId),void this.DoEnd();for(var i,n=0;n<this._arPlayables.length;n++)(i=this._arPlayables[n])instanceof t.Playable&&i.stop(e)},t.ParallelPlayable.prototype.OnPlayableEnd=function(){this._runningCounter--,this._runningCounter<1&&this.DoEnd()},t.ParallelPlayable.prototype.DoEnd=function(){this.CallOnEnd(),this._animationRequestId=null},t.SequentialPlayable=function(t){var e;arguments&&arguments.length>1&&arguments[1]instanceof Array?e=arguments[1]:(e=[].slice.call(arguments)).splice(0,1),this.Init(t,e)},t.Obj.createSubclass(t.SequentialPlayable,t.Playable),t.SequentialPlayable.prototype.Init=function(e,i){t.SequentialPlayable.superclass.Init.call(this,e),this._arPlayables=i||[],this._currIndex=-1,this._bStarted=!1},t.SequentialPlayable.prototype.getDuration=function(){for(var e=0,i=0;i<this._arPlayables.length;i++){var n=this._arPlayables[i];n instanceof t.Playable&&(e+=n.getDuration())}return e},t.SequentialPlayable.prototype.initialize=function(){this._arPlayables.length>0&&this._arPlayables[0]instanceof t.Playable&&this._arPlayables[0].initialize()},t.SequentialPlayable.prototype.play=function(e){this._arPlayables&&this._arPlayables.length>0?e?this._play():(this.initialize(),this._animationRequestId=t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._play))):this._animationRequestId=t.Context.requestAnimationFrame(t.Obj.createCallback(this,this.DoEnd))},t.SequentialPlayable.prototype._play=function(){if(this._bStarted){var e=this._arPlayables[this._currIndex];e instanceof t.Playable&&e.play(!0)}else{var i,n,o;this._arPlayables[0]instanceof t.Playable&&(i=this._arPlayables[0]),this._arPlayables[this._arPlayables.length-1]instanceof t.Playable&&(n=this._arPlayables[this._arPlayables.length-1]);for(var r=0;r<this._arPlayables.length-1;r++)(o=this._arPlayables[r])instanceof t.Playable&&t.Playable.appendOnEnd(o,this.DoSequenceStep,this);n&&t.Playable.appendOnEnd(n,this.DoEnd,this),this._bStarted=!0,this._currIndex=0,i&&i.play(!0),this._animationRequestId=null}},t.SequentialPlayable.prototype.DoSequenceStep=function(){var e=this._arPlayables[++this._currIndex];e instanceof t.Playable?e.play(!0):this.DoSequenceStep()},t.SequentialPlayable.prototype.stop=function(e){if(this._animationRequestId)return t.Context.cancelAnimationFrame(this._animationRequestId),void this.DoEnd();if(this._arPlayables)for(var i,n=this._currIndex;n<this._arPlayables.length;n++)(i=this._arPlayables[n])&&i instanceof t.Playable&&i.stop(e)},t.SequentialPlayable.prototype.DoEnd=function(){this.CallOnEnd(),this._animationRequestId=null},t.BlackBoxAnimationHandler=function(){},t.Obj.createSubclass(t.BlackBoxAnimationHandler,t.Obj),t.BlackBoxAnimationHandler.ALPHA_FADE="alphaFade",t.BlackBoxAnimationHandler.SLIDE_TO_RIGHT="slideToRight",t.BlackBoxAnimationHandler.SLIDE_TO_LEFT="slideToLeft",t.BlackBoxAnimationHandler.ZOOM="zoom",t.BlackBoxAnimationHandler.isSupported=function(e){return e==t.BlackBoxAnimationHandler.ALPHA_FADE||e==t.BlackBoxAnimationHandler.SLIDE_TO_RIGHT||e==t.BlackBoxAnimationHandler.SLIDE_TO_LEFT||e==t.BlackBoxAnimationHandler.ZOOM},t.BlackBoxAnimationHandler.getInAnimation=function(e,i,n,o,r){return i==t.BlackBoxAnimationHandler.ALPHA_FADE?new t.AnimFadeIn(e,n,r):i==t.BlackBoxAnimationHandler.SLIDE_TO_RIGHT?(t.BlackBoxAnimationHandler._offsetObjects(n,-o.w,0),new t.AnimMoveBy(e,n,new t.Point(o.w,0),r)):i==t.BlackBoxAnimationHandler.SLIDE_TO_LEFT?(t.BlackBoxAnimationHandler._offsetObjects(n,o.w,0),new t.AnimMoveBy(e,n,new t.Point(-o.w,0),r)):i==t.BlackBoxAnimationHandler.ZOOM?new t.AnimScaleFadeIn(e,n,o,t.BaseAnimation.DIR_C,.5,r):null},t.BlackBoxAnimationHandler.getCombinedAnimation=function(e,i,n,o,a,l){return i==t.BlackBoxAnimationHandler.ALPHA_FADE?new r(e,n,o,l):i==t.BlackBoxAnimationHandler.SLIDE_TO_RIGHT?(t.BlackBoxAnimationHandler._offsetObjects(o,-a.w,0),new t.CombinedAnimMoveBy(e,n,o,new t.Point(a.w,0),new t.Point(a.w,0),l)):i==t.BlackBoxAnimationHandler.SLIDE_TO_LEFT?(t.BlackBoxAnimationHandler._offsetObjects(o,a.w,0),new t.CombinedAnimMoveBy(e,n,o,new t.Point(-a.w,0),new t.Point(-a.w,0),l)):i==t.BlackBoxAnimationHandler.ZOOM?new s(e,n,o,a,t.BaseAnimation.DIR_C,t.BaseAnimation.DIR_C,.5,l):null},t.BlackBoxAnimationHandler._offsetObjects=function(e,i,n){if(e.length)for(var o=0;o<e.length;o++)t.BlackBoxAnimationHandler._offsetObjects(e[o],i,n);else e&&e.setTranslate(e.getTranslateX()+i,e.getTranslateY()+n)},t.DataAnimationHandler=function(t,e){this.Init(t,e)},t.Obj.createSubclass(t.DataAnimationHandler,t.Obj),t.DataAnimationHandler._OVERLAP_RATIO=.4,t.DataAnimationHandler.prototype.Init=function(t,e){this._context=t,this._deleteContainer=e,this._playables=[]},t.DataAnimationHandler.prototype.getCtx=function(){return this._context},t.DataAnimationHandler.prototype.constructAnimation=function(t,e){if(e&&!this._context.isOffscreen()){e=e.slice(0);var i=[];if(t){for(var n=new this._context.ojMap,o=0;o<e.length;o++){(s=e[o])&&s.getId()&&n.set(s.getId(),s)}for(var r=0;r<t.length;r++){var s,a=t[r],l=a?a.getId():void 0;(s=l?n.get(l):void 0)?(i.push(s.getId()),s.animateUpdate(this,a)):a&&a.animateDelete(this,this._deleteContainer)}}for(var h=new this._context.KeySetImpl(i),u=0;u<e.length;u++)!e[u]||e[u].getId()&&h.has(e[u].getId())||e[u].animateInsert(this)}},t.DataAnimationHandler.prototype.add=function(t,e){if(t){for(e||(e=0);this._playables.length<=e;)this._playables.push(new Array);this._playables[e].push(t)}},t.DataAnimationHandler.prototype.getAnimation=function(e){for(var i=[],n=0;n<this._playables.length;n++)if(this._playables[n].length>0){var o=new t.ParallelPlayable(this._context,this._playables[n]);i.push(o)}if(e){for(var r=[],s=0,a=0;a<i.length;a++){if(s>0){var l=new t.CustomAnimation(this._context,null,s);r.push(new t.SequentialPlayable(this._context,[l,i[a]]))}else r.push(i[a]);s+=(1-t.DataAnimationHandler._OVERLAP_RATIO)*i[a].getDuration()}return new t.ParallelPlayable(this._context,r)}return new t.SequentialPlayable(this._context,i)},t.DataAnimationHandler.prototype.getNumPlayables=function(){return this._playables.length},t.Easing=function(){this.Init()},t.Obj.createSubclass(t.Easing,t.Obj),t.Easing.linear=function(t){return t},t.Easing.quadraticIn=function(e){return t.Easing.PolyIn(e,2)},t.Easing.quadraticOut=function(e){return t.Easing.PolyOut(e,2)},t.Easing.quadraticInOut=function(e){return t.Easing.PolyInOut(e,2)},t.Easing.cubicIn=function(e){return t.Easing.PolyIn(e,3)},t.Easing.cubicOut=function(e){return t.Easing.PolyOut(e,3)},t.Easing.cubicInOut=function(e){return t.Easing.PolyInOut(e,3)},t.Easing.backOut=function(t,e){return e||(e=1.70158),1-(t=1-t)*t*((e+1)*t-e)},t.Easing.backIn=function(t,e){return e||(e=1.70158),t*t*((e+1)*t-e)},t.Easing.elasticIn=function(t,e,i){return t<=0||t>=1?t:(i||(i=.45),!e||e<1?(e=1,n=i/4):n=i/(2*Math.PI)*Math.asin(1/e),-e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i));var n},t.Easing.elasticOut=function(e,i,n){return 1-t.Easing.elasticIn(1-e,i,n)},t.Easing.PolyIn=function(t,e){return t<0?0:t>1?1:Math.pow(t,e)},t.Easing.PolyOut=function(t,e){return t<0?0:t>1?1:1-Math.pow(1-t,e)},t.Easing.PolyInOut=function(t,e){return t<0?0:t>1?1:t<.5?.5*Math.pow(2*t,e):.5*(2-Math.pow(2*(1-t),e))},t.Easing.prototype.Init=function(){};var o=function(){this.Init()};t.Obj.createSubclass(o,t.Obj),o.interpolate=function(t,e,i,n,r){var s=o._getInterpolator(e);return s?s(t,i,n,r):n},o._getInterpolator=function(t){return o._map[t]},o.InterpolateNumber=function(e,i,n,o){return t.Math.interpolateNumber(i,n,o)},o.InterpolateNumberArray=function(t,e,i,n){for(var r=e.length,s=i.length,a=[],l=0;l<Math.max(r,s);l++){var h,u;h=l<r?e[l]:e[r-1],u=l<s?i[l]:i[s-1],a.push(o.InterpolateNumber(t,h,u,n))}return a},o.InterpolateMatrix=function(e,i,n,r){var s=o.InterpolateNumber(e,i.getA(),n.getA(),r),a=o.InterpolateNumber(e,i.getB(),n.getB(),r),l=o.InterpolateNumber(e,i.getC(),n.getC(),r),h=o.InterpolateNumber(e,i.getD(),n.getD(),r),u=o.InterpolateNumber(e,i.getTx(),n.getTx(),r),c=o.InterpolateNumber(e,i.getTy(),n.getTy(),r);return new t.Matrix(s,a,l,h,u,c)},o.InterpolateColor=function(e,i,n,o){return t.ColorUtils.interpolateColor(i,n,o)},o.InterpolateColorArray=function(t,e,i,n){for(var r=e.length,s=i.length,a=[],l=0;l<Math.max(r,s);l++){var h,u;h=l<r?e[l]:e[r-1],u=l<s?i[l]:i[s-1],a.push(o.InterpolateColor(t,h,u,n))}return a},o.InterpolateGrowPolyline=function(t,e,i,n){if(0===n)return[i[0],i[1]];if(1===n)return i;for(var r,s=i.length,a=[i[0],i[1]],l=n*o.CalcPolylineLength(i),h=0,u=2;u<s-1;u+=2){var c=i[u-2],p=i[u-1],_=i[u],g=i[u+1];if(h+(r=o.CalcPolylineLength([c,p,_,g]))>l){var d=(l-h)/r,S=_-c,f=g-p;a.push(c+d*S),a.push(p+d*f);break}h+=r,a.push(_),a.push(g)}return a},o.InterpolateGrowPath=function(t,e,i,n){if(0===n)return[i[0],i[1]];if(1===n)return i;for(var r,s,a,l,h,u,c,p,_,g=i.length,d=[],S=n*o.CalcPathLength(i),f=0,y=0;y<g;y++){var T,v=i[y];switch(v){case"M":T=[p=s=i[++y],_=a=i[++y],p,_];break;case"L":T=[p,_,s=i[++y],a=i[++y]];break;case"Q":l=i[++y],h=i[++y],T=[p,_,s=i[++y],a=i[++y]];break;case"C":l=i[++y],h=i[++y],u=i[++y],c=i[++y],T=[p,_,s=i[++y],a=i[++y]]}if(f+(r=o.CalcPolylineLength(T))>S){var m=(S-f)/r;switch(d.push(v),v){case"Q":d.push(p+m*(l-p),_+m*(h-_));break;case"C":d.push(p+m*(l-p),_+m*(h-_),p+m*(u-p),_+m*(c-_))}d.push(p+m*(s-p),_+m*(a-_));break}switch(f+=r,d.push(v),v){case"Q":d.push(l,h);break;case"C":d.push(l,h,u,c)}d.push(s),d.push(a),p=s,_=a}return d},o.CalcPolylineLength=function(t){for(var e,i,n,o,r=0,s=0;s<t.length;s+=2){if(n=t[s],o=t[s+1],s>0)if(n===e)r+=Math.abs(o-i);else if(o===i)r+=Math.abs(n-e);else{var a=Math.abs(n-e),l=Math.abs(o-i);r+=Math.sqrt(a*a+l*l)}e=n,i=o}return r},o.CalcPathLength=function(t){for(var e,i,n,o,r=0,s=0;s<t.length;){switch(t[s]){case"M":e=n=t[s+1],i=o=t[s+2],s+=3;continue;case"L":n=t[s+1],o=t[s+2],s+=3;break;case"Q":n=t[s+3],o=t[s+4],s+=5;break;case"C":n=t[s+5],o=t[s+6],s+=7}if(s>0)if(n===e)r+=Math.abs(o-i);else if(o===i)r+=Math.abs(n-e);else{var a=Math.abs(n-e),l=Math.abs(o-i);r+=Math.sqrt(a*a+l*l)}e=n,i=o}return r},o.InterpolateRectangle=function(e,i,n,r){var s=o.InterpolateNumber(e,i.x,n.x,r),a=o.InterpolateNumber(e,i.y,n.y,r),l=o.InterpolateNumber(e,i.w,n.w,r),h=o.InterpolateNumber(e,i.h,n.h,r);return new t.Rectangle(s,a,l,h)},o.InterpolatePoint=function(e,i,n,r){var s=o.InterpolateNumber(e,i.x,n.x,r),a=o.InterpolateNumber(e,i.y,n.y,r);return new t.Point(s,a)},o.InterpolatePath=function(t,e,i,n){var r=e.length,s=i.length;if(r!=s)return i;for(var a=[],l=0,h=0;l<r&&h<s;){var u=e[l],c=i[h],p=!isNaN(u),_=!isNaN(c);p||_?p&&_&&a.push(o.InterpolateNumber(t,u,c,n)):u===c&&a.push(u),l++,h++}return a},o.InterpolateFill=function(e,i,n,r){if(i instanceof t.SolidFill&&n instanceof t.SolidFill){var s=o.InterpolateColor(e,i.getColor(),n.getColor(),r),a=o.InterpolateNumber(e,i.getAlpha(),n.getAlpha(),r);return new t.SolidFill(s,a)}return n},o.InterpolateStroke=function(e,i,n,r){if(i instanceof t.Stroke&&n instanceof t.Stroke){var s=o.InterpolateColor(e,i.getColor(),n.getColor(),r),a=o.InterpolateNumber(e,i.getAlpha(),n.getAlpha(),r),l=o.InterpolateNumber(e,i.getWidth(),n.getWidth(),r);return new t.Stroke(s,a,l,n.isFixedWidth(),n.getDashProps(),n.getLineProps())}return n},o.InterpolatePolyline=function(t,e,i,n){for(var r=e.length,s=i.length,a=[],l=0;l<Math.max(r,s);l++){var h,u,c=2;l%2==1&&(c=1),h=l<r?e[l]:e[r-c],u=l<s?i[l]:i[s-c],a.push(o.InterpolateNumber(t,h,u,n))}if(s<r){var p=a.length,_=a[p-2],g=a[p-1];for(l=p-4;l>=0;l-=2){var d=a[l],S=a[l+1];if(d!=_||S!=g)break;a.splice(l,2)}}return a},o.prototype.Init=function(){},o._map={},o._map[t.Animator.TYPE_NUMBER]=o.InterpolateNumber,o._map[t.Animator.TYPE_MATRIX]=o.InterpolateMatrix,o._map[t.Animator.TYPE_NUMBER_ARRAY]=o.InterpolateNumberArray,o._map[t.Animator.TYPE_COLOR]=o.InterpolateColor,o._map[t.Animator.TYPE_COLOR_ARRAY]=o.InterpolateColorArray,o._map[t.Animator.TYPE_GROW_POLYLINE]=o.InterpolateGrowPolyline,o._map[t.Animator.TYPE_RECTANGLE]=o.InterpolateRectangle,o._map[t.Animator.TYPE_POINT]=o.InterpolatePoint,o._map[t.Animator.TYPE_PATH]=o.InterpolatePath,o._map[t.Animator.TYPE_GROW_PATH]=o.InterpolateGrowPath,o._map[t.Animator.TYPE_FILL]=o.InterpolateFill,o._map[t.Animator.TYPE_STROKE]=o.InterpolateStroke,o._map[t.Animator.TYPE_POLYLINE]=o.InterpolatePolyline,t.Timer=function(t,e,i,n,o){this.Init(t,e,i,n,o)},t.Obj.createSubclass(t.Timer,t.Obj),t.Timer.prototype.Init=function(t,e,i,n,o){this._interval=e,this._callback=i,this._callbackObj=n,this._repeatCount=o,this._bRunning=!1,this._numIterations=0},t.Timer.prototype.start=function(){this._bRunning||(this._bRunning=!0,this.StartTimer())},t.Timer.prototype.stop=function(){this._bRunning&&(this._bRunning=!1,this.StopTimer())},t.Timer.prototype.reset=function(){this._bRunning&&this.stop(),this._numIterations=0},t.Timer.prototype.isRunning=function(){return this._bRunning},t.Timer.prototype.HandleTimer=function(){this._callback&&(this._callback.call(this._callbackObj),this._repeatCount&&(this._numIterations++,this._numIterations>=this._repeatCount&&this.stop()))},t.Timer.prototype.setInterval=function(t){var e=t;e<0&&(e=0);var i=this._bRunning;i&&this.stop(),this._interval=e,i&&this.start()},t.Timer.prototype.getInterval=function(){return this._interval},t.Timer.prototype.StartTimer=function(){var t=this,e=this.HandleTimer;this._timerId=window.setInterval(function(){e.call(t)},this.getInterval())},t.Timer.prototype.StopTimer=function(){this._timerId&&(window.clearInterval(this._timerId),this._timerId=null)},t.BaseAnimation=function(t,e,i,n){this.Init(t,e,i,n)},t.Obj.createSubclass(t.BaseAnimation,t.Playable),t.BaseAnimation.EASING_LINEAR=1,t.BaseAnimation.EASING_CUBIC_IN_OUT=2,t.BaseAnimation.EASING_CUBIC_IN=3,t.BaseAnimation.EASING_CUBIC_OUT=4,t.BaseAnimation.EASING_QUADRATIC_IN_OUT=5,t.BaseAnimation.EASING_QUADRATIC_IN=6,t.BaseAnimation.EASING_QUADRATIC_OUT=7,t.BaseAnimation.EASING_BOUNCE_IN=8,t.BaseAnimation.EASING_BOUNCE_OUT=9,t.BaseAnimation.EASING_ELASTIC_IN=10,t.BaseAnimation.EASING_ELASTIC_OUT=11,t.BaseAnimation.DIR_C=1,t.BaseAnimation.DIR_N=2,t.BaseAnimation.DIR_NE=3,t.BaseAnimation.DIR_E=4,t.BaseAnimation.DIR_SE=5,t.BaseAnimation.DIR_S=6,t.BaseAnimation.DIR_SW=7,t.BaseAnimation.DIR_W=8,t.BaseAnimation.DIR_NW=9,t.BaseAnimation.AXIS_X=1,t.BaseAnimation.AXIS_Y=2,t.BaseAnimation.ROT_DIR_CLOCKWISE=1,t.BaseAnimation.ROT_DIR_COUNTERCLOCKWISE=2,t.BaseAnimation.GetEasingFunction=function(e){switch(e){case t.BaseAnimation.EASING_LINEAR:return t.Easing.linear;case t.BaseAnimation.EASING_CUBIC_IN:return t.Easing.cubicIn;case t.BaseAnimation.EASING_CUBIC_OUT:return t.Easing.cubicOut;case t.BaseAnimation.EASING_QUADRATIC_IN_OUT:return t.Easing.quadraticInOut;case t.BaseAnimation.EASING_QUADRATIC_IN:return t.Easing.quadraticIn;case t.BaseAnimation.EASING_QUADRATIC_OUT:return t.Easing.quadraticOut;case t.BaseAnimation.EASING_BOUNCE_IN:return t.Easing.backIn;case t.BaseAnimation.EASING_BOUNCE_OUT:return t.Easing.backOut;case t.BaseAnimation.EASING_ELASTIC_IN:return t.Easing.elasticIn;case t.BaseAnimation.EASING_ELASTIC_OUT:return t.Easing.elasticOut;case t.BaseAnimation.EASING_CUBIC_IN_OUT:default:return t.Easing.cubicInOut}},t.BaseAnimation.GetCompassPoint=function(e,i){switch(i){case t.BaseAnimation.DIR_N:return new t.Point(e.x+.5*e.w,e.y);case t.BaseAnimation.DIR_NE:return new t.Point(e.x+e.w,e.y);case t.BaseAnimation.DIR_E:return new t.Point(e.x+e.w,e.y+.5*e.h);case t.BaseAnimation.DIR_SE:return new t.Point(e.x+e.w,e.y+e.h);case t.BaseAnimation.DIR_S:return new t.Point(e.x+.5*e.w,e.y+e.h);case t.BaseAnimation.DIR_SW:return new t.Point(e.x,e.y+e.h);case t.BaseAnimation.DIR_W:return new t.Point(e.x,e.y+.5*e.h);case t.BaseAnimation.DIR_NW:return new t.Point(e.x,e.y);case t.BaseAnimation.DIR_C:default:return new t.Point(e.x+.5*e.w,e.y+.5*e.h)}},t.BaseAnimation.GetAlignCompassPoint=function(e,i,n){var o=t.BaseAnimation.GetCompassPoint(i,n);switch(n){case t.BaseAnimation.DIR_N:return new t.Point(o.x-.5*e.w,o.y);case t.BaseAnimation.DIR_NE:return new t.Point(o.x-e.w,o.y);case t.BaseAnimation.DIR_E:return new t.Point(o.x-e.w,o.y-.5*e.h);case t.BaseAnimation.DIR_SE:return new t.Point(o.x-e.w,o.y-e.h);case t.BaseAnimation.DIR_S:return new t.Point(o.x-.5*e.w,o.y-e.h);case t.BaseAnimation.DIR_SW:return new t.Point(o.x,o.y-e.h);case t.BaseAnimation.DIR_W:return new t.Point(o.x,o.y-.5*e.h);case t.BaseAnimation.DIR_NW:return new t.Point(o.x,o.y);case t.BaseAnimation.DIR_C:default:return new t.Point(o.x-.5*e.w,o.y-.5*e.h)}},t.BaseAnimation.prototype.Init=function(e,i,n,o){t.BaseAnimation.superclass.Init.call(this,e),this._context=e,i instanceof Array?this._arObjects=i:this._arObjects=[i],this._duration=n||.5,this._delay=o||0,this._easing=t.BaseAnimation.EASING_CUBIC_IN_OUT,this._bInitialized=!1,this._bSaveAndRestoreOriginalMatrices=!1,this._origMatrixArray=null,this._bHideObjectsOnEnd=!1,this.CreateAnimator(e)},t.BaseAnimation.prototype.GetContext=function(){return this._context},t.BaseAnimation.prototype.isRunning=function(){return!!this._animator&&this._animator.isRunning()},t.BaseAnimation.prototype.initialize=function(){this._bInitialized||(this._initializeEndStates(this._arObjects),this._initializeStartStates(this._arObjects),this.InitializePlay(),this._bInitialized=!0)},t.BaseAnimation.prototype.play=function(t){this.initialize(),this._animator&&this._animator.play(t)},t.BaseAnimation.prototype.stop=function(t){this._animator&&this._animator.stop(t)},t.BaseAnimation.prototype.getDuration=function(){return this._duration},t.BaseAnimation.prototype.setEasing=function(e){this._easing=e,this._animator&&this._animator.setEasing(t.BaseAnimation.GetEasingFunction(this._easing))},t.BaseAnimation.prototype.CreateAnimator=function(e){this._animator=new t.Animator(e,this._duration,this._delay,t.BaseAnimation.GetEasingFunction(this._easing)),this._animator.setOnEnd(this.OnAnimEnd,this)},t.BaseAnimation.prototype.OnAnimEnd=function(){this._bHideObjectsOnEnd&&this.SetObjectsVisible(!1),this._bSaveAndRestoreOriginalMatrices&&this.RestoreOriginalMatrices(),this.CallOnEnd()},t.BaseAnimation.prototype.InitializePlay=function(){},t.BaseAnimation.prototype._initializeStartStates=function(t){if(t)for(var e,i=0;i<t.length;i++)(e=t[i])&&(this._bSaveAndRestoreOriginalMatrices&&(this._origMatrixArray||(this._origMatrixArray=[]),this._origMatrixArray.push(e.getMatrix())),this.InitStartState(e))},t.BaseAnimation.prototype._initializeEndStates=function(t){if(t)for(var e,i=0;i<t.length;i++)(e=t[i])&&this.InitEndState(e)},t.BaseAnimation.prototype.InitStartState=function(t){},t.BaseAnimation.prototype.InitEndState=function(t){},t.BaseAnimation.prototype.SetObjectsVisible=function(t){if(this._arObjects)for(var e,i=this._arObjects.length-1;i>=0;i--)(e=this._arObjects[i])&&e.setVisible(t)},t.BaseAnimation.prototype.RestoreOriginalMatrices=function(){if(this._arObjects)for(var t,e=this._arObjects.length-1;e>=0;e--)(t=this._arObjects[e])&&this._origMatrixArray&&t.setMatrix(this._origMatrixArray.pop())},t.CustomAnimation=function(t,e,i,n){this.Init(t,e,i,n)},t.Obj.createSubclass(t.CustomAnimation,t.BaseAnimation),t.CustomAnimation.prototype.getAnimator=function(){return this._animator},t.AnimFadeIn=function(t,e,i,n){this.Init(t,e,i,n)},t.Obj.createSubclass(t.AnimFadeIn,t.BaseAnimation),t.AnimFadeIn.prototype.Init=function(e,i,n,o){t.AnimFadeIn.superclass.Init.call(this,e,i,n,o)},t.AnimFadeIn.prototype.InitStartState=function(t){t.setAlpha(0)},t.AnimFadeIn.prototype.InitEndState=function(e){this._animator.addProp(t.Animator.TYPE_NUMBER,e,e.getAlpha,e.setAlpha,1)},t.AnimFadeOut=function(t,e,i,n){this.Init(t,e,i,n)},t.Obj.createSubclass(t.AnimFadeOut,t.BaseAnimation),t.AnimFadeOut.prototype.Init=function(e,i,n,o){t.AnimFadeOut.superclass.Init.call(this,e,i,n,o)},t.AnimFadeOut.prototype.InitEndState=function(e){this._animator.addProp(t.Animator.TYPE_NUMBER,e,e.getAlpha,e.setAlpha,0)},t.AnimMoveBy=function(t,e,i,n,o){this.Init(t,e,i,n,o)},t.Obj.createSubclass(t.AnimMoveBy,t.BaseAnimation),t.AnimMoveBy.prototype.Init=function(e,i,n,o,r){n instanceof Array?this._arOffsets=n:n instanceof t.Point?this._arOffsets=[n]:this._arOffsets=[new t.Point(0,0)],this._currIndex=0,t.AnimMoveBy.superclass.Init.call(this,e,i,o,r)},t.AnimMoveBy.prototype.InitEndState=function(e){var i;i=this._currIndex<this._arOffsets.length?this._arOffsets[this._currIndex]:this._arOffsets[this._arOffsets.length-1],this._animator.addProp(t.Animator.TYPE_NUMBER,e,e.getTranslateX,e.setTranslateX,e.getTranslateX()+i.x),this._animator.addProp(t.Animator.TYPE_NUMBER,e,e.getTranslateY,e.setTranslateY,e.getTranslateY()+i.y),this._currIndex++},t.AnimMoveTo=function(t,e,i,n,o){this.Init(t,e,i,n,o)},t.Obj.createSubclass(t.AnimMoveTo,t.BaseAnimation),t.AnimMoveTo.prototype.Init=function(e,i,n,o,r){n instanceof Array?this._arPoints=n:n instanceof t.Point?this._arPoints=[n]:this._arPoints=[new t.Point(0,0)],this._currIndex=0,t.AnimMoveTo.superclass.Init.call(this,e,i,o,r)},t.AnimMoveTo.prototype.InitEndState=function(e){var i;i=this._currIndex<this._arPoints.length?this._arPoints[this._currIndex]:this._arPoints[this._arPoints.length-1],this._animator.addProp(t.Animator.TYPE_NUMBER,e,e.getTranslateX,e.setTranslateX,i.x),this._animator.addProp(t.Animator.TYPE_NUMBER,e,e.getTranslateY,e.setTranslateY,i.y),this._currIndex++},t.AnimScaleFadeIn=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},t.Obj.createSubclass(t.AnimScaleFadeIn,t.AnimFadeIn),t.AnimScaleFadeIn.prototype.Init=function(e,i,n,o,r,s,a){this._boundsRect=n,this._direction=o||t.BaseAnimation.DIR_NW,this._minScale=r||.5,t.AnimScaleFadeIn.superclass.Init.call(this,e,i,s,a),this._bSaveAndRestoreOriginalMatrices=!0},t.AnimScaleFadeIn.prototype.InitStartState=function(e){t.AnimScaleFadeIn.superclass.InitStartState.call(this,e);var i=this._minScale*e.getScaleX(),n=this._minScale*e.getScaleY(),o=e.getDimensions(),r=new t.Rectangle(0,0,i*o.w,n*o.h),s=t.BaseAnimation.GetAlignCompassPoint(r,this._boundsRect,this._direction);e.setTranslate(s.x,s.y),e.setScale(i,n)},t.AnimScaleFadeIn.prototype.InitEndState=function(e){t.AnimScaleFadeIn.superclass.InitEndState.call(this,e);var i=e.getMatrix();this._animator.addProp(t.Animator.TYPE_MATRIX,e,e.getMatrix,e.setMatrix,i)},t.AnimScaleTo=function(t,e,i,n,o){this.Init(t,e,i,n,o)},t.Obj.createSubclass(t.AnimScaleTo,t.BaseAnimation),t.AnimScaleTo.prototype.Init=function(e,i,n,o,r){n instanceof Array?this._arScales=n:n instanceof t.Point?this._arScales=[n]:this._arScales=[new t.Point(1,1)],this._currIndex=0,t.AnimScaleTo.superclass.Init.call(this,e,i,o,r)},t.AnimScaleTo.prototype.InitEndState=function(e){var i;i=this._currIndex<this._arScales.length?this._arScales[this._currIndex]:this._arScales[this._arScales.length-1],this._animator.addProp(t.Animator.TYPE_NUMBER,e,e.getScaleX,e.setScaleX,i.x),this._animator.addProp(t.Animator.TYPE_NUMBER,e,e.getScaleY,e.setScaleY,i.y),this._currIndex++},t.AnimPopIn=function(t,e,i,n,o){this.Init(t,e,i,n,o)},t.Obj.createSubclass(t.AnimPopIn,t.BaseAnimation),t.AnimPopIn.BackOut=function(e){return t.Easing.backOut(e,2.5)},t.AnimPopIn.prototype.Init=function(e,i,n,o,r){this._bCenter=n,this._bCenter&&(this._tempContainers=[],this._currIndex=0),t.AnimPopIn.superclass.Init.call(this,e,i,o,r)},t.AnimPopIn.prototype.setEasing=function(t){},t.AnimPopIn.prototype.CreateAnimator=function(e){t.AnimPopIn.superclass.CreateAnimator.call(this,e),this._animator.setEasing(t.AnimPopIn.BackOut),this._bCenter&&t.Playable.appendOnEnd(this._animator,this.RemoveTempContainers,this)},t.AnimPopIn.prototype.InitStartState=function(t){if(this._bCenter){var e=this._tempContainers[this._currIndex],i=t.getDimensions();e._dvtAnimPopInOrigTx=t.getTranslateX(),e._dvtAnimPopInOrigTy=t.getTranslateY();var n=i.x+.5*i.w,o=i.y+.5*i.h;e.setTranslate(e._dvtAnimPopInOrigTx+n,e._dvtAnimPopInOrigTy+o),t.setTranslate(-n,-o);var r=t.getParent().getChildIndex(t);e._dvtAnimPopInChildIndex=r,t.getParent().addChildAt(e,r),e.addChild(t),e.setScale(.01,.01),this._currIndex++}else t.setScale(.01,.01);t.setVisible(!0)},t.AnimPopIn.prototype.InitEndState=function(e){if(this._bCenter){var i=new t.Container(this._context);this._tempContainers.push(i),this._animator.addProp(t.Animator.TYPE_NUMBER,i,i.getScaleX,i.setScaleX,1),this._animator.addProp(t.Animator.TYPE_NUMBER,i,i.getScaleY,i.setScaleY,1)}else this._animator.addProp(t.Animator.TYPE_NUMBER,e,e.getScaleX,e.setScaleX,1),this._animator.addProp(t.Animator.TYPE_NUMBER,e,e.getScaleY,e.setScaleY,1)},t.AnimPopIn.prototype.RemoveTempContainers=function(){if(this._tempContainers){for(var t=0;t<this._tempContainers.length;t++){var e=this._tempContainers[t];if(this._tempContainers[t]=null,e.getNumChildren()>0){var i=e.getChildAt(0);i&&(i.setTranslate(e._dvtAnimPopInOrigTx,e._dvtAnimPopInOrigTy),e.getParent().addChildAt(i,e._dvtAnimPopInChildIndex))}e.getParent().removeChild(e)}this._tempContainers=null}};var r=function(t,e,i,n,o){this.Init(t,e,i,n,o)};t.Obj.createSubclass(r,t.ParallelPlayable),r.prototype.Init=function(e,i,n,o,s){o||(o=.5),s||(s=0);var a=new t.AnimFadeOut(e,i,o,s),l=new t.AnimFadeIn(e,n,o,.5*a.getDuration()+s);r.superclass.Init.call(this,e,[a,l])},t.CombinedAnimMoveBy=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},t.Obj.createSubclass(t.CombinedAnimMoveBy,t.ParallelPlayable),t.CombinedAnimMoveBy.prototype.Init=function(e,i,n,o,r,s,a){s||(s=.5),a||(a=0);var l=new t.AnimMoveBy(e,i,o,s,a),h=new t.AnimMoveBy(e,n,r,s,a);t.CombinedAnimMoveBy.superclass.Init.call(this,e,[l,h])};var s=function(t,e,i,n,o,r,s,a,l){this.Init(t,e,i,n,o,r,s,a,l)};t.Obj.createSubclass(s,t.ParallelPlayable),s.prototype.Init=function(e,i,n,o,r,a,l,h,u){r||(r=t.BaseAnimation.DIR_NE),a||(a=t.BaseAnimation.DIR_NW),l||(l=.5),h||(h=.5),u||(u=0);var c=new t.AnimScaleFadeOut(e,i,o,r,l,h,u),p=new t.AnimScaleFadeIn(e,n,o,a,l,h,.3*c.getDuration()+u);s.superclass.Init.call(this,e,[c,p])},t.ColorUtils={},t.Obj.createSubclass(t.ColorUtils,t.Obj),t.ColorUtils._RED=0,t.ColorUtils._GREEN=1,t.ColorUtils._BLUE=2,t.ColorUtils._ALPHA=3,t.ColorUtils._RGBA="rgba(",t.ColorUtils._RGB="rgb(",t.ColorUtils._POUND="#",t.ColorUtils._FACTOR=.15,t.ColorUtils._names,t.ColorUtils._CONTRASTING_TEXT_COLOR_CACHE={},t.ColorUtils.getColorFromName=function(e){if(!t.ColorUtils._names){var i=[];i.aliceblue="#f0f8ff",i.antiquewhite="#faEbd7",i.aqua="#00ffff",i.aquamarine="#7fffd4",i.azure="#f0ffff",i.beige="#f5f5dc",i.bisque="#ffE4c4",i.black="#000000",i.blanchedalmond="#ffEbcd",i.blue="#0000ff",i.blueviolet="#8a2bE2",i.brown="#a52a2a",i.burlywood="#dEb887",i.cadetblue="#5f9Ea0",i.chartreuse="#7fff00",i.chocolate="#d2691E",i.coral="#ff7f50",i.cornflowerblue="#6495Ed",i.cornsilk="#fff8dc",i.crimson="#dc143c",i.cyan="#00ffff",i.darkblue="#00008b",i.darkcyan="#008b8b",i.darkgoldenrod="#b8860b",i.darkgray="#a9a9a9",i.darkgreen="#006400",i.darkkhaki="#bdb76b",i.darkmagenta="#8b008b",i.darkolivegreen="#556b2f",i.darkorange="#ff8c00",i.darkorchid="#9932cc",i.darkred="#8b0000",i.darksalmon="#E9967a",i.darkseagreen="#8fbc8f",i.darkslateblue="#483d8b",i.darkslategray="#2f4f4f",i.darkturquoise="#00cEd1",i.darkviolet="#9400d3",i.deeppink="#ff1493",i.deepskyblue="#00bfff",i.dimgray="#696969",i.dodgerblue="#1E90ff",i.firebrick="#b22222",i.floralwhite="#fffaf0",i.forestgreen="#228b22",i.fuchsia="#ff00ff",i.gainsboro="#dcdcdc",i.ghostwhite="#f8f8ff",i.gold="#ffd700",i.goldenrod="#daa520",i.gray="#808080",i.green="#008000",i.greenyellow="#adff2f",i.honeydew="#f0fff0",i.hotpink="#ff69b4",i["indianred "]="#cd5c5c",i["indigo "]="#4b0082",i.ivory="#fffff0",i.khaki="#f0E68c",i.lavender="#E6E6fa",i.lavenderblush="#fff0f5",i.lawngreen="#7cfc00",i.lemonchiffon="#fffacd",i.lightblue="#add8E6",i.lightcoral="#f08080",i.lightcyan="#E0ffff",i.lightgoldenrodyellow="#fafad2",i.lightgray="#d3d3d3",i.lightgreen="#90EE90",i.lightpink="#ffb6c1",i.lightsalmon="#ffa07a",i.lightseagreen="#20b2aa",i.lightskyblue="#87cEfa",i.lightslategray="#778899",i.lightsteelblue="#b0c4dE",i.lightyellow="#ffffE0",i.lime="#00ff00",i.limegreen="#32cd32",i.linen="#faf0E6",i.magenta="#ff00ff",i.maroon="#800000",i.mediumaquamarine="#66cdaa",i.mediumblue="#0000cd",i.mediumorchid="#ba55d3",i.mediumpurple="#9370db",i.mediumseagreen="#3cb371",i.mediumslateblue="#7b68EE",i.mediumspringgreen="#00fa9a",i.mediumturquoise="#48d1cc",i.mediumvioletred="#c71585",i.midnightblue="#191970",i.mintcream="#f5fffa",i.mistyrose="#ffE4E1",i.moccasin="#ffE4b5",i.navajowhite="#ffdEad",i.navy="#000080",i.oldlace="#fdf5E6",i.olive="#808000",i.olivedrab="#6b8E23",i.orange="#ffa500",i.orangered="#ff4500",i.orchid="#da70d6",i.palegoldenrod="#EEE8aa",i.palegreen="#98fb98",i.paleturquoise="#afEEEE",i.palevioletred="#db7093",i.papayawhip="#ffEfd5",i.peachpuff="#ffdab9",i.peru="#cd853f",i.pink="#ffc0cb",i.plum="#dda0dd",i.powderblue="#b0E0E6",i.purple="#800080",i.rebeccapurple="#663399",i.red="#ff0000",i.rosybrown="#bc8f8f",i.royalblue="#4169E1",i.saddlebrown="#8b4513",i.salmon="#fa8072",i.sandybrown="#f4a460",i.seagreen="#2E8b57",i.seashell="#fff5EE",i.sienna="#a0522d",i.silver="#c0c0c0",i.skyblue="#87cEEb",i.slateblue="#6a5acd",i.slategray="#708090",i.snow="#fffafa",i.springgreen="#00ff7f",i.steelblue="#4682b4",i.tan="#d2b48c",i.teal="#008080",i.thistle="#d8bfd8",i.tomato="#ff6347",i.turquoise="#40E0d0",i.violet="#EE82EE",i.wheat="#f5dEb3",i.white="#ffffff",i.whitesmoke="#f5f5f5",i.yellow="#ffff00",i.yellowgreen="#9acd32",i.transparent="rgba(255,255,255,0)",t.ColorUtils._names=i}return t.ColorUtils._names[e.toLowerCase()]},t.ColorUtils._getChannel=function(e,i){var n=i,o=null,r=t.ColorUtils.getColorFromName(n);if(r&&(n=r),e===t.ColorUtils._ALPHA){if("#"===n.charAt(0))return n.length>7?parseInt(n.substring(1,3),16)/255:1;if("none"===n)return 0}var s=n.indexOf("(");if(s<0)a=[],n.length>7?(a[0]=parseInt(n.substr(3,2),16),a[1]=parseInt(n.substr(5,2),16),a[2]=parseInt(n.substr(7,2),16),a[3]=parseInt(n.substr(1,2),16)/255):(a[0]=parseInt(n.substr(1,2),16),a[1]=parseInt(n.substr(3,2),16),a[2]=parseInt(n.substr(5,2),16),a[3]=1),o=a[e];else{var a=n.substring(s+1).match(/[^,|)]+/gm);o=3===a.length&&e===t.ColorUtils._ALPHA?1:parseFloat(a[e])}return o},t.ColorUtils.getDarker=function(e,i){var n=t.ColorUtils.getRed(e),o=t.ColorUtils.getGreen(e),r=t.ColorUtils.getBlue(e),s=t.ColorUtils.getAlpha(e);return i||(i=t.ColorUtils._FACTOR),n=Math.max(parseInt(n*(1-i)),0),o=Math.max(parseInt(o*(1-i)),0),r=Math.max(parseInt(r*(1-i)),0),t.ColorUtils.makeRGBA(n,o,r,s)},t.ColorUtils.getBrighter=function(e,i){var n=t.ColorUtils.getAlpha(e),o=t.ColorUtils.getRed(e),r=t.ColorUtils.getGreen(e),s=t.ColorUtils.getBlue(e);i||(i=t.ColorUtils._FACTOR);var a=Math.min(o+parseInt((255-o)*i),255),l=Math.min(r+parseInt((255-r)*i),255),h=Math.min(s+parseInt((255-s)*i),255);return t.ColorUtils.makeRGBA(a,l,h,n)},t.ColorUtils.makeRGB=function(e,i,n){return n=null===n||isNaN(n)?0:n,i=null===i||isNaN(i)?0:i,e=null===e||isNaN(e)?0:e,t.ColorUtils._RGB+e+","+i+","+n+")"},t.ColorUtils.makeRGBA=function(e,i,n,o){return n=null===n||isNaN(n)?0:Math.round(n),i=null===i||isNaN(i)?0:Math.round(i),e=null===e||isNaN(e)?0:Math.round(e),o=null===o||isNaN(o)?1:o,t.ColorUtils._RGBA+e+","+i+","+n+","+o+")"},t.ColorUtils.makePound=function(t,e,i){var n=Math.round(t),o=Math.round(e),r=Math.round(i),s=n.toString(16),a=o.toString(16),l=r.toString(16);return"#"+(1===s.length?"0":"")+s+(1===a.length?"0":"")+a+(1===l.length?"0":"")+l},t.ColorUtils.getPound=function(e){var i;if("#"===e.charAt(0)){if(e.length<=7)return e;i=t.ColorUtils._POUND,i+=e.substring(3,5)+e.substring(5,7)+e.substring(7,9)}else{var n=t.ColorUtils.getRed(e),o=t.ColorUtils.getGreen(e),r=t.ColorUtils.getBlue(e);i=t.ColorUtils.makePound(n,o,r)}return i},t.ColorUtils.getRGB=function(e){var i,n=t.ColorUtils.getColorFromName(e);if(n&&(e=n),"#"===e.charAt(0)){i=t.ColorUtils._RGB;var o=e.length;if(o>7)i+=parseInt(e.substring(3,5),16)+","+parseInt(e.substring(5,7),16)+","+parseInt(e.substring(7,9),16);else if(7===o)i+=parseInt(e.substring(1,3),16)+","+parseInt(e.substring(3,5),16)+","+parseInt(e.substr(5),16);else if(4===o){var r=e.substring(1,2);r+=r;var s=e.substring(2,3);s+=s;var a=e.substring(3);a+=a,i+=parseInt(r,16)+","+parseInt(s,16)+","+parseInt(a,16)}else 5===o?i+=parseInt(e.substring(1,3),16)+","+parseInt(e.substring(3,5),16)+",0,1":3===o&&(i+=parseInt(e.substring(1,3),16)+",0,0,1");i+=")"}else if(e.substr(0,5)===t.ColorUtils._RGBA){var l=e.lastIndexOf(",");i=t.ColorUtils._RGB,i+=e.substring(5,l),i+=")"}else i=e;return i},t.ColorUtils.getRGBA=function(e){var i,n=t.ColorUtils.getColorFromName(e);if(n&&(e=n),"#"===e.charAt(0)){i=t.ColorUtils._RGBA;var o=e.length;if(o>7)i+=parseInt(e.substring(3,5),16)+","+parseInt(e.substring(5,7),16)+","+parseInt(e.substring(7,9),16)+","+parseInt(e.substring(1,3),16)/255;else if(7===o)i+=parseInt(e.substring(1,3),16)+","+parseInt(e.substring(3,5),16)+","+parseInt(e.substr(5),16)+",1";else if(5===o)i+=parseInt(e.substring(1,3),16)+","+parseInt(e.substring(3,5),16)+",0,1";else if(4===o){var r=e.substring(1,2);r+=r;var s=e.substring(2,3);s+=s;var a=e.substring(3);a+=a,i+=parseInt(r,16)+","+parseInt(s,16)+","+parseInt(a,16)+",1"}else 3===o&&(i+=parseInt(e.substring(1,3),16)+",0,0,1");i+=")"}else e.substr(0,4)===t.ColorUtils._RGB?(i=t.ColorUtils._RGBA,i+=e.substring(4,e.length-1)+",1)"):i=e;return i},t.ColorUtils._setChannel=function(e,i,n){if(void 0===e||void 0===n||e<t.ColorUtils._RED||e>t.ColorUtils._ALPHA)return i;var o=t.ColorUtils.getColorFromName(i);o&&(i=o);var r="#"===i.charAt(0);if(r)(h=[]).push(parseInt(i.substr(1,2),16)),h.push(parseInt(i.substr(3,2),16)),h.push(parseInt(i.substr(5,2),16)),e===t.ColorUtils._ALPHA&&(h.push(n),r=!1,s=!0);else{var s=i.substr(0,5)===t.ColorUtils._RGBA,a=i.indexOf("("),l=i.indexOf(")"),h=i.substring(a+1,l).split(",");s||e!==t.ColorUtils._ALPHA||(h.push(n),s=!0)}return h[e]=n,r?t.ColorUtils.makePound(h[0],h[1],h[2]):s?t.ColorUtils.makeRGBA(h[0],h[1],h[2],h[3]):t.ColorUtils.makeRGB(h[0],h[1],h[2])};["Red","Green","Blue","Alpha"].forEach(function(e){t.ColorUtils["get"+e]=t.ColorUtils._getChannel.bind(null,t.ColorUtils["_"+e.toUpperCase()]),t.ColorUtils["set"+e]=t.ColorUtils._setChannel.bind(null,t.ColorUtils["_"+e.toUpperCase()])}),t.ColorUtils.rgb2hsl=function(t,e,i){t/=255,e/=255,i/=255;var n,o,r=Math.max(t,e,i),s=Math.min(t,e,i),a=r+s,l=a/2;if(r==s)n=0,o=0;else{var h=r-s;o=l>.5?h/(2-a):h/a,r==t?n=(e-i)/h+(e<i?6:0):r==e?n=(i-t)/h+2:r==i&&(n=(t-e)/h+4),n/=6}return{h:360*n,s:o,l:l}},t.ColorUtils.hsl2rgb=function(e,i,n){var o,r,s;if(e/=360,0==i)o=r=s=n;else{var a=n<.5?n*(1+i):n+i-n*i,l=2*n-a;o=t.ColorUtils._hue2rgb(l,a,e+1/3),r=t.ColorUtils._hue2rgb(l,a,e),s=t.ColorUtils._hue2rgb(l,a,e-1/3)}return{r:255*o,g:255*r,b:255*s}},t.ColorUtils._hue2rgb=function(t,e,i){return i<0?i+=1:i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},t.ColorUtils.adjustHSL=function(e,i,n,o){t.ColorUtils._hslCache||(t.ColorUtils._hslCache=new t.Cache(100));var r=e+":"+i+":"+n+":"+o,s=t.ColorUtils._hslCache.get(r);if(null!=s)return s;var a=t.ColorUtils.getRed(e),l=t.ColorUtils.getGreen(e),h=t.ColorUtils.getBlue(e),u=t.ColorUtils.getAlpha(e),c=t.ColorUtils.rgb2hsl(a,l,h),p=Math.min(Math.max(0,c.h+i),360),_=Math.min(Math.max(0,c.s+n),1),g=Math.min(Math.max(0,c.l+o),1),d=t.ColorUtils.hsl2rgb(p,_,g);return s=1==u?t.ColorUtils.makePound(d.r,d.g,d.b):t.ColorUtils.makeRGBA(d.r,d.g,d.b,u),t.ColorUtils._hslCache.put(r,s),s},t.ColorUtils.interpolateColor=function(e,i,n){var o=t.ColorUtils.getRed(e),r=t.ColorUtils.getGreen(e),s=t.ColorUtils.getBlue(e),a=t.ColorUtils.getAlpha(e),l=t.ColorUtils.getRed(i),h=t.ColorUtils.getGreen(i),u=t.ColorUtils.getBlue(i),c=t.ColorUtils.getAlpha(i),p=Math.round(t.Math.interpolateNumber(o,l,n)),_=Math.round(t.Math.interpolateNumber(r,h,n)),g=Math.round(t.Math.interpolateNumber(s,u,n)),d=t.Math.interpolateNumber(a,c,n);return t.ColorUtils.makeRGBA(p,_,g,d)},t.ColorUtils.getLuminance=function(e){var i=function(t){var e=t/255;return e<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},n=t.ColorUtils.getRed(e),o=t.ColorUtils.getGreen(e),r=t.ColorUtils.getBlue(e);return.2126*i(n)+.7152*i(o)+.0722*i(r)},t.ColorUtils.getContrastRatio=function(e,i){return t.ColorUtils.getContrastRatioByLuminance(t.ColorUtils.getLuminance(e),t.ColorUtils.getLuminance(i))},t.ColorUtils.getContrastRatioByLuminance=function(t,e){var i=t+.05,n=e+.05;return i>n?i/n:n/i},t.ColorUtils.getContrastingTextColor=function(e){if(!t.ColorUtils._CONTRASTING_TEXT_COLOR_CACHE[e]){var i=t.ColorUtils.getLuminance(e),n=t.ColorUtils.getContrastRatioByLuminance(i,1)>t.ColorUtils.getContrastRatioByLuminance(i,0)?"#FFFFFF":"#000000";t.ColorUtils._CONTRASTING_TEXT_COLOR_CACHE[e]=n}return t.ColorUtils._CONTRASTING_TEXT_COLOR_CACHE[e]},t.ColorUtils.fixColorForPlatform=function(e,i){if(!e)return null;"#"==e.charAt(0)&&e.length>8&&(e=t.ColorUtils.getRGBA(e));var n={};return n.color=e,null!=i&&(n.alpha=i),n},t.ClipPath=function(e){this._id=(e?e+"$":"")+"cp"+t.ClipPath._uniqueSeed++,this._regions=[]},t.Obj.createSubclass(t.ClipPath,t.Obj),t.ClipPath._uniqueSeed=0,t.ClipPath.NONE=0,t.ClipPath.RECT=1,t.ClipPath.PATH=2,t.ClipPath.POLYGON=3,t.ClipPath.CIRCLE=5,t.ClipPath.prototype.getId=function(){return this._id},t.ClipPath.prototype.getRegions=function(t){return this._regions},t.ClipPath.prototype.addRect=function(e,i,n,o,r,s){var a={};a.type=t.ClipPath.RECT,a.x=e,a.y=i,a.w=n,a.h=o,a.rx=r,a.ry=s,this._regions.push(a)},t.ClipPath.prototype.addCircle=function(e,i,n){var o={};o.type=t.ClipPath.CIRCLE,o.cx=e,o.cy=i,o.r=n,this._regions.push(o)},t.ClipPath.prototype.addPolygon=function(e){var i={};i.type=t.ClipPath.POLYGON,i.points=e,this._regions.push(i)},t.ClipPath.prototype.addPath=function(e){var i={};i.type=t.ClipPath.PATH,i.d=e,this._regions.push(i)},t.Mask=function(e,i){this._id="mask"+t.Mask._uniqueSeed++,this._gradient=e,this._bounds=i},t.Obj.createSubclass(t.Mask,t.Obj),t.Mask._uniqueSeed=0,t.Mask.prototype.getId=function(){return this._id},t.Mask.prototype.getGradient=function(){return this._gradient},t.Mask.prototype.getBounds=function(){return this._bounds},t.SolidFill=function(t,e){this._fc=t,this._fa=null!=e?e:1},t.Obj.createSubclass(t.SolidFill,t.Obj),t.SolidFill.prototype.getColor=function(){return this._fc},t.SolidFill.prototype.getAlpha=function(){return this._fa},t.SolidFill.invisibleFill=function(){return t.SolidFill._INVISIBLE_FILL||(t.SolidFill._INVISIBLE_FILL=new t.SolidFill("rgba(0,0,0,0)")),t.SolidFill._INVISIBLE_FILL},t.SolidFill.prototype.equals=function(e){return e instanceof t.SolidFill&&e.getColor()==this.getColor()&&e.getAlpha()==this.getAlpha()},t.Stroke=function(t,e,i,n,o,r){this._color=t,this._alpha=null!=e?e:1,this._width=null===i||isNaN(i)?1:i,this._fixedWidth=n||!1,this._dashProps=o,this._lineProps=r},t.Obj.createSubclass(t.Stroke,t.Obj),t.Stroke.prototype.getLineProps=function(){return this._lineProps},t.Stroke.prototype.getDashProps=function(){return this._dashProps},t.Stroke.prototype.getAlpha=function(){return this._alpha},t.Stroke.prototype.getColor=function(){return this._color},t.Stroke.prototype.getWidth=function(){return this._width},t.Stroke.prototype.isFixedWidth=function(){return this._fixedWidth},t.Stroke.getDefaultDashProps=function(t,e){return"solid"===t?null:(e=Math.ceil(e),"dashed"==t?{dashArray:""+Math.max(6,2*e)}:"dotted"==t?{dashArray:""+Math.max(2,e)}:null)},t.Shadow=function(e,i,n,o,r,s,a){this.__type="shadow",this._rgba=e||"rgba(48,48,48,0.35)",this._distance=null===i||isNaN(i)?4:i,this._strength=null===s||isNaN(s)?1:s,this._blurX=null===n||isNaN(n)?4:n,this._blurY=null===o||isNaN(o)?4:o,this._angle=null===r||isNaN(r)?45:r,this._quality=null===a||isNaN(a)?1:a,this._Id="ds"+t.Shadow._uniqueId++},t.Obj.createSubclass(t.Shadow,t.Obj),t.Shadow._uniqueId=1,t.GradientFill=function(t,e,i,n){this.Init(t,e,i,n)},t.Obj.createSubclass(t.GradientFill,t.Obj),t.GradientFill.prototype.getAlphas=function(){return this._arAlphas},t.GradientFill.prototype.getBounds=function(){return this._arBounds},t.GradientFill.prototype.getColors=function(){return this._arColors},t.GradientFill.prototype.getStops=function(){return this._arStops},t.GradientFill.prototype.Init=function(t,e,i,n){if(!e&&(e=[],t))for(var o=0;o<t.length;o++)e.push(1);var r=t?t.length-1:0;if(!i){i=[];var s=r>0?1/r:0,a=0;do{i.push(a),a+=s}while(--r>0);i.push(1)}this._arColors=t,this._arAlphas=e,this._arStops=i,this._arBounds=n},t.GradientFill.prototype.equals=function(e){return e instanceof t.GradientFill&&t.ArrayUtils.equals(this.getColors(),e.getColors())&&t.ArrayUtils.equals(this.getStops(),e.getStops())&&t.ArrayUtils.equals(this.getAlphas(),e.getAlphas())&&t.ArrayUtils.equals(this.getBounds(),e.getBounds())},t.LinearGradientFill=function(t,e,i,n,o){this.Init(t,e,i,n,o)},t.Obj.createSubclass(t.LinearGradientFill,t.GradientFill),t.LinearGradientFill.prototype.Init=function(e,i,n,o,r){t.LinearGradientFill.superclass.Init.call(this,i,n,o,r),null===e||isNaN(e)?e=0:Math.abs(e)>360&&(e%=360),this._angle=e},t.LinearGradientFill.prototype.getAngle=function(){return this._angle},t.LinearGradientFill.prototype.equals=function(e){return e instanceof t.LinearGradientFill&&e.getAngle()==this.getAngle()&&t.LinearGradientFill.superclass.equals.call(this,e)},t.PatternFill=function(e,i,n,o){this._pattern=e?t.PatternFill._convertPatternValue(e):t.PatternFill.SM_DIAG_UP_LT,this._fillColor=i||"#000000",this._backgroundColor=n||"#ffffff",this._matrix=o},t.Obj.createSubclass(t.PatternFill,t.Obj),t.PatternFill.SM_DIAG_UP_LT="sDUL",t.PatternFill.LG_DIAG_UP_LT="lDUL",t.PatternFill.SM_DIAG_UP_RT="sDUR",t.PatternFill.LG_DIAG_UP_RT="lDUR",t.PatternFill.SM_CROSSHATCH="sC",t.PatternFill.LG_CROSSHATCH="lC",t.PatternFill.SM_CHECK="sCh",t.PatternFill.LG_CHECK="lCh",t.PatternFill.SM_TRIANGLE_CHECK="sTCh",t.PatternFill.LG_TRIANGLE_CHECK="lTCh",t.PatternFill.SM_DIAMOND_CHECK="sDCh",t.PatternFill.LG_DIAMOND_CHECK="lDCh",t.PatternFill.prototype.getPattern=function(){return this._pattern},t.PatternFill.prototype.getColor=function(){return this._fillColor},t.PatternFill.prototype.getBackgroundColor=function(){return this._backgroundColor},t.PatternFill.prototype.equals=function(e){return e instanceof t.PatternFill&&e.getPattern()==this.getPattern()&&e.getColor()==this.getColor()&&e.getBackgroundColor()==this.getBackgroundColor()},t.PatternFill.prototype.getMatrix=function(){return this._matrix||new t.Matrix},t.PatternFill._convertPatternValue=function(e){return"smallDiagonalLeft"==e?t.PatternFill.SM_DIAG_UP_LT:"largeDiagonalLeft"==e?t.PatternFill.LG_DIAG_UP_LT:"smallDiagonalRight"==e?t.PatternFill.SM_DIAG_UP_RT:"largeDiagonalRight"==e?t.PatternFill.LG_DIAG_UP_RT:"smallCrosshatch"==e?t.PatternFill.SM_CROSSHATCH:"largeCrosshatch"==e?t.PatternFill.LG_CROSSHATCH:"smallChecker"==e?t.PatternFill.SM_CHECK:"largeChecker"==e?t.PatternFill.LG_CHECK:"smallTriangle"==e?t.PatternFill.SM_TRIANGLE_CHECK:"largeTriangle"==e?t.PatternFill.LG_TRIANGLE_CHECK:"smallDiamond"==e?t.PatternFill.SM_DIAMOND_CHECK:"largeDiamond"==e?t.PatternFill.LG_DIAMOND_CHECK:e},t.SelectionEffectUtils={},t.Obj.createSubclass(t.SelectionEffectUtils,t.Obj),t.SelectionEffectUtils.getHoverBorderColor=function(e){return t.ColorUtils.adjustHSL(e,0,0,.15)},t.SelectionEffectUtils.createSelectingStroke=function(e){return new t.Stroke(t.SelectionEffectUtils.getHoverBorderColor(e),1,2,!1,null,{miterLimit:1})},t.SelectionEffectUtils.getSelectingCursor=function(){return"pointer"},t.KeyboardFocusEffect=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},t.Obj.createSubclass(t.KeyboardFocusEffect,t.Obj),t.KeyboardFocusEffect.FOCUS_BORDER_RADIUS=1,t.KeyboardFocusEffect.FOCUS_STROKE_WIDTH=1,t.KeyboardFocusEffect.FOCUS_STROKE_ALPHA=1,t.KeyboardFocusEffect.prototype.Init=function(e,i,n,o,r,s){this._container=i,this._focusEffect=new t.Rect(e,n.x,n.y,n.w,n.h,r);var a=this.CreateStroke();this._focusEffect.setStroke(a),this._focusEffect.setRx(t.KeyboardFocusEffect.FOCUS_BORDER_RADIUS),this._focusEffect.setRy(t.KeyboardFocusEffect.FOCUS_BORDER_RADIUS),o&&this._focusEffect.setMatrix(o),this._focusEffect.setFill(null),this._appendLast=s},t.KeyboardFocusEffect.prototype.CreateStroke=function(){var e,i=t.Agent.getFocusColor(),n=t.KeyboardFocusEffect.FOCUS_STROKE_WIDTH,o=t.KeyboardFocusEffect.FOCUS_STROKE_ALPHA;return"safari"===t.Agent.browser||"chrome"===t.Agent.browser?n=2:e={dashArray:n,dashOffset:n},new t.Stroke(i,o,n,!1,e)},t.KeyboardFocusEffect.prototype.getEffect=function(){return this._focusEffect},t.KeyboardFocusEffect.prototype.setEffect=function(t){this._focusEffect=t},t.KeyboardFocusEffect.prototype.show=function(){this._focusEffect instanceof t.Shape&&(this._appendLast?this._container.addChild(this._focusEffect):this._container.addChildAt(this._focusEffect,0))},t.KeyboardFocusEffect.prototype.hide=function(){this._focusEffect instanceof t.Shape&&this._container.removeChild(this._focusEffect)};var a=function(){this.Init()};t.Obj.createSubclass(a,t.Obj),a.prototype.Init=function(){this._regionPctRect=new t.Rectangle(-10,-10,120,120),this._counter=0,this._resultIdsUnder=[],this._resultIdsOver=[]},a.prototype.getRegionPctRect=function(){return this._regionPctRect},a.prototype.getResultIdsUnder=function(){return this._resultIdsUnder},a.prototype.getResultIdsOver=function(){return this._resultIdsOver},a.prototype.createResultId=function(t){return t||(t="filtRes"),t+this._counter++};var l=function(){};t.Obj.createSubclass(l,t.Obj),l._counter=0,l.createFilter=function(e,i){for(var n=t.SvgShapeUtils.createElement("filter",l.CreateFilterId()),o=new a,r=0;r<e.length;r++){var s=e[r];s&&l.CreateFilterPrimitives(n,s,i,o)}var h=!1;if(i){var u=i.getElem().getBBox();if(u){var c=u.width,p=u.height;if(0==p||0==c){var _;i.getStroke&&(_=i.getStroke());var g=10;_&&(g=_.getWidth());var d=u.x,S=u.y;0==p&&(p=2*g,S-=g),0==c&&(c=2*g,d-=g),t.ToolkitUtils.setAttrNullNS(n,"x",d),t.ToolkitUtils.setAttrNullNS(n,"y",S),t.ToolkitUtils.setAttrNullNS(n,"width",c),t.ToolkitUtils.setAttrNullNS(n,"height",p),t.ToolkitUtils.setAttrNullNS(n,"filterUnits","userSpaceOnUse"),h=!0}}}h||(-10!=o.getRegionPctRect().x&&"Infinity"!=o.getRegionPctRect().x&&"-Infinity"!=o.getRegionPctRect().x&&t.ToolkitUtils.setAttrNullNS(n,"x",o.getRegionPctRect().x+"%"),-10!=o.getRegionPctRect().y&&"Infinity"!=o.getRegionPctRect().y&&"-Infinity"!=o.getRegionPctRect().y&&t.ToolkitUtils.setAttrNullNS(n,"y",o.getRegionPctRect().y+"%"),120!=o.getRegionPctRect().w&&"Infinity"!=o.getRegionPctRect().w&&"-Infinity"!=o.getRegionPctRect().w&&t.ToolkitUtils.setAttrNullNS(n,"width",o.getRegionPctRect().w+"%"),120!=o.getRegionPctRect().h&&"Infinity"!=o.getRegionPctRect().h&&"-Infinity"!=o.getRegionPctRect().h&&t.ToolkitUtils.setAttrNullNS(n,"height",o.getRegionPctRect().h+"%"));var f,y,T=o.getResultIdsUnder().length,v=o.getResultIdsOver().length,m=t.SvgShapeUtils.createElement("feMerge");if(T>0)for(y=0;y<T;y++)f=t.SvgShapeUtils.createElement("feMergeNode"),t.ToolkitUtils.setAttrNullNS(f,"in",o.getResultIdsUnder()[y]),t.ToolkitUtils.appendChildElem(m,f);if(f=t.SvgShapeUtils.createElement("feMergeNode"),t.ToolkitUtils.setAttrNullNS(f,"in","SourceGraphic"),t.ToolkitUtils.appendChildElem(m,f),v>0)for(y=0;y<v;y++)f=t.SvgShapeUtils.createElement("feMergeNode"),t.ToolkitUtils.setAttrNullNS(f,"in",o.getResultIdsOver()[y]),t.ToolkitUtils.appendChildElem(m,f);return t.ToolkitUtils.appendChildElem(n,m),n},l.CreateFilterPrimitives=function(e,i,n,o){return i instanceof t.Shadow&&c.createFilterPrimitives(e,i,n,o),null},l.CreateFilterId=function(){return"filt"+l._counter++};var h=function(){};t.Obj.createSubclass(h,t.Obj),h.createElem=function(e,i){var n,o=t.SvgShapeUtils.createElement("linearGradient",i),r=e.getColors(),s=e.getAlphas(),a=e.getStops(),l=e.getBounds(),h=r.length;for(n=0;n<h;n++){var u=t.SvgShapeUtils.createElement("stop");t.ToolkitUtils.setAttrNullNS(u,"offset",100*a[n]+"%");var c=r[n];if(c){var p=s[n];t.ToolkitUtils.setAttrNullNS(u,"stop-color",c),null!=p&&t.ToolkitUtils.setAttrNullNS(u,"stop-opacity",p,1)}t.ToolkitUtils.appendChildElem(o,u)}var _=!l||0==l[0]&&0==l[1]&&0==l[2]&&0==l[3],g=e.getAngle(),d="0%",S="0%",f="100%",y="0%",T=!0;if(_)45===g?(S="100%",f="100%"):90===g?(S="100%",f="0%"):135===g?(d="100%",f="0%",y="100%"):270===g?(f="0%",y="100%"):0!==g&&(g=-g,t.ToolkitUtils.setAttrNullNS(o,"gradientTransform","rotate("+g+" .5 .5)"),T=!1);else{t.ToolkitUtils.setAttrNullNS(o,"gradientUnits","userSpaceOnUse"),d="0",S="0.5",f="1",y="0.5";var v=l[2],m=l[3],E=l[0],C=l[1],b="scale("+v+" "+m+")"+" "+("rotate("+(g=-g)+" .5 .5)");0==E&&0==C||(b="translate("+E+" "+C+")"+" "+b),t.ToolkitUtils.setAttrNullNS(o,"gradientTransform",b)}return T&&(t.ToolkitUtils.setAttrNullNS(o,"x1",d),t.ToolkitUtils.setAttrNullNS(o,"y1",S),t.ToolkitUtils.setAttrNullNS(o,"x2",f),t.ToolkitUtils.setAttrNullNS(o,"y2",y)),o};var u=function(){};t.Obj.createSubclass(u,t.Obj),u._SM_WIDTH=8,u._SM_HEIGHT=8,u._LG_WIDTH=16,u._LG_HEIGHT=16,u.createElem=function(e,i){var n,o,r=t.SvgShapeUtils.createElement("pattern",i),s=e.getPattern();u.IsSmallPattern(s)?(n=u._SM_WIDTH,o=u._SM_HEIGHT):(n=u._LG_WIDTH,o=u._LG_HEIGHT),t.ToolkitUtils.setAttrNullNS(r,"x",0),t.ToolkitUtils.setAttrNullNS(r,"y",0),t.ToolkitUtils.setAttrNullNS(r,"width",n),t.ToolkitUtils.setAttrNullNS(r,"height",o),t.ToolkitUtils.setAttrNullNS(r,"patternUnits","userSpaceOnUse");var a=e.getMatrix();if(a){var l="matrix("+a.getA()+","+a.getC()+","+a.getB()+","+a.getD()+","+a.getTx()+","+a.getTy()+")";t.ToolkitUtils.setAttrNullNS(r,"patternTransform",l)}return u.CreatePatternElems(e,r),r},u.IsSmallPattern=function(t){return"s"===t.charAt(0)},u.CreatePatternElems=function(e,i){var n,o,r,s,a,l,h,c=e.getPattern(),p=e.getColor(),_=t.ColorUtils.getRGB(p),g=t.ColorUtils.getAlpha(p),d=e.getBackgroundColor(),S=t.ColorUtils.getRGB(d),f=t.ColorUtils.getAlpha(d);u.IsSmallPattern(c)?(n=u._SM_WIDTH,o=u._SM_HEIGHT,r=u._SM_WIDTH,s=u._SM_HEIGHT):(n=u._LG_WIDTH,o=u._LG_HEIGHT,r=u._LG_WIDTH,s=u._LG_HEIGHT),S&&f>0&&(h=t.SvgShapeUtils.createElement("rect"),t.ToolkitUtils.setAttrNullNS(h,"stroke",S),t.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",f),t.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),t.ToolkitUtils.setAttrNullNS(h,"fill",S),t.ToolkitUtils.setAttrNullNS(h,"fill-opacity",f),t.ToolkitUtils.setAttrNullNS(h,"x",0),t.ToolkitUtils.setAttrNullNS(h,"y",0),t.ToolkitUtils.setAttrNullNS(h,"width",n),t.ToolkitUtils.setAttrNullNS(h,"height",o),t.ToolkitUtils.appendChildElem(i,h)),c===t.PatternFill.SM_DIAG_UP_LT||c===t.PatternFill.LG_DIAG_UP_LT?(h=t.SvgShapeUtils.createElement("path"),t.ToolkitUtils.setAttrNullNS(h,"stroke",_),t.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",g),t.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),t.ToolkitUtils.setAttrNullNS(h,"stroke-linecap","square"),t.ToolkitUtils.setAttrNullNS(h,"d",t.PathUtils.moveTo(0,-s/2)+t.PathUtils.lineTo(3*r/2,s)+t.PathUtils.moveTo(-r/2,0)+t.PathUtils.lineTo(r/2,s)),t.ToolkitUtils.appendChildElem(i,h)):c===t.PatternFill.SM_DIAG_UP_RT||c===t.PatternFill.LG_DIAG_UP_RT?(h=t.SvgShapeUtils.createElement("path"),t.ToolkitUtils.setAttrNullNS(h,"stroke",_),t.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",g),t.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),t.ToolkitUtils.setAttrNullNS(h,"stroke-linecap","square"),t.ToolkitUtils.setAttrNullNS(h,"d",t.PathUtils.moveTo(-r/2,s)+t.PathUtils.lineTo(r,-s/2)+t.PathUtils.moveTo(0,3*s/2)+t.PathUtils.lineTo(3*r/2,0)),t.ToolkitUtils.appendChildElem(i,h)):c===t.PatternFill.SM_CROSSHATCH||c===t.PatternFill.LG_CROSSHATCH?(h=t.SvgShapeUtils.createElement("path"),t.ToolkitUtils.setAttrNullNS(h,"stroke",_),t.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",g),t.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),t.ToolkitUtils.setAttrNullNS(h,"d","M0,0L"+n+","+o+"M"+n+",0L0,"+o),t.ToolkitUtils.appendChildElem(i,h)):c===t.PatternFill.SM_CHECK||c===t.PatternFill.LG_CHECK?(a=r/2,l=s/2,h=t.SvgShapeUtils.createElement("path"),t.ToolkitUtils.setAttrNullNS(h,"stroke",_),t.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",g),t.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),t.ToolkitUtils.setAttrNullNS(h,"fill",_),t.ToolkitUtils.setAttrNullNS(h,"fill-opacity",g),t.ToolkitUtils.setAttrNullNS(h,"d","M"+a+",0L"+r+",0L"+r+","+l+"L"+a+","+l+"ZM0,"+l+"L"+a+","+l+"L"+a+","+s+"L0,"+s+"Z"),t.ToolkitUtils.appendChildElem(i,h)):c===t.PatternFill.SM_TRIANGLE_CHECK||c===t.PatternFill.LG_TRIANGLE_CHECK?(h=t.SvgShapeUtils.createElement("polygon"),t.ToolkitUtils.setAttrNullNS(h,"stroke",_),t.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",g),t.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),t.ToolkitUtils.setAttrNullNS(h,"fill",_),t.ToolkitUtils.setAttrNullNS(h,"fill-opacity",g),t.ToolkitUtils.setAttrNullNS(h,"points","0,"+o+" "+n+",0 "+n+","+o),t.ToolkitUtils.appendChildElem(i,h)):c!==t.PatternFill.SM_DIAMOND_CHECK&&c!==t.PatternFill.LG_DIAMOND_CHECK||(a=r/2,l=s/2,h=t.SvgShapeUtils.createElement("polygon"),t.ToolkitUtils.setAttrNullNS(h,"stroke",_),t.ToolkitUtils.setAttrNullNS(h,"stroke-opacity",g),t.ToolkitUtils.setAttrNullNS(h,"stroke-width",1),t.ToolkitUtils.setAttrNullNS(h,"fill",_),t.ToolkitUtils.setAttrNullNS(h,"fill-opacity",g),t.ToolkitUtils.setAttrNullNS(h,"points","0,"+l+" "+a+",0 "+n+","+a+" "+a+","+o),t.ToolkitUtils.appendChildElem(i,h))};var c=function(){};t.Obj.createSubclass(c,t.Obj),c.RADS_PER_DEGREE=Math.PI/180,c.createFilterPrimitives=function(e,i,n,o){var r=i._rgba,s=t.ColorUtils.getRed(r)/255,a=t.ColorUtils.getGreen(r)/255,l=t.ColorUtils.getBlue(r)/255,h=t.ColorUtils.getAlpha(r),u=i._strength,p=i._blurX,_=i._blurY,g=0,d=0;i._blurX>0&&(g=Math.max(i._blurX/3,1)),i._blurY>0&&(d=Math.max(i._blurY/3,1));var S=i._distance,f=i._angle*c.RADS_PER_DEGREE,y=Math.cos(f)*S,T=Math.sin(f)*S,v=n.getDimensions(n.getParent());if(v){var m=Math.abs(S),E=2*p,C=2*p,b=2*_,A=2*_;S>0?(E-=m,b-=m,C+=m,A+=m):S<0&&(E+=m,b+=m,C-=m,A-=m),E<0&&(E=0),b<0&&(b=0),C<0&&(C=0),A<0&&(A=0);var O=E/v.w*100,M=C/v.w*100,I=b/v.h*100,x=A/v.h*100;o.getRegionPctRect().x>-O&&(o.getRegionPctRect().x=-O),o.getRegionPctRect().y>-I&&(o.getRegionPctRect().y=-I),o.getRegionPctRect().w<100+O+M&&(o.getRegionPctRect().w=100+O+M),o.getRegionPctRect().h<100+I+x&&(o.getRegionPctRect().h=100+I+x)}if(n instanceof t.Polyline){var D=n.getStroke().getWidth();D>1&&(o.getRegionPctRect().h=o.getRegionPctRect().h+D,o.getRegionPctRect().y=o.getRegionPctRect().y-D)}var P=t.SvgShapeUtils.createElement("feColorMatrix");t.ToolkitUtils.setAttrNullNS(P,"in","SourceGraphic"),t.ToolkitUtils.setAttrNullNS(P,"type","matrix"),t.ToolkitUtils.setAttrNullNS(P,"values","0 0 0 "+s+" 0 0 0 0 "+a+" 0 0 0 0 "+l+" 0 0 0 0 "+h*u+" 0");var R=t.SvgShapeUtils.createElement("feGaussianBlur"),N=g;g!==d&&(N+=" "+d),t.ToolkitUtils.setAttrNullNS(R,"stdDeviation",N);var U=o.createResultId("blur");t.ToolkitUtils.setAttrNullNS(R,"result",U);var k=t.SvgShapeUtils.createElement("feOffset");t.ToolkitUtils.setAttrNullNS(k,"dx",y),t.ToolkitUtils.setAttrNullNS(k,"dy",T),t.ToolkitUtils.setAttrNullNS(k,"in",U);var L=o.createResultId("offset");t.ToolkitUtils.setAttrNullNS(k,"result",L),o.getResultIdsUnder().push(L),t.ToolkitUtils.appendChildElem(e,P),t.ToolkitUtils.appendChildElem(e,R),t.ToolkitUtils.appendChildElem(e,k)},t.Dimension=function(t,e){this.w=null===t||isNaN(t)?0:t,this.h=null===e||isNaN(e)?0:e},t.Matrix=function(t,e,i,n,o,r){this._a=null==t?1:t,this._b=null==e?0:e,this._c=null==i?0:i,this._d=null==n?1:n,this._tx=null==o?0:o,this._ty=null==r?0:r,this._u=0,this._v=0,this._w=1},t.Obj.createSubclass(t.Matrix,t.Obj),t.Matrix._DECOMP_TX=0,t.Matrix._DECOMP_TY=1,t.Matrix._DECOMP_R=2,t.Matrix._DECOMP_SKEWX=3,t.Matrix._DECOMP_SX=4,t.Matrix._DECOMP_SY=5,t.Matrix.prototype.getA=function(){return this._a},t.Matrix.prototype.getB=function(){return this._b},t.Matrix.prototype.getC=function(){return this._c},t.Matrix.prototype.getD=function(){return this._d},t.Matrix.prototype.getTx=function(){return this._tx},t.Matrix.prototype.getTy=function(){return this._ty},t.Matrix.prototype.concat=function(e){var i=this._a*e.getA()+this._c*e.getB()+this._u*e.getTx(),n=this._b*e.getA()+this._d*e.getB()+this._v*e.getTx(),o=this._tx*e.getA()+this._ty*e.getB()+this._w*e.getTx(),r=this._a*e.getC()+this._c*e.getD()+this._u*e.getTy(),s=this._b*e.getC()+this._d*e.getD()+this._v*e.getTy(),a=this._tx*e.getC()+this._ty*e.getD()+this._w*e.getTy();return new t.Matrix(i,n,r,s,o,a)},t.Matrix.prototype.translate=function(e,i){return this.concat(new t.Matrix(1,0,0,1,e,i))},t.Matrix.prototype.scale=function(e,i,n,o){var r=this;(n||o)&&(r=this.translate(-n,-o));var s=new t.Matrix(e,0,0,i);return r=r.concat(s),(n||o)&&(r=r.translate(n,o)),r},t.Matrix.prototype.rotate=function(e){var i=Math.cos(e),n=Math.sin(e),o=new t.Matrix(i,-n,n,i);return this.concat(o)},t.Matrix.prototype.skew=function(e,i){var n=new t.Matrix(1,Math.tan(e),Math.tan(i),1);return this.concat(n)},t.Matrix.prototype._determinant=function(){return this._a*(this._d*this._w-this._ty*this._v)-this._b*(this._c*this._w-this._ty*this._u)+this._tx*(this._c*this._v-this._d*this._u)},t.Matrix.prototype.invert=function(){var e=this._determinant(),i=this._d*this._w-this._ty*this._v,n=this._tx*this._v-this._b*this._w,o=this._b*this._ty-this._tx*this._d,r=this._ty*this._u-this._c*this._w,s=this._a*this._w-this._tx*this._u,a=this._tx*this._c-this._a*this._ty;return new t.Matrix(i/e,n/e,r/e,s/e,o/e,a/e)},t.Matrix.prototype._decompose=function(){var t=this._a,e=this._b,i=this._c,n=this._d,o=this._tx,r=this._ty;if(t*n-e*i==0)return null;var s=Math.sqrt(t*t+i*i),a=(t/=s)*e+(i/=s)*n;e-=t*a,n-=i*a;var l=Math.sqrt(e*e+n*n);return a/=l,-1===t*(n/=l)-(e/=l)*i&&(a=-a,l=-l),[o,r,Math.atan2(i,t),Math.atan(a),s,l]},t.Matrix.prototype._recompose=function(e){var i=new t.Matrix,n=e[0],o=e[1],r=e[2],s=e[3],a=e[4],l=e[5];return(i=(i=(i=i.scale(a,l)).skew(s,0)).rotate(r)).translate(n,o)},t.Matrix.prototype.equals=function(t){return!(!this&&t)&&(!(this&&!t)&&(!this&&!t||this._a===t.getA()&&this._b===t.getB()&&this._c===t.getC()&&this._d===t.getD()&&this._tx===t.getTx()&&this._ty===t.getTy()))},t.Matrix.prototype.transformPoint=function(e){var i=this._a*e.x+this._b*e.y+1*this._tx,n=this._c*e.x+this._d*e.y+1*this._ty;return new t.Point(i,n)},t.Matrix.prototype.isIdentity=function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},t.Point=function(t,e){this.x=null===t||isNaN(t)?0:t,this.y=null===e||isNaN(e)?0:e},t.Point.prototype.equals=function(e){return e instanceof t.Point&&this.x===e.x&&this.y===e.y},t.Rectangle=function(t,e,i,n){this.x=null===t||isNaN(t)?0:t,this.y=null===e||isNaN(e)?0:e,this.w=null===i||isNaN(i)?0:i,this.h=null===n||isNaN(n)?0:n},t.Obj.createSubclass(t.Rectangle,t.Obj),t.Rectangle.create=function(e){return new t.Rectangle(e[0],e[1],e[2],e[3])},t.Rectangle.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.w&&e>=this.y&&e<=this.y+this.h},t.Rectangle.prototype.getCenter=function(){return new t.Point(this.x+this.w/2,this.y+this.h/2)},t.Rectangle.prototype.getUnion=function(e){var i=new t.Rectangle;if(e&&0!==e.w&&0!==e.h)if(0!==this.w&&0!==this.h){var n=this.x+this.w,o=this.y+this.h,r=e.x+e.w,s=e.y+e.h,a=Math.min(this.x,e.x),l=Math.min(this.y,e.y);i.w=n<r?r-a:n-a,i.h=o>s?o-l:s-l,i.x=a,i.y=l}else i.x=e.x,i.y=e.y,i.w=e.w,i.h=e.h;else i.x=this.x,i.y=this.y,i.w=this.w,i.h=this.h;return i},t.Rectangle.prototype.getIntersection=function(e){var i=new t.Rectangle;if(!e||0===e.w||0===e.h)return null;if(0===this.w||0===this.h)return null;var n=this.x+this.w,o=this.y+this.h,r=e.x+e.w,s=e.y+e.h,a=Math.max(this.x,e.x),l=Math.max(this.y,e.y);return a>=n||a>=r||l>=o||l>=s?null:(i.w=n<r?n-a:r-a,i.h=o>s?s-l:o-l,i.x=a,i.y=l,i)},t.Rectangle.prototype.intersects=function(t){if(t&&0!==t.w&&0!==t.h&&0!==this.w&&0!==this.h){var e=this.x+this.w,i=this.y+this.h,n=t.x+t.w,o=t.y+t.h;return!(t.x>e||n<this.x||t.y>i||o<this.y)}return!1},t.Rectangle.prototype.clone=function(){return new t.Rectangle(this.x,this.y,this.w,this.h)},t.Rectangle.prototype.equals=function(e){return e instanceof t.Rectangle&&this.x==e.x&&this.y==e.y&&this.w==e.w&&this.h==e.h},t.Rectangle.prototype.toString=function(){return this.x+", "+this.y+", "+this.w+", "+this.h},t.Array2D=function(){this.Init()},t.Obj.createSubclass(t.Array2D,t.Obj),t.Array2D.prototype.Init=function(){this._data=[]},t.Array2D.prototype.get=function(t,e){return this._getInner(t)[e]},t.Array2D.prototype.put=function(t,e,i){var n=this._getInner(t),o=n[e];return n[e]=i,o},t.Array2D.prototype._getInner=function(t){var e=this._data[t];return e||(e=[],this._data[t]=e),e},t.Cache=function(t){this.Init(t)},t.Obj.createSubclass(t.Cache,t.Obj),t.Cache._TARGET_SIZE=1e3,t.Cache._BUFFER_SIZE=.5,t.Cache.prototype.Init=function(e){this._targetSize=null!=e?e:t.Cache._TARGET_SIZE,this._maxSize=Math.ceil(this._targetSize*(1+t.Cache._BUFFER_SIZE)),this._cache={},this._lruArray=[],this._hits=0,this._misses=0},t.Cache.prototype.get=function(t){var e=this._cache[t];return null!=e?(this._hits++,e):(this._misses++,null)},t.Cache.prototype.put=function(t,e){var i=null!=this._cache[t];if(this._cache[t]=e,i){var n=this._lruArray.indexOf(t);this._lruArray.splice(n,1),this._lruArray.push(t)}else if(this._lruArray.push(t),this._lruArray.length>this._maxSize)for(var o=this._lruArray.splice(0,this._maxSize-this._targetSize),r=0;r<o.length;r++)delete this._cache[o[r]]},t.Cache.prototype.toString=function(){var t="Cache Size: "+this._lruArray.length;return t+="\nHits: "+this._hits,t+="\nMisses: "+this._misses,t+="\nHit %: "+Math.round(1e4*this._hits/(this._hits+this._misses))/100},t.DragAndDropUtils={},t.Obj.createSubclass(t.DragAndDropUtils,t.Obj),t.DragAndDropUtils.getDragFeedbackBounds=function(t,e){if(!t)return null;var i=null;if(t instanceof Array){if(t.length>0){i=t[0].getDimensions(e||t[0].getParent());for(var n=1;n<t.length;n++){var o=t[n],r=o.getDimensions(e||o.getParent());r.x<i.x&&(i.w+=i.x-r.x,i.x=r.x),r.y<i.y&&(i.h+=i.y-r.y,i.y=r.y),r.x+r.w>i.x+i.w&&(i.w=r.x+r.w-i.x),r.y+r.h>i.y+i.h&&(i.h=r.y+r.h-i.y)}}}else i=t.getDimensions(e||t.getParent());return i},t.LayoutUtils={},t.Obj.createSubclass(t.LayoutUtils,t.Obj),t.LayoutUtils.position=function(e,i,n,o,r,s){n&&(s=o*r>0?s:0,"start"==i?i=t.Agent.isRightToLeft(n.getCtx())?"right":"left":"end"==i&&(i=t.Agent.isRightToLeft(n.getCtx())?"left":"right"),"top"==i?(n.setTranslate(e.x+e.w/2-o/2,e.y),e.y+=r+s,e.h-=r+s):"bottom"==i?(n.setTranslate(e.x+e.w/2-o/2,e.y+e.h-r),e.h-=r+s):"left"==i?(n.setTranslate(e.x,e.y+e.h/2-r/2),e.x+=o+s,e.w-=o+s):"right"==i&&(n.setTranslate(e.x+e.w-o,e.y+e.h/2-r/2),e.w-=o+s))},t.LayoutUtils.align=function(e,i,n,o){if(n){var r=i;"start"==r?r=t.Agent.isRightToLeft(n.getCtx())?"right":"left":"end"==r&&(r=t.Agent.isRightToLeft(n.getCtx())?"left":"right"),"left"==r?n.setX(e.x):"center"==r?n.setX(e.x+e.w/2-o/2):"right"==r&&n.setX(e.x+e.w-o)}},t.LayoutUtils.getBubbleSize=function(t,e,i,n,o){if(t<=0)return 0;var r=n*n,s=o*o;if(i/e<s/r){var a=Math.sqrt(r*s),l=Math.sqrt(e*i);if(t==l)return Math.sqrt(a);s=i/l*a,r=e/l*a}var h=r+(t-e)/(i-e)*(s-r);return Math.sqrt(h)},t.Math=new Object,t.Obj.createSubclass(t.Math,t.Obj),t.Math.RADS_PER_DEGREE=Math.PI/180,t.Math.DEGREES_PER_RAD=180/Math.PI,t.Math.TWO_PI=2*Math.PI,t.Math.HALF_PI=Math.PI/2,t.Math.QUARTER_PI=Math.PI/4,t.Math.TOLERANCE=.1,t.Math.degreesToRads=function(e){return e*t.Math.RADS_PER_DEGREE},t.Math.radsToDegrees=function(e){return e*t.Math.DEGREES_PER_RAD},t.Math.interpolateNumber=function(t,e,i){return t+i*(e-t)},t.Math.log10=function(t){return Math.log(t)/Math.LN10},t.Math.calculateAngleBetweenTwoVectors=function(e,i,n,o){var r=Math.atan2(o,n)-Math.atan2(i,e);return r<0?r+t.Math.TWO_PI:r},t.Map2D=function(){this.Init()},t.Obj.createSubclass(t.Map2D,t.Obj),t.Map2D.prototype.Init=function(){this._map={}},t.Map2D.prototype.get=function(t,e){return this._getInnerMap(t)[e]},t.Map2D.prototype.put=function(t,e,i){var n=this._getInnerMap(t),o=n[e];return n[e]=i,o},t.Map2D.prototype._getInnerMap=function(t){var e=this._map[t];return e||(e={},this._map[t]=e),e},t.PixelMap=function(t,e){this.Init(t,e)},t.Obj.createSubclass(t.PixelMap,t.Array2D),t.PixelMap._INITIAL_SIZE=1500,t.PixelMap.prototype.Init=function(e,i){t.PixelMap.superclass.Init.call(this),this._innerMap=i,this._innerMap&&(this._innerMap._outerMap=this,this._innerMap._bOuterMap=!0),this._scale=e||1,this._capacity=this._scale*this._scale,this._bInnerMap=null!=this._innerMap,this._bOuterMap=!1;for(var n=t.PixelMap._INITIAL_SIZE/this._scale,o=0;o<n;o++)for(var r=0;r<n;r++)this.put(o,r,0)},t.PixelMap.prototype.isObscured=function(t,e,i,n){for(var o=this._adjustForScale(t),r=this._adjustForScale(e),s=this._adjustForScale(i),a=this._adjustForScale(n),l=o;l<=s;l++)for(var h=r;h<=a;h++){if(!0!==this.get(l,h)){if(!this._bInnerMap)return!1;var u=Math.max(t,l*this._scale),c=Math.max(e,h*this._scale),p=Math.min(i,(l+1)*this._scale-1),_=Math.min(n,(h+1)*this._scale-1);if(!this._innerMap.isObscured(u,c,p,_))return!1}}return!0},t.PixelMap.prototype.obscure=function(t,e,i,n,o){for(var r=this._adjustForScale(t),s=this._adjustForScale(e),a=this._adjustForScale(i),l=this._adjustForScale(n),h=r;h<=a;h++)for(var u=s;u<=l;u++){if(!0!==this.get(h,u))if(this._bInnerMap){var c=Math.max(t,h*this._scale),p=Math.max(e,u*this._scale),_=Math.min(i,(h+1)*this._scale-1),g=Math.min(n,(u+1)*this._scale-1);this._innerMap.obscure(c,p,_,g,o)}else this._increment(h,u,o)}},t.PixelMap.prototype._increment=function(t,e,i){var n=this._adjustForScale(t),o=this._adjustForScale(e),r=this.get(n,o);(r=null!=r?r+i:i)>=this._capacity&&(r=!0),this.put(n,o,r),!0===r&&this._bOuterMap&&this._outerMap._increment(t,e,this._capacity)},t.PixelMap.prototype._adjustForScale=function(t){return Math.floor(t/this._scale)},t.ImageLoader={_cache:{}},t.Obj.createSubclass(t.ImageLoader,t.Obj),t.ImageLoader.addBubbleEventListener=function(e,i,n){return window.addEventListener?(t.ToolkitUtils.addDomEventListener(e,i,n,!1),!0):!!window.attachEvent&&(e.attachEvent("on"+i,n),!0)},t.ImageLoader.loadImage=function(e,i){var n=this._cache[e];if(n){if(!n._image)return i&&i(n),n;t.ImageLoader._addListenerToQueue(n._listeners,i)}else this.loadNewImage(e,i);return null},t.ImageLoader.loadNewImage=function(e,i){var n=document.createElement("img"),o={_listeners:[],url:e,_image:n};i&&t.ImageLoader._addListenerToQueue(o._listeners,i),this._cache[e]=o,t.ImageLoader.addBubbleEventListener(n,"load",function(t){var e;o.width=n.width,o.height=n.height,delete o._image;var i=o._listeners.length;for(e=0;e<i;e++)o._listeners[e]&&o._listeners[e](o);delete o._listeners}),n.src=e},t.ImageLoader._addListenerToQueue=function(t,e){if(e){for(var i=0;i<t.length;i++)if(t[i]===e)return;t.push(e)}},t.JsonUtils=new Object,t.Obj.createSubclass(t.JsonUtils,t.Obj),t.JsonUtils.clone=function(e,i,n){if(null==e)return null;var o=null;if(e instanceof Array){o=[];for(var r=0;r<e.length;r++)t.JsonUtils._isDeepClonable(e[r])?o[r]=t.JsonUtils.clone(e[r],i,n):o[r]=e[r]}else if(e instanceof t.CSSStyle)o=e.clone();else if(e instanceof Date)o=e.getTime();else if(t.JsonUtils._isClonableObject(e))for(var s in o={},e)if(!i||i(s)){var a=e[s];if(n&&1==n[s]||!t.JsonUtils._isDeepClonable(a)||"_widgetConstructor"==s)o[s]=a;else{var l=n?n[s]:null;o[s]=t.JsonUtils.clone(a,i,l)}}return o},t.JsonUtils.merge=function(e,i,n){var o=e&&e._dvtNoClone?e:t.JsonUtils.clone(e,null,n);if(i&&i._dvtNoClone)throw new Error("Do not merge because content will be modified.");var r=t.JsonUtils.clone(i,null,n);if(null==o)return r;if(null==r&&o._dvtNoClone)throw new Error("Do not return an uncloned object.");return null==r?o:(t.JsonUtils._copy(o,r),r)},t.JsonUtils._copy=function(e,i){for(var n in e){var o=e[n];void 0!==o&&(o&&o instanceof Array||"_widgetConstructor"==n?i[n]=o:i[n]&&i[n]instanceof t.CSSStyle?o instanceof t.CSSStyle?i[n].merge(o):i[n].merge(new t.CSSStyle(o)):t.JsonUtils._isDeepClonable(o)&&i[n]?t.JsonUtils._copy(o,i[n]):i[n]=o)}},t.JsonUtils._isDeepClonable=function(t){return t instanceof Object&&(!t.has&&(!t._dvtNoClone&&!(t instanceof Boolean||t instanceof String||t instanceof Number||t instanceof Function||t.then)))},t.JsonUtils._isClonableObject=function(t){return t instanceof Object&&(!t.then&&(!t.jquery&&(!t.has&&(!("undefined"!=typeof NodeList&&t instanceof NodeList)&&(!("undefined"!=typeof Node&&t instanceof Node)&&!t._dvtNoClone)))))},t.ToolkitUtils={},t.Obj.createSubclass(t.ToolkitUtils,t.Obj),t.ToolkitUtils.SVG_NS="http://www.w3.org/2000/svg",t.ToolkitUtils.XLINK_NS="http://www.w3.org/1999/xlink",t.ToolkitUtils._IMAGE_URL_CACHE={},t.ToolkitUtils.createSvgDocument=function(e){var i=document.createElementNS(t.ToolkitUtils.SVG_NS,"svg");return null!=e&&t.ToolkitUtils.setAttrNullNS(i,"id",e),t.ToolkitUtils.setAttrNullNS(i,"width","100%"),t.ToolkitUtils.setAttrNullNS(i,"height","100%"),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||t.ToolkitUtils.setAttrNullNS(i,"focusable","false"),i},t.ToolkitUtils.getDragFeedback=function(e,i){var n=new Object;if(!e)return n.width=1,n.height=1,n.svg=t.ToolkitUtils.createSvgDocument("dnd"),n;e instanceof Array||(e=[e]);var o=t.DragAndDropUtils.getDragFeedbackBounds(e,i),r=t.ToolkitUtils._getDragFeedbackSVG(e,o);return n.width=o.w+2*t.DragSource.DRAG_FEEDBACK_MARGIN,n.height=o.h+2*t.DragSource.DRAG_FEEDBACK_MARGIN,r&&(n.svg=r),n},t.ToolkitUtils._getDragFeedbackSVG=function(e,i){var n=t.ToolkitUtils.createSvgDocument("dnd");t.ToolkitUtils.setAttrNullNS(n,"class","oj-drag");var o="translate("+(t.DragSource.DRAG_FEEDBACK_MARGIN-i.x)+","+(t.DragSource.DRAG_FEEDBACK_MARGIN-i.y)+")",r=t.SvgShapeUtils.createElement("g");t.ToolkitUtils.setAttrNullNS(r,"transform",o),t.ToolkitUtils.appendChildElem(n,r);for(var s=0;s<e.length;s++){var a=e[s],l=a.getElem().cloneNode(!0);t.ToolkitUtils.getAttrNullNS(l,"filter")&&t.ToolkitUtils.setAttrNullNS(l,"filter",null);var h=t.SvgShapeUtils.createElement("g");t.ToolkitUtils.appendChildElem(r,h);for(var u=a.getPathToStage(),c=null,p=1;p<u.length;p++)c=c?c.concat(u[p].getMatrix()):u[p].getMatrix();if(c){var _="matrix("+c.getA()+","+c.getC()+","+c.getB()+","+c.getD()+","+c.getTx()+","+c.getTy()+")";t.ToolkitUtils.setAttrNullNS(h,"transform",_)}t.ToolkitUtils.appendChildElem(h,l)}return n},t.ToolkitUtils.addDomEventListener=function(t,e,i,n){t&&t.addEventListener&&t.addEventListener(e,i,n)},t.ToolkitUtils.removeDomEventListener=function(t,e,i,n){t&&t.removeEventListener&&t.removeEventListener(e,i,n)},t.ToolkitUtils.appendChildElem=function(t,e){return t.appendChild(e)},t.ToolkitUtils.getAttrNullNS=function(t,e){return t.getAttribute(e)},t.ToolkitUtils.hasAttrNullNS=function(t,e){return t.hasAttribute(e)},t.ToolkitUtils.setAttrNullNS=function(e,i,n,o){null==o||n!=o?e.setAttribute(i,n):t.ToolkitUtils.hasAttrNullNS(e,i)&&t.ToolkitUtils.removeAttrNullNS(e,i)},t.ToolkitUtils.removeAttrNullNS=function(e,i){t.ToolkitUtils.hasAttrNullNS(e,i)&&e.removeAttribute(i)},t.ToolkitUtils.setHref=function(e,i){"safari"===t.Agent.browser||"firefox"===t.Agent.browser&&t.Agent.version<51?e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i):t.ToolkitUtils.setAttrNullNS(e,"href",i)},t.ToolkitUtils.getLinkCallback=function(t,e){if(t||e){return function(){if(null==t)self.location=e;else{var i=window.open(e,t);i&&i.focus()}}}return null},t.ToolkitUtils.getUrlPathById=function(e){return(("ie"===t.Agent.browser||"edge"===t.Agent.browser?null!=document.querySelector("base"):document.URL!=document.baseURI)?document.URL.split("#")[0]+"#":"#")+e},t.ToolkitUtils.getUrlById=function(e){return"url("+t.ToolkitUtils.getUrlPathById(e)+")"},t.ToolkitUtils.setSvgSize=function(e,i,n){var o=e.getSvgDocument();t.ToolkitUtils.setAttrNullNS(o,"width",i+"px"),t.ToolkitUtils.setAttrNullNS(o,"height",n+"px")},t.ToolkitUtils.getOuterDivSize=function(e){var i=e.getSvgDocument().parentNode,n=window.getComputedStyle(i);return new t.Dimension(parseFloat(n.width),parseFloat(n.height))},t.ToolkitUtils.getEventForSyntax=function(t,e){var i=e.getNativeEvent();if(!t.isCustomElement()&&"undefined"!=typeof $){var n=$.event.fix(i);return n.dataTransfer=i.dataTransfer,n}return i},t.ToolkitUtils.getImageUrl=function(e,i){if("undefined"==typeof $||-1!=i.indexOf("."))return i;var n=t.ToolkitUtils._IMAGE_URL_CACHE[i];if(null!=n)return n;var o=$(document.createElement("div"));return o.css("display","none"),o.addClass(i),$(e.getContainer()).append(o),n=(n=o.css("background-image"))&&-1!==n.indexOf("url(")?n.slice(n.indexOf("url(")+4,n.length-1).replace(/["']/g,""):i,o.remove(),t.ToolkitUtils._IMAGE_URL_CACHE[i]=n,n},t.ToolkitUtils.addClassName=function(e,i){if(e&&i)if(t.ToolkitUtils.hasAttrNullNS(e,"class")){var n=t.ToolkitUtils.getAttrNullNS(e,"class").split(" ");-1==n.indexOf(i)&&(n.push(i),t.ToolkitUtils.setAttrNullNS(e,"class",n.join(" ")))}else t.ToolkitUtils.setAttrNullNS(e,"class",i)},t.ToolkitUtils.removeClassName=function(e,i){if(e&&i&&t.ToolkitUtils.hasAttrNullNS(e,"class")){var n=t.ToolkitUtils.getAttrNullNS(e,"class").split(" "),o=n.indexOf(i);o>=0&&(n.splice(o,1),t.ToolkitUtils.setAttrNullNS(e,"class",n.join(" ")))}},t.SvgDocumentUtils=function(){},t.Obj.createSubclass(t.SvgDocumentUtils,t.Obj),t.SvgDocumentUtils.elementFromPoint=function(t,e){for(var i=document.elementFromPoint(t,e);i;){if(i._obj)return i._obj;i=i.parentNode}return null},t.SvgDocumentUtils.elementFromTouch=function(t){return this.elementFromPoint(t.clientX,t.clientY)},t.SvgDocumentUtils.addDragListeners=function(e,i,n,o,r,s){var a=t.Agent.isTouchDevice(),l=e.getCtx(),h=document.body.style,u=function(t){t.stopPropagation()},c=function(e){i.call(r,e)&&(a?(document.addEventListener("touchmove",p,!0),document.addEventListener("touchend",_,!0)):(document.addEventListener("mousemove",p,!0),document.addEventListener("mouseup",_,!0),s&&document.addEventListener("click",u,!0)),t.SvgDocumentUtils._webkitUserSelect=h.webkitUserSelect,t.SvgDocumentUtils._mozUserSelect=h.MozUserSelect,h.webkitUserSelect="none",h.MozUserSelect="none")},p=t.SvgDocumentUtils.createStaticCallback(l,n,r),_=function(e){a?(document.removeEventListener("touchmove",p,!0),document.removeEventListener("touchend",_,!0)):(document.removeEventListener("mousemove",p,!0),document.removeEventListener("mouseup",_,!0),a||setTimeout(function(){document.removeEventListener("click",u,!0)},50)),h.webkitUserSelect=t.SvgDocumentUtils._webkitUserSelect,h.MozUserSelect=t.SvgDocumentUtils._mozUserSelect;var i=t.DomEventFactory.newEvent(e,l);o.call(r,i)};a?e.addEvtListener(t.TouchEvent.TOUCHSTART,c):e.addEvtListener(t.MouseEvent.MOUSEDOWN,c)},t.SvgDocumentUtils.createStaticCallback=function(e,i,n){return function(o){var r=t.DomEventFactory.newEvent(o,e);i.call(n,r)}},t.SvgDocumentUtils.disableMouseEvents=function(e){if(e.style&&(e.style.pointerEvents="none"),e.childNodes)for(var i=0;i<e.childNodes.length;i++)t.SvgDocumentUtils.disableMouseEvents(e.childNodes[i])},t.ArrayUtils=new Object,t.Obj.createSubclass(t.ArrayUtils,t.Obj),t.ArrayUtils.removeItem=function(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)},t.ArrayUtils.insert=function(t,e,i){if(!Array.isArray(t))return null;if(!Array.isArray(e))return t;var n;if(0===i)n=e.concat(t);else if(i>0&&i<t.length){var o=t.splice(0,i);n=(o=o.concat(e)).concat(t)}else n=t.concat(e);return n},t.ArrayUtils.equals=function(t,e){if(!t&&e)return!1;if(t&&!e)return!1;if(t||e){if(t.length!=e.length)return!1;for(var i=0;i<=t.length;i++)if(t[i]!==e[i])return!1;return!0}return!0},t.ArrayUtils.hasAnyMapItem=function(t,e){if(!t||!e)return!1;for(var i=0;i<e.length;i++)if(t[e[i]])return!0;return!1},t.ArrayUtils.hasAllMapItems=function(t,e){if(!t||!e)return!1;for(var i=0;i<e.length;i++)if(!t[e[i]])return!1;return!0},t.ArrayUtils.hasAnyItem=function(e,i){return t.ArrayUtils.hasAnyMapItem(t.ArrayUtils.createBooleanMap(e),i)},t.ArrayUtils.hasAllItems=function(e,i){return t.ArrayUtils.hasAllMapItems(t.ArrayUtils.createBooleanMap(e),i)},t.ArrayUtils.createBooleanMap=function(t){if(!t)return null;for(var e={},i=0;i<t.length;i++)e[t[i]]=!0;return e},t.ResourceUtils={format:function(t,e){return t?t.replace(/\{(\d+)\}/g,function(){return e[arguments[1]]}):t}},t.BaseEvent=function(){},t.Obj.createSubclass(t.BaseEvent,t.Obj),t.BaseEvent.prototype.Init=function(e){this.type=e.type,this.target=t.BaseEvent.FindDisplayable(e.target),this._isPropagationStopped=!1,this._event=e},t.BaseEvent.prototype.getNativeEvent=function(){return this._event},t.BaseEvent.prototype.preventDefault=function(){this._event.cancelable&&this._event.preventDefault()},t.BaseEvent.prototype.stopPropagation=function(){this._event.stopPropagation&&this._event.stopPropagation(),this._event.cancelBubble=!0,this._event.cancel=!0,this._event.returnValue=!1,this._isPropagationStopped=!0},t.BaseEvent.prototype.isPropagationStopped=function(){return this._isPropagationStopped},t.BaseEvent.FindDisplayable=function(t){for(;t;){if(t._obj)return t._obj;t=t.parentNode}return null};var p=function(t){this.Init(t)};t.Obj.createSubclass(p,t.BaseEvent),p.FOCUS="focus",p.FOCUSIN="focusin",p.FOCUSOUT="focusout",p.BLUR="blur",p.prototype.Init=function(e){p.superclass.Init.call(this,e),this.bubbles=e.bubbles,this.cancelable=e.cancelable,this.view=e.view,null!=e.relatedTarget&&(this.relatedTarget=t.BaseEvent.FindDisplayable(e.relatedTarget))},t.KeyboardEvent=function(t){this.Init(t)},t.Obj.createSubclass(t.KeyboardEvent,t.BaseEvent),t.KeyboardEvent.KEYDOWN="keydown",t.KeyboardEvent.KEYUP="keyup",t.KeyboardEvent.KEYPRESS="keypress",t.KeyboardEvent.TAB=9,t.KeyboardEvent.ENTER=13,t.KeyboardEvent.SHIFT=16,t.KeyboardEvent.CONTROL=17,t.KeyboardEvent.ESCAPE=27,t.KeyboardEvent.SPACE=32,t.KeyboardEvent.PAGE_UP=33,t.KeyboardEvent.PAGE_DOWN=34,t.KeyboardEvent.UP_ARROW=38,t.KeyboardEvent.DOWN_ARROW=40,t.KeyboardEvent.LEFT_ARROW=37,t.KeyboardEvent.RIGHT_ARROW=39,t.KeyboardEvent.OPEN_BRACKET=219,t.KeyboardEvent.CLOSE_BRACKET=221,t.KeyboardEvent.ZERO=48,t.KeyboardEvent.NUMPAD_ZERO=96,t.KeyboardEvent.NUMPAD_PLUS=107,t.KeyboardEvent.NUMPAD_MINUS=109,t.KeyboardEvent.WEBKIT_PLUS=187,t.KeyboardEvent.WEBKIT_MINUS=189,t.KeyboardEvent.GECKO_PLUS=61,t.KeyboardEvent.GECKO_MINUS=173,t.KeyboardEvent.M=77,t.KeyboardEvent.OPEN_ANGLED_BRACKET=188,t.KeyboardEvent.CLOSE_ANGLED_BRACKET=190,t.KeyboardEvent.prototype.Init=function(e){t.KeyboardEvent.superclass.Init.call(this,e),this.bubbles=e.bubbles,this.cancelable=e.cancelable,this.view=e.view,this.charCode=e.charCode,this.keyCode=e.keyCode,this.location=e.location,this.ctrlKey=e.ctrlKey||e.metaKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.repeat=e.repeat,this.locale=e.locale},t.KeyboardEvent.isPlus=function(e){var i=e.keyCode;return i==t.KeyboardEvent.NUMPAD_PLUS||("firefox"===t.Agent.browser?!(i!=t.KeyboardEvent.GECKO_PLUS||!e.shiftKey):!(i!=t.KeyboardEvent.WEBKIT_PLUS||!e.shiftKey))},t.KeyboardEvent.isEquals=function(e){var i=e.keyCode;return"firefox"===t.Agent.browser?i==t.KeyboardEvent.GECKO_PLUS&&!e.shiftKey:i==t.KeyboardEvent.WEBKIT_PLUS&&!e.shiftKey},t.KeyboardEvent.isMinus=function(e){var i=e.keyCode;return i==t.KeyboardEvent.NUMPAD_MINUS||("firefox"===t.Agent.browser?i==t.KeyboardEvent.GECKO_MINUS&&!e.shiftKey:i==t.KeyboardEvent.WEBKIT_MINUS&&!e.shiftKey)},t.KeyboardEvent.isUnderscore=function(e){var i=e.keyCode;return"firefox"===t.Agent.browser?!(i!=t.KeyboardEvent.GECKO_MINUS||!e.shiftKey):!(i!=t.KeyboardEvent.WEBKIT_MINUS||!e.shiftKey)},t.MouseEvent=function(t){this.Init(t)},t.Obj.createSubclass(t.MouseEvent,t.BaseEvent),t.MouseEvent.CLICK="click",t.MouseEvent.DBLCLICK="dblclick",t.MouseEvent.MOUSEOVER="mouseover",t.MouseEvent.MOUSEOUT="mouseout",t.MouseEvent.MOUSEDOWN="mousedown",t.MouseEvent.MOUSEUP="mouseup",t.MouseEvent.MOUSEMOVE="mousemove",t.MouseEvent.MOUSEWHEEL="wheel",t.MouseEvent.RIGHT_CLICK_BUTTON=2,t.MouseEvent.prototype.Init=function(e){t.MouseEvent.superclass.Init.call(this,e),null!=e.relatedTarget&&(this.relatedTarget=t.BaseEvent.FindDisplayable(e.relatedTarget)),this.button=e.button,this.ctrlKey=e.ctrlKey||e.metaKey,this.shiftKey=e.shiftKey,this.pageX=e.pageX,this.pageY=e.pageY,this._isEventModifiedForIE=!1,null!=e.wheelDeltaY?this.wheelDelta=e.wheelDeltaY/40:null!=e.deltaY?(this.deltaMode=e.deltaMode,this.deltaY=e.deltaY,e.deltaMode==e.DOM_DELTA_LINE?this.wheelDelta=-e.deltaY:e.deltaMode==e.DOM_DELTA_PIXEL&&(this.wheelDelta=-e.deltaY/15)):null!=e.wheelDelta?this.wheelDelta=e.wheelDelta/40:this.wheelDelta=e.detail},t.MouseEvent.prototype.modifyEventForIE=function(e,i){this._isEventModifiedForIE||(this.type=e,this.relatedTarget=this.target,this.target=t.BaseEvent.FindDisplayable(i),this._isEventModifiedForIE=!0)},t.TouchEvent=function(t){this.Init(t)},t.Obj.createSubclass(t.TouchEvent,t.BaseEvent),t.TouchEvent.TOUCHSTART="touchstart",t.TouchEvent.TOUCHMOVE="touchmove",t.TouchEvent.TOUCHEND="touchend",t.TouchEvent.TOUCHCANCEL="touchcancel",t.TouchEvent.prototype.Init=function(e){t.TouchEvent.superclass.Init.call(this,e),e.type==t.TouchEvent.TOUCHCANCEL&&(this.type=t.TouchEvent.TOUCHEND),this.touches=t.TouchEvent.createTouchArray(e.touches),this.targetTouches=t.TouchEvent.createTouchArray(e.targetTouches),this.changedTouches=t.TouchEvent.createTouchArray(e.changedTouches),this._touchManager=null},t.TouchEvent.prototype.blockTouchHold=function(){this.getNativeEvent()._touchHoldBlocked=!0},t.TouchEvent.prototype.isInitialTouch=function(){return this.touches.length-this.changedTouches.length==0},t.TouchEvent.prototype.isTouchHoldBlocked=function(){return!!this.getNativeEvent()._touchHoldBlocked},t.TouchEvent.createTouchArray=function(e){for(var i=new Array,n=0;n<e.length;n++){var o=e[n],r=new t.Touch(o);i.push(r)}return i},t.TouchEvent.prototype.stopPropagation=function(){t.TouchEvent.superclass.stopPropagation.call(this),this._touchManager&&this._touchManager.postEventBubble(this)},t.TouchEvent.prototype.setTouchManager=function(t){this._touchManager=t},t.Touch=function(t){this.Init(t)},t.Obj.createSubclass(t.Touch,t.Obj),t.Touch.prototype.Init=function(t){this.clientX=t.clientX,this.clientY=t.clientY,this.screenX=t.screenX,this.screenY=t.screenY,this.pageX=t.pageX,this.pageY=t.pageY,this.target=t.target,this.identifier=null==t.identifier||isNaN(t.identifier)?1:t.identifier},t.TouchManager=function(t,e,i){this.Init(t,e,i)},t.Obj.createSubclass(t.TouchManager,t.Obj),t.TouchManager.TOUCH_MODE="mode",t.TouchManager.TOUCH_MODE_DEFAULT="defaultMode",t.TouchManager.TOUCH_MODE_LONG_PRESS="longPressMode",t.TouchManager.PREV_HOVER_OBJ="prevHoverObj",t.TouchManager.HOVER_TOUCH_KEY="hoverTouch",t.TouchManager.prototype.Init=function(e,i,n){this._context=i,this._id=e,this._eventManager=n,this._touchCount=0,this._touchHoldTimer=new t.Timer(this._context,200,this._handleTouchHoldStartTimer,this),this._blockTouchHold=!1,this._touchMap=new Object,this._savedTouchInfo=new Array,this._addTouchHoldMoveEventListener(this._onTouchHoldHover,this),this._doubleTapTimer=new t.Timer(this._context,600,this._handleDoubleTapTimer,this,1),this._dvtTouchEvent=null},t.TouchManager.prototype.blockTouchHold=function(){this._stopTouchHoldTimer(),this._blockTouchHold=!0},t.TouchManager.prototype.unblockTouchHold=function(){this._blockTouchHold=!1},t.TouchManager.prototype._addTouchHoldMoveEventListener=function(e,i){this.addTouchEventListener(t.ComponentTouchEvent.TOUCH_HOLD_START_TYPE,e,i),this.addTouchEventListener(t.ComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE,e,i),this.addTouchEventListener(t.ComponentTouchEvent.TOUCH_HOLD_END_TYPE,e,i)},t.TouchManager.prototype._onTouchHoldHover=function(e){var i=e.type,n=e.touch,o=e.getNativeEvent(),r=this._touchMap[n.identifier],s=e.target;if(i==t.ComponentTouchEvent.TOUCH_HOLD_END_TYPE){var a=new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_HOVER_END_TYPE,n,s,null,o);a._isCancelEvent=this._isCancelEvent,null!=s&&this.FireListener(new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,n,s,null,o)),r[t.TouchManager.PREV_HOVER_OBJ]=null,this.FireListener(a)}else i==t.ComponentTouchEvent.TOUCH_HOLD_START_TYPE?(r[t.TouchManager.PREV_HOVER_OBJ]=null,null!=s&&this.FireListener(new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,n,s,null,o)),r[t.TouchManager.PREV_HOVER_OBJ]=s,this.FireListener(new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_HOVER_START_TYPE,n,s,null,o))):i==t.ComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE&&(this._fireHoverOverOutEvents(s,r[t.TouchManager.PREV_HOVER_OBJ],n,o),r[t.TouchManager.PREV_HOVER_OBJ]=s,this.FireListener(new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,n,s,null,o)))},t.TouchManager.prototype._getObjFromTouch=function(e){return e?t.SvgDocumentUtils.elementFromTouch(e):null},t.TouchManager.prototype._fireHoverOverOutEvents=function(e,i,n,o){i!=e&&(null!=i&&this.FireListener(new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,n,i,e,o)),null!=e&&this.FireListener(new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,n,e,i,o)))},t.TouchManager.prototype.addTouchEventListener=function(t,e,i){var n=this._getListeners(t,!0);n.push(e),n.push(i)},t.TouchManager.prototype.removeTouchEventListener=function(t,e,i){var n=this._getListeners(t,!1);if(n)for(var o=0;o<n.length;o+=2)if(n[o]===e&&n[o+1]===i){n.splice(o,2);break}},t.TouchManager.prototype._getListeners=function(t,e){if(!this._listenerObj){if(!e)return null;this._listenerObj={}}var i=t,n=this._listenerObj[i];return!n&&e&&(n=[],this._listenerObj[i]=n),n},t.TouchManager.prototype.FireListener=function(t){var e=this._getListeners(t.type,!1);if(e)for(var i=0;i<e.length;i+=2){var n=e[i+1];e[i].call(n,t)}},t.TouchManager.prototype.startTouchHold=function(e){var i=this._startSingleFingerTouchId;if(null!=i&&!isNaN(i)){var n=this._touchMap[i];if(n){for(var o=n.startTarget,r=n.startTouch,s=e.getNativeEvent(),a=this._findMatches("touchId",i),l=0;l<a.length;l++){var h=a[l],u=h.touchObj,c=h.touchId;if(u!=t.TouchManager.HOVER_TOUCH_KEY){var p=this.getTouchInfo(c).startTouch;this.performAssociatedTouchEnd(p,u,null)}}n[t.TouchManager.TOUCH_MODE]=t.TouchManager.TOUCH_MODE_LONG_PRESS,this.saveProcessedTouch(i,t.TouchManager.HOVER_TOUCH_KEY,null,t.TouchManager.HOVER_TOUCH_KEY,t.TouchManager.HOVER_TOUCH_KEY,this.HoverMoveInternal,this.HoverEndInternal,this);var _=new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_HOLD_START_TYPE,r,o,null,s);this.FireListener(_)}}},t.TouchManager.prototype.fireLogicalEvents=function(e){var i=e.type,n=e.getNativeEvent();if(i==t.TouchEvent.TOUCHSTART?(e.isTouchHoldBlocked()||this.processAssociatedTouchAttempt(e,t.TouchManager.HOVER_TOUCH_KEY,this.HoverStartInternal,this),this._doubleTapAttemptStarted&&e.preventDefault()):i==t.TouchEvent.TOUCHMOVE?this.processAssociatedTouchMove(e,t.TouchManager.HOVER_TOUCH_KEY):i==t.TouchEvent.TOUCHEND&&this.processAssociatedTouchEnd(e,t.TouchManager.HOVER_TOUCH_KEY),i==t.TouchEvent.TOUCHEND){this._context.oj.Logger.log("received touch end:"+performance.now());for(var o=this._getStoredTouches(e.changedTouches),r=0;r<o.length;r++){var s=o[r],a=s.identifier,l=this.getTouchInfo(a),h=l.currentObj;if(l[t.TouchManager.TOUCH_MODE]!=t.TouchManager.TOUCH_MODE_LONG_PRESS&&l.fireClick){var u=new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_CLICK_TYPE,s,h,null,n);if(u.touchEvent=e,this._context.oj.Logger.log("doubleTapAttemptStarted:"+this._doubleTapAttemptStarted),this._doubleTapAttemptStarted){var c=this._doubleTapAttemptObj;if(this.resetDoubleTap(),h==c||c.contains(h)){var p=new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,s,h,null,n);p.touchEvent=e,this._context.oj.Logger.log("firing double tap"),this.FireListener(p)}else this.FireListener(u)}else this._context.oj.Logger.log("firing tap"),this.FireListener(u),this.resetDoubleTap(),this._context.oj.Logger.log("starting double tap timer"),this._doubleTapTimer.start(),this._doubleTapAttemptStarted=!0,this._doubleTapAttemptObj=h}}}},t.TouchManager.prototype.getTouchInfo=function(t){return this._touchMap[t]},t.TouchManager.prototype.HoverStartInternal=function(t,e){if(!this._blockTouchHold){var i=e.identifier;this._startSingleFingerTouchId=i,this._stopTouchHoldTimer(),this._startTouchHoldTimer(t)}},t.TouchManager.prototype.HoverMoveInternal=function(e,i){var n=i.identifier,o=this.getTouchInfo(n).currentObj,r=new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE,i,o,null,e.getNativeEvent());this.FireListener(r),e.preventDefault()},t.TouchManager.prototype.HoverEndInternal=function(e,i){var n=i.identifier,o=this.getTouchInfo(n).currentObj,r=new t.ComponentTouchEvent(t.ComponentTouchEvent.TOUCH_HOLD_END_TYPE,i,o,null,e.getNativeEvent());this.FireListener(r),e&&e.preventDefault()},t.TouchManager.prototype.resetTouchHold=function(){this._startSingleFingerTouchId=null,this._stopTouchHoldTimer()},t.TouchManager.prototype.preEventBubble=function(e){e.setTouchManager&&e.setTouchManager(this);var i=e.type;i==t.TouchEvent.TOUCHSTART?this.processTouchStart(e):i==t.TouchEvent.TOUCHMOVE?this.processTouchMove(e):i==t.TouchEvent.TOUCHEND&&this.processTouchEnd(e)},t.TouchManager.prototype.postEventBubble=function(e){var i=e.type;if(i==t.TouchEvent.TOUCHSTART);else if(i==t.TouchEvent.TOUCHMOVE);else if(i==t.TouchEvent.TOUCHEND)for(var n=this._getStoredTouches(e.changedTouches),o=0;o<n.length;o++){var r=n[o].identifier;delete this._touchMap[r],this._startSingleFingerTouchId==r&&(this._startSingleFingerTouchId=null);for(var s=this._findMatches("touchId",r),a=0;a<s.length;a++){var l=s[a];this.removeTooltipInfo(l.touchId,l.touchObj)}}},t.TouchManager.prototype.saveProcessedTouch=function(e,i,n,o,r,s,a,l){if(null!=e&&!isNaN(e)){var h=t.TouchManager.createSavedTouchInfo(e,i,n,o,r,s,a,l);return this._savedTouchInfo.push(h),!0}return!1},t.TouchManager.prototype.cancelTouchHold=function(){for(var e=t.TouchManager.HOVER_TOUCH_KEY,i=this.getTouchIdsForObj(e),n=0;n<i.length;n++){var o=i[n],r=this.getTouchInfo(o).startTouch;r&&(this._isCancelEvent=!0,this.performAssociatedTouchEnd(r,e,null),this._isCancelEvent=!1,delete this._touchMap[o])}},t.TouchManager.prototype.performAssociatedTouchEnd=function(t,e,i){for(var n=t.identifier,o=this._getSavedTouchInfo(n,e),r=0;r<o.length;r++){var s=o[r],a=s.listenerObj,l=s.endListener;this.removeTooltipInfo(n,e),l&&l.call(a,i,t,s)}},t.TouchManager.prototype.processAssociatedTouchAttempt=function(t,e,i,n){for(var o=t.changedTouches,r=0;r<o.length;r++){var s=o[r];s&&i&&i.call(n,t,s)}},t.TouchManager.prototype.processAssociatedTouchMove=function(e,i){for(var n=this.getTouchIdsForObj(i),o=0;o<n.length;o++){var r=n[o];if(null!=r&&!isNaN(r)){var s=t.TouchManager.getTouchById(r,this._getStoredTouches(e.changedTouches));if(s){var a=this._getSavedTouchInfo(s.identifier,i);for(o=0;o<a.length;o++){var l=a[o],h=l.listenerObj,u=l.moveListener;u&&u.call(h,e,s)}}}}},t.TouchManager.prototype.processAssociatedTouchEnd=function(e,i){for(var n=this.getTouchIdsForObj(i),o=0;o<n.length;o++){var r=n[o],s=t.TouchManager.getTouchById(r,this._getStoredTouches(e.changedTouches));s&&this.performAssociatedTouchEnd(s,i,e)}},t.TouchManager.prototype._findMatches=function(t,e){for(var i=new Array,n=0;n<this._savedTouchInfo.length;n++){var o=this._savedTouchInfo[n];o[t]==e&&i.push(o)}return i},t.TouchManager.prototype._getSavedTouchInfo=function(t,e){for(var i=this._findMatches("touchId",t),n=[],o=0;o<i.length;o++){var r=i[o];r.touchObj==e&&n.push(r)}return n},t.TouchManager.prototype.getTouchIdsForObj=function(t){for(var e=new Array,i=this._findMatches("touchObj",t),n=0;n<i.length;n++){var o=i[n].touchId;e.push(o)}return e},t.TouchManager.prototype.removeTooltipInfo=function(t,e){for(var i=this._findMatches("touchId",t),n=new Array,o=0;o<i.length;o++){(l=i[o]).touchObj==e&&n.push(l)}for(o=0;o<n.length;o++){for(var r=n[o],s=-1,a=0;a<this._savedTouchInfo.length;a++){var l;(l=this._savedTouchInfo[a])==r&&(s=a)}-1!=s&&(this._savedTouchInfo.splice(s,1),0==this._savedTouchInfo.length&&this._context.getTooltipManager().hideTooltip())}},t.TouchManager.prototype.setTooltipEnabled=function(t,e){for(var i=this._savedTouchInfo,n=0;n<i.length;n++){var o=i[n];o.touchId==t&&(o.allowTooltips=e)}},t.TouchManager.prototype.getTooltipInfo=function(){for(var t=new Object,e=new Array,i=null,n=null,o=!1,r=this._findMatches("allowTooltips",!0),s=0;s<r.length;s++){var a,l=r[s],h=l.touchId;n?l.grouping!=n&&(o=!0):n=l.grouping;var u=this._touchMap[h];u&&(a=u.currentObj),l.tooltipObjOverride&&(a=l.tooltipObjOverride),e.push(h),i=a}return o&&(e=new Array),t.touchIds=e,t.tooltipTarget=i,t},t.TouchManager.prototype.processTouchStart=function(e){var i=e.changedTouches,n=e.touches;this._touchCount=n.length;for(var o=0;o<i.length;o++){var r=i[o],s=r.screenX,a=r.screenY,l=r.identifier,h=this._getObjFromTouch(r),u={x:s,y:a,prevX:s,prevY:a,pageX:r.pageX,pageY:r.pageY,prevPageX:r.pageX,prevPageY:r.pageY,dx:0,dy:0,fireClick:!0,startTarget:h,currentObj:h,touchMoved:!1,touchtype:null,startTouch:r};u[t.TouchManager.TOUCH_MODE]=t.TouchManager.TOUCH_MODE_DEFAULT,u.origx=s,u.origy=a,this._touchMap[l]=u}return!this._isHovering()&&this._isTouchHoldAllowed()||e.blockTouchHold(),!0},t.TouchManager.prototype._isTouchHoldAllowed=function(){var t=!1,e=0;for(var i in this._touchMap){this.getTouchInfo(i).touchMoved&&(t=!0),e++}return!(e>1&&!t)||(this.resetTouchHold(),!1)},t.TouchManager.prototype._isHovering=function(){for(var e in this._touchMap){if(this.getTouchInfo(e)[t.TouchManager.TOUCH_MODE]==t.TouchManager.TOUCH_MODE_LONG_PRESS)return!0}return!1},t.TouchManager.prototype._getStoredTouches=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=t[i],o=n.identifier;this.getTouchInfo(o)&&e.push(n)}return e},t.TouchManager.prototype.processTouchMove=function(e){for(var i=this._getStoredTouches(e.changedTouches),n=this._getStoredTouches(e.touches),o=0;o<i.length;o++){var r=i[o],s=this._getObjFromTouch(r),a=r.identifier;if((c=this.getTouchInfo(a)).currentObj=s,c.touchMoved=!0,c[t.TouchManager.TOUCH_MODE]!=t.TouchManager.TOUCH_MODE_LONG_PRESS){var l=Math.abs(c.pageX-r.pageX),h=Math.abs(c.pageY-r.pageY);this._startSingleFingerTouchId==a&&(l>0||h>0)&&this.resetTouchHold(),c.touchMoved=l>3||h>3}(c.touchMoved||c.fireClick&&c[t.TouchManager.TOUCH_MODE]!=t.TouchManager.TOUCH_MODE_LONG_PRESS&&c.currentObj!=c.startTarget&&c.currentObj!=this._eventManager.getMarqueeGlassPane())&&(c.fireClick=!1)}for(o=0;o<n.length;o++){var u=(r=n[o]).identifier,c=this.getTouchInfo(u),p=r.screenX,_=r.screenY,g=p-c.x,d=_-c.y;c.prevX=c.x,c.prevY=c.y,c.dx=g,c.dy=d,c.x=p,c.y=_,c.prevPageX=c.pageX,c.prevPageY=c.pageY,c.pageX=r.pageX,c.pageY=r.pageY}return!0},t.TouchManager.prototype.processTouchEnd=function(e){var i=e.changedTouches;this._touchCount=e.touches.length;for(var n=0;n<i.length;n++){var o=i[n],r=this._getObjFromTouch(o),s=o.identifier,a=this.getTouchInfo(s);if(a&&a.fireClick)if(a[t.TouchManager.TOUCH_MODE]==t.TouchManager.TOUCH_MODE_LONG_PRESS)this._startSingleFingerTouchId=null;else{var l=r==a.startTarget,h=a.touchMoved,u=l&&!h;a.fireClick=u}}return!0},t.TouchManager.getTouchById=function(t,e){if(null!=t&&!isNaN(t))for(var i=0;i<e.length;i++){var n=e[i];if(n.identifier==t)return n}return null},t.TouchManager.createSavedTouchInfo=function(t,e,i,n,o,r,s,a){var l={touchId:t,tooltipObjOverride:i,grouping:n,type:o,touchObj:e,allowTooltips:!0};return l.moveListener=r,l.endListener=s,l.listenerObj=a,l},t.TouchManager.prototype._handleTouchHoldStartTimer=function(){var t=this._dvtTouchEvent;this._stopTouchHoldTimer(),this.startTouchHold(t)},t.TouchManager.prototype._startTouchHoldTimer=function(t){this._dvtTouchEvent=t,this._touchHoldTimer&&this._touchHoldTimer.start()},t.TouchManager.prototype._stopTouchHoldTimer=function(){this._dvtTouchEvent=null,this._touchHoldTimer&&this._touchHoldTimer.stop()},t.TouchManager.prototype._handleDoubleTapTimer=function(){this._context.oj.Logger.log("double tap timer expired"),this.resetDoubleTap()},t.TouchManager.prototype.resetDoubleTap=function(){this._doubleTapAttemptStarted=!1,this._doubleTapAttemptObj=null,this._doubleTapTimer.stop()},t.TouchManager.prototype.getMultiTouchData=function(t){if(2==t.length){var e=this._touchMap[t[0]],i=this._touchMap[t[1]];if(null==e||null==i)return null;if(0==e.dx&&0==i.dy)return null;var n=e.pageX-i.pageX,o=e.pageY-i.pageY,r=Math.sqrt(n*n+o*o),s=e.prevPageX-i.prevPageX,a=e.prevPageY-i.prevPageY,l=r-Math.sqrt(s*s+a*a),h=(e.pageX+i.pageX)/2,u=(e.pageY+i.pageY)/2;return{dz:l,cx:h,cy:u,dcx:h-(e.prevPageX+i.prevPageX)/2,dcy:u-(e.prevPageY+i.prevPageY)/2,dist:r}}return null},t.TouchManager.prototype.calcAveragePosition=function(e){for(var i=0,n=0,o=e.length,r=0;r<o;r++){var s=e[r],a=this.getTouchInfo(s);i+=a.pageX,n+=a.pageY}return i/=o,n/=o,new t.Point(i,n)},t.TouchManager.prototype.getStartTargetsByIds=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=this.getTouchInfo(t[i]);e.push(n.startTarget)}return e},t.TouchManager.prototype.reset=function(){this._touchMap=new Object,this._savedTouchInfo=new Array,this.resetTouchHold(),this.resetDoubleTap()},t.ComponentTouchEvent=function(t,e,i,n,o){this.type=t,this.touch=e,this.target=i,this.relatedTarget=n,this._nativeEvent=o,this._isPropagationStopped=!1},t.ComponentTouchEvent.TOUCH_HOLD_START_TYPE="touchholdstart",t.ComponentTouchEvent.TOUCH_HOLD_MOVE_TYPE="touchholdmove",t.ComponentTouchEvent.TOUCH_HOLD_END_TYPE="touchholdend",t.ComponentTouchEvent.TOUCH_HOVER_START_TYPE="touchhoverstart",t.ComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE="touchhovermove",t.ComponentTouchEvent.TOUCH_HOVER_END_TYPE="touchhoverend",t.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE="touchhoverover",t.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE="touchhoverout",t.ComponentTouchEvent.TOUCH_CLICK_TYPE="touchclick",t.ComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE="touchdblclick",t.ComponentTouchEvent.prototype.preventDefault=function(){},t.ComponentTouchEvent.prototype.stopPropagation=function(){this._isPropagationStopped=!0},t.ComponentTouchEvent.prototype.isPropagationStopped=function(){return this._isPropagationStopped},t.ComponentTouchEvent.prototype.getNativeEvent=function(){return this._nativeEvent},t.DomEventFactory=new Object,t.Obj.createSubclass(t.DomEventFactory,t.Obj),t.DomEventFactory.newEvent=function(e,i){var n=e.type;return n==t.TouchEvent.TOUCHSTART||n==t.TouchEvent.TOUCHMOVE||n==t.TouchEvent.TOUCHEND||n==t.TouchEvent.TOUCHCANCEL?new t.TouchEvent(e):n==t.KeyboardEvent.KEYDOWN||n==t.KeyboardEvent.KEYUP||n==t.KeyboardEvent.KEYPRESS?new t.KeyboardEvent(e):(i._nativeEvent!=e&&(i._nativeEvent=e,i._logicalEvent=n==p.FOCUS||n==p.FOCUSIN||n==p.FOCUSOUT||n==p.BLUR?new p(e):new t.MouseEvent(e)),i._logicalEvent)},t.EventFactory=new Object,t.Obj.createSubclass(t.EventFactory,t.Obj),t.EventFactory.newEvent=function(t,e){var i={type:t};return e&&(i.id=e),i},t.EventFactory.newOptionChangeEvent=function(e,i,n){var o=t.EventFactory.newEvent("optionChange");return o.key=e,o.value=i,o.optionMetadata=n,o},t.EventFactory.newRenderEvent=function(){return t.EventFactory.newEvent("dvtRender")},t.EventFactory.newCategoryHideEvent=function(e,i){var n=t.EventFactory.newEvent("categoryHide");return n.category=e,n.hiddenCategories=i,n},t.EventFactory.newCategoryShowEvent=function(e,i){var n=t.EventFactory.newEvent("categoryShow");return n.category=e,n.hiddenCategories=i,n},t.EventFactory.newCategoryHighlightEvent=function(e,i){var n=t.EventFactory.newEvent("categoryHighlight");return n._highlightType=i?"over":"out",e=e||[],n.categories=e instanceof Array?e:[e],n},t.EventFactory.newDrillEvent=function(e){return t.EventFactory.newEvent("drill",e)},t.EventFactory.newReadyEvent=function(){return t.EventFactory.newEvent("ready")},t.EventFactory.newSelectionEvent=function(e){var i=t.EventFactory.newEvent("selection");return i.selection=e,i},t.EventFactory.newTouchHoldReleaseEvent=function(e){var i=t.EventFactory.newEvent("touchHoldRelease");return i.nativeEvent=e,i},t.EventFactory.newValueChangeEvent=function(e,i,n){var o=t.EventFactory.newEvent("valueChange");return o.oldValue=e,o.newValue=i,o.complete=n,o},t.EventFactory.newActionTooltipEvent=function(e,i){var n=t.EventFactory.newEvent(e);return n.target=i,n},t.EventFactory.newPanZoomEvent=function(e,i,n,o,r,s,a,l,h){var u=t.EventFactory.newEvent("dvtPanZoom");return u.subtype=e,u.dxMin=i,u.dxMax=n,u.dyMin=o,u.dyMax=r,u.dxMinTotal=s,u.dxMaxTotal=a,u.dyMinTotal=l,u.dyMaxTotal=h,u},t.EventFactory.newSimpleScrollbarEvent=function(e,i,n){var o=t.EventFactory.newEvent("dvtSimpleScrollbar");return o.subtype=e,o.newMin=i,o.newMax=n,o},t.EventFactory.newOverviewEvent=function(e,i,n,o,r,s,a,l,h){var u=t.EventFactory.newEvent("overview");return u.subtype=e,u.newX1=i,u.newX2=n,u.newY1=o,u.newY2=r,u.oldX1=s,u.oldX2=a,u.oldY1=l,u.oldY2=h,u},t.EventFactory.newChartDrillEvent=function(e,i,n){var o=t.EventFactory.newDrillEvent(e);return o.series=i,o.group=n,o},t.EventFactory.newChartSelectionEvent=function(e,i,n,o,r,s,a,l,h,u){var c=t.EventFactory.newSelectionEvent(e);return c.complete=i,c.xMin=n,c.xMax=o,c.startGroup=r,c.endGroup=s,c.yMin=a,c.yMax=l,c.y2Min=h,c.y2Max=u,c},t.EventFactory.newChartViewportChangeEvent=function(e,i,n,o,r,s,a){var l=t.EventFactory.newEvent("viewportChange");return l.complete=e,l.xMin=i,l.xMax=n,l.startGroup=o,l.endGroup=r,l.yMin=s,l.yMax=a,l},t.EventFactory.newMarqueeEvent=function(e,i,n,o,r,s){var a=t.EventFactory.newEvent("dvtMarquee");return a.subtype=e,a.x=i,a.y=n,a.w=o,a.h=r,a.ctrlKey=s,a},t.EventFactory.newExpandCollapseEvent=function(e,i,n,o,r){var s=t.EventFactory.newEvent(e,i);return s.expanded=r,s.data=n,s.component=o,s},t.EventFactory.newTreeDrillEvent=function(e,i,n){var o=t.EventFactory.newDrillEvent(e);return o.data=i,o.component=n,o},t.EventFactory.newBreadcrumbsDrillEvent=function(e){return t.EventFactory.newEvent("breadcrumbsDrill",e)},t.EventFactory.newSunburstRotationEvent=function(e,i){var n=t.EventFactory.newEvent("rotation");return n.complete=i,n.startAngle=e%360,n},t.EventFactory.newThematicMapViewportChangeEvent=function(e,i,n){var o=t.EventFactory.newEvent("viewportChange");return o.panX=e,o.panY=i,o.zoom=n,o},t.EventFactory.newTimelineViewportChangeEvent=function(e,i,n){var o=t.EventFactory.newEvent("viewportChange");return o.viewportStart=e,o.viewportEnd=i,o.minorAxisScale=n,o},t.EventFactory.newGanttViewportChangeEvent=function(e,i,n,o){var r=t.EventFactory.newTimelineViewportChangeEvent(e,i,o);return r.majorAxisScale=n,r},t.EventFactory.newGanttMoveEvent=function(e,i,n,o,r,s,a){var l=t.EventFactory.newEvent("move");return l.taskContexts=e,l.value=i,l.start=n,l.end=o,l.baselineStart=r,l.baselineEnd=s,l.rowContext=a,l},t.EventFactory.newGanttResizeEvent=function(e,i,n,o,r){var s=t.EventFactory.newEvent("resize");return s.taskContexts=e,s.value=i,s.start=n,s.end=o,s.typeDetail=r,s},t.EventFactory.newGanttScrollPositionChangeEvent=function(e,i,n){var o=t.EventFactory.newEvent("scrollPositionChange");return o.y=e,o.rowIndex=i,o.offsetY=n,o},t.EventFactory.newGanttExpandCollapseEvent=function(e,i,n,o,r){var s=t.EventFactory.newEvent(e,i);return s.rowData=n,s.itemData=o,s.expanded=r,s},t.EventFactory.newTreemapIsolateEvent=function(e){return t.EventFactory.newEvent("isolate",e)},t.EventFactory.newPanEvent=function(e,i,n,o,r,s){var a=t.EventFactory.newEvent("dvtPan");return a.subtype=e,a.newX=i,a.newY=n,a.oldX=o,a.oldY=r,a.animator=s,a},t.EventFactory.newZoomEvent=function(e,i,n,o,r,s,a){var l=t.EventFactory.newEvent("dvtZoom");return l.subtype=e,l.newZoom=i,l.oldZoom=n,l.animator=o,l.centerPoint=r,l.tx=s,l.ty=a,l},t.EventFactory.newTimelineOverviewEvent=function(e,i,n){var o=t.EventFactory.newEvent("timeline");return o.subtype=e,o.itemId=i,o.isMultiSelect=n,o};var _={};t.Obj.createSubclass(_,t.Obj),_.lineLinear=function(t){return t.join("L")},_.lineCardinalClosed=function(t,e){return t.length<3?_.lineLinear(t):t[0]+_.lineHermite((t.push(t[0]),t),_.lineCardinalTangents([t[t.length-2]].concat(t,[t[1]]),e))},_.lineCardinal=function(t,e){return t.length<3?_.lineLinear(t):t[0]+_.lineHermite(t,_.lineCardinalTangents(t,e))},_.lineHermite=function(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return _.lineLinear(t);var i=t.length!=e.length,n="",o=t[0],r=t[1],s=e[0],a=s,l=1;if(i&&(n+="Q"+Math.round(r[0]-2*s[0]/3)+","+Math.round(r[1]-2*s[1]/3)+","+Math.round(r[0])+","+Math.round(r[1]),o=t[1],l=2),e.length>1){a=e[1],r=t[l],l++,n+="C"+Math.round(o[0]+s[0])+","+Math.round(o[1]+s[1])+","+Math.round(r[0]-a[0])+","+Math.round(r[1]-a[1])+","+Math.round(r[0])+","+Math.round(r[1]);for(var h=2;h<e.length;h++,l++)r=t[l],a=e[h],n+="S"+Math.round(r[0]-a[0])+","+Math.round(r[1]-a[1])+","+Math.round(r[0])+","+Math.round(r[1])}if(i){var u=t[l];n+="Q"+Math.round(r[0]+2*a[0]/3)+","+Math.round(r[1]+2*a[1]/3)+","+Math.round(u[0])+","+Math.round(u[1])}return n},_.lineCardinalTangents=function(t,e){for(var i,n=[],o=(1-e)/2,r=t[0],s=t[1],a=1,l=t.length;++a<l;)i=r,r=s,s=t[a],n.push([o*(s[0]-i[0]),o*(s[1]-i[1])]);return n},_.lineSlope=function(t,e){return(e[1]-t[1])/(e[0]-t[0])},_.lineFiniteDifferences=function(t){for(var e=0,i=t.length-1,n=[],o=t[0],r=t[1],s=n[0]=_.lineSlope(o,r);++e<i;)n[e]=(s+(s=_.lineSlope(o=r,r=t[e+1])))/2;return n[e]=s,n},_.lineMonotoneTangents=function(t,e){e&&(t=_._rotatePoints(t));for(var i,n,o,r,s=[],a=_.lineFiniteDifferences(t),l=-1,h=t.length-1;++l<h;)i=_.lineSlope(t[l],t[l+1]),Math.abs(i)<1e-6?a[l]=a[l+1]=0:(r=(n=a[l]/i)*n+(o=a[l+1]/i)*o)>9&&(r=3*i/Math.sqrt(r),a[l]=r*n,a[l+1]=r*o);for(l=-1;++l<=h;)r=(t[Math.min(h,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),s.push([r||0,a[l]*r||0]);return e&&(s=_._rotatePoints(s)),s},_.lineMonotone=function(t,e){return t.length<3?_.lineLinear(t):t[0]+_.lineHermite(t,_.lineMonotoneTangents(t,e))},_._rotatePoints=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i][1],t[i][0]]);return e},t.DisplayableUtils=function(){},t.Obj.createSubclass(t.DisplayableUtils,t.Obj),t.DisplayableUtils.getDimensionsForced=function(t,e){var i,n=e.getParent();n&&(i=n.getChildIndex(e));var o=t.getStage();o.addChild(e);var r=e.getDimensions();return o.removeChild(e),n&&n.addChildAt(e,i),r},t.DisplayableUtils.getDimForced=function(e,i){if(i._dim||!e)return i._dim;var n=t.DisplayableUtils.getDimensionsForced(e,i);return t.DisplayableUtils._setDimForced(i,n),n},t.DisplayableUtils._setDimForced=function(t,e){t._dim=e},t.PathUtils={},t.Obj.createSubclass(t.PathUtils,t.Obj),t.PathUtils.SPLINE_TYPE_MONOTONE_VERTICAL="mv",t.PathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL="mh",t.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED="cc",t.PathUtils.SPLINE_TYPE_CARDINAL="c",t.PathUtils.moveTo=function(t,e){return"M"+t+","+e},t.PathUtils.lineTo=function(t,e){return"L"+t+","+e},t.PathUtils.quadTo=function(t,e,i,n){return"Q"+t+","+e+","+i+","+n},t.PathUtils.horizontalLineTo=function(t){return"H"+t},t.PathUtils.verticalLineTo=function(t){return"V"+t},t.PathUtils.cubicTo=function(t,e,i,n,o,r){return"C"+t+","+e+","+i+","+n+","+o+","+r},t.PathUtils.arcTo=function(t,e,i,n,o,r){var s="A"+t+","+e+",0,";return i>Math.PI?s+="1,":s+="0,",s+=n+","+o+","+r},t.PathUtils.closePath=function(){return"Z"},t.PathUtils.roundedRectangle=function(e,i,n,o,r,s,a,l){return t.PathUtils._roundedRectangle(e,i,n,o,r,r,s,s,a,a,l,l)},t.PathUtils.rectangleWithBorderRadius=function(e,i,n,o,r,s,a){var l=a,h=a,u=a,c=a,p=a,_=a,g=a,d=a;if(r)if(-1!=r.indexOf("/")){var S=r.split("/"),f=S[0].trim().split(/\s+/),y=S[1].trim().split(/\s+/);1==f.length?l=u=p=g=f[0]:2==f.length?(l=p=f[0],u=g=f[1]):3==f.length?(l=f[0],u=g=f[1],p=f[2]):4==f.length&&(l=f[0],u=f[1],p=f[2],g=f[3]),1==y.length?h=c=_=d=y[0]:2==y.length?(h=_=y[0],c=d=y[1]):3==y.length?(h=y[0],c=d=y[1],_=y[2]):4==y.length&&(h=y[0],c=y[1],_=y[2],d=y[3])}else if("auto"!=r){var T=r.trim().split(/\s+/);1==T.length?l=u=p=g=h=c=_=d=T[0]:2==T.length?(l=p=h=_=T[0],u=g=c=d=T[1]):3==T.length?(l=h=T[0],u=g=c=d=T[1],p=_=T[2]):4==T.length&&(l=h=T[0],u=c=T[1],p=_=T[2],g=d=T[3])}return r&&"0"!=r?t.PathUtils._roundedRectangle(e,i,n,o,t.PathUtils._parseBorderRadiusItem(l,s),t.PathUtils._parseBorderRadiusItem(h,s),t.PathUtils._parseBorderRadiusItem(u,s),t.PathUtils._parseBorderRadiusItem(c,s),t.PathUtils._parseBorderRadiusItem(p,s),t.PathUtils._parseBorderRadiusItem(_,s),t.PathUtils._parseBorderRadiusItem(g,s),t.PathUtils._parseBorderRadiusItem(d,s)):t.PathUtils._rectangle(e,i,n,o)},t.PathUtils._parseBorderRadiusItem=function(t,e){var i=Math.min(parseFloat(t),e/2);return-1!=t.indexOf("%")&&(i=.01*Math.min(50,parseFloat(t))*e),i},t.PathUtils._roundedRectangle=function(e,i,n,o,r,s,a,l,h,u,c,p){return s=Math.min(s,.5*o),l=Math.min(l,.5*o),u=Math.min(u,.5*o),p=Math.min(p,.5*o),r=Math.min(r,.5*n),a=Math.min(a,.5*n),h=Math.min(h,.5*n),c=Math.min(c,.5*n),t.PathUtils.moveTo(e+r,i)+t.PathUtils.lineTo(e+n-a,i)+t.PathUtils.arcTo(a,l,Math.PI/2,1,e+n,i+l)+t.PathUtils.lineTo(e+n,i+o-u)+t.PathUtils.arcTo(h,u,Math.PI/2,1,e+n-h,i+o)+t.PathUtils.lineTo(e+c,i+o)+t.PathUtils.arcTo(c,p,Math.PI/2,1,e,i+o-p)+t.PathUtils.lineTo(e,i+s)+t.PathUtils.arcTo(r,s,Math.PI/2,1,e+r,i)+t.PathUtils.closePath()},t.PathUtils.polyline=function(e,i){if(e.length<2)return"";for(var n=i?t.PathUtils.lineTo(e[0],e[1]):t.PathUtils.moveTo(e[0],e[1]),o=2;o<e.length;o+=2)n+=t.PathUtils.lineTo(e[o],e[o+1]);return n},t.PathUtils.curveThroughPoints=function(e,i,n){if(0==e.length)return"";for(var o=[],r=0;r<e.length;r+=2)o.push([e[r],e[r+1]]);var s=i?"L":"M";return n==t.PathUtils.SPLINE_TYPE_MONOTONE_VERTICAL?s+_.lineMonotone(o,!1):n==t.PathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL?s+_.lineMonotone(o,!0):n==t.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED?s+_.lineCardinalClosed(o,.7):s+_.lineCardinal(o,.7)},t.PathUtils.createPathArray=function(t){if(!t)return null;var e,i=(t=t.replace(/([0-9])([\-])/g,"$1 $2")).replace(/([mlqhvzcast])/gi,",$1,").split(/[ ,]/g),n=i.length;for(e=0;e<n;e++){var o=i[e];o?isNaN(o)||(i[e]=parseFloat(o)):(i.splice(e,1),e--,n--)}return i},t.PathUtils.getDimensions=function(e){if(!e||!e.length)return new t.Rectangle;var i,n,o,r,s,a,l,h,u,c,p,_,g=e.length,d=!0,S=Number.MAX_VALUE,f=Number.MIN_VALUE,y=Number.MAX_VALUE,T=Number.MIN_VALUE,v=[];for(c=0;c<g;c++){o=!1;var m=0;switch(p=0,e[c]){case"m":o=!0;case"M":do{r=e[c+1],s=e[c+2],d?d=!1:o&&(r+=i,s+=n),i=r,n=s,v[p++]=r,v[p++]=s,m++,c+=2}while(!isNaN(e[c+1]));break;case"c":o=!0;case"C":do{r=e[c+1],s=e[c+2],a=e[c+3],l=e[c+4],h=e[c+5],u=e[c+6],o&&(r+=i,s+=n,a+=i,l+=n,h+=i,u+=n),i=h,n=u,v[p++]=h,v[p++]=u,m++,c+=6}while(!isNaN(e[c+1]));break;case"q":o=!0;case"Q":do{r=e[c+1],s=e[c+2],a=e[c+3],l=e[c+4],o&&(r+=i,s+=n,a+=i,l+=n),i=a,n=l,v[p++]=a,v[p++]=l,m++,c+=4}while(!isNaN(e[c+1]));break;case"l":o=!0;case"L":do{r=e[c+1],s=e[c+2],o&&(r+=i,s+=n),i=r,n=s,v[p++]=r,v[p++]=s,m++,c+=2}while(!isNaN(e[c+1]));break;case"h":o=!0;case"H":do{r=e[c+1],o&&(r+=i),i=r,v[p++]=r,v[p++]=n,m++,c+=1}while(!isNaN(e[c+1]));break;case"v":o=!0;case"V":do{s=e[c+1],o&&(s+=n),n=s,v[p++]=i,v[p++]=s,m++,c+=1}while(!isNaN(e[c+1]))}for(p=0,_=0;_<m;_++)r=v[p++],s=v[p++],S=Math.min(S,r),f=Math.max(f,r),y=Math.min(y,s),T=Math.max(T,s)}return new t.Rectangle(S,y,Math.abs(f-S),Math.abs(T-y))},t.PathUtils.getPathString=function(t){for(var e="",i=t.length,n=0;n<i;n++)null!=t[n]&&(e+=(n>0?" ":"")+t[n]);return e},t.PathUtils.transformPath=function(t,e,i,n,o){if(t){for(var r,s="",a="",l=0;l<t.length;l++){"string"==typeof t[l]&&(r=(a=t[l])===a.toUpperCase(),s+=a+" ");for(var h=[];l<t.length-1&&"number"==typeof t[l+1];)l++,h.push(t[l]);if("A"===a.toUpperCase())for(var u=0;u<h.length;u+=7)s+=parseFloat(h[u])*n+" ",s+=parseFloat(h[u+1])*o+" ",s+=h[u+2]+" ",s+=h[u+3]+" ",s+=h[u+4]+" ",s+=parseFloat(h[u+5])*n+(r?e:0)+" ",s+=parseFloat(h[u+6])*o+(r?i:0)+" ";else{var c=[],p=[];"H"===a.toUpperCase()?(c.push(n),p.push(r?e:0)):"V"===a.toUpperCase()?(c.push(o),p.push(r?i:0)):(c.push(n),c.push(o),p.push(r?e:0),p.push(r?i:0));for(u=0;u<h.length;u++){var _=c[u%c.length],g=p[u%p.length];s+=parseFloat(h[u])*_+g+" "}}}return s}},t.PathUtils._fitsInScale=function(t,e,i){return Math.abs(t)>i||Math.abs(e)>i},t.PathUtils.simplifyPath=function(e,i){for(var n,o,r="",s="",a=0,l=0,h=0,u=0,c=0,p=0;p<e.length;p++)if(isNaN(e[p]))"Z"!=(n=e[p])&&"z"!=n||(o=n,s+=n,c>0&&(r+=s,h=0,u=0),s="",c=0,a=0,l=0);else switch(n){case"M":h=0,u=0;case"m":s=s+n+(h+=e[p])+" "+(u+=e[p+1]),o=n,p++;break;case"l":a+=e[p],l+=e[p+1],t.PathUtils._fitsInScale(a,l,i)&&(o!=n?(o=n,s+=n):s+=" ",s=s+a+" "+l,a=0,l=0,c++),p++;break;case"h":case"v":"h"==n?a+=e[p]:l+=e[p],t.PathUtils._fitsInScale(a,l,i)&&(0!=a&&0!=l?("l"!=o?(o="l",s+="l"):s+=" ",s=s+a+" "+l):(o=n,s=s+n+("h"==n?a:l)),a=0,l=0,c++)}return r},t.PathUtils._rectangle=function(e,i,n,o){return t.PathUtils.moveTo(e,i)+t.PathUtils.horizontalLineTo(e+n)+t.PathUtils.verticalLineTo(i+o)+t.PathUtils.horizontalLineTo(e)+t.PathUtils.closePath()},t.PolygonUtils={},t.Obj.createSubclass(t.PolygonUtils,t.Obj),t.PolygonUtils.getDimensions=function(e){if(!e||0===e.length)return new t.Rectangle;for(var i,n,o=Number.MAX_VALUE,r=Number.MIN_VALUE,s=Number.MAX_VALUE,a=Number.MIN_VALUE,l=e.length,h=0;h<l;h++)i=e[h++],n=e[h],o=Math.min(o,i),r=Math.max(r,i),s=Math.min(s,n),a=Math.max(a,n);return new t.Rectangle(o,s,Math.abs(r-o),Math.abs(a-s))},t.PolygonUtils.getRegularPolygonPoints=function(t,e,i,n,o,r){for(var s,a=[],l=0;l<i;l++)s=o+l/i*2*Math.PI*(0==r?-1:1),a.push(t+n*Math.sin(s),e-n*Math.cos(s));return a},t.PolygonUtils.scale=function(t,e,i){for(var n=[],o=0;o<t.length-1;o+=2)n.push(t[o]*e),n.push(t[o+1]*i);return n},t.PolygonUtils.translate=function(t,e,i){for(var n=[],o=0;o<t.length-1;o+=2)n.push(t[o]+e),n.push(t[o+1]+i);return n},t.TextUtils={},t.Obj.createSubclass(t.TextUtils,t.Obj),t.TextUtils._cachedTextWidth={},t.TextUtils._cachedRepTextDimensions={},t.TextUtils._canvasCtx=document.createElement("CANVAS").getContext("2d"),t.TextUtils.EMPTY_TEXT_BUFFER=2,t.TextUtils.getMaxTextDimensions=function(e){for(var i=0,n=0,o=0;o<e.length;o++)if(null!=e[o]){var r=e[o].getDimensions();i=Math.max(i,r.w),n=Math.max(n,r.h)}return new t.Dimension(i,n)},t.TextUtils.getMaxTextStringWidth=function(e,i,n){for(var o=0,r=Array.isArray(n),s=0;s<i.length;s++)if(null!=i[s]&&0!=i[s].length){var a=n?r?n[s]:n:null,l=t.TextUtils.getTextStringWidth(e,i[s],a);l>o&&(o=l)}return o},t.TextUtils.getTextStringDimensions=function(e,i,n){var o=t.TextUtils._getRepresentativeDimensions(e,n);return new t.Rectangle(0,o.y,t.TextUtils.getTextStringWidth(e,i,n),o.h)},t.TextUtils.getTextStringWidth=function(e,i,n){if(null==i||0==i.length)return 0;var o=i+(null!=n?n.hashCodeForTextMeasurement():""),r=t.TextUtils._cachedTextWidth[o];if(null!=r)return r;var s=t.TextUtils._getCanvasTextWidth(e,i,n);return t.TextUtils._cachedTextWidth[o]=s,s},t.TextUtils.getTextStringHeight=function(e,i){return t.TextUtils._getRepresentativeDimensions(e,i).h},t.TextUtils.fitText=function(e,i,n,o,r,s){var a=e.getTextString();if(e instanceof t.OutputText){var l=t.TextUtils.getTextStringDimensions(e.getCtx(),a,e.getCSSStyle());if(l.h>n)return s||e.removeFromParent(),!1;if(l.w<=i)return o.addChild(e),!0}return o.addChild(e),r="number"!=typeof r||null==r?1:r,e instanceof t.MultilineText||e instanceof t.BackgroundMultilineText?e.__fitText(i,n,r):(e instanceof t.OutputText||e instanceof t.BackgroundOutputText?t.TextUtils._truncateOutputText(e,i,r):e.setMaxWidth(i,r),""==e.getTextString()?(s||o.removeChild(e),e.setTextString(a),!1):(e.getTextString()!=a&&e.setUntruncatedTextString(a),!0))},t.TextUtils.renderEmptyText=function(e,i,n,o,r){var s=new t.MultilineText(e.getCtx(),i,n.x+n.w/2,n.y+n.h/2);r&&s.setCSSStyle(r),s.alignCenter(),s.alignMiddle();var a=n.w-2*t.TextUtils.EMPTY_TEXT_BUFFER;return t.TextUtils.fitText(s,a,1/0,e,0)&&(s.isTruncated()&&o.associate(s,new t.SimpleObjPeer(s.getUntruncatedTextString())),s.setAriaProperty("hidden",null)),s},t.TextUtils.centerTextVertically=function(e,i){"ie"===t.Agent.browser||"edge"===t.Agent.browser?(e.setY(i),e.alignMiddle()):e.setY(i-e.getDimensions().h/2)},t.TextUtils._truncateOutputText=function(e,i,n){if(i<=0)e.setTextString("");else{var o=e.getDimensions();if(!(o.w<=i)){var r=e.getTextString(),s=r.length,a=o.w/t.TextUtils._getTextLength(r),l=Math.max(Math.floor(i/a)-2,n),h=r.substring(0,l)+t.OutputText.ELLIPSIS;e.setTextString(h);for(var u=h,c=o=e.getDimensions();o.w<i&&!(l>=r.length);){var p=i-o.w,_=Math.min(s-l,Math.max(Math.floor(p/a),1));if(l+=_,h=r.substring(0,l)+t.OutputText.ELLIPSIS,e.setTextString(h),o=e.getDimensions(),1==_&&o.w>i){e.setTextString(u),o=c;break}u=h,c=o}for(;o.w>i;){if(l<=n){e.setTextString("");break}l-=1,h=r.substring(0,l)+t.OutputText.ELLIPSIS,e.setTextString(h),o=e.getDimensions()}}}},t.TextUtils._getTextLength=function(t){return(t=t.replace(/[\u200A\u200B\u200C\u200D\u200E\u200F\uFEFF]/g,"")).length},t.TextUtils._getRepresentativeDimensions=function(e,i){var n=null!=i?i.hashCodeForTextMeasurement():"",o=t.TextUtils._cachedRepTextDimensions[n];if(null==o){var r=new t.OutputText(e,t.OutputText.REPRESENTATIVE_TEXT);r.alignAuto(),r.setCSSStyle(i);var s=r.getCtx().getStage();s.addChild(r);var a=r.GetSvgDimensions();s.removeChild(r),o={x:a.x,y:a.y,w:.5*a.w,h:a.h},t.TextUtils._cachedRepTextDimensions[n]=o}return o},t.TextUtils.getBaselineTranslation=function(e){var i=e.getVertAlignment();if(i!=t.OutputText.V_ALIGN_AUTO){var n=t.TextUtils._getRepresentativeDimensions(e.getCtx(),e.getCSSStyle());if(i==t.OutputText.V_ALIGN_TOP)return-n.y;if(i==t.OutputText.V_ALIGN_MIDDLE)return-n.y-n.h/2;if(i==t.OutputText.V_ALIGN_BOTTOM)return-n.y-n.h}return 0},t.TextUtils._getCanvasTextWidth=function(e,i,n){var o=(n?n.getStyle("font-style"):null)||"normal",r=(n?n.getStyle("font-variant"):null)||"normal",s=(n?n.getStyle("font-weight"):null)||"normal",a=(n?n.getStyle("font-family"):null)||e.getDefaultFontFamily()||"",l=(n?n.getFontSize():null)||e.getDefaultFontSize()||"12px";isNaN(l)||(l+="px");var h=o+" "+r+" "+s+" "+l+" "+a;return t.TextUtils._configureCanvas(e,h),t.TextUtils._canvasCtx.measureText(i).width},t.TextUtils._configureCanvas=function(e,i){"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||(i=i.replace(/-apple-system(-\w+)*,?/g,""),t.TextUtils._canvasCtx.canvas.parentNode||(t.TextUtils._canvasCtx.canvas.style.display="none",e.getContainer().appendChild(t.TextUtils._canvasCtx.canvas))),t.TextUtils._canvasCtx.font=i},t.TextUtils.clearCaches=function(){t.TextUtils._cachedTextWidth={},t.TextUtils._cachedRepTextDimensions={}},t.TextUtils.getOptimalFontSize=function(e,i,n,o){n=n?n.clone():new t.CSSStyle;for(var r=Math.max(Math.min(o.w/i.length,o.h/2),9);r<51;r+=1){n.setFontSize("font-size",r+"px",e);var s=t.TextUtils.getTextStringDimensions(e,i,n);if(s.w>o.w||s.h>o.h)return Math.min(r-1,50)+"px"}return"50px"},t.TextUtils.processAriaLabel=function(t){var e=t;return e&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/(<|&#60;)/g,"&lt;")).replace(/(>|&#62;)/g,"&gt;")).replace(/&lt;b&gt;/g,"")).replace(/&lt;\/b&gt;/g,"")).replace(/&lt;i&gt;/g,"")).replace(/&lt;\/i&gt;/g,"")).replace(/\n/g,"; ")).replace(/&#92;n/g,"; ")).replace(/&lt;br&gt;/g,"; ")).replace(/&lt;br\/&gt;/g,"; ")),e},t.SvgShapeUtils=function(){},t.Obj.createSubclass(t.SvgShapeUtils,t.Obj),t.SvgShapeUtils._uniqueSeed=0,t.SvgShapeUtils.addClipPath=function(e,i){var n=e.getId();if(!n)return!1;var o=i.getDefs();if(!o)return!1;for(var r=o.childNodes,s=r.length,a=0;a<s;a++){if(r[a].id===n)return!0}var l=t.SvgShapeUtils.createElement("clipPath",n);i.appendDefs(l);var h=e.getRegions();for(a=0;a<h.length;a++){var u=h[a];if(u){var c=null;u.type===t.ClipPath.RECT?(c=t.SvgShapeUtils.createElement("rect"),t.ToolkitUtils.setAttrNullNS(c,"x",u.x),t.ToolkitUtils.setAttrNullNS(c,"y",u.y),t.ToolkitUtils.setAttrNullNS(c,"width",u.w),t.ToolkitUtils.setAttrNullNS(c,"height",u.h),u.rx&&t.ToolkitUtils.setAttrNullNS(c,"rx",u.rx),u.ry&&t.ToolkitUtils.setAttrNullNS(c,"ry",u.ry)):u.type===t.ClipPath.PATH?(c=t.SvgShapeUtils.createElement("path"),t.ToolkitUtils.setAttrNullNS(c,"d",u.d)):u.type===t.ClipPath.POLYGON?(c=t.SvgShapeUtils.createElement("polygon"),t.ToolkitUtils.setAttrNullNS(c,"points",u.points)):u.type===t.ClipPath.ELLIPSE?(c=t.SvgShapeUtils.createElement("ellipse"),t.ToolkitUtils.setAttrNullNS(c,"cx",u.cx),t.ToolkitUtils.setAttrNullNS(c,"cy",u.cy),t.ToolkitUtils.setAttrNullNS(c,"rx",u.rx),t.ToolkitUtils.setAttrNullNS(c,"ry",u.ry)):u.type===t.ClipPath.CIRCLE&&(c=t.SvgShapeUtils.createElement("circle"),t.ToolkitUtils.setAttrNullNS(c,"cx",u.cx),t.ToolkitUtils.setAttrNullNS(c,"cy",u.cy),t.ToolkitUtils.setAttrNullNS(c,"r",u.r)),c&&t.ToolkitUtils.appendChildElem(l,c)}}return!0},t.SvgShapeUtils.addMask=function(e,i){var n=e.getId();if(!n)return!1;var o=i.getDefs();if(!o)return!1;for(var r=o.childNodes,s=r.length,a=0;a<s;a++){if(r[a].id===n)return!0}var l=t.SvgShapeUtils.createElement("mask",n);i.appendDefs(l);var h=e.getGradient(),u=t.SvgShapeUtils.addSpecialFill(h,i),c=e.getBounds(),p=t.SvgShapeUtils.createElement("rect");return t.ToolkitUtils.setAttrNullNS(p,"x",c.x),t.ToolkitUtils.setAttrNullNS(p,"y",c.y),t.ToolkitUtils.setAttrNullNS(p,"width",c.w),t.ToolkitUtils.setAttrNullNS(p,"height",c.h),t.ToolkitUtils.setAttrNullNS(p,"fill",t.ToolkitUtils.getUrlById(u)),t.ToolkitUtils.appendChildElem(l,p),!0},t.SvgShapeUtils.addSpecialFill=function(e,i){if(!e._defPresent){var n=e._defElem;n||(e instanceof t.GradientFill?(e._id=t.SvgShapeUtils.getUniqueId("Gr"),n=h.createElem(e,e._id)):e instanceof t.PatternFill&&(e._id=t.SvgShapeUtils.getUniqueId("pat"),n=u.createElem(e,e._id))),e._defElem=n,i.appendDefs(n),e._defPresent=!0}return e._id},t.SvgShapeUtils.createElement=function(e,i){var n=document.createElementNS(t.ToolkitUtils.SVG_NS,e);return i&&t.ToolkitUtils.setAttrNullNS(n,"id",i),n},t.SvgShapeUtils.getUniqueId=function(e){return(e||"$")+t.SvgShapeUtils._uniqueSeed++},t.SvgShapeUtils.convertPointsArray=function(t){for(var e=t.length,i="",n=0;n<e;n++)n>0&&(i+=" "),i+=t[n];return i},t.Displayable=function(){},t.Obj.createSubclass(t.Displayable,t.Obj),t.Displayable._ATTRS_TRANSFERABLE_TO_OUTER=["clip-path"],t.Displayable.SET_ID_ON_DOM=!1,t.Displayable.prototype.Init=function(e,i,n){this._context=e,this._elem=t.SvgShapeUtils.createElement(i),this._elem._obj=this,this.setId(n),this._bVisible=!0,this._cursor=null,this._alpha=1,this._matrix=null,this._ariaProperties={},this._properties={}},t.Displayable.prototype.getCtx=function(){return this._context},t.Displayable.prototype.getElem=function(){return this._elem},t.Displayable.prototype.getOuterElem=function(){return this._outerElem?this._outerElem:this.getElem()},t.Displayable.prototype.getId=function(){return this._id},t.Displayable.prototype.setId=function(e,i){this._id!==e&&(e&&0===e.length&&(e=null),this._id=e,(t.Displayable.SET_ID_ON_DOM||i)&&(e?t.ToolkitUtils.setAttrNullNS(this.getOuterElem(),"id",e):t.ToolkitUtils.removeAttrNullNS(this.getOuterElem(),"id")))},t.Displayable.prototype.getParent=function(){return this._parent},t.Displayable.prototype.setParent=function(t){this._parent=t},t.Displayable.prototype.isDescendantOf=function(t){return!(!t||!this.getParent())&&(this.getParent()==t||this.getParent().isDescendantOf(t))},t.Displayable.prototype.setPixelHinting=function(e){e?t.ToolkitUtils.setAttrNullNS(this._elem,"shape-rendering","crispEdges"):t.ToolkitUtils.removeAttrNullNS(this._elem,"shape-rendering")},t.Displayable.prototype.getVisible=function(){return this._bVisible},t.Displayable.prototype.setVisible=function(e){if(this._bVisible!==e){this._bVisible=e;var i=this.getElem();e?t.ToolkitUtils.removeAttrNullNS(i,"visibility"):t.ToolkitUtils.setAttrNullNS(i,"visibility","hidden")}},t.Displayable.prototype.setClipPath=function(e){if(e){if(this.ClipPathId==e.getId())return;this.ClipPathId&&this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=e.getId(),this._context.increaseGlobalDefReference(this.ClipPathId),!this._outerElem&&this._matrix&&this._createOuterGroupElem();var i=e.getId();if(i){var n=this.getCtx();t.SvgShapeUtils.addClipPath(e,n)&&t.ToolkitUtils.setAttrNullNS(this.getOuterElem(),"clip-path",t.ToolkitUtils.getUrlById(i))}}else if(!e&&this.ClipPathId)return this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=null,void t.ToolkitUtils.removeAttrNullNS(this.getOuterElem(),"clip-path")},t.Displayable.prototype.setMask=function(e){if(e){if(this.MaskId==e.getId())return;this.MaskId&&this._context.decreaseGlobalDefReference(this.MaskId),this.MaskId=e.getId(),this._context.increaseGlobalDefReference(this.MaskId),!this._outerElem&&this._matrix&&this._createOuterGroupElem();var i=e.getId();if(i){var n=this.getCtx();t.SvgShapeUtils.addMask(e,n)&&t.ToolkitUtils.setAttrNullNS(this.getOuterElem(),"mask",t.ToolkitUtils.getUrlById(i))}}else if(!e&&this.MaskId)return this._context.decreaseGlobalDefReference(this.MaskId),this.MaskId=null,void t.ToolkitUtils.removeAttrNullNS(this.getOuterElem(),"mask")},t.Displayable.prototype.ConvertCoordSpaceRect=function(e,i){if(!i||i===this)return e;var n=this.localToStage(new t.Point(e.x,e.y)),o=this.localToStage(new t.Point(e.x+e.w,e.y+e.h)),r=i.stageToLocal(n),s=i.stageToLocal(o);return new t.Rectangle(Math.min(r.x,s.x),Math.min(r.y,s.y),Math.abs(s.x-r.x),Math.abs(s.y-r.y))},t.Displayable.prototype.GetSvgDimensions=function(){try{var e=this.getElem().getBBox()}catch(t){return null}return new t.Rectangle(e.x,e.y,e.width,e.height)},t.Displayable.prototype.getDimensions=function(t){var e=this.GetSvgDimensions();return this.ConvertCoordSpaceRect(e,t)},t.Displayable.prototype.getDimensionsWithStroke=function(t){var e=this.GetDimensionsWithStroke();return this.ConvertCoordSpaceRect(e,t)},t.Displayable.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},t.Displayable.prototype.GetElemDimensionsWithStroke=function(){return this.GetSvgDimensions()},t.Displayable.HasAttributes=function(e,i){if(i)for(var n=i.length,o=0;o<n;o++)if(t.ToolkitUtils.getAttrNullNS(e,i[o]))return!0;return!1},t.Displayable.TransferAttributes=function(e,i,n){if(n)for(var o,r,s=n.length,a=0;a<s;a++)o=n[a],(r=t.ToolkitUtils.getAttrNullNS(e,o))&&(t.ToolkitUtils.removeAttrNullNS(e,o),t.ToolkitUtils.setAttrNullNS(i,o,r),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||t.ToolkitUtils.setAttrNullNS(e,o,null))},t.Displayable.prototype._createOuterGroupElem=function(){if(!this._outerElem){var e=this._id?this._id+"_outer":null;this._outerElem=t.SvgShapeUtils.createElement("g",e);var i=this.getParent();if(i)i.getElem().replaceChild(this._outerElem,this.getElem());t.ToolkitUtils.appendChildElem(this._outerElem,this.getElem()),t.Displayable.TransferAttributes(this.getElem(),this._outerElem,t.Displayable._ATTRS_TRANSFERABLE_TO_OUTER)}},t.Displayable.prototype.getCSSStyle=function(){return this._cssStyle},t.Displayable.prototype.setCSSStyle=function(t){this._cssStyle=t},t.Displayable.prototype.setCursor=function(e){this._cursor=e,e?t.ToolkitUtils.setAttrNullNS(this.getElem(),"cursor",e):t.ToolkitUtils.removeAttrNullNS(this.getElem(),"cursor")},t.Displayable.prototype.getCursor=function(){return this._cursor},t.Displayable.prototype.setMouseEnabled=function(e){var i=e?"visiblePainted":"none";t.ToolkitUtils.setAttrNullNS(this.getElem(),"pointer-events",i)},t.Displayable.prototype.getAlpha=function(){return this._alpha},t.Displayable.prototype.setAlpha=function(e){e<1e-5&&(e=0),e!==this._alpha&&(this._alpha=e,t.ToolkitUtils.setAttrNullNS(this.getElem(),"opacity",this._alpha,1))},t.Displayable.prototype.applyAriaProperties=function(){if(t.Agent.deferAriaCreation())for(var e in this._ariaRole&&this._setAriaRole(this._ariaRole),this._ariaProperties)this._setAriaProperty(e,this._ariaProperties[e])},t.Displayable.prototype.setAriaRole=function(e,i){t.Agent.deferAriaCreation()&&!i||this._setAriaRole(e),this._ariaRole=e},t.Displayable.prototype._setAriaRole=function(e){var i=this.GetAriaElem();e?t.ToolkitUtils.setAttrNullNS(i,"role",e):t.ToolkitUtils.removeAttrNullNS(i,"role")},t.Displayable.prototype.getAriaRole=function(){return this._ariaRole},t.Displayable.prototype.GetAriaElem=function(){return this.getElem()},t.Displayable.prototype.setAriaProperty=function(e,i,n){e&&(t.Agent.deferAriaCreation()&&!n||this._setAriaProperty(e,i),this._ariaProperties[e]=i)},t.Displayable.prototype._setAriaProperty=function(e,i){var n=this.GetAriaElem();null!=i&&""!==i?("label"==e&&(i=t.TextUtils.processAriaLabel(i)),t.ToolkitUtils.setAttrNullNS(n,"aria-"+e,i)):t.ToolkitUtils.removeAttrNullNS(n,"aria-"+e)},t.Displayable.prototype.getAriaProperty=function(t){return t?this._ariaProperties[t]:null},t.Displayable.prototype.stageToLocal=function(t){for(var e=this.getPathToStage(),i=t,n=e.length-1;n>=0;n--)i=e[n].getMatrix().invert().transformPoint(i);return i},t.Displayable.prototype.localToStage=function(t){for(var e=this.getPathToStage(),i=t,n=0;n<e.length;n++)i=e[n].getMatrix().transformPoint(i);return i},t.Displayable.prototype.getPathToStage=function(){for(var t=this,e=[];t;)e.push(t),t=t.getParent();return e},t.Displayable.prototype.removeFromParent=function(){this._parent&&this._parent.removeChild(this)},t.Displayable.prototype.destroy=function(){this.removeAllDrawEffects(),this.ClipPathId&&this.setClipPath(null)},t.Displayable.prototype.GetProperty=function(t){return this._properties[t]},t.Displayable.prototype.SetProperty=function(t,e){return e!==this._properties[t]&&(this._properties[t]=e),this},t.Displayable.prototype.SetSvgProperty=function(e,i,n){return i!==this._properties[e]&&(this._properties[e]=i,t.ToolkitUtils.setAttrNullNS(this._elem,e,i,n),this.SvgPropertyChanged(e)),this},t.Displayable.defineProps=function(t,e){Object.keys(e).forEach(function(i){var n=e[i],o=n.name||i;o=o.charAt(0).toUpperCase()+o.slice(1),t.prototype["get"+o]=function(){return this.GetProperty(i)},t.prototype["set"+o]=function(t){return this.SetSvgProperty(i,t,n.value)}})},t.Displayable.prototype.SvgPropertyChanged=function(t){},t.Displayable.generateAriaLabel=function(e,i){var n=[],o=i&&i.length>0;return e&&n.push(e),o&&n.push(i.join(t.Context.ARIA_LABEL_STATE_DELIMITER)),n.join(t.Context.ARIA_LABEL_DESC_DELIMITER)},t.Displayable.prototype.addDrawEffect=function(t){this._drawEffects||(this._drawEffects=[]),this._drawEffects.push(t),this._applyDrawEffects()},t.Displayable.prototype.removeAllDrawEffects=function(){this._drawEffects&&(this._drawEffects=null,this._applyDrawEffects(this._drawEffects))},t.Displayable.prototype._applyDrawEffects=function(){var e=this._drawEffects;if(this._filter&&(t.ToolkitUtils.removeAttrNullNS(this.getOuterElem(),"filter"),this.getCtx().removeDefs(this._filter),this._filter=null),!this._outerElem&&this._matrix&&this._createOuterGroupElem(),e&&e.length>0&&(this._filter=l.createFilter(e,this),this._filter)){this.getCtx().appendDefs(this._filter);var i=t.ToolkitUtils.getAttrNullNS(this._filter,"id");t.ToolkitUtils.setAttrNullNS(this.getOuterElem(),"filter",t.ToolkitUtils.getUrlById(i))}},t.Displayable.prototype.addEvtListener=function(t,e,i,n){var o=this._getListeners(t,i,!0);o.push(e),o.push(n),this._addListener(t,i)},t.Displayable.prototype.removeEvtListener=function(t,e,i,n){var o=this._getListeners(t,i,!1);if(o)for(var r=0;r<o.length;r+=2)if(o[r]===e&&o[r+1]===n){o.splice(r,2);break}o&&o.length<=0&&this._removeListener(t,i)},t.Displayable.prototype.AddElemListener=function(e,i,n){t.ToolkitUtils.addDomEventListener(this.getElem(),e,i,n),e==t.TouchEvent.TOUCHEND&&t.ToolkitUtils.addDomEventListener(this.getElem(),t.TouchEvent.TOUCHCANCEL,i,n)},t.Displayable.prototype.FireListener=function(t,e){var i=this._getListeners(t.type,e,!1);if(i)for(var n=0;n<i.length;n+=2){var o=i[n+1];i[n]&&i[n].call(o,t)}},t.Displayable.prototype.fireKeyboardListener=function(t,e){this.FireListener(t,e)},t.Displayable.prototype._getListeners=function(t,e,i){if(!this._listenerObj){if(!i)return null;this._listenerObj={}}var n=t+"_"+!!e,o=this._listenerObj[n];return!o&&i&&(o=[],this._listenerObj[n]=o),o},t.Displayable.prototype._addListener=function(e,i){var n=this._getListener(i);if(e==t.KeyboardEvent.KEYUP||e==t.KeyboardEvent.KEYDOWN||e==t.KeyboardEvent.KEYPRESS||e==p.FOCUS||e==p.FOCUSIN||e==p.FOCUSOUT||e==p.BLUR){var o=this.getCtx().getStage().getSVGRoot().parentNode;if(!o)return;o._keyboardListeners||(o._keyboardListeners=[]),-1==o._keyboardListeners.indexOf(this)&&o._keyboardListeners.push(this),n=t.HtmlKeyboardListenerUtils.getListener(i),t.ToolkitUtils.addDomEventListener(o,e,n,i)}else this.AddElemListener(e,n,i)},t.Displayable.prototype._removeListener=function(e,i){var n=this._getListener(i);if(e==t.KeyboardEvent.KEYUP||e==t.KeyboardEvent.KEYDOWN||e==t.KeyboardEvent.KEYPRESS||e==p.FOCUS||e==p.FOCUSIN||e==p.FOCUSOUT||e==p.BLUR){var o=this.getCtx().getStage().getSVGRoot().parentNode;t.ToolkitUtils.removeDomEventListener(o,e,n,i);var r=o._keyboardListeners.indexOf(this);-1!==r&&o._keyboardListeners.splice(r,1)}else t.ToolkitUtils.removeDomEventListener(this.getElem(),e,n,i)},t.Displayable.prototype._getListener=function(t){var e=this;return t?(this._captureClosure||(this._captureClosure=function(t){e._captureListener(t)}),this._captureClosure):(this._bubbleClosure||(this._bubbleClosure=function(t){e._bubbleListener(t)}),this._bubbleClosure)},t.Displayable.prototype._shouldIgnoreEvent=function(e,i){var n=i?this._captureHoverItem:this._bubbleHoverItem;if(n){if(e.type===t.MouseEvent.MOUSEOVER)return n===e.target;if(e.type===t.MouseEvent.MOUSEOUT)return n===e.relatedTarget}return!1},t.Displayable.prototype._fireMissedEvent=function(e,i){if(e.type===t.MouseEvent.MOUSEOVER||t.MouseEvent.MOUSEOUT){var n=i?this._captureHoverItem:this._bubbleHoverItem;if(n&&n!==e.target){var o=t.DomEventFactory.newEvent(e,this.getCtx());o.modifyEventForIE(t.MouseEvent.MOUSEOUT,n),this.FireListener(o,i)}}},t.Displayable.prototype._bubbleListener=function(e){if("ie"===t.Agent.browser||"edge"===t.Agent.browser){if(this._shouldIgnoreEvent(e,!1))return;this._fireMissedEvent(e,!1),e.type==t.MouseEvent.MOUSEOVER?this._bubbleHoverItem=e.target:e.type==t.MouseEvent.MOUSEOUT&&(this._bubbleHoverItem=null)}var i=t.DomEventFactory.newEvent(e,this.getCtx());this.FireListener(i,!1)},t.Displayable.prototype._captureListener=function(e){if("ie"===t.Agent.browser||"edge"===t.Agent.browser){if(this._shouldIgnoreEvent(e,!0))return;this._fireMissedEvent(e,!0),e.type==t.MouseEvent.MOUSEOVER?this._captureHoverItem=e.target:e.type==t.MouseEvent.MOUSEOUT&&(this._captureHoverItem=null)}var i=t.DomEventFactory.newEvent(e,this.getCtx());this.FireListener(i,!0)},t.Displayable.prototype.getFill=function(){return this.GetProperty("fill")},t.Displayable.prototype.setFill=function(e){if(this._manageDefinitions(this.GetProperty("fill"),e),!e)return t.ToolkitUtils.setAttrNullNS(this._elem,"fill","none"),t.ToolkitUtils.removeAttrNullNS(this._elem,"fill-opacity"),void this.SetProperty("fill",null);if(this.GetProperty("fill")!==e){if(this.SetProperty("fill",e),e instanceof t.GradientFill||e instanceof t.PatternFill){var i=t.SvgShapeUtils.addSpecialFill(e,this.getCtx());t.ToolkitUtils.setAttrNullNS(this._elem,"fill",t.ToolkitUtils.getUrlById(i))}else{var n=t.ColorUtils.fixColorForPlatform(e.getColor(),e.getAlpha());n&&n.color&&(t.ToolkitUtils.setAttrNullNS(this._elem,"fill",n.color),null!=n.alpha&&t.ToolkitUtils.setAttrNullNS(this._elem,"fill-opacity",n.alpha,1))}this.UpdateSelectionEffect()}},t.Displayable.prototype.getClassName=function(){return this._className},t.Displayable.prototype.setClassName=function(e){return this._className&&!e?t.ToolkitUtils.removeAttrNullNS(this._elem,"class"):e&&t.ToolkitUtils.setAttrNullNS(this._elem,"class",e),this._className=e,this},t.Displayable.prototype.getStyle=function(){return this._style},t.Displayable.prototype.setStyle=function(e){return this._style&&t.ToolkitUtils.removeAttrNullNS(this._elem,"style"),e&&t.CSSStyle.applyCssObjectToElement(e,this._elem),this._style=e,this},t.Displayable.prototype.setSolidFill=function(e,i){this.setFill(new t.SolidFill(e,i))},t.Displayable.prototype.setInvisibleFill=function(){this.setFill(t.SolidFill.invisibleFill())},t.Displayable.prototype.getStroke=function(){return this._stroke},t.Displayable.prototype.setStroke=function(e){if(this._manageDefinitions(this._stroke,e),this._stroke=e,!e)return t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke"),t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-opacity"),t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-width"),t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-dasharray"),t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-dashoffset"),t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-linejoin"),t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-linecap"),void t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-miterlimit");var i=t.ColorUtils.fixColorForPlatform(e.getColor(),e.getAlpha());i&&i.color?(t.ToolkitUtils.setAttrNullNS(this._elem,"stroke",i.color),null!=i.alpha&&t.ToolkitUtils.setAttrNullNS(this._elem,"stroke-opacity",i.alpha,1)):(t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke"),t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-opacity")),t.ToolkitUtils.setAttrNullNS(this._elem,"stroke-width",e.getWidth(),1),e.isFixedWidth()&&t.ToolkitUtils.setAttrNullNS(this._elem,"vector-effect","non-scaling-stroke");var n=e.getDashProps();n&&n.dashArray?t.ToolkitUtils.setAttrNullNS(this._elem,"stroke-dasharray",n.dashArray):t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-dasharray"),n&&n.dashOffset?t.ToolkitUtils.setAttrNullNS(this._elem,"stroke-dashoffset",n.dashOffset):t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-dashoffset");var o=e.getLineProps();o&&o.lineJoin?t.ToolkitUtils.setAttrNullNS(this._elem,"stroke-linejoin",o.lineJoin):t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-linejoin"),o&&o.lineCap?t.ToolkitUtils.setAttrNullNS(this._elem,"stroke-linecap",o.lineCap):t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-linecap"),o&&o.miterLimit?t.ToolkitUtils.setAttrNullNS(this._elem,"stroke-miterlimit",o.miterLimit):t.ToolkitUtils.removeAttrNullNS(this._elem,"stroke-miterlimit")},t.Displayable.prototype.setSolidStroke=function(e,i,n){this.setStroke(new t.Stroke(e,i,n))},t.Displayable.prototype._manageDefinitions=function(t,e){t!=e&&(t&&(t._referenceCount--,0==t._referenceCount&&t._defElem&&(this.getCtx().removeDefs(t._defElem),t._defPresent=!1)),e&&(e._referenceCount||(e._referenceCount=0),e._referenceCount++))},t.Displayable.prototype.setTranslate=function(t,e){this._modifyMatrix(null,null,t,e)},t.Displayable.prototype.getTranslateX=function(){var e=this.getMatrix();return e?e._decompose()[t.Matrix._DECOMP_TX]:0},t.Displayable.prototype.setTranslateX=function(t){this._modifyMatrix(null,null,t)},t.Displayable.prototype.getTranslateY=function(){var e=this.getMatrix();return e?e._decompose()[t.Matrix._DECOMP_TY]:0},t.Displayable.prototype.setTranslateY=function(t){this._modifyMatrix(null,null,null,t)},t.Displayable.prototype.setScale=function(t,e){this._modifyMatrix(t,e)},t.Displayable.prototype.getScaleX=function(){var e=this.getMatrix();return e?e._decompose()[t.Matrix._DECOMP_SX]:1},t.Displayable.prototype.setScaleX=function(t){this._modifyMatrix(t)},t.Displayable.prototype.getScaleY=function(){var e=this.getMatrix();return e?e._decompose()[t.Matrix._DECOMP_SY]:1},t.Displayable.prototype.setScaleY=function(t){this._modifyMatrix(null,t)},t.Displayable.prototype.getRotation=function(){var e=this.getMatrix();return e?e._decompose()[t.Matrix._DECOMP_R]:0},t.Displayable.prototype.setRotation=function(t){this._modifyMatrix(null,null,null,null,t)},t.Displayable.prototype.getMatrix=function(){return this._matrix?this._matrix:new t.Matrix},t.Displayable.prototype.setMatrix=function(e){if(e&&e.isIdentity()&&(e=null),this._matrix!=e)if(this._matrix=e,!this._outerElem&&t.Displayable.HasAttributes(this.getElem(),t.Displayable._ATTRS_TRANSFERABLE_TO_OUTER)&&this._createOuterGroupElem(),this._matrix=e,e){var i="matrix("+e.getA()+","+e.getC()+","+e.getB()+","+e.getD()+","+e.getTx()+","+e.getTy()+")";t.ToolkitUtils.setAttrNullNS(this.getElem(),"transform",i,"matrix(1,0,0,1,0,0)")}else{t.ToolkitUtils.getAttrNullNS(this.getElem(),"transform")&&(t.ToolkitUtils.removeAttrNullNS(this.getElem(),"transform"),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||t.ToolkitUtils.setAttrNullNS(this.getElem(),"transform",null))}},t.Displayable.prototype._modifyMatrix=function(e,i,n,o,r){var s=this.getMatrix()._decompose(),a=s[t.Matrix._DECOMP_SX],l=s[t.Matrix._DECOMP_SY],h=s[t.Matrix._DECOMP_TX],u=s[t.Matrix._DECOMP_TY],c=s[t.Matrix._DECOMP_R],p=!1;if(null!=e&&a!=e&&(s[t.Matrix._DECOMP_SX]=e,p=!0),null!=i&&l!=i&&(s[t.Matrix._DECOMP_SY]=i,p=!0),null!=n&&h!=n&&(s[t.Matrix._DECOMP_TX]=n,p=!0),null!=o&&u!=o&&(s[t.Matrix._DECOMP_TY]=o,p=!0),null!=r&&c!=r&&(s[t.Matrix._DECOMP_R]=r,p=!0),p){var _=this.getMatrix();this.setMatrix(_._recompose(s))}},t.Container=function(t,e){this.Init(t,"g",e)},t.Obj.createSubclass(t.Container,t.Displayable),t.Container.prototype.Init=function(e,i,n){this._bShapeContainer=this instanceof t.Shape,t.Container.superclass.Init.call(this,e,null!=i?i:"g",n),this._childGroupElem=null},t.Container.AttributesTransferableToGroup=["transform","opacity","visibility","pointer-events","clip-path","cursor"],t.Container.prototype.addChild=function(e){if(e){var i=e.getParent();i&&i.removeChild(e),this._arList||(this._arList=[]),e.setParent(this),this._bShapeContainer&&this.CreateChildGroupElem(!1);var n=this.getContainerElem();t.ToolkitUtils.appendChildElem(n,e.getOuterElem()),this._arList.push(e)}},t.Container.prototype.addChildAt=function(t,e){this.AddChildAt(t,e)},t.Container.prototype.AddChildAt=function(t,e){if(e>=0&&e<=this.getNumChildren()&&t){var i=this._findChild(t);if(i>=0&&i==e)return;var n=t.getParent();n&&n.removeChild(t),t.setParent(this),i>=0&&e==this.getNumChildren()+1&&e--;var o=e;this._bShapeContainer&&(this.CreateChildGroupElem(!1),o++);var r=this.getContainerElem(),s=r.childNodes[o];s||(s=null),r.insertBefore(t.getOuterElem(),s),this._arList||(this._arList=[]),this._arList.splice(e,0,t)}},t.Container.prototype.contains=function(t){return this._findChild(t)>=0},t.Container.prototype._findChild=function(t){var e=-1;if(this._arList)for(var i=this._arList.length,n=0;n<i;n++)if(this._arList[n]===t){e=n;break}return e},t.Container.prototype.getChildAfter=function(t){var e=null,i=this._findChild(t);return i>=0&&++i<this._arList.length&&(e=this._arList[i]),e},t.Container.prototype.getChildBefore=function(t){var e=null,i=this._findChild(t);return i>0&&(e=this._arList[--i]),e},t.Container.prototype.getChildAt=function(t){var e=null;return this._arList&&this._arList.length>t&&t>=0&&(e=this._arList[t]),e},t.Container.prototype.getChildIndex=function(t){return this._findChild(t)},t.Container.prototype.getNumChildren=function(){return this._arList?this._arList.length:0},t.Container.prototype.removeChild=function(t){var e=this._findChild(t);-1!==e&&this._removeObj(t,e)},t.Container.prototype.removeChildImpl=function(e){var i=e.getOuterElem(),n=e.getParent();i&&n&&this.getContainerElem().removeChild(i);if(!this._anchorElem&&this._bShapeContainer&&1===this.getNumChildren()){var o=this._childGroupElem,r=o?o.parentNode:null;r&&(t.Displayable.TransferAttributes(o,this._elem,this.GetAttributesTransferableToGroup()),r.replaceChild(this._elem,o),this._childGroupElem=null)}},t.Container.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e&&this._removeObj(e,t),e},t.Container.prototype.removeChildren=function(){if(this._arList)for(var t=this._arList;this.getNumChildren()>0;)this._removeObj(t[0],0)},t.Container.prototype._removeObj=function(t,e){this.removeChildImpl(t),t.setParent(null),this._arList.splice(e,1),0===this._arList.length&&(this._arList=null)},t.Container.prototype.destroy=function(){t.Container.superclass.destroy.call(this);for(var e=this.getNumChildren(),i=0;i<e;i++){this.getChildAt(i).destroy()}},t.Container.prototype.GetAttributesTransferableToGroup=function(){return t.Container.AttributesTransferableToGroup},t.Container.prototype.getElem=function(){return this._childGroupElem?this._childGroupElem:this._elem},t.Container.prototype.CreateChildGroupElem=function(e,i){if(this._childGroupElem||!i&&0!==this.getNumChildren())e&&this.removeChildren();else{var n=t.Displayable.SET_ID_ON_DOM&&this._id?this._id+"_g":null;this._childGroupElem=t.SvgShapeUtils.createElement("g",n);var o=this.getParent();o&&o.getElem().replaceChild(this._childGroupElem,this._elem),e||t.ToolkitUtils.appendChildElem(this._childGroupElem,this._elem),t.Displayable.TransferAttributes(this._elem,this._childGroupElem,this.GetAttributesTransferableToGroup()),this._elem._obj&&(this._childGroupElem._obj=this._elem._obj)}},t.Container.prototype.getDimensionsWithStroke=function(){for(var t=[],e=this.getNumChildren(),i=0;i<e;i++)t.push(this.getChildAt(i));for(var n=null;t.length>0;){var o=t.shift(),r=o.GetDimensionsWithStroke(this);if(r&&(n=n?n.getUnion(r):r),!o.includeChildSubtree||o.includeChildSubtree()){e=o.getNumChildren();for(i=0;i<e;i++)t.push(o.getChildAt(i))}}return n},t.Container.prototype.GetDimensionsWithStroke=function(t){return null},t.Container.prototype.getContainerElem=function(){return this._anchorElem?this._anchorElem:this.getElem()},t.Container.prototype.UpdateSelectionEffect=function(){},t.Container.prototype.setHollow=function(t,e){for(var i=0;i<this.getNumChildren();i++){var n=this.getChildAt(i),o=n.getFill()?n.getFill().getColor():t;n.setHollow(o,e)}},t.Container.prototype.includeChildSubtree=function(){return!0};var g=function(t,e,i){this.Init(t,"g",i),this._SVGRoot=e,this.setCursor("default")};t.Obj.createSubclass(g,t.Container),g.prototype.addChild=function(t){g.superclass.addChild.call(this,t)},g.prototype.getSVGRoot=function(){return this._SVGRoot},t.Shape=function(){},t.Obj.createSubclass(t.Shape,t.Container),t.Shape.prototype.Init=function(e,i,n){t.Shape.superclass.Init.call(this,e,i,n),this._bSelectable=!1,this.IsSelected=!1,this.InnerShape=null,this.HoverInnerStroke=null,this.HoverOuterStroke=null,this.SelectedInnerStroke=null,this.SelectedOuterStroke=null,this.SelectedHoverInnerStroke=null,this.SelectedHoverOuterStroke=null,this.OriginalStroke=null,this._isOriginalStrokeSet=!1,this.IsShowingHoverEffect=!1},t.Shape.prototype.setHollow=function(e,i){if(this._bHollow)this.setFill(this._origFill),this.setStroke(this._origStroke),this._bHollow=!1;else{this._origFill=this.GetProperty("fill"),this._origStroke=this.getStroke();var n,o=t.SolidFill.invisibleFill();n=e?new t.Stroke(t.ColorUtils.getRGB(e),t.ColorUtils.getAlpha(e),i):new t.Stroke(this.GetProperty("fill").getColor(),this.GetProperty("fill").getAlpha(),i),this.setFill(o),this.setStroke(n),this._bHollow=!0}},t.Shape.prototype.isHollow=function(){return this._bHollow},t.Shape.prototype.destroy=function(){t.Shape.superclass.destroy.call(this),this.setFill(null),this.setStroke(null)},t.Shape.prototype.getDimensionsWithStroke=function(){var e=this.GetElemDimensionsWithStroke(),i=t.Shape.superclass.getDimensionsWithStroke.call(this);return e&&i?e=e.getUnion(i):i&&(e=i),e},t.Shape.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},t.Shape.prototype.GetElemDimensionsWithStroke=function(){var e=this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0?this.getDimensionsSelf():t.Shape.superclass.getDimensions.call(this),i=this.getStroke();if(e&&i){var n=i.getWidth();if(n){var o=.5*n;e.x-=o,e.y-=o,e.w+=n,e.h+=n}}return e},t.Shape.prototype.UpdateSelectionEffect=function(){var e;(this.isSelected()||this.isHoverEffectShown())&&(this.InnerShape&&(e=this.InnerShape.getStroke(),this.removeChild(this.InnerShape)),this.InnerShape=this.copyShape(),this.InnerShape._setOuterShape(this),this.InnerShape.setMouseEnabled(!1),this.InnerShape.setFill(this.getFill()),this.InnerShape.setStyle(this.getStyle()).setClassName(this.getClassName()),e&&this.InnerShape.setStroke(e),this.InnerShape.setMouseEnabled(!1),this.InnerShape.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this.AddChildAt(this.InnerShape,0))},t.Shape.prototype._setOuterShape=function(t){this._outerShape=t},t.Shape.prototype.GetHoverSelectionInnerStroke=function(){var t;return this.InnerShape&&(this.isSelected()?t=this.isHoverEffectShown()?this.SelectedHoverInnerStroke:this.SelectedInnerStroke:this.isHoverEffectShown()&&(t=this.HoverInnerStroke)),t},t.Shape.prototype.GetHoverSelectionOuterStroke=function(){var t;return this._outerShape&&(this._outerShape.isSelected()?t=this._outerShape.isHoverEffectShown()?this._outerShape.SelectedHoverOuterStroke:this._outerShape.SelectedOuterStroke:this._outerShape.isHoverEffectShown()&&(t=this._outerShape.HoverOuterStroke)),t},t.Shape.prototype.setHoverStroke=function(t,e){return this.HoverInnerStroke=t,this.HoverOuterStroke=e,this},t.Shape.prototype.setSelectedStroke=function(t,e){return this.SelectedInnerStroke=t,this.SelectedOuterStroke=e,this},t.Shape.prototype.setSelectedHoverStroke=function(t,e){return this.SelectedHoverInnerStroke=t,this.SelectedHoverOuterStroke=e,this},t.Shape.prototype.setSelectable=function(e){this._bSelectable=e,this._bSelectable?this.setCursor(t.SelectionEffectUtils.getSelectingCursor()):this.setCursor(null)},t.Shape.prototype.isSelectable=function(){return this._bSelectable},t.Shape.prototype.isSelected=function(){return this.IsSelected},t.Shape.prototype.setSelected=function(t){this.IsSelected!=t&&(this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.IsSelected=t,this.isSelected()?(this.UpdateSelectionEffect(),this.isHoverEffectShown()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke))):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke)))},t.Shape.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.UpdateSelectionEffect(),this.isSelected()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.HoverInnerStroke),this.setStroke(this.HoverOuterStroke)))},t.Shape.prototype.CreateSelectedHoverStrokes=function(){this.SelectedHoverInnerStroke||(this.SelectedHoverInnerStroke=this.HoverInnerStroke),this.SelectedHoverOuterStroke||(this.SelectedHoverOuterStroke=new t.Stroke(this.SelectedOuterStroke.getColor(),this.SelectedOuterStroke.getAlpha(),this.SelectedOuterStroke.getWidth()+(this.HoverInnerStroke.getWidth()-this.SelectedInnerStroke.getWidth())))},t.Shape.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke)):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke)))},t.Shape.prototype.isHoverEffectShown=function(){return this.IsShowingHoverEffect},t.Shape.prototype.addChildAt=function(e,i){t.Shape.superclass.addChildAt.call(this,e,i+this._getInnerShapeCount())},t.Shape.prototype.getChildAt=function(e,i){return t.Shape.superclass.getChildAt.call(this,e,i+this._getInnerShapeCount())},t.Shape.prototype.getChildIndex=function(e){return t.Shape.superclass.getChildIndex.call(this,e)-this._getInnerShapeCount()},t.Shape.prototype.removeChildAt=function(e){t.Shape.superclass.removeChildAt.call(this,e+this._getInnerShapeCount())},t.Shape.prototype.getDimensions=function(e){return this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0?this.getDimensionsSelf(e):t.Shape.superclass.getDimensions.call(this,e)},t.Shape.prototype._getInnerShapeCount=function(){return this.isSelected()||this.isHoverEffectShown()?1:0},t.Shape.prototype.SvgPropertyChanged=function(t){this.UpdateSelectionEffect()},t.Shape.prototype.copyShape=function(){return null};var d=function(){};t.Obj.createSubclass(d,t.Shape),d.prototype.Init=function(t,e,i,n){d.superclass.Init.call(this,t,e,n),i&&this.setPoints(i)},d.prototype.getPoints=function(){return this.GetProperty("arPoints")},d.prototype.setPoints=function(e){return this.SetProperty("arPoints",e),this.SetSvgProperty("points",t.SvgShapeUtils.convertPointsArray(e))},d.prototype.getDimensionsSelf=function(e){var i=t.PolygonUtils.getDimensions(this.getPoints());return this.ConvertCoordSpaceRect(i,e)},t.Circle=function(t,e,i,n,o){this.Init(t,e,i,n,o)},t.Obj.createSubclass(t.Circle,t.Shape),t.Circle.prototype.Init=function(e,i,n,o,r){t.Circle.superclass.Init.call(this,e,"circle",r),this.setCx(i).setCy(n),this.setRadius(o)},t.Displayable.defineProps(t.Circle,{r:{name:"radius"},cx:{value:0},cy:{value:0}}),t.Circle.prototype.copyShape=function(){return new t.Circle(this.getCtx(),this.getCx(),this.getCy(),this.getRadius())},t.Circle.prototype.getDimensionsSelf=function(e){var i=new t.Rectangle(this.getCx()-this.getRadius(),this.getCy()-this.getRadius(),2*this.getRadius(),2*this.getRadius());return this.ConvertCoordSpaceRect(i,e)},t.Image=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},t.Obj.createSubclass(t.Image,t.Shape),t.Image.prototype.Init=function(e,i,n,o,r,s,a){t.Image.superclass.Init.call(this,e,"image",a),i=t.ToolkitUtils.getImageUrl(e,i),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||(t.ToolkitUtils.setAttrNullNS(this._elem,"fill","#FFFFFF"),t.ToolkitUtils.setAttrNullNS(this._elem,"fill-opacity","0")),this.setSrc(i),this.setX(n).setY(o),this.setWidth(r),this.setHeight(s),t.ToolkitUtils.setAttrNullNS(this._elem,"preserveAspectRatio","none"),this.setAriaProperty("hidden","true")},t.Displayable.defineProps(t.Image,{x:{},y:{},width:{},height:{}}),t.Image.prototype.getSrc=function(){return this._src},t.Image.prototype.setSrc=function(e){if(e!==this._src){var i=e;this._src=e,t.ToolkitUtils.setHref(this._elem,i)}return this},t.Image.prototype.getDimensions=function(e){if(this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0)return this.getDimensionsSelf(e);var i=this.getElem().getBBox();return i=i.width&&i.height?new t.Rectangle(i.x,i.y,i.width,i.height):new t.Rectangle(i.x,i.y,this.getWidth(),this.getHeight()),this.ConvertCoordSpaceRect(i,e)},t.Image.prototype.__setDimensions=function(t){this.setWidth(t.width),this.setHeight(t.height)},t.Image.prototype.UpdateSelectionEffect=function(){},t.Image.prototype.copyShape=function(){return new t.Image(this.getCtx(),this.getSrc(),this.getX(),this.getY(),this.getWidth(),this.getHeight())},t.Image.prototype.getDimensionsSelf=function(e){var i=new t.Rectangle(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(i,e)},t.Image.prototype.setAriaProperty=function(e,i){t.Image.superclass.setAriaProperty.call(this,e,i),"hidden"!=e&&t.Image.superclass.setAriaProperty.call(this,"hidden",null)},t.Line=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},t.Obj.createSubclass(t.Line,t.Shape),t.Line.prototype.Init=function(e,i,n,o,r,s){t.Line.superclass.Init.call(this,e,"line",s),this.setX1(i).setY1(n).setX2(o).setY2(r),this._bHollow=!1},t.Displayable.defineProps(t.Line,{x1:{value:0},x2:{value:0},y1:{value:0},y2:{value:0}}),t.Line.prototype.setHollow=function(){var e=this._elem.parentNode;if(this._bHollow)this._origElem&&(e.replaceChild(this._origElem,this._elem),t.ToolkitUtils.setAttrNullNS(this._origElem,"opacity",this._alpha),this._elem=this._origElem,this._origElem=null,this._bHollow=!1);else{var i;this._origElem=this._elem;var n=this.getX2()-this.getX1(),o=n,r=this.getY1()-n/2,s=this.getStroke();i=t.SvgShapeUtils.createElement("rect"),t.ToolkitUtils.setAttrNullNS(i,"x",this.getX1()),t.ToolkitUtils.setAttrNullNS(i,"y",r),t.ToolkitUtils.setAttrNullNS(i,"width",this.getX2()-this.getX1()),t.ToolkitUtils.setAttrNullNS(i,"height",o);var a=s.getColor();if(a){var l=s.getAlpha();"safari"===t.Agent.browser&&-1!==a.indexOf("rgba")?(t.ToolkitUtils.setAttrNullNS(i,"stroke",t.ColorUtils.getRGB(a)),null!=l?t.ToolkitUtils.setAttrNullNS(i,"stroke-opacity",t.ColorUtils.getAlpha(a)*l):t.ToolkitUtils.setAttrNullNS(i,"stroke-opacity",t.ColorUtils.getAlpha(a))):(t.ToolkitUtils.setAttrNullNS(i,"stroke",a),null!=l&&t.ToolkitUtils.setAttrNullNS(i,"stroke-opacity",l))}t.ToolkitUtils.setAttrNullNS(i,"fill","#ffffff"),t.ToolkitUtils.setAttrNullNS(i,"fill-opacity","0.001"),t.ToolkitUtils.setAttrNullNS(i,"shape-rendering","crispEdges"),i._obj=this,e.replaceChild(i,this._elem),this._elem=i,t.ToolkitUtils.setAttrNullNS(this._elem,"opacity",this._alpha),this._bHollow=!0}},t.Line.prototype.getDimensions=function(e){var i=t.Line.superclass.getDimensions.call(this,e);if(this._childGroupElem&&this._elem){var n=this._childGroupElem.getBBox();if(0==n.x&&0==n.y&&0==n.width&&0==n.height){var o=this._elem.getBBox();i=new t.Rectangle(o.x,o.y,o.width,o.height)}}return i},t.Line.prototype.copyShape=function(){return new t.Line(this.getCtx(),this.getX1(),this.getY1(),this.getX2(),this.getY2())},t.Line.prototype.getDimensionsSelf=function(e){var i=Math.min(this.getX1(),this.getX2()),n=Math.min(this.getY1(),this.getY2()),o=Math.abs(this.getX1()-this.getX2()),r=Math.abs(this.getY1()-this.getY2()),s=new t.Rectangle(i,n,o,r);return this.ConvertCoordSpaceRect(s,e)},t.Line.prototype._adjustDimensionsForStyle=function(){this.getX1()==this.getX2()?this.setX2(this.getX2()+.001):this.getY1()==this.getY2()&&this.setY2(this.getY2()+.001)},t.Line.prototype.setStyle=function(e,i){return e&&!i&&this._adjustDimensionsForStyle(),t.Line.superclass.setStyle.call(this,e)},t.Line.prototype.setClassName=function(e,i){return e&&!i&&this._adjustDimensionsForStyle(),t.Line.superclass.setClassName.call(this,e)},t.SimpleMarker=function(t,e,i,n,o,r,s,a,l,h){this.Init(t,e,i,n,o,r,s,a,l,h)},t.Obj.createSubclass(t.SimpleMarker,t.Shape),t.SimpleMarker.CIRCLE="circle",t.SimpleMarker.ELLIPSE="ellipse",t.SimpleMarker.SQUARE="square",t.SimpleMarker.RECTANGLE="rectangle",t.SimpleMarker.DIAMOND="diamond",t.SimpleMarker.TRIANGLE_UP="triangleUp",t.SimpleMarker.TRIANGLE_DOWN="triangleDown",t.SimpleMarker.PLUS="plus",t.SimpleMarker.HUMAN="human",t.SimpleMarker.STAR="star",t.SimpleMarker._CIRCLE_ELEM="circle",t.SimpleMarker._ELLIPSE_ELEM="ellipse",t.SimpleMarker._RECT_ELEM="rect",t.SimpleMarker._PATH_ELEM="path",t.SimpleMarker._POLYGON_ELEM="polygon",t.SimpleMarker._SHAPE_ELEM_MAP={},t.SimpleMarker._SHAPE_ELEM_MAP[t.SimpleMarker.CIRCLE]=t.SimpleMarker._CIRCLE_ELEM,t.SimpleMarker._SHAPE_ELEM_MAP[t.SimpleMarker.ELLIPSE]=t.SimpleMarker._ELLIPSE_ELEM,t.SimpleMarker._SHAPE_ELEM_MAP[t.SimpleMarker.SQUARE]=t.SimpleMarker._PATH_ELEM,t.SimpleMarker._SHAPE_ELEM_MAP[t.SimpleMarker.RECTANGLE]=t.SimpleMarker._PATH_ELEM,t.SimpleMarker._SHAPE_ELEM_MAP[t.SimpleMarker.DIAMOND]=t.SimpleMarker._POLYGON_ELEM,t.SimpleMarker._SHAPE_ELEM_MAP[t.SimpleMarker.TRIANGLE_UP]=t.SimpleMarker._POLYGON_ELEM,t.SimpleMarker._SHAPE_ELEM_MAP[t.SimpleMarker.TRIANGLE_DOWN]=t.SimpleMarker._POLYGON_ELEM,t.SimpleMarker._SHAPE_ELEM_MAP[t.SimpleMarker.PLUS]=t.SimpleMarker._POLYGON_ELEM,t.SimpleMarker._SHAPE_ELEM_MAP[t.SimpleMarker.HUMAN]=t.SimpleMarker._PATH_ELEM,t.SimpleMarker._SHAPE_ELEM_MAP[t.SimpleMarker.STAR]=t.SimpleMarker._POLYGON_ELEM,t.SimpleMarker.DEFAULT_BORDER_RADIUS="6",t.SimpleMarker._HUMAN_CMDS="M 306.40625 386.78125 C 304.19988 386.78125 302.40625 389.07579 302.40625 391.90625 C 302.40625 394.73671 304.19988 397.03125 306.40625 397.03125 C 308.61263 397.03125 310.40625 394.73671 310.40625 391.90625 C 310.40625 389.07579 308.61263 386.78125 306.40625 386.78125 z M 301.78125 396.0625 C 300.43025 397.2945 298.28125 400.28125 298.90625 403.15625 C 302.41725 405.79925 309.20225 406.154 314.03125 403 C 314.21825 399.828 312.68325 397.5635 310.90625 396.0625 C 308.65625 400.7185 304.28125 399.7815 301.78125 396.0625 z ",t.SimpleMarker._SHAPE_STAR_CMDS=[-50,-11.22,-16.69,-17.94,0,-47.55,16.69,-17.94,50,-11.22,26.69,13.8,30.9,47.56,0,33.42,-30.9,47.56,-26.69,13.8],t.SimpleMarker.prototype.Init=function(e,i,n,o,r,s,a,l,h,u){h&&(n=Math.round(n),o=Math.round(o),r=Math.round(r),s=(s=Math.round(s))%2==1?s+1:s,r=r%2==1?r+1:r),this._bMaintainAspectRatio=!0,!1===l&&(this._bMaintainAspectRatio=!1,i==t.SimpleMarker.CIRCLE&&(i=t.SimpleMarker.ELLIPSE)),a&&"0"!=a&&(this._borderRadius=a),this._shape=i||t.SimpleMarker.RECTANGLE,this._dataColor="#000000";var c=i?t.SimpleMarker._SHAPE_ELEM_MAP[i]:t.SimpleMarker._PATH_ELEM;null==c&&(this._isCustomShape=!0,this._path=new t.Path(e,i),c=t.SimpleMarker._PATH_ELEM),t.SimpleMarker.superclass.Init.call(this,e,c,u),this._shape!=t.SimpleMarker.SQUARE&&this._shape!=t.SimpleMarker.RECTANGLE||(this._path=this._getBorderRadiusPath(e,n,o,r,s,a)),this._shape==t.SimpleMarker.HUMAN&&(this._path=new t.Path(e,t.SimpleMarker._HUMAN_CMDS)),this._propertyChange={},this.setCenter(n,o,!0).setSize(r,s)},t.SimpleMarker.prototype.setCenterDimensions=function(t){return this.setCenter(t.x,t.y,!0).setSize(t.w,t.h)},t.SimpleMarker.prototype.getCenterDimensions=function(){return new t.Rectangle(this._cx,this._cy,this._width,this._height)},t.SimpleMarker.prototype.setSize=function(t,e,i){return this.setWidth(t,!0).setHeight(e,i)},t.SimpleMarker.prototype.setCenter=function(t,e,i){return this.setCx(t,!0).setCy(e,i)},t.SimpleMarker.prototype._updateSvgProperties=function(){if(this._propertyChange.width||this._propertyChange.height){var e=Math.min(this._width,this._height);this._propertyChange.s=this._s!=e,this._s=e}if(this._shape!=t.SimpleMarker.RECTANGLE&&this._shape!=t.SimpleMarker.SQUARE||this._borderRadius)this._shape==t.SimpleMarker.CIRCLE||this._shape==t.SimpleMarker.ELLIPSE?(this._propertyChange.cx&&t.ToolkitUtils.setAttrNullNS(this._elem,"cx",this._cx,0),this._propertyChange.cy&&t.ToolkitUtils.setAttrNullNS(this._elem,"cy",this._cy,0),this._shape==t.SimpleMarker.CIRCLE?this._propertyChange.s&&t.ToolkitUtils.setAttrNullNS(this._elem,"r",this._s/2,0):(this._propertyChange.width&&t.ToolkitUtils.setAttrNullNS(this._elem,"rx",this._width/2,0),this._propertyChange.height&&t.ToolkitUtils.setAttrNullNS(this._elem,"ry",this._height/2,0))):this._isPolygon()?(this._propertyChange.s||this._propertyChange.cx||this._propertyChange.cy)&&this._setPolygon(this._getPolygonArray()):this._isPath()&&(this._propertyChange.width||this._propertyChange.height||this._propertyChange.cx||this._propertyChange.cy)&&this._setCmds(this._getCmds());else if(this._propertyChange.width||this._propertyChange.height||this._propertyChange.cx||this._propertyChange.cy){var i=t.PathUtils.rectangleWithBorderRadius(this._cx-this._width/2,this._cy-this._height/2,this._width,this._height);this._setCmds(i)}return this.UpdateSelectionEffect(),this._propertyChange={},this},t.SimpleMarker.prototype.getCx=function(){return this._cx},t.SimpleMarker.prototype.setCx=function(t,e){return this._propertyChange.cx=this._cx!=t,this._cx=t,e?this:this._updateSvgProperties()},t.SimpleMarker.prototype.getCy=function(){return this._cy},t.SimpleMarker.prototype.setCy=function(t,e){return this._propertyChange.cy=this._cy!=t,this._cy=t,e?this:this._updateSvgProperties()},t.SimpleMarker.prototype.getSize=function(){return this._s},t.SimpleMarker.prototype.getWidth=function(){return this._width},t.SimpleMarker.prototype.setWidth=function(t,e){return this._propertyChange.width=this._width!=t,this._width=t,e?this:this._updateSvgProperties()},t.SimpleMarker.prototype.getHeight=function(){return this._height},t.SimpleMarker.prototype.setHeight=function(t,e){return this._propertyChange.height=this._height!=t,this._height=t,e?this:this._updateSvgProperties()},t.SimpleMarker.prototype._getPolygonArray=function(){var e=[],i=this._cx,n=this._cy,o=this.getMaintainAspectRatio()?this._s/2:this._width/2,r=this.getMaintainAspectRatio()?this._s/2:this._height/2,s=this.getMaintainAspectRatio()?this._s/6:this._width/6,a=this.getMaintainAspectRatio()?this._s/6:this._height/6;return this._shape==t.SimpleMarker.TRIANGLE_UP?e=[i-o,n+r,i,n-r,i+o,n+r]:this._shape==t.SimpleMarker.TRIANGLE_DOWN?e=[i-o,n-r,i,n+r,i+o,n-r]:this._shape==t.SimpleMarker.DIAMOND?e=[i-o,n,i,n-r,i+o,n,i,n+r]:this._shape==t.SimpleMarker.PLUS?e=[i-o,n-a,i-s,n-a,i-s,n-r,i+s,n-r,i+s,n-a,i+o,n-a,i+o,n+a,i+s,n+a,i+s,n+r,i-s,n+r,i-s,n+a,i-o,n+a]:this._shape==t.SimpleMarker.STAR&&(e=t.SimpleMarker._SHAPE_STAR_CMDS,e=t.PolygonUtils.scale(e,this.getMaintainAspectRatio()?this._s/100:this._width/100,this.getMaintainAspectRatio()?this._s/100:this._height/100),e=t.PolygonUtils.translate(e,i,n)),e},t.SimpleMarker.prototype._setPolygon=function(e){t.ToolkitUtils.setAttrNullNS(this._elem,"points",t.SvgShapeUtils.convertPointsArray(e))},t.SimpleMarker.prototype._getCmds=function(){var e=t.DisplayableUtils.getDimForced(this.getCtx(),this._path),i=Math.max(e.w,e.h),n=this.getMaintainAspectRatio();this._shape==t.SimpleMarker.RECTANGLE&&(n=!1);var o=n?this._s/i:this._width/e.w,r=n?this._s/i:this._height/e.h,s=this._cx-e.x*o-e.w*o/2,a=this._cy-e.y*r-e.h*r/2;return t.PathUtils.transformPath(this._path.getCommandsArray(),s,a,o,r)},t.SimpleMarker.prototype._setCmds=function(e){t.ToolkitUtils.setAttrNullNS(this._elem,"d",e)},t.SimpleMarker.prototype.getType=function(){return this._shape},t.SimpleMarker.prototype._isPolygon=function(){return t.SimpleMarker._SHAPE_ELEM_MAP[this._shape]==t.SimpleMarker._POLYGON_ELEM},t.SimpleMarker.prototype._isPath=function(){return t.SimpleMarker._SHAPE_ELEM_MAP[this._shape]==t.SimpleMarker._PATH_ELEM||this._isCustomShape},t.SimpleMarker.prototype.GetStrokeWidth=function(){var t=this.getStroke();return t?t.getWidth():0},t.SimpleMarker.prototype._getBorderRadiusPath=function(e,i,n,o,r,s){if(this._shape==t.SimpleMarker.SQUARE||this._shape==t.SimpleMarker.RECTANGLE){var a=Math.min(o,r),l=this._shape==t.SimpleMarker.SQUARE?a:o,h=this._shape==t.SimpleMarker.SQUARE?a:r,u=i-l/2,c=n-h/2,p=t.PathUtils.rectangleWithBorderRadius(u,c,l,h,s,a,"0");return new t.Path(e,p)}return null},t.SimpleMarker.prototype._getBorderRadius=function(){return this._borderRadius},t.SimpleMarker.prototype.setDataColor=function(e,i){if(this._dataColor=e,!i){var n=t.SelectionEffectUtils.getHoverBorderColor(e);this.setHoverStroke(new t.Stroke("#FFFFFF",1,1,!0),new t.Stroke(n,1,3.5,!0)),this.setSelectedStroke(new t.Stroke("#FFFFFF",1,1.5,!0),new t.Stroke("#5A5A5A",1,4.5,!0)),this.setSelectedHoverStroke(new t.Stroke("#FFFFFF",1,1.5,!0),new t.Stroke(n,1,4.5,!0))}},t.SimpleMarker.prototype.getDataColor=function(){return this._dataColor},t.SimpleMarker.prototype.setHollow=function(e){var i=this.GetStrokeWidth();i=i||1,t.SimpleMarker.superclass.setHollow.call(this,e,i)},t.SimpleMarker.prototype.setText=function(t){this._markerText=t},t.SimpleMarker.prototype.setAlpha=function(e){t.SimpleMarker.superclass.setAlpha.call(this,e),e!==this.getAlpha()&&(this._markerText&&this._markerText.setAlpha(e),this.UpdateSelectionEffect())},t.SimpleMarker.prototype.copyShape=function(){return new t.SimpleMarker(this.getCtx(),this._shape,this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this._getBorderRadius(),this.getMaintainAspectRatio())},t.SimpleMarker.prototype.getDimensions=function(t){return this.getDimensionsSelf(t)},t.SimpleMarker.prototype.getDimensionsSelf=function(e){var i=this.getCx()-this.getWidth()/2,n=this.getCy()-this.getHeight()/2,o=new t.Rectangle(i,n,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(o,e)},t.SimpleMarker.prototype.setMaintainAspectRatio=function(t){this._bMaintainAspectRatio=t},t.SimpleMarker.prototype.getMaintainAspectRatio=function(){return this._bMaintainAspectRatio},t.ImageMarker=function(t,e,i,n,o,r,s,a,l,h,u){this.Init(t,e,i,n,o,r,s,a,l,h,u)},t.Obj.createSubclass(t.ImageMarker,t.Shape),t.ImageMarker.prototype.Init=function(e,i,n,o,r,s,a,l,h,u,c){t.ImageMarker.superclass.Init.call(this,e,"image",c),this._setMarkerImageStates(a,l,h,u);var p=this._getImage();this._setSource(p),this._propertyChange={},this.setCenter(i,n,!0).setSize(o,r),this._updateBorder(s),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||(t.ToolkitUtils.setAttrNullNS(this._elem,"fill","#FFFFFF"),t.ToolkitUtils.setAttrNullNS(this._elem,"fill-opacity","0"))},t.ImageMarker.prototype.setPreserveAspectRatio=function(e){t.ToolkitUtils.setAttrNullNS(this._elem,"preserveAspectRatio",e,"xMidYMid")},t.ImageMarker.prototype.setCenterDimensions=function(t){return this.setCenter(t.x,t.y,!0).setSize(t.w,t.h)},t.ImageMarker.prototype.getCenterDimensions=function(){return new t.Rectangle(this._cx,this._cy,this._width,this._height)},t.ImageMarker.prototype.setSize=function(t,e,i){return this.setWidth(t,!0).setHeight(e,i)},t.ImageMarker.prototype.getSize=function(){return Math.max(this.getWidth(),this.getHeight())},t.ImageMarker.prototype.setCenter=function(t,e,i){return this.setCx(t,!0).setCy(e,i)},t.ImageMarker.prototype._updateSvgProperties=function(){return(this._propertyChange.cx||this._propertyChange.width)&&t.ToolkitUtils.setAttrNullNS(this._elem,"x",this._cx-this._width/2,0),(this._propertyChange.cy||this._propertyChange.height)&&t.ToolkitUtils.setAttrNullNS(this._elem,"y",this._cy-this._height/2,0),this._propertyChange.width&&t.ToolkitUtils.setAttrNullNS(this._elem,"width",this._width,0),this._propertyChange.height&&t.ToolkitUtils.setAttrNullNS(this._elem,"height",this._height,0),this._updateBorder(this._borderRadius),this.UpdateSelectionEffect(),this._propertyChange={},this},t.ImageMarker.prototype.getCx=function(){return this._cx},t.ImageMarker.prototype.setCx=function(t,e){return this._propertyChange.cx=this._cx!=t,this._cx=t,e?this:this._updateSvgProperties()},t.ImageMarker.prototype.getCy=function(){return this._cy},t.ImageMarker.prototype.setCy=function(t,e){return this._propertyChange.cy=this._cy!=t,this._cy=t,e?this:this._updateSvgProperties()},t.ImageMarker.prototype.getWidth=function(){return this._width},t.ImageMarker.prototype.setWidth=function(t,e){return this._propertyChange.width=this._width!=t,this._width=t,e?this:this._updateSvgProperties()},t.ImageMarker.prototype.getHeight=function(){return this._height},t.ImageMarker.prototype.setHeight=function(t,e){return this._propertyChange.height=this._height!=t,this._height=t,e?this:this._updateSvgProperties()},t.ImageMarker.prototype._setSource=function(e){t.ToolkitUtils.setHref(this._elem,e)},t.ImageMarker.prototype._setMarkerImageStates=function(t,e,i,n){var o=t;this._imageStates=[o],this._imageStates.push(e||o),this._imageStates.push(i||o),this._imageStates.push(n||this._imageStates[1])},t.ImageMarker.prototype._getImage=function(){return this._imageStates[0]},t.ImageMarker.prototype._getImageSelected=function(){return this._imageStates[1]},t.ImageMarker.prototype._getImageHover=function(){return this._imageStates[2]},t.ImageMarker.prototype._getImageHoverSelected=function(){return this._imageStates[3]},t.ImageMarker.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this.isSelected()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageHover())},t.ImageMarker.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._setSource(this._getImageSelected()):this._setSource(this._getImage())},t.ImageMarker.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,t?this.isHoverEffectShown()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageSelected()):this._setSource(this._getImage()))},t.ImageMarker.prototype._updateBorder=function(e){if(e||this._borderPath){if(e&&"0"!=e){var i=t.PathUtils.rectangleWithBorderRadius(this._cx-this._width/2,this._cy-this._height/2,this._width,this._height,e,Math.min(this._width,this._height),"0"),n=new t.ClipPath;n.addPath(i),this.setClipPath(n)}if(this._borderPath){var o=t.PathUtils.rectangleWithBorderRadius(this._cx-this._width/2+this._borderWidth/2,this._cy-this._height/2+this._borderWidth/2,this._width-this._borderWidth,this._height-this._borderWidth,e,Math.min(this._width,this._height),"0");this._borderPath.setCmds(o)}}this._borderRadius=e},t.ImageMarker.prototype._getBorderRadius=function(){return this._borderRadius},t.ImageMarker.prototype.setStroke=function(e){if(!e||e.getWidth()<=0)return this._borderWidth=0,void(this._borderPath&&(this.removeChild(this._borderPath),this._borderPath=null));var i=e.getWidth();if(!this._borderPath||i!=this._borderWidth){var n=t.PathUtils.rectangleWithBorderRadius(this._cx-this._width/2+i/2,this._cy-this._height/2+i/2,this._width-i,this._height-i,this._borderRadius,Math.min(this._width,this._height),"0");this._borderPath?this._borderPath.setCmds(n):(this._borderPath=new t.Path(this.getCtx(),n),this._borderPath.setInvisibleFill(),this.addChild(this._borderPath))}this._borderWidth=i,this._borderPath.setStroke(e)},t.ImageMarker.prototype.setHollow=function(e,i){t.ImageMarker.superclass.setHollow.call(this,e,i);var n=this.isHollow();n?(this._imageContainer=this._elem.parentNode,this._imageContainer.removeChild(this._elem)):!n&&this._imageContainer&&this._imageContainer.appendChild(this._elem)},t.ImageMarker.prototype.copyShape=function(){return new t.ImageMarker(this.getCtx(),this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this._getBorderRadius(),this._getImage(),this._getImageSelected(),this._getImageHover(),this._getImageHoverSelected(),null)},t.ImageMarker.prototype.getDimensionsSelf=function(e){var i=this.getCx()-this.getWidth()/2,n=this.getCy()-this.getHeight()/2,o=new t.Rectangle(i,n,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(o,e)},t.Path=function(t,e,i){this.Init(t,e,i)},t.Obj.createSubclass(t.Path,t.Shape),t.Path.prototype.Init=function(e,i,n){t.Path.superclass.Init.call(this,e,"path",n),Array.isArray(i)?this.setCmds(t.PathUtils.getPathString(i)):this.setCmds(i)},t.Path.prototype.getCmds=function(){return this.GetProperty("d")},t.Path.prototype.setCmds=function(t){return t&&this.SetSvgProperty("d",t),this.SetProperty("arCmds",null),this},t.Path.prototype.getCommandsArray=function(){var e=this.GetProperty("arCmds");return e||(e=t.PathUtils.createPathArray(this.getCmds()),this.SetProperty("arCmds",e)),e},t.Path.prototype.setCommandsArray=function(e){var i=e?t.PathUtils.getPathString(e):null;return this.setCmds(i),this.SetProperty("arCmds",e),this},t.Path.prototype.copyShape=function(){return new t.Path(this.getCtx(),this.getCmds())},t.Path.prototype.GetAriaElem=function(){return t.Agent.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),t.Path.superclass.GetAriaElem.call(this)},t.Polygon=function(t,e,i){this.Init(t,e,i)},t.Obj.createSubclass(t.Polygon,d),t.Polygon.prototype.Init=function(e,i,n){t.Polygon.superclass.Init.call(this,e,"polygon",i,n)},t.Polygon.prototype.copyShape=function(){return new t.Polygon(this.getCtx(),this.getPoints())},t.Polygon.prototype.GetAriaElem=function(){return t.Agent.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),t.Polygon.superclass.GetAriaElem.call(this)},t.Polyline=function(t,e,i){this.Init(t,e,i)},t.Obj.createSubclass(t.Polyline,d),t.Polyline.prototype.Init=function(e,i,n){t.Polyline.superclass.Init.call(this,e,"polyline",i,n),t.ToolkitUtils.setAttrNullNS(this._elem,"fill","none")},t.Polyline.prototype.copyShape=function(){return new t.Polyline(this.getCtx(),this.getPoints())},t.Rect=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},t.Obj.createSubclass(t.Rect,t.Shape),t.Rect._cssAttrs=["background-color","border-color","border-width"],t.Rect.prototype.Init=function(e,i,n,o,r,s){t.Rect.superclass.Init.call(this,e,"rect",s),this._strokeAlignment="center",this.setX(i).setY(n).setWidth(o).setHeight(r)},t.Displayable.defineProps(t.Rect,{x:{value:0},y:{value:0},width:{value:0},height:{value:0},rx:{},ry:{}}),t.Rect.prototype.setCSSStyle=function(e){t.Rect.superclass.setCSSStyle.call(this,e);var i=this._elem;if(e){var n=e.getStyle("background-color");if(n&&t.ToolkitUtils.setAttrNullNS(i,"fill",n),(n=e.getStyle("border-color"))&&t.ToolkitUtils.setAttrNullNS(i,"stroke",n),(n=e.getStyle("border-width"))&&t.ToolkitUtils.setAttrNullNS(i,"stroke-width",n),n=e.getStyle("border-radius")){var o=n.trim().split(" ");o.length>0&&o[0]&&this.setRx(o[0]),o.length>1&&o[1]&&this.setRy(o[1])}}else t.ToolkitUtils.removeAttrNullNS(this._elem,"style")},t.Rect.prototype.SetSvgProperty=function(t,e,i){return e!==this.GetProperty(t)&&(this.SetProperty(t,e),this._setAttributeWithStroke(t,e,i),this.SvgPropertyChanged(t)),this},t.Rect.prototype._setAttributeWithStroke=function(e,i,n){if(null!=i&&"center"!=this._strokeAlignment){var o=this._getStrokeOffset();switch(e){case"x":case"y":i-=o;break;case"width":case"height":i+=2*o}}t.ToolkitUtils.setAttrNullNS(this._elem,e,i,n)},t.Rect.prototype.setStrokeAlignment=function(t){this._strokeAlignment!=t&&(this._strokeAlignment=t,this._updateElemStrokeDimensions())},t.Rect.prototype.getStrokeAlignment=function(){return this._strokeAlignment},t.Rect.prototype._updateElemStrokeDimensions=function(){this._setAttributeWithStroke("x",this.getX(),0),this._setAttributeWithStroke("y",this.getY(),0),this._setAttributeWithStroke("width",this.getWidth()),this._setAttributeWithStroke("height",this.getHeight())},t.Rect.prototype._getStrokeOffset=function(){var t=0,e=this.getStroke();if(e)if("outer"==this._strokeAlignment){t=e.getWidth()/2;var i=this.GetHoverSelectionInnerStroke();null!=i&&(t+=i.getWidth())}else if("inner"==this._strokeAlignment){t=-e.getWidth()/2;var n=this.GetHoverSelectionOuterStroke();null!=n&&(t-=n.getWidth())}return t},t.Rect.prototype.setStroke=function(e){t.Rect.superclass.setStroke.call(this,e),"center"!=this._strokeAlignment&&this._updateElemStrokeDimensions()},t.Rect.prototype.GetElemDimensionsWithStroke=function(){var e=t.Rect.superclass.GetElemDimensionsWithStroke.call(this);if(e&&"center"!=this._strokeAlignment){var i=this._getStrokeOffset();e.x-=i,e.y-=i,e.w+=2*i,e.h+=2*i}return e},t.Rect.prototype.setCornerRadius=function(t,e){this.setRx(t).setRy(e)},t.Rect.prototype.setRect=function(e,i,n,o){e instanceof t.Rectangle?this.setX(e.x).setY(e.y).setWidth(e.w).setHeight(e.h):this.setX(e).setY(i).setWidth(n).setHeight(o)},t.Rect.prototype.copyShape=function(){var e=new t.Rect(this.getCtx(),this.getX(),this.getY(),this.getWidth(),this.getHeight());return e.setRx(this.getRx()).setRy(this.getRy()),e.setStrokeAlignment(this.getStrokeAlignment()),e},t.Rect.prototype.getDimensionsSelf=function(e){var i=new t.Rectangle(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(i,e)},t.OutputText=function(t,e,i,n,o){this.Init(t,e,i,n,o)},t.Obj.createSubclass(t.OutputText,t.Shape),t.OutputText.ELLIPSIS="",t.OutputText.REPRESENTATIVE_TEXT="MW",t.OutputText.BIDI_ZERO_WIDTH="",t.OutputText.H_ALIGN_LEFT="left",t.OutputText.H_ALIGN_CENTER="center",t.OutputText.H_ALIGN_RIGHT="right",t.OutputText.V_ALIGN_TOP="top",t.OutputText.V_ALIGN_MIDDLE="middle",t.OutputText.V_ALIGN_BOTTOM="bottom",t.OutputText.V_ALIGN_AUTO="auto",t.OutputText.prototype.Init=function(e,i,n,o,r){t.OutputText.superclass.Init.call(this,e,"text",r),this._x=null!=n?n:0,this._baseline=!1,!t.Agent.isRightToLeft(e)||"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||t.ToolkitUtils.setAttrNullNS(this.getElem(),"unicode-bidi","embed"),this.alignLeft(),this.alignTop(),this.setTextString(i),this.setX(n),this.setY(o),t.ToolkitUtils.removeAttrNullNS(this.getElem(),"fill"),this.setAriaProperty("hidden","true")},t.OutputText.prototype.getTextString=function(){return this._textString},t.OutputText.prototype.setTextString=function(e){e=null!=e?String(e).trim():"",!this._needsTextAnchorAdjustment()||"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||e.charAt(0)==t.OutputText.BIDI_ZERO_WIDTH||(e=t.OutputText.BIDI_ZERO_WIDTH+e),this._textString=e;var i=this.getElem().firstChild;return null!==i?i.nodeValue=e:(i=document.createTextNode(e),t.ToolkitUtils.appendChildElem(this.getElem(),i)),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||this.setX(this._x),this},t.OutputText.prototype.isTruncated=function(){return null!=this.getUntruncatedTextString()},t.OutputText.prototype.getUntruncatedTextString=function(){return this._untruncatedTextString},t.OutputText.prototype.setUntruncatedTextString=function(t){t!=this.getTextString()&&(this._untruncatedTextString=t)},t.OutputText.prototype.getX=function(){return("ie"===t.Agent.browser||"edge"===t.Agent.browser?this._x:this.GetProperty("x"))||0},t.OutputText.prototype.setX=function(e){return this._x=null!=e?e:0,"ie"===t.Agent.browser||"edge"===t.Agent.browser?this.SetSvgProperty("x",this._x+this._getIEAlignmentOffset(),0):this.SetSvgProperty("x",e,0)},t.OutputText.prototype._getIEAlignmentOffset=function(){var e=this.getHorizAlignment(),i=t.Agent.isRightToLeft(this.getCtx());return e==t.OutputText.H_ALIGN_LEFT?i?t.TextUtils.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle()):0:e==t.OutputText.H_ALIGN_CENTER?i?t.TextUtils.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle())/2:t.TextUtils.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle())/2*-1:e==t.OutputText.H_ALIGN_RIGHT?i?0:-1*t.TextUtils.getTextStringWidth(this.getCtx(),this.getTextString(),this.getCSSStyle()):void 0},t.OutputText.prototype.getY=function(){var t=this.GetProperty("y");return t||0},t.OutputText.prototype.setY=function(t){return this.SetSvgProperty("y",t,0)},t.OutputText.prototype.setFontSize=function(e){var i=this.getCSSStyle();(i=i?i.clone():new t.CSSStyle).setFontSize(t.CSSStyle.FONT_SIZE,String(e),this.getCtx()),this.setCSSStyle(i)},t.OutputText.prototype.getHorizAlignment=function(){return this._horizAlign},t.OutputText.prototype.setHorizAlignment=function(e){e==t.OutputText.H_ALIGN_LEFT?this.alignLeft():e==t.OutputText.H_ALIGN_CENTER?this.alignCenter():e==t.OutputText.H_ALIGN_RIGHT&&this.alignRight()},t.OutputText.prototype.getVertAlignment=function(){return this._vertAlign},t.OutputText.prototype.setVertAlignment=function(e){e==t.OutputText.V_ALIGN_TOP?this.alignTop():e==t.OutputText.V_ALIGN_MIDDLE?this.alignMiddle():e==t.OutputText.V_ALIGN_BOTTOM?this.alignBottom():e==t.OutputText.V_ALIGN_AUTO&&this.alignAuto()},t.OutputText.prototype.alignLeft=function(){if(this._horizAlign!=t.OutputText.H_ALIGN_LEFT)if(this._horizAlign=t.OutputText.H_ALIGN_LEFT,"ie"===t.Agent.browser||"edge"===t.Agent.browser)this.setX(this._x);else{var e=this._needsTextAnchorAdjustment();t.ToolkitUtils.setAttrNullNS(this.getElem(),"text-anchor",e?"end":"start","start")}},t.OutputText.prototype.alignCenter=function(){this._horizAlign!=t.OutputText.H_ALIGN_CENTER&&(this._horizAlign=t.OutputText.H_ALIGN_CENTER,"ie"===t.Agent.browser||"edge"===t.Agent.browser?this.setX(this._x):t.ToolkitUtils.setAttrNullNS(this.getElem(),"text-anchor","middle","start"))},t.OutputText.prototype.alignRight=function(){if(this._horizAlign!=t.OutputText.H_ALIGN_RIGHT)if(this._horizAlign=t.OutputText.H_ALIGN_RIGHT,"ie"===t.Agent.browser||"edge"===t.Agent.browser)this.setX(this._x);else{var e=this._needsTextAnchorAdjustment();t.ToolkitUtils.setAttrNullNS(this.getElem(),"text-anchor",e?"start":"end","start")}},t.OutputText.prototype.alignTop=function(){this._vertAlign!=t.OutputText.V_ALIGN_TOP&&(this._vertAlign==t.OutputText.V_ALIGN_BOTTOM&&"safari"===t.Agent.browser&&this._setBaseline(!1),this._vertAlign=t.OutputText.V_ALIGN_TOP,"ie"===t.Agent.browser||"edge"===t.Agent.browser?this._setBaseline(!0):this.SetDominantBaselineAttr("text-before-edge"))},t.OutputText.prototype.alignMiddle=function(){this._vertAlign!=t.OutputText.V_ALIGN_MIDDLE&&(this._vertAlign==t.OutputText.V_ALIGN_BOTTOM&&"safari"===t.Agent.browser&&this._setBaseline(!1),this._vertAlign=t.OutputText.V_ALIGN_MIDDLE,"ie"===t.Agent.browser||"edge"===t.Agent.browser?this._setBaseline(!0):this.SetDominantBaselineAttr("middle"))},t.OutputText.prototype.alignBottom=function(){this._vertAlign!=t.OutputText.V_ALIGN_BOTTOM&&(this._vertAlign=t.OutputText.V_ALIGN_BOTTOM,"ie"===t.Agent.browser||"edge"===t.Agent.browser?this._setBaseline(!0):"safari"===t.Agent.browser?(this._setBaseline(!0),this.SetDominantBaselineAttr(null)):this.SetDominantBaselineAttr("text-after-edge"))},t.OutputText.prototype.alignAuto=function(){this._vertAlign!=t.OutputText.V_ALIGN_AUTO&&(this._vertAlign==t.OutputText.V_ALIGN_BOTTOM&&"safari"===t.Agent.browser&&this._setBaseline(!1),this._vertAlign=t.OutputText.V_ALIGN_AUTO,"ie"===t.Agent.browser||"edge"===t.Agent.browser?this._setBaseline(!1):this.SetDominantBaselineAttr(null))},t.OutputText.prototype._setBaseline=function(t){this._baseline=t,this.setMatrix(this.getMatrix())},t.OutputText.prototype.SetDominantBaselineAttr=function(e){e?t.ToolkitUtils.setAttrNullNS(this.getElem(),"dominant-baseline",e):t.ToolkitUtils.removeAttrNullNS(this.getElem(),"dominant-baseline")},t.OutputText.prototype.setCSSStyle=function(e){t.OutputText.superclass.setCSSStyle.call(this,e);var i=this.getOuterElem();if(e){var n=e.getStyle("color"),o=t.ColorUtils.fixColorForPlatform(n);o&&o.color&&(t.ToolkitUtils.setAttrNullNS(i,"fill",o.color),null!=o.alpha&&t.ToolkitUtils.setAttrNullNS(i,"fill-opacity",o.alpha,1)),(n=e.getStyle("font-family"))&&!this.getCtx().isDefaultFontFamily(n)?t.ToolkitUtils.setAttrNullNS(i,"font-family",n):t.ToolkitUtils.removeAttrNullNS(i,"font-family"),(n=e.getStyle("font-size"))&&n!=this.getCtx().getDefaultFontSize()?(t.ToolkitUtils.setAttrNullNS(i,"font-size",n),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser&&"safari"!==t.Agent.browser||this.setMatrix(this.getMatrix())):t.ToolkitUtils.removeAttrNullNS(i,"font-size"),(n=e.getStyle("font-style"))&&t.ToolkitUtils.setAttrNullNS(i,"font-style",n),(n=e.getStyle("font-weight"))&&n!=this.getCtx().getDefaultFontWeight()?t.ToolkitUtils.setAttrNullNS(i,"font-weight",n):t.ToolkitUtils.removeAttrNullNS(i,"font-weight"),(n=e.getStyle("text-decoration"))&&t.ToolkitUtils.setAttrNullNS(i,"text-decoration",n),(n=e.getStyle("cursor"))&&t.ToolkitUtils.setAttrNullNS(i,"cursor",n),"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||this.setX(this._x)}},t.OutputText.prototype._getBaselineTranslation=function(){if(this._baseline){if(this._textString&&!this._isRepresentativeText())return t.TextUtils.getBaselineTranslation(this);var e=this.getVertAlignment();if(e!=t.OutputText.V_ALIGN_AUTO){var i=t.ToolkitUtils.getAttrNullNS(this.getElem(),"font-size");if(i||(i=t.ToolkitUtils.getAttrNullNS(this.getOuterElem(),"font-size")),(!i||isNaN(i)&&-1==i.indexOf("px"))&&(i=this.getCtx().getDefaultFontSize()),i=parseFloat(i),e==t.OutputText.V_ALIGN_TOP)return.8*i;if(e==t.OutputText.V_ALIGN_MIDDLE)return.3*i;if(e==t.OutputText.V_ALIGN_BOTTOM)return-.2*i}}return 0},t.OutputText.prototype._getBaselineAdjustedMatrix=function(e){this._baseline&&(e||(e=new t.Matrix),e=new t.Matrix(null,null,null,null,null,this._getBaselineTranslation()).concat(e));return e},t.OutputText.prototype.setMatrix=function(e){"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser&&"safari"!==t.Agent.browser||(this._matrixForIE=e,e=this._getBaselineAdjustedMatrix(e)),t.OutputText.superclass.setMatrix.call(this,e)},t.OutputText.prototype.getMatrix=function(){var e=null;return"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser&&"safari"!==t.Agent.browser||(e=this._matrixForIE),e||(e=t.OutputText.superclass.getMatrix.call(this)),e},t.OutputText.prototype._isRepresentativeText=function(){return this._textString==t.OutputText.REPRESENTATIVE_TEXT||this._textString==t.OutputText.BIDI_ZERO_WIDTH||this._textString==t.OutputText.BIDI_ZERO_WIDTH+t.OutputText.REPRESENTATIVE_TEXT},t.OutputText.prototype.GetSvgDimensions=function(){var e=t.OutputText.superclass.GetSvgDimensions.call(this);return e&&(e.y+=this._getBaselineTranslation(),this._isRepresentativeText()||(e.h=t.TextUtils.getTextStringHeight(this.getCtx(),this.getCSSStyle()))),e},t.OutputText.prototype.UpdateSelectionEffect=function(){},t.OutputText.prototype.getDimensions=function(e){var i=this.getHorizAlignment(),n=this.getVertAlignment(),o=t.TextUtils.getTextStringDimensions(this.getCtx(),this.getTextString(),this.getCSSStyle());return o.x=this.getX(),i===t.OutputText.H_ALIGN_RIGHT?o.x-=o.w:i===t.OutputText.H_ALIGN_CENTER&&(o.x-=o.w/2),n===t.OutputText.V_ALIGN_TOP?o.y=this.getY():n===t.OutputText.V_ALIGN_BOTTOM?o.y=this.getY()-o.h:n===t.OutputText.V_ALIGN_MIDDLE?o.y=this.getY()-o.h/2:n===t.OutputText.V_ALIGN_AUTO&&(o.y+=this.getY()),e&&e!==this?this.ConvertCoordSpaceRect(o,e):o},t.OutputText.prototype.copyShape=function(){var e=new t.OutputText(this.getCtx(),this.getTextString(),this.getX(),this.getY());return e.setCSSStyle(this.getCSSStyle()),e.setHorizAlignment(this.getHorizAlignment()),e.setVertAlignment(this.getVertAlignment()),e},t.OutputText.prototype._needsTextAnchorAdjustment=function(){return t.Agent.isRightToLeft(this.getCtx())},t.BackgroundOutputText=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},t.Obj.createSubclass(t.BackgroundOutputText,t.Container),t.BackgroundOutputText._PADDING=.15,t.BackgroundOutputText.prototype.Init=function(e,i,n,o,r,s){t.BackgroundOutputText.superclass.Init.call(this,e,"g",s),this.TextInstance=this.CreateTextInstance(e,i,n,o,s),this._backgroundRect=null,r&&this.setCSSStyle(r),this.addChild(this.TextInstance)},t.BackgroundOutputText.prototype.getTextString=function(){return this.TextInstance.getTextString()},t.BackgroundOutputText.prototype.setTextString=function(t){return this.TextInstance.setTextString(t),this},t.BackgroundOutputText.prototype.isTruncated=function(){return this.TextInstance.isTruncated()},t.BackgroundOutputText.prototype.getUntruncatedTextString=function(){return this.TextInstance.getUntruncatedTextString()},t.BackgroundOutputText.prototype.setUntruncatedTextString=function(t){this.TextInstance.setUntruncatedTextString(t)},t.BackgroundOutputText.prototype.getX=function(){return this.TextInstance.getX()},t.BackgroundOutputText.prototype.setX=function(t){return this.TextInstance=this.TextInstance.setX(t),this._realignBackground(),this},t.BackgroundOutputText.prototype.getY=function(){return this.TextInstance.getY()},t.BackgroundOutputText.prototype.setY=function(t){return this.TextInstance=this.TextInstance.setY(t),this._realignBackground(),this},t.BackgroundOutputText.prototype.setFontSize=function(e){this.TextInstance.setFontSize(e),this._style.setFontSize(t.CSSStyle.FONT_SIZE,String(e),this.getCtx()),this._realignBackground()},t.BackgroundOutputText.prototype.getHorizAlignment=function(){return this.TextInstance.getHorizAlignment()},t.BackgroundOutputText.prototype.setHorizAlignment=function(t){this.TextInstance.setHorizAlignment(t),this._realignBackground()},t.BackgroundOutputText.prototype.getVertAlignment=function(){return this.TextInstance.getVertAlignment()},t.BackgroundOutputText.prototype.setVertAlignment=function(t){this.TextInstance.setVertAlignment(t),this._realignBackground()},t.BackgroundOutputText.prototype.alignLeft=function(){this.TextInstance.alignLeft(),this._realignBackground()},t.BackgroundOutputText.prototype.alignCenter=function(){this.TextInstance.alignCenter(),this._realignBackground()},t.BackgroundOutputText.prototype.alignRight=function(){this.TextInstance.alignRight(),this._realignBackground()},t.BackgroundOutputText.prototype.alignTop=function(){this.TextInstance.alignTop(),this._realignBackground()},t.BackgroundOutputText.prototype.alignMiddle=function(){this.TextInstance.alignMiddle(),this._realignBackground()},t.BackgroundOutputText.prototype.alignBottom=function(){this.TextInstance.alignBottom(),this._realignBackground()},t.BackgroundOutputText.prototype.alignAuto=function(){this.TextInstance.alignAuto(),this._realignBackground()},t.BackgroundOutputText.prototype.setCSSStyle=function(e){e.getStyle(t.CSSStyle.BACKGROUND_COLOR)&&!e.getStyle(t.CSSStyle.COLOR)&&e.setStyle(t.CSSStyle.COLOR,t.ColorUtils.getContrastingTextColor(e.getStyle(t.CSSStyle.BACKGROUND_COLOR))),this.TextInstance&&this.TextInstance.setCSSStyle(e),(this._backgroundRect||t.BackgroundOutputText._hasBackgroundStyles(e))&&(this._backgroundRect||(this._backgroundRect=this.CreateBackground(this.getCtx(),this.TextInstance),this.addChildAt(this._backgroundRect,0)),this._setBackgroundCSSStyle(this._backgroundRect,e)),this._style=e},t.BackgroundOutputText.prototype.getCSSStyle=function(){return this._style},t.BackgroundOutputText.prototype.setMatrix=function(t){this.TextInstance.setMatrix(t),this._backgroundRect&&this._backgroundRect.setMatrix(t)},t.BackgroundOutputText.prototype.getMatrix=function(){return this.TextInstance.getMatrix()},t.BackgroundOutputText.prototype.getTextDimensions=function(t){return this.TextInstance.getDimensions(t)},t.BackgroundOutputText.prototype.getDimensions=function(e){var i=this.TextInstance.getDimensions(),n=i.h*t.BackgroundOutputText._PADDING;return i.x-=n,i.w+=2*n,this.ConvertCoordSpaceRect(i,e)},t.BackgroundOutputText.prototype.getDimensionsWithStroke=function(){return this.GetElemDimensionsWithStroke()},t.BackgroundOutputText.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},t.BackgroundOutputText.prototype.GetElemDimensionsWithStroke=function(){var t=this.getDimensions(),e=(this._backgroundRect?this._backgroundRect:this.TextInstance).getStroke();if(t&&e){var i=e.getWidth();if(i){var n=.5*i;t.x-=n,t.y-=n,t.w+=i,t.h+=i}}return t},t.BackgroundOutputText.prototype.copyShape=function(){return this.TextInstance.copyShape()},t.BackgroundOutputText.prototype.CreateTextInstance=function(e,i,n,o,r){return new t.OutputText(e,i,n,o,r)},t.BackgroundOutputText.prototype.CreateBackground=function(e,i){var n=i.getDimensions(),o=n.h*t.BackgroundOutputText._PADDING;return new t.Rect(e,n.x-o,n.y,n.w+2*o,n.h)},t.BackgroundOutputText.prototype._realignBackground=function(){if(this._backgroundRect){var e=this.TextInstance.getDimensions(),i=.15*e.h,n=this.getHorizAlignment(),o=this.getVertAlignment();n==t.OutputText.H_ALIGN_LEFT?this._backgroundRect.setX(this.getX()-i):n==t.OutputText.H_ALIGN_CENTER?this._backgroundRect.setX(this.getX()-.5*e.w-i):n==t.OutputText.H_ALIGN_RIGHT&&this._backgroundRect.setX(this.getX()-e.w-i);var r=parseFloat(this._style.getFontSize());isNaN(r)&&(r=0);var s=0;"chrome"===t.Agent.browser&&o==t.OutputText.V_ALIGN_MIDDLE?s=.12*r:"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||o!=t.OutputText.V_ALIGN_BOTTOM||(s=.4*-r);var a=this.GetTextDimensionsForRealign(e);o==t.OutputText.V_ALIGN_TOP?this._backgroundRect.setY(this.getY()):o==t.OutputText.V_ALIGN_MIDDLE?this._backgroundRect.setY(this.getY()-.5*a-s):o==t.OutputText.V_ALIGN_BOTTOM?this._backgroundRect.setY(this.getY()-a-s):o==t.OutputText.V_ALIGN_AUTO&&this._backgroundRect.setY(e.y),this._backgroundRect.setWidth(e.w+2*i),this._backgroundRect.setHeight(e.h)}},t.BackgroundOutputText.prototype._setBackgroundCSSStyle=function(e,i){if(i){var n=i.getStyle(t.CSSStyle.BACKGROUND_COLOR);null!=n?e.setSolidFill(n):e.setInvisibleFill();var o=i.getStyle(t.CSSStyle.BORDER_COLOR),r=i.getStyle(t.CSSStyle.BORDER_WIDTH),s=i.getStyle(t.CSSStyle.BORDER_RADIUS);if(o||r||s){var a=new t.CSSStyle;a.setStyle(t.CSSStyle.BORDER_COLOR,o),a.setStyle(t.CSSStyle.BORDER_WIDTH,r),a.setStyle(t.CSSStyle.BORDER_RADIUS,s),e.setCSSStyle(a)}}else e.setInvisibleFill();e.setMouseEnabled(!1)},t.BackgroundOutputText.prototype.GetTextDimensionsForRealign=function(t){return t.h},t.BackgroundOutputText._hasBackgroundStyles=function(t){return!!t&&t.hasBackgroundStyles()},t.BackgroundOutputText.prototype.includeChildSubtree=function(){return!1},t.MultilineText=function(t,e,i,n,o,r){this.Init(t,e,i,n,o,r)},t.Obj.createSubclass(t.MultilineText,t.Container),t.MultilineText._LINE_SPACE=0,t.MultilineText.H_ALIGN_LEFT="left",t.MultilineText.H_ALIGN_CENTER="center",t.MultilineText.H_ALIGN_RIGHT="right",t.MultilineText.V_ALIGN_TOP="top",t.MultilineText.V_ALIGN_MIDDLE="middle",t.MultilineText.V_ALIGN_BOTTOM="bottom",t.MultilineText.prototype.Init=function(e,i,n,o,r,s){t.MultilineText.superclass.Init.call(this,e,null,r),this._textInstance=null,this._additionalLines=[],this._lineHeight=null,this._yCoord=null,this._noWrap=!1,this._preserveNewLine=s||!1,this._preservedLines=[],this.setTextString(i),this.setX(n||0),this.setY(o||0),this.setMaxLines(1/0)},t.MultilineText.prototype.getTextString=function(){return this._textString},t.MultilineText.prototype.setTextString=function(e){this._textString=null!=e?String(e):null,this._textInstance?(this._textInstance.setTextString(e),this._removeAdditionalLines()):(this._textInstance=new t.OutputText(this.getCtx(),this._textString),this.addChild(this._textInstance)),this._preserveNewLine&&(this._generatePreservedLines(),this.wrapText(1/0,1/0,1,!1)),this._bTruncated=!1},t.MultilineText.prototype._getTextLines=function(){var t=this._additionalLines.slice();return this._textInstance.getParent()==this&&t.unshift(this._textInstance),t},t.MultilineText.prototype.getX=function(){return this._textInstance.getX()},t.MultilineText.prototype.setX=function(t){return this._getTextLines().forEach(function(e){e.setX(t)}),this},t.MultilineText.prototype.getY=function(){return this._textInstance.getY()},t.MultilineText.prototype.getYAlignCoord=function(){return this._yCoord},t.MultilineText.prototype.setY=function(t){if(this._yCoord=t,this._vertAlign)this._alignVerticalText();else{var e=t-this._textInstance.getY();e||(e=t),this._getTextLines().forEach(function(t){var i=t.getY();t.setY(i?i+e:e)})}return this},t.MultilineText.prototype.getMaxLines=function(){return this.GetProperty("maxLines")},t.MultilineText.prototype.setMaxLines=function(t){if(t>0)return this.SetProperty("maxLines",t)},t.MultilineText.prototype.isTruncated=function(){return this._bTruncated},t.MultilineText.prototype.getHorizAlignment=function(){return this._textInstance.getHorizAlignment()},t.MultilineText.prototype.setHorizAlignment=function(t){return this._getTextLines().forEach(function(e){e.setHorizAlignment(t)}),this},t.MultilineText.prototype.alignLeft=function(){this._horizAlign!=t.MultilineText.H_ALIGN_LEFT&&(this._horizAlign=t.MultilineText.H_ALIGN_LEFT,this._getTextLines().forEach(function(t){t.alignLeft()}))},t.MultilineText.prototype.alignCenter=function(){this._horizAlign!=t.MultilineText.H_ALIGN_CENTER&&(this._horizAlign=t.MultilineText.H_ALIGN_CENTER,this._getTextLines().forEach(function(t){t.alignCenter()}))},t.MultilineText.prototype.alignRight=function(){this._horizAlign!=t.MultilineText.H_ALIGN_RIGHT&&(this._horizAlign=t.MultilineText.H_ALIGN_RIGHT,this._getTextLines().forEach(function(t){t.alignRight()}))},t.MultilineText.prototype.alignTop=function(){this._vertAlign!=t.MultilineText.V_ALIGN_TOP&&(this._vertAlign=t.MultilineText.V_ALIGN_TOP,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignTop()}))},t.MultilineText.prototype.alignMiddle=function(){this._vertAlign!=t.MultilineText.V_ALIGN_MIDDLE&&(this._vertAlign=t.MultilineText.V_ALIGN_MIDDLE,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignMiddle()}))},t.MultilineText.prototype.alignBottom=function(){this._vertAlign!=t.MultilineText.V_ALIGN_BOTTOM&&(this._vertAlign=t.MultilineText.V_ALIGN_BOTTOM,this._alignVerticalText(),this._getTextLines().forEach(function(t){t.alignBottom()}))},t.MultilineText.prototype._alignVerticalText=function(){if(this._vertAlign)for(var e=this.getYAlignCoord(),i=this.getLineCount(),n=this.getLineHeight(),o=this._getTextLines(),r=0,s=0;s<o.length;s++){var a=o[s];if(this._vertAlign==t.MultilineText.V_ALIGN_TOP)r=n*s;else if(this._vertAlign==t.MultilineText.V_ALIGN_MIDDLE){r=n*s-n*(i-1)/2}else this._vertAlign==t.MultilineText.V_ALIGN_BOTTOM&&(r=-n*(i-s-1));a.setY(e+r)}},t.MultilineText.prototype.getCSSStyle=function(){return this._textInstance.getCSSStyle()},t.MultilineText.prototype.setCSSStyle=function(t){return this._lineHeight=null,this._getTextLines().forEach(function(e){e.setCSSStyle(t)}),this},t.MultilineText.prototype.copyShape=function(){var e=new t.MultilineText(this.getCtx(),this.getTextString(),this.getX(),this.getY());return e.setCSSStyle(this.getCSSStyle()).setHorizAlignment(this.getHorizAlignment()).setMaxLines(this.getMaxLines()),e},t.MultilineText.prototype._removeAdditionalLines=function(){for(var t=0;t<this._additionalLines.length;t++)this.removeChild(this._additionalLines[t]);this._additionalLines=[]},t.MultilineText.prototype._generatePreservedLines=function(){if(this._preserveNewLine){this._preservedLines=[];var t=this.getTextString().split(/\n+/),e=this._textInstance,i=null;this._preservedLines.push(e);for(var n=0;n<t.length;n++)if(i=t[n].replace(/\s+/g," "),e.setTextString(i),n<t.length-1){var o=e.copyShape();this._preservedLines.push(o),e=o}}},t.MultilineText.prototype.__fitText=function(e,i,n){if(!this._preserveNewLine){if(this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),!t.TextUtils.fitText(this._textInstance,e,i,this,n))return this.getParent().removeChild(this),!1;if(!this._textInstance.isTruncated())return!0;if(!this.isWrapEnabled())return!0}return this.wrapText(e,i,n,!1)},t.MultilineText.prototype.wrapText=function(e,i,n,o){this.getLineCount()>1&&this._removeAdditionalLines();var r=this.getLineHeight(),s=r*t.MultilineText._LINE_SPACE,a=this.getMaxLines(),l=Math.min(i,a*(r+s)-s)-r-s;if(this._preserveNewLine){for(var h=!1,u=null,c=0;c<this._preservedLines.length;c++){var p=this._preservedLines[c];if(l<s+r)return this._bTruncated=!0,h;if(t.TextUtils.fitText(p,e,1/0,this,n)){if(h=!0,l-=s+r,p.isTruncated()&&!this.isTruncated()&&(this._bTruncated=!0),c>0){this._additionalLines.push(p);var _=u?u.getY()+s+r:this.getY();p.setY(_),this.addChild(p)}u=p}}return h}p=this._textInstance;var g=null,d=this.getTextString().split(/\s+/);d.reverse();for(var S=!0;d.length>0;){var f=d.pop(),y=g?g+" "+f:f;if(p.setTextString(y),p.setUntruncatedTextString(null),!t.TextUtils.fitText(p,e,1/0,this,n,!0))return!S;if(p.isTruncated()){if(l<s+r)return this._bTruncated=!0,!0;if(g)p.setTextString(g),d.push(f);else{if(o)return this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),!1;this._bTruncated=!0}if(d.length>0){var T=p.copyShape();T.setY(p.getY()+s+r),this.addChild(T),this._additionalLines.push(T),p=T,g=null,l-=s+r}}else g=y;S=!1}return!0},t.MultilineText.prototype.GetSvgDimensions=function(e){var i=this._getTextLines();if(0==i.length)return new t.Rectangle(0,0,0,0);var n=new t.Rectangle(1/0,1/0,0,0);return i.forEach(function(t){var e=t.getDimensions();n.x=Math.min(n.x,e.x),n.y=Math.min(n.y,e.y),n.w=Math.max(n.w,e.w),n.h+=e.h}),this.ConvertCoordSpaceRect(n,e)},t.MultilineText.prototype.getLineCount=function(){return this._additionalLines.length+1},t.MultilineText.prototype.getLineHeight=function(){return this._lineHeight||(this._lineHeight=t.TextUtils.getTextStringHeight(this.getCtx(),this.getCSSStyle())),this._lineHeight},t.MultilineText.prototype.setWrapEnabled=function(t){0==t&&(this._textInstance.getParent()!=this&&this.addChild(this._textInstance),this._textInstance.getTextString()||this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines()),this._noWrap=!t},t.MultilineText.prototype.isWrapEnabled=function(){return 0==this._noWrap},t.MultilineText.prototype.getUntruncatedTextString=function(){return this.isTruncated()?this.getTextString():null},t.MultilineText.prototype.setUntruncatedTextString=function(t){},t.MultilineText.prototype.getDimensions=function(t){return this.GetSvgDimensions(t)},t.MultilineText.prototype.UpdateSelectionEffect=function(){},t.MultilineText.prototype.getHorizAlignment=function(){return this._horizAlign},t.MultilineText.prototype.setHorizAlignment=function(e){e==t.MultilineText.H_ALIGN_LEFT?this.alignLeft():e==t.MultilineText.H_ALIGN_CENTER?this.alignCenter():e==t.MultilineText.H_ALIGN_RIGHT&&this.alignRight()},t.MultilineText.prototype.getVertAlignment=function(){return this._vertAlign},t.MultilineText.prototype.setVertAlignment=function(e){e==t.MultilineText.V_ALIGN_TOP?this.alignTop():e==t.MultilineText.V_ALIGN_MIDDLE?this.alignMiddle():e==t.MultilineText.V_ALIGN_BOTTOM&&this.alignBottom()},t.BackgroundMultilineText=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},t.Obj.createSubclass(t.BackgroundMultilineText,t.BackgroundOutputText),t.BackgroundMultilineText.prototype.Init=function(e,i,n,o,r,s,a){this._preserveNewLine=a||!1,t.BackgroundMultilineText.superclass.Init.call(this,e,i,n,o,r,s)},t.BackgroundMultilineText.prototype.wrapText=function(t,e,i,n){return this.TextInstance.wrapText(t,e,i,n)},t.BackgroundMultilineText.prototype.CreateTextInstance=function(e,i,n,o,r){return new t.MultilineText(e,i,n,o,r,this._preserveNewLine)},t.BackgroundMultilineText.prototype.GetTextDimensionsForRealign=function(){return this.getLineHeight()},t.BackgroundMultilineText.prototype.getDimensions=function(e){var i=this.TextInstance.getDimensions(),n=i.h*t.BackgroundOutputText._PADDING/this.getLineCount();return i.x-=n,i.w+=2*n,this.ConvertCoordSpaceRect(i,e)},t.BackgroundMultilineText.prototype.__fitText=function(t,e,i){return this.TextInstance.__fitText(t,e,i)},t.BackgroundMultilineText.prototype._getTextLines=function(){return this.TextInstance._getTextLines()},t.BackgroundMultilineText.prototype.getLineHeight=function(){return this.TextInstance.getLineHeight()},t.BackgroundMultilineText.prototype.getLineCount=function(){return this.TextInstance.getLineCount()},t.BackgroundMultilineText.prototype.getYAlignCoord=function(){return this.TextInstance.getYAlignCoord()},t.BackgroundMultilineText.prototype.setWrapEnabled=function(t){this.TextInstance.setWrapEnabled(t)},t.BackgroundMultilineText.prototype.isWrapEnabled=function(){return this.TextInstance.isWrapEnabled()},t.BackgroundMultilineText.prototype.UpdateSelectionEffect=function(){},t.Use=function(t,e,i,n,o){this.Init(t,e,i,n,o)},t.Obj.createSubclass(t.Use,t.Displayable),t.Use._uniqueSeed=0,t.Use.prototype.Init=function(e,i,n,o,r){t.Use.superclass.Init.call(this,e,"use",r);var s=o.getId();if(s||(s="use"+t.Use._uniqueSeed++,o.setId(s)),e.existsGlobalDefReference(s))e.increaseGlobalDefReference(s);else{var a=o.getElem();t.ToolkitUtils.setAttrNullNS(a,"id",s),e.appendDefs(a),e.increaseGlobalDefReference(s)}this._targetId=s,t.ToolkitUtils.setHref(this._elem,t.ToolkitUtils.getUrlPathById(s)),this.setX(i).setY(n)},t.Displayable.defineProps(t.Use,{x:{value:0},y:{value:0}}),t.Use.prototype.destroy=function(){this.getCtx().decreaseGlobalDefReference(this._targetId),t.Use.superclass.destroy.call(this)},t.CSSGradient=function(t){this.Init(t)},t.Obj.createSubclass(t.CSSGradient,t.Obj),t.CSSGradient.LINEAR=0,t.CSSGradient.RADIAL=1,t.CSSGradient.prototype.Init=function(t){this._type=t},t.CSSGradient.prototype.getAlphas=function(){return this._arAlphas},t.CSSGradient.prototype.setAlphas=function(t){this._arAlphas=t},t.CSSGradient.prototype.getColors=function(){return this._arColors},t.CSSGradient.prototype.setColors=function(t){this._arColors=t},t.CSSGradient.prototype.getRatios=function(){return this._arRatios},t.CSSGradient.prototype.setRatios=function(t){this._arRatios=t};var S,f=function(){this.Init()};t.Obj.createSubclass(f,t.CSSGradient),f.LEFT=0,f.BOTTOM_LEFT=45,f.BOTTOM=90,f.BOTTOM_RIGHT=135,f.RIGHT=180,f.TOP_RIGHT=225,f.TOP=270,f.TOP_LEFT=315,f.prototype.Init=function(){f.superclass.Init.call(this,t.CSSGradient.LINEAR)},f.prototype.getAngle=function(){return this._angle},f.prototype.setAngle=function(t){this._angle=t},t.GradientParser=function(){},t.Obj.createSubclass(t.GradientParser,t.Obj),t.GradientParser.GD_LINEAR="linear-gradient",t.GradientParser.GD_TOP="top",t.GradientParser.GD_BOTTOM="bottom",t.GradientParser.GD_LEFT="left",t.GradientParser.GD_RIGHT="right",t.GradientParser.GD_TO="to",t.GradientParser.parseCSSGradient=function(e){return null!=e&&(e=e.trim(),t.GradientParser._startsWith(e,t.GradientParser.GD_LINEAR))?(e=t.GradientParser._removeParenthesis(e,t.GradientParser.GD_LINEAR),t.GradientParser._parseLinearGradient(e)):null},t.GradientParser._parseLinearGradient=function(e){var i=new RegExp("(-?(?:\\d*\\.)?\\d+)"),n=new RegExp("(deg|rad|grad|turn)"),o=new RegExp("(left|right)"),r=new RegExp("(top|bottom)"),s=new RegExp("(?:(to)\\s+)"),a=new RegExp("(?:"+i.source+n.source+")"),l=new RegExp("(?:"+o.source+"(?:\\s+"+r.source+")?)"),h=new RegExp("(?:"+r.source+"(?:\\s+"+o.source+")?)"),u=new RegExp("(?:"+l.source+"|"+h.source+")"),c=new RegExp("(?:"+a.source+"|(?:"+s.source+"?"+u.source+"))"),p=new RegExp("(?:\\s*"+c.source+"\\s*,\\s*)","i"),_=e.match(p);if(null==_||0==_.length)return null;_.length;var g=new f,d=_[5]==t.GradientParser.GD_TOP||_[6]==t.GradientParser.GD_TOP,S=_[5]==t.GradientParser.GD_BOTTOM||_[6]==t.GradientParser.GD_BOTTOM,y=_[4]==t.GradientParser.GD_LEFT||_[7]==t.GradientParser.GD_LEFT,T=_[4]==t.GradientParser.GD_RIGHT||_[7]==t.GradientParser.GD_RIGHT;if(_[3]==t.GradientParser.GD_TO&&((d||S)&&(d=!d,S=!S),(y||T)&&(y=!y,T=!T)),d)y?g.setAngle(f.TOP_LEFT):T?g.setAngle(f.TOP_RIGHT):g.setAngle(f.TOP);else if(S)y?g.setAngle(f.BOTTOM_LEFT):T?g.setAngle(f.BOTTOM_RIGHT):g.setAngle(f.BOTTOM);else if(y)g.setAngle(f.LEFT);else if(T)g.setAngle(f.RIGHT);else if(_[2]){a=parseFloat(_[1]);isNaN(a)||("grad"==_[2]?a=a/200*180:"rad"==_[2]?a=a/Math.PI*180:"turn"==_[2]&&(a=a/.5*180),g.setAngle(a))}return e=e.substring(_[0].length),t.GradientParser._parseCSSColorStops(e,g),g},t.GradientParser._parseCSSColorStops=function(e,i){var n=e.match(/(#[0-9a-f]+|rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)|rgba\(\s*(\d+),\s*(\d+),\s*(\d+),\s*(\d?)(\.\d+)?\s*\)|[a-z]+)(\s+\d+\.?\d*%)?/gi);null!=n&&n.length>0&&t.GradientParser._parseColorStops(n,i)},t.GradientParser._parseColorStops=function(e,i){for(var n,o,r,s=e.length,a=[],l=[],h=[],u=!0,c=[],p=0;p<e.length;p++)r=t.CSSStyle.parseBorderColor(e[p],c),n=c.pop(),l[p]=n,a[p]=t.ColorUtils.getAlpha(n),(r=r.trim()).length>0&&(o=parseFloat(r),isNaN(o)||r.endsWith("%")&&(h[p]=o/100,u=!1));if(s>1&&u)for(var _=0;_<s;_++)h[_]=_/(s-1);else u&&(h[0]=0);i.setColors(l),i.setAlphas(a),i.setRatios(h)},t.GradientParser._removeParenthesis=function(e,i){return")"!=e.charAt(e.length-1)?null:(e=e.substring(i.length),t.GradientParser.removeQuotes(e,"(",")"))},t.GradientParser.removeQuotes=function(t,e,i){if((t=t.trim()).charAt(0)!=e)return t;null==i&&(i=e);var n=t.lastIndexOf(i);return n<0?t.substring(1):t.substring(1,n)},t.GradientParser._startsWith=function(t,e){return 0==t.indexOf(e)},t.CSSStyle=function(t){this.Init(t)},t.Obj.createSubclass(t.CSSStyle,t.Obj),t.CSSStyle.SKIN_ALTA="alta",t.CSSStyle.BACKGROUND="background",t.CSSStyle.BACKGROUND_COLOR="background-color",t.CSSStyle.BACKGROUND_IMAGE="background-image",t.CSSStyle.BACKGROUND_REPEAT="background-repeat",t.CSSStyle.BACKGROUND_POSITION="background-position",t.CSSStyle.BORDER="border",t.CSSStyle.BORDER_TOP="border-top",t.CSSStyle.BORDER_BOTTOM="border-bottom",t.CSSStyle.BORDER_LEFT="border-left",t.CSSStyle.BORDER_RIGHT="border-right",t.CSSStyle.BORDER_WIDTH="border-width",t.CSSStyle.BORDER_TOP_WIDTH="border-top-width",t.CSSStyle.BORDER_BOTTOM_WIDTH="border-bottom-width",t.CSSStyle.BORDER_LEFT_WIDTH="border-left-width",t.CSSStyle.BORDER_RIGHT_WIDTH="border-right-width",t.CSSStyle.BORDER_COLOR="border-color",t.CSSStyle.BORDER_TOP_COLOR="border-top-color",t.CSSStyle.BORDER_BOTTOM_COLOR="border-bottom-color",t.CSSStyle.BORDER_LEFT_COLOR="border-left-color",t.CSSStyle.BORDER_RIGHT_COLOR="border-right-color",t.CSSStyle.BORDER_STYLE="border-style",t.CSSStyle.BORDER_RADIUS="border-radius",t.CSSStyle.BORDER_TOP_LEFT_RADIUS="border-top-left-radius",t.CSSStyle.BORDER_TOP_RIGHT_RADIUS="border-top-right-radius",t.CSSStyle.BORDER_BOTTOM_RIGHT_RADIUS="border-bottom-right-radius",t.CSSStyle.BORDER_BOTTOM_LEFT_RADIUS="border-bottom-left-radius",t.CSSStyle.MARGIN="margin",t.CSSStyle.MARGIN_TOP="margin-top",t.CSSStyle.MARGIN_BOTTOM="margin-bottom",t.CSSStyle.MARGIN_LEFT="margin-left",t.CSSStyle.MARGIN_RIGHT="margin-right",t.CSSStyle.PADDING="padding",t.CSSStyle.PADDING_TOP="padding-top",t.CSSStyle.PADDING_BOTTOM="padding-bottom",t.CSSStyle.PADDING_LEFT="padding-left",t.CSSStyle.PADDING_RIGHT="padding-right",t.CSSStyle.COLOR="color",t.CSSStyle.FONT_FAMILY="font-family",t.CSSStyle.FONT_SIZE="font-size",t.CSSStyle.FONT_STYLE="font-style",t.CSSStyle.FONT_WEIGHT="font-weight",t.CSSStyle.TEXT_DECORATION="text-decoration",t.CSSStyle.TEXT_ALIGN="text-align",t.CSSStyle.HEIGHT="height",t.CSSStyle.WIDTH="width",t.CSSStyle.MAX_WIDTH="max-width",t.CSSStyle.NO_REPEAT="no-repeat",t.CSSStyle.REPEAT="repeat",t.CSSStyle.REPEAT_X="repeat-x",t.CSSStyle.REPEAT_Y="repeat-y",t.CSSStyle.AUTO="auto",t.CSSStyle.AUTO_MARGIN="8",t.CSSStyle.WHITE_SPACE="white-space",t.CSSStyle._NAMED_FONT_SIZE_MAP={"xx-small":"9","x-small":"10",small:"13",medium:"16",large:"18","x-large":"24","xx-large":"32"},t.CSSStyle._NAMED_WIDTH_MAP={thin:"2",medium:"4",thick:"6"},t.CSSStyle._numericAttrsList=[t.CSSStyle.MAX_WIDTH,t.CSSStyle.WIDTH,t.CSSStyle.HEIGHT,t.CSSStyle.BORDER_WIDTH,t.CSSStyle.BORDER_TOP_WIDTH,t.CSSStyle.BORDER_BOTTOM_WIDTH,t.CSSStyle.BORDER_LEFT_WIDTH,t.CSSStyle.BORDER_RIGHT_WIDTH,t.CSSStyle.MARGIN,t.CSSStyle.MARGIN_TOP,t.CSSStyle.MARGIN_BOTTOM,t.CSSStyle.MARGIN_LEFT,t.CSSStyle.MARGIN_RIGHT,t.CSSStyle.PADDING,t.CSSStyle.PADDING_TOP,t.CSSStyle.PADDING_BOTTOM,t.CSSStyle.PADDING_LEFT,t.CSSStyle.PADDING_RIGHT],t.CSSStyle._DOUBLE_QUOTE='"',t.CSSStyle._SINGLE_QUOTE="'",t.CSSStyle.COLORS_ALTA=["#237bb1","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],t.CSSStyle.prototype.Init=function(t){this._styleMap={},this.parseInlineStyle(t)},t.CSSStyle.prototype.parseInlineStyle=function(e){if(e){var i=this;if(e instanceof Object)for(var n in e){var o=e[n];n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i.setStyle(n,o)}else t.CSSStyle._parseStyleString(e,function(t,e){i.setStyle(t,e)})}},t.CSSStyle.prototype.setStyle=function(e,i){if(null==i)this._setStyleAttr(e,i);else switch(e){case"background-repeat":this._setBackgroundRepeat(e,i);break;case"color":case"background-color":case"border-top-color":case"border-bottom-color":case"border-left-color":case"border-right-color":this._setColorAttr(e,i);break;case"border-top":case"border-bottom":case"border-left":case"border-right":this._setBorderSide(e,i);break;case"border":this._setBorderShorthand(e,i);break;case"border-color":this._setBorderColorShorthand(e,i);break;case"border-width":this._setBorderWidthShorthand(e,i);break;case"border-radius":this._setBorderRadius(e,i);break;case"padding":this._setPaddingShorthand(e,i);break;case"margin":this._setMarginShorthand(e,i);break;case"font-size":this.setFontSize(e,i);break;case"background-image":var n=t.GradientParser.parseCSSGradient(i);n&&(i=n),this._setStyleAttr(e,i);break;default:this._setStyleAttr(e,i)}return this},t.CSSStyle.prototype.getStyle=function(t){return this._styleMap[t]},t.CSSStyle.prototype._setStyleAttr=function(t,e){return null!=e?this._styleMap[t]=e:delete this._styleMap[t],this},t.CSSStyle.prototype.setFontSize=function(e,i,n){var o=i.trim(),r=t.CSSStyle._NAMED_FONT_SIZE_MAP[o];if(r)this._setStyleAttr(e,String(r)+"px");else{var s=n?n.getDefaultFontSize():t.Context.DEFAULT_FONT_SIZE;this._setStyleAttr(e,isNaN(parseFloat(o))?s:o)}},t.CSSStyle.prototype._setBorderWidthShorthand=function(e,i){var n=i.split(" "),o=null;switch(n.length){case 1:this._setStyleAttr(e,t.CSSStyle._getBorderWidth(n[0])),this._setStyleAttr(t.CSSStyle.BORDER_TOP_WIDTH,null),this._setStyleAttr(t.CSSStyle.BORDER_BOTTOM_WIDTH,null),this._setStyleAttr(t.CSSStyle.BORDER_RIGHT_WIDTH,null),this._setStyleAttr(t.CSSStyle.BORDER_LEFT_WIDTH,null);break;case 2:o=t.CSSStyle._getBorderWidth(n[0]),this._setStyleAttr(t.CSSStyle.BORDER_TOP_WIDTH,o),this._setStyleAttr(t.CSSStyle.BORDER_BOTTOM_WIDTH,o),o=t.CSSStyle._getBorderWidth(n[1]),this._setStyleAttr(t.CSSStyle.BORDER_LEFT_WIDTH,o),this._setStyleAttr(t.CSSStyle.BORDER_RIGHT_WIDTH,o);break;case 3:this._setStyleAttr(t.CSSStyle.BORDER_TOP_WIDTH,t.CSSStyle._getBorderWidth(n[0])),o=t.CSSStyle._getBorderWidth(n[1]),this._setStyleAttr(t.CSSStyle.BORDER_LEFT_WIDTH,o),this._setStyleAttr(t.CSSStyle.BORDER_RIGHT_WIDTH,o),this._setStyleAttr(t.CSSStyle.BORDER_BOTTOM_WIDTH,t.CSSStyle._getBorderWidth(n[2]));break;case 4:this._setStyleAttr(t.CSSStyle.BORDER_TOP_WIDTH,t.CSSStyle._getBorderWidth(n[0])),this._setStyleAttr(t.CSSStyle.BORDER_RIGHT_WIDTH,t.CSSStyle._getBorderWidth(n[1])),this._setStyleAttr(t.CSSStyle.BORDER_BOTTOM_WIDTH,t.CSSStyle._getBorderWidth(n[2])),this._setStyleAttr(t.CSSStyle.BORDER_LEFT_WIDTH,t.CSSStyle._getBorderWidth(n[3]))}},t.CSSStyle._getBorderWidth=function(e){var i=e.trim(),n=t.CSSStyle._NAMED_WIDTH_MAP[i];return n||(n=isNaN(parseFloat(i))?"0px":i),n},t.CSSStyle.prototype._setBorderSide=function(e,i){for(var n,o=i.split(" "),r=null,s=!1,a=0;a<o.length;a++)if(n=e,0==(r=o[a]).indexOf("rgb")){for(var l=a+1;l<o.length&&(r+=o[l],a++,-1==o[l].indexOf(")"));l++);e.endsWith("-"+t.CSSStyle.COLOR)||(n=e+"-"+t.CSSStyle.COLOR),this._setStyleAttr(n,r)}else t.CSSStyle._isColorValue(r)?(e.endsWith("-"+t.CSSStyle.COLOR)||(n=e+"-"+t.CSSStyle.COLOR),this._setStyleAttr(n,t.CSSStyle._parseHexColor(r))):t.CSSStyle._isBorderWidthValue(r)?(e.endsWith("-"+t.CSSStyle.WIDTH)||(n=e+"-"+t.CSSStyle.WIDTH),this._setStyleAttr(n,r)):"none"==i&&(s=!0);s&&this._setStyleAttr(e+"-"+t.CSSStyle.WIDTH,"0")},t.CSSStyle.prototype.getMargin=function(e){return this._getSideWidth(e,t.CSSStyle.MARGIN)},t.CSSStyle.prototype.getPadding=function(e){return this._getSideWidth(e,t.CSSStyle.PADDING)},t.CSSStyle.prototype.getBorderWidth=function(){var e=this.getStyle(t.CSSStyle.BORDER_WIDTH);return e?t.CSSStyle.toNumber(e):(e=this.getStyle(t.CSSStyle.BORDER_TOP_WIDTH))?t.CSSStyle.toNumber(e):(e=this.getStyle(t.CSSStyle.BORDER_RIGHT_WIDTH))?t.CSSStyle.toNumber(e):(e=this.getStyle(t.CSSStyle.BORDER_BOTTOM_WIDTH))?t.CSSStyle.toNumber(e):(e=this.getStyle(t.CSSStyle.BORDER_LEFT_WIDTH))?t.CSSStyle.toNumber(e):0},t.CSSStyle.prototype.getMaxWidth=function(){return this.getStyle(t.CSSStyle.MAX_WIDTH)},t.CSSStyle.prototype.getWidth=function(){return this.getStyle(t.CSSStyle.WIDTH)},t.CSSStyle.prototype.getHeight=function(){return this.getStyle(t.CSSStyle.HEIGHT)},t.CSSStyle.toNumber=function(t){return t?(t=parseFloat(t),isNaN(t)?0:t):0},t.CSSStyle.prototype._setBorderColorShorthand=function(e,i){var n,o=t.CSSStyle._parseBorderColorString(e,i);switch(o.length){case 1:this._setStyleAttr(e,o[0]),this._setStyleAttr(t.CSSStyle.BORDER_TOP_COLOR,null),this._setStyleAttr(t.CSSStyle.BORDER_BOTTOM_COLOR,null),this._setStyleAttr(t.CSSStyle.BORDER_RIGHT_COLOR,null),this._setStyleAttr(t.CSSStyle.BORDER_LEFT_COLOR,null);break;case 2:n=o[0],this._setStyleAttr(t.CSSStyle.BORDER_TOP_COLOR,n),this._setStyleAttr(t.CSSStyle.BORDER_BOTTOM_COLOR,n),n=o[1],this._setStyleAttr(t.CSSStyle.BORDER_LEFT_COLOR,n),this._setStyleAttr(t.CSSStyle.BORDER_RIGHT_COLOR,n);break;case 3:this._setStyleAttr(t.CSSStyle.BORDER_TOP_COLOR,o[0]),n=o[1],this._setStyleAttr(t.CSSStyle.BORDER_LEFT_COLOR,n),this._setStyleAttr(t.CSSStyle.BORDER_RIGHT_COLOR,n),this._setStyleAttr(t.CSSStyle.BORDER_BOTTOM_COLOR,o[2]);break;case 4:this._setStyleAttr(t.CSSStyle.BORDER_TOP_COLOR,o[0]),this._setStyleAttr(t.CSSStyle.BORDER_RIGHT_COLOR,o[1]),this._setStyleAttr(t.CSSStyle.BORDER_BOTTOM_COLOR,o[2]),this._setStyleAttr(t.CSSStyle.BORDER_LEFT_COLOR,o[3])}},t.CSSStyle.prototype._setPaddingShorthand=function(e,i){var n=i.split(" "),o=null;switch(n.length){case 1:this._setStyleAttr(e,this._getPercent(n[0])),this._setStyleAttr(t.CSSStyle.PADDING_TOP,null),this._setStyleAttr(t.CSSStyle.PADDING_BOTTOM,null),this._setStyleAttr(t.CSSStyle.PADDING_RIGHT,null),this._setStyleAttr(t.CSSStyle.PADDING_LEFT,null);break;case 2:o=this._getPercent(n[0]),this._setStyleAttr(t.CSSStyle.PADDING_TOP,o),this._setStyleAttr(t.CSSStyle.PADDING_BOTTOM,o),o=this._getPercent(n[1]),this._setStyleAttr(t.CSSStyle.PADDING_LEFT,o),this._setStyleAttr(t.CSSStyle.PADDING_RIGHT,o);break;case 3:this._setStyleAttr(t.CSSStyle.PADDING_TOP,this._getPercent(n[0])),o=this._getPercent(n[1]),this._setStyleAttr(t.CSSStyle.PADDING_LEFT,o),this._setStyleAttr(t.CSSStyle.PADDING_RIGHT,o),this._setStyleAttr(t.CSSStyle.PADDING_BOTTOM,this._getPercent(n[2]));break;case 4:this._setStyleAttr(t.CSSStyle.PADDING_TOP,this._getPercent(n[0])),this._setStyleAttr(t.CSSStyle.PADDING_RIGHT,this._getPercent(n[1])),this._setStyleAttr(t.CSSStyle.PADDING_BOTTOM,this._getPercent(n[2])),this._setStyleAttr(t.CSSStyle.PADDING_LEFT,this._getPercent(n[3]))}},t.CSSStyle.prototype._setMarginShorthand=function(e,i){var n=i.split(" "),o=null;switch(n.length){case 1:this._setStyleAttr(e,this._getMargin(n[0])),this._setStyleAttr(t.CSSStyle.MARGIN_TOP,null),this._setStyleAttr(t.CSSStyle.MARGIN_BOTTOM,null),this._setStyleAttr(t.CSSStyle.MARGIN_RIGHT,null),this._setStyleAttr(t.CSSStyle.MARGIN_LEFT,null);break;case 2:o=this._getMargin(n[0]),this._setStyleAttr(t.CSSStyle.MARGIN_TOP,o),this._setStyleAttr(t.CSSStyle.MARGIN_BOTTOM,o),o=this._getMargin(n[1]),this._setStyleAttr(t.CSSStyle.MARGIN_LEFT,o),this._setStyleAttr(t.CSSStyle.MARGIN_RIGHT,o);break;case 3:this._setStyleAttr(t.CSSStyle.MARGIN_TOP,this._getMargin(n[0])),o=this._getMargin(n[1]),this._setStyleAttr(t.CSSStyle.MARGIN_LEFT,o),this._setStyleAttr(t.CSSStyle.MARGIN_RIGHT,o),this._setStyleAttr(t.CSSStyle.MARGIN_BOTTOM,this._getMargin(n[2]));break;case 4:this._setStyleAttr(t.CSSStyle.MARGIN_TOP,this._getMargin(n[0])),this._setStyleAttr(t.CSSStyle.MARGIN_RIGHT,this._getMargin(n[1])),this._setStyleAttr(t.CSSStyle.MARGIN_BOTTOM,this._getMargin(n[2])),this._setStyleAttr(t.CSSStyle.MARGIN_LEFT,this._getMargin(n[3]))}},t.CSSStyle.prototype._getMargin=function(e){var i=e.trim();return t.CSSStyle.AUTO==i?t.CSSStyle.AUTO_MARGIN:this._getPercent(i)},t.CSSStyle.prototype._getPercent=function(t){return t.trim()},t.CSSStyle.prototype._setBorderShorthand=function(e,i){for(var n=i.split(" "),o=null,r=!1,s=0;s<n.length;s++)if(0==(o=n[s]).indexOf("rgb")){for(var a=s+1;a<n.length&&(o+=n[a],s++,-1==n[a].indexOf(")"));a++);this._setBorderColorShorthand(t.CSSStyle.BORDER_COLOR,o)}else t.CSSStyle._isColorValue(o)?this._setBorderColorShorthand(t.CSSStyle.BORDER_COLOR,o):t.CSSStyle._isBorderWidthValue(o)?this._setBorderWidthShorthand(t.CSSStyle.BORDER_WIDTH,o):"none"==i&&(r=!0);r&&this._setBorderWidthShorthand(t.CSSStyle.BORDER_WIDTH,"0")},t.CSSStyle._getBorderRadius=function(t){var e=t.trim();return isNaN(parseFloat(e))?"0px":e},t.CSSStyle.prototype._setBorderRadius=function(e,i){var n=i.split("/");if(null!=n[0]){var o=n[0].trim().split(" ");switch(o.length){case 1:default:this._setStyleAttr(e,t.CSSStyle._getBorderRadius(o[0])),this._setStyleAttr(t.CSSStyle.BORDER_TOP_LEFT_RADIUS,null),this._setStyleAttr(t.CSSStyle.BORDER_TOP_RIGHT_RADIUS,null),this._setStyleAttr(t.CSSStyle.BORDER_BOTTOM_RIGHT_RADIUS,null),this._setStyleAttr(t.CSSStyle.BORDER_BOTTOM_LEFT_RADIUS,null)}if(2==n.length&&null!=n[1]){var r=n[1].trim().split(" ");switch(r.length){case 1:this.getStyle(e)?this._setStyleAttr(e,this.getStyle(e)+" "+t.CSSStyle._getBorderRadius(r[0])):this._setStyleAttr(e,t.CSSStyle._getBorderRadius(r[0]))}}}else this._setStyleAttr(e,"0px")},t.CSSStyle.prototype.getBorderRadius=function(){return"undefined"!==this.getStyle(t.CSSStyle.BORDER_RADIUS)&&null!==this.getStyle(t.CSSStyle.BORDER_RADIUS)?t.CSSStyle.toNumber(this.getStyle(t.CSSStyle.BORDER_RADIUS)):0},t.CSSStyle.prototype._setBackgroundRepeat=function(e,i){var n=i.split(" ");2==n.length&&(n[0]==n[1]?i=n[0]:n[0]==t.CSSStyle.REPEAT&&n[1]==t.CSSStyle.NO_REPEAT&&(i=t.CSSStyle.REPEAT_X),n[0]==t.CSSStyle.NO_REPEAT&&n[1]==t.CSSStyle.REPEAT&&(i=t.CSSStyle.REPEAT_Y)),this._setStyleAttr(e,i)},t.CSSStyle.prototype._setColorAttr=function(e,i){var n=t.ColorUtils.getColorFromName(i);n?this._setStyleAttr(e,n):t.CSSStyle._isColorValue(i)&&this._setStyleAttr(e,i)},t.CSSStyle.prototype.clone=function(){var e=new t.CSSStyle;for(var i in this._styleMap)e._setStyleAttr(i,this.getStyle(i));return e},t.CSSStyle.prototype.merge=function(t){if(t)for(var e in t._styleMap)this._setStyleAttr(e,t.getStyle(e));return this},t.CSSStyle.prototype.mergeUnder=function(t){if(t)for(var e in t._styleMap)this.getStyle(e)||this._setStyleAttr(e,t.getStyle(e));return this},t.CSSStyle.prototype.toString=function(){var t="";for(var e in this._styleMap)t+=e+":"+this.getStyle(e)+"; ";return t},t.CSSStyle.prototype.hasBackgroundStyles=function(){return!!(this.getStyle(t.CSSStyle.BORDER_COLOR)||this.getStyle(t.CSSStyle.BORDER_WIDTH)||this.getStyle(t.CSSStyle.BORDER_RADIUS)||this.getStyle(t.CSSStyle.BACKGROUND_COLOR))},t.CSSStyle._isColorValue=function(e){return 0==(e=e.trim()).indexOf("rgb")||0==e.indexOf("#")||!!t.ColorUtils.getColorFromName(e)},t.CSSStyle._isBorderWidthValue=function(e){var i=e.trim();return!!t.CSSStyle._NAMED_WIDTH_MAP[i]||!isNaN(parseFloat(i))},t.CSSStyle._parseBorderColorString=function(e,i){i=i.trim();for(var n=[];null!=i&&i.length>0;)i=t.CSSStyle.parseBorderColor(i,n);return n},t.CSSStyle.parseBorderColor=function(e,i){var n,o=(e=e.trim()).length,r=-1;if(!e)return e;if(0==e.indexOf("rgb"))r=e.indexOf(")")+1,n=e.slice(0,r);else{-1==(r=e.indexOf(" "))&&(r=o);var s=e.slice(0,r);(n=t.ColorUtils.getColorFromName(s))||(n=t.CSSStyle._parseHexColor(s))}return n&&(i.push(n),e=e.slice(r)),e},t.CSSStyle._parseHexColor=function(t){return t?"#"!==t.charAt(0)||isNaN("0x"+t.substring(1))?"#000000":t:null},t.CSSStyle.prototype._getSideWidth=function(e,i){var n=this.getStyle(e);return n||(n=this.getStyle(i)),t.CSSStyle.toNumber(n)},t.CSSStyle.prototype.getFontSize=function(){return this.getStyle(t.CSSStyle.FONT_SIZE)},t.CSSStyle.mergeStyles=function(e){var i=new t.CSSStyle;if(e)for(var n=0;n<e.length;n++)i.merge(e[n]);return i},t.CSSStyle.prototype.isEmpty=function(){for(var t in this._styleMap)return!1;return!0},t.CSSStyle.prototype.hashCodeForTextMeasurement=function(){for(var e="",i=t.CSSStyle.getTextMeasurementProperties(),n=0;n<i.length;n++){var o=this.getStyle(i[n]);o&&(e+=o)}return e},t.CSSStyle.getTextMeasurementProperties=function(){return[t.CSSStyle.FONT_FAMILY,t.CSSStyle.FONT_SIZE,t.CSSStyle.FONT_STYLE,t.CSSStyle.FONT_WEIGHT]},t.CSSStyle.cssObjectToString=function(t){var e="";return t&&JSON.parse(JSON.stringify(t),function(t,i){t&&(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e+=t+":"+i+";")}),e},t.CSSStyle.cssStringToObject=function(e){var i={};return t.CSSStyle._parseStyleString(e,function(e,n){e=t.CSSStyle.cssStringToObjectProperty(e),i[e]=n}),i},t.CSSStyle.cssStringToObjectProperty=function(t){return t&&(t=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})),t},t.CSSStyle._parseStyleString=function(e,i){if(e&&e.length>0)for(var n=e.split(";"),o=0;o<n.length;o++){var r=n[o];if(r&&r.length>0){var s=r.indexOf(":");if(s>-1){var a=r.substring(0,s).trim(),l=r.substring(s+1).trim();a&&a.length>0&&l&&l.length>0&&(a==t.CSSStyle.BACKGROUND_IMAGE&&l.indexOf("data:image/")>=0&&(l=l+";"+n[o+1],o++),i(a,l))}}}},t.CSSStyle.getTimeMilliseconds=function(t){return"string"==typeof t&&(t="ms"==t.slice(-2)?parseInt(t.slice(0,-2)):"s"==t.slice(-1)?1e3*parseFloat(t.slice(0,-1)):parseInt(t)),t},t.CSSStyle.prototype.applyStylesToElement=function(e){t.CSSStyle.applyCssObjectToElement(this._styleMap,e)},t.CSSStyle.applyCssObjectToElement=function(e,i){for(var n=Object.keys(e),o=0;o<n.length;o++){var r=n[o];i.style[t.CSSStyle.cssStringToObjectProperty(r)]=e[r]}},t.BaseComponent=function(){},t.Obj.createSubclass(t.BaseComponent,t.Container),t.BaseComponent.prototype.Init=function(e,i,n){t.BaseComponent.superclass.Init.call(this,e),this._callback=i,this._callbackObj=n,this.Defaults=null,this.Options=null,this.Width=0,this.Height=0,this.EventManager=null,this.Animation=null,this.AnimationStopped=!1,this._optionsCache=new t.BaseComponentCache,this._cache=new t.BaseComponentCache,this._SHARED_DEFS_DIV_ID="_dvtSharedDefs"},t.BaseComponent.prototype.GetDefaults=function(t){return this.Defaults?this.Defaults.getDefaults(t):{}},t.BaseComponent.prototype.GetComponentDescription=function(){return this.getOptions().translations.componentName},t.BaseComponent.prototype.IsParentRoot=function(){return this.getParent()==this.getCtx().getStage()},t.BaseComponent.prototype.UpdateAriaAttributes=function(){if(this.IsParentRoot()){var e=this.getOptions().translations;this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(t.ResourceUtils.format(e.labelAndValue,[e.labelDataVisualization,t.TextUtils.processAriaLabel(this.GetComponentDescription())]))}},t.BaseComponent.prototype.SetOptions=function(t){},t.BaseComponent.prototype.getOptions=function(){return this.Options||(this.Options=this.GetDefaults()),this.Options},t.BaseComponent.prototype.applyOptions=function(e,i){this.Options&&e&&this.SetOptions(t.JsonUtils.merge(e,this.Options,i))},t.BaseComponent.prototype.render=function(t,e,i){},t.BaseComponent.prototype.RenderComplete=function(){this.Animation=null,this.AnimationStopped=!1,this.getCtx().resetIsOffscreen(),this.dispatchEvent(t.EventFactory.newReadyEvent())},t.BaseComponent.prototype.getWidth=function(){return this.Width},t.BaseComponent.prototype.getHeight=function(){return this.Height},t.BaseComponent.prototype.highlight=function(t){},t.BaseComponent.prototype.select=function(t){},t.BaseComponent.prototype.dispatchEvent=function(t){this._callback&&this._callback.call&&this._callback.call(this._callbackObj,t,this)},t.BaseComponent.prototype.getDimensionsWithStroke=function(t){return this.getDimensions(t)},t.BaseComponent.prototype.getEventManager=function(){return this.EventManager},t.BaseComponent.prototype.getKeyboardFocus=function(){var t=this.getEventManager();return t&&t.getFocus()?t.getFocus().getTargetElem():null},t.BaseComponent.prototype.getCache=function(){return this._cache},t.BaseComponent.prototype.getOptionsCache=function(){return this._optionsCache},t.BaseComponent.prototype.StopAnimation=function(t){this.Animation&&(this.AnimationStopped=!0,this.Animation.stop(t||!1),this.Animation=null)},t.BaseComponent.prototype.appendSharedDefs=function(e){var i=document.getElementById(this._SHARED_DEFS_DIV_ID);if(!i){(i=document.createElement("div")).id=this._SHARED_DEFS_DIV_ID,i.style.visibility="hidden",i.style.width="0px",i.style.height="0px",i.style.left="0px",i.style.top="0px",i.style.position="absolute";var n=t.ToolkitUtils.createSvgDocument();t.ToolkitUtils.setAttrNullNS(n,"width","0px"),t.ToolkitUtils.setAttrNullNS(n,"height","0px");var o=t.SvgShapeUtils.createElement("defs");n.appendChild(o),i.appendChild(n),document.body.appendChild(i)}return(o=i.childNodes[0].childNodes[0]).appendChild(e),e},t.BaseComponent.prototype.destroy=function(){this.StopAnimation(),this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null);var e=1===document.getElementsByClassName("oj-dvtbase").length,i=document.getElementById(this._SHARED_DEFS_DIV_ID);e&&i&&document.body.removeChild(i),t.BaseComponent.superclass.destroy.call(this)},t.BaseComponentDefaults=function(){this.Init()},t.Obj.createSubclass(t.BaseComponentDefaults,t.Obj),t.BaseComponentDefaults.FONT_SIZE="font-size: ",t.BaseComponentDefaults.FONT_SIZE_11=t.BaseComponentDefaults.FONT_SIZE+"11px;",t.BaseComponentDefaults.FONT_SIZE_12=t.BaseComponentDefaults.FONT_SIZE+"12px;",t.BaseComponentDefaults.FONT_SIZE_13=t.BaseComponentDefaults.FONT_SIZE+"13px;",t.BaseComponentDefaults.FONT_SIZE_14=t.BaseComponentDefaults.FONT_SIZE+"14px;",t.BaseComponentDefaults.FONT_WEIGHT_BOLD="font-weight: bold;",t.BaseComponentDefaults.FONT_FAMILY_ALTA="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;",t.BaseComponentDefaults.FONT_FAMILY_ALTA_11=t.BaseComponentDefaults.FONT_FAMILY_ALTA+t.BaseComponentDefaults.FONT_SIZE_11,t.BaseComponentDefaults.FONT_FAMILY_ALTA_12=t.BaseComponentDefaults.FONT_FAMILY_ALTA+t.BaseComponentDefaults.FONT_SIZE_12,t.BaseComponentDefaults.FONT_FAMILY_ALTA_13=t.BaseComponentDefaults.FONT_FAMILY_ALTA+t.BaseComponentDefaults.FONT_SIZE_13,t.BaseComponentDefaults.FONT_FAMILY_ALTA_14=t.BaseComponentDefaults.FONT_FAMILY_ALTA+t.BaseComponentDefaults.FONT_SIZE_14,t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD=t.BaseComponentDefaults.FONT_FAMILY_ALTA+t.BaseComponentDefaults.FONT_WEIGHT_BOLD,t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_11=t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD+t.BaseComponentDefaults.FONT_SIZE_11,t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_12=t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD+t.BaseComponentDefaults.FONT_SIZE_12,t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_13=t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD+t.BaseComponentDefaults.FONT_SIZE_13,t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_14=t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD+t.BaseComponentDefaults.FONT_SIZE_14,t.BaseComponentDefaults._SKINS=[t.CSSStyle.SKIN_ALTA],t.BaseComponentDefaults.prototype.Init=function(t,e){this._defaults=t||{},this._context=e,this.constructor.defaultsCache||(this.constructor.defaultsCache={})},t.BaseComponentDefaults.prototype.getBaseSkinName=function(){return t.CSSStyle.SKIN_ALTA},t.BaseComponentDefaults.prototype.calcOptions=function(e){var i=e?e.skin:null,n=this.getDefaults(i);if(!e)return n;var o=this.getNoCloneObject();if(this._context&&this._context.dataProviderProps)for(var r=this._context.dataProviderProps,s=0;s<r.length;s++)o[r[s]]=!0;var a=t.JsonUtils.merge(e,n,o);return 0==this.getAnimationDuration(a)&&(a.animationOnDataChange="none",a.animationOnDisplay="none"),a},t.BaseComponentDefaults.prototype.getDefaults=function(e){if(e||(e=this.getBaseSkinName()),this.constructor.defaultsCache[e])return t.JsonUtils.clone(this.constructor.defaultsCache[e]);for(var i=Math.max(t.BaseComponentDefaults._SKINS.indexOf(e),0),n=t.JsonUtils.clone(this._defaults[t.BaseComponentDefaults._SKINS[0]]),o=1;o<=i;o++)n=t.JsonUtils.merge(this._defaults[t.BaseComponentDefaults._SKINS[o]],n);return this.constructor.defaultsCache[e]=t.JsonUtils.clone(n),n},t.BaseComponentDefaults.prototype.getNoCloneObject=function(){return{}},t.BaseComponentDefaults.prototype.getAnimationDuration=function(t){return t.styleDefaults?t.styleDefaults.animationDuration:null},t.BaseComponentCache=function(){this.Init()},t.BaseComponentCache.prototype.Init=function(){this.Cache={}},t.BaseComponentCache.prototype.clearCache=function(){this.Cache={}},t.BaseComponentCache.prototype.getFromCache=function(t){return this.Cache[t]},t.BaseComponentCache.prototype.putToCache=function(t,e){this.Cache[t]=e},t.BaseComponentCache.prototype.getFromCachedMap=function(t,e){return this._getCachedMap(t)[e]},t.BaseComponentCache.prototype._getCachedMap=function(t){var e=this.getFromCache(t);return e||(e={},this.putToCache(t,e)),e},t.BaseComponentCache.prototype.putToCachedMap=function(t,e,i){this._getCachedMap(t)[e]=i},t.BaseComponentCache.prototype.getFromCachedMap2D=function(t,e,i){return this._getCachedMap2D(t).get(e,i)},t.BaseComponentCache.prototype._getCachedMap2D=function(e){var i=this.getFromCache(e);return i||(i=new t.Map2D,this.putToCache(e,i)),i},t.BaseComponentCache.prototype.putToCachedMap2D=function(t,e,i,n){this._getCachedMap2D(t).put(e,i,n)},t.SimpleScrollbar=function(e,i,n,o){t.SimpleScrollbar.superclass.Init.call(this,e),this._callback=i,this._callbackObj=n,this._dragTarget=o},t.Obj.createSubclass(t.SimpleScrollbar,t.Container),t.SimpleScrollbar._THUMB_MIN_SIZE=12,t.SimpleScrollbar.prototype.render=function(e,i,n){this._width=i,this._height=n,this._globalMin=e.min,this._globalMax=e.max,this._isHoriz=e.isHorizontal,this._isReversed=e.isReversed;var o=new t.Rect(this.getCtx(),0,0,i,n);o.setSolidFill(e.backgroundColor),o.setPixelHinting(!0),this.addChild(o),this._thumb=new t.Rect(this.getCtx(),0,0,i,n),this._thumb.setSolidFill(e.color),this._thumb.setPixelHinting(!0),this.addChild(this._thumb),this._thumbMin=this._globalMin,this._thumbMax=this._globalMax,this._renderedThumbMin=this._thumbMin,this._renderedThumbMax=this._thumbMax;var r=t.Agent.isTouchDevice()?8:4,s=new t.Rect(this.getCtx(),-r,-r,this._width+2*r,this._height+2*r);s.setInvisibleFill(),this.addChild(s);var a=null!=this._dragTarget;t.SvgDocumentUtils.addDragListeners(a?this._dragTarget:this,this._onDragStart,this._onDragMove,this._onDragEnd,this,!a),t.Agent.isTouchDevice()||a||this.addEvtListener(t.MouseEvent.CLICK,this._onClick,!1,this),this._dragged=!1},t.SimpleScrollbar.prototype.setViewportRange=function(e,i,n,o){null!=n&&(this._globalMin=n),null!=o&&(this._globalMax=o),this._thumbMin=e,this._thumbMax=i;var r=i-e,s=this._globalMax-this._globalMin,a=Math.min(t.SimpleScrollbar._THUMB_MIN_SIZE/(this._isHoriz?this._width:this._height)*s,s);r<a&&(i+=(a-r)/2,(e-=(a-r)/2)<this._globalMin&&(e=this._globalMin,i=this._globalMin+a),i>this._globalMax&&(i=this._globalMax,e=this._globalMax-a)),this._renderedThumbMin=e,this._renderedThumbMax=i;var l=this._getCoord(e),h=this._getCoord(i);this._isHoriz?(this._thumb.setX(Math.min(l,h)),this._thumb.setWidth(Math.abs(h-l))):(this._thumb.setY(Math.min(l,h)),this._thumb.setHeight(Math.abs(h-l)))},t.SimpleScrollbar.prototype._getCoord=function(t){var e=(t-this._globalMin)/(this._globalMax-this._globalMin);return this._isReversed&&(e=1-e),this._isHoriz?e*this._width:e*this._height},t.SimpleScrollbar.prototype._getValue=function(t,e){var i=this.stageToLocal(this.getCtx().pageToStageCoords(t,e)),n=this._isHoriz?i.x/this._width:i.y/this._height;return this._isReversed&&(n=1-n),n=Math.min(Math.max(n,0),1),this._globalMin+n*(this._globalMax-this._globalMin)},t.SimpleScrollbar.prototype._onClick=function(t){var e=this._getValue(t.pageX,t.pageY);if(!(e>=this._renderedThumbMin&&e<=this._renderedThumbMax)){var i=this._thumbMax-this._thumbMin;this._setViewportRange(e-i/2,e+i/2,"end")}},t.SimpleScrollbar.prototype._onDragStart=function(t){var e;if(t.touches){if(1!=t.touches.length)return!1;e=this._getValue(t.touches[0].pageX,t.touches[0].pageY)}else e=this._getValue(t.pageX,t.pageY);return!!(this._dragTarget||e>=this._renderedThumbMin&&e<=this._renderedThumbMax)&&(this._prevVal=Math.min(Math.max(e,this._thumbMin),this._thumbMax),this._dragged=!0,!0)},t.SimpleScrollbar.prototype._onDragMove=function(t){if(this._dragged){var e;if(t.touches){if(1!=t.touches.length)return;e=this._getValue(t.touches[0].pageX,t.touches[0].pageY)}else e=this._getValue(t.pageX,t.pageY);var i=e-this._prevVal;this._dragTarget&&(i*=-1),this._setViewportRange(this._thumbMin+i,this._thumbMax+i,"move"),this._prevVal=e,t.preventDefault()}},t.SimpleScrollbar.prototype._onDragEnd=function(t){if(this._dragged){if(t.touches)this._setViewportRange(this._thumbMin,this._thumbMax,"end");else{var e=this._getValue(t.pageX,t.pageY)-this._prevVal;this._setViewportRange(this._thumbMin+e,this._thumbMax+e,"end")}this._dragged=!1}},t.SimpleScrollbar.prototype._setViewportRange=function(e,i,n){var o=i-e;if(e<this._globalMin&&(e=this._globalMin,i=this._globalMin+o),i>this._globalMax&&(i=this._globalMax,e=this._globalMax-o),this.setViewportRange(e,i),this._callback){var r=t.EventFactory.newSimpleScrollbarEvent(n,e,i);this._callback.call(this._callbackObj,r,this)}},t.SimpleScrollableContainer=function(e,i,n,o){t.SimpleScrollableContainer.superclass.Init.call(this,e),this._contentSize=o?i:n,this._width=i,this._height=n,this._background=new t.Rect(e,0,0,i,n),this._background.setInvisibleFill(),this.addChild(this._background),this._container=new t.Container(e),this.addChild(this._container),this._isHorizontalScrolling=o,this._isScrollbarVisible=!1,t.Agent.isTouchDevice()||this.addEvtListener(t.MouseEvent.MOUSEWHEEL,this._onMouseWheel,!1,this)},t.Obj.createSubclass(t.SimpleScrollableContainer,t.Container),t.SimpleScrollableContainer._SCROLLBAR_WIDTH=3,t.SimpleScrollableContainer._SCROLLBAR_GAP=2,t.SimpleScrollableContainer.prototype.getScrollingPane=function(){return this._container},t.SimpleScrollableContainer.prototype.prepareContentPane=function(){var e=this._container.getDimensions();if(this._isHorizontalScrolling?this._contentSize=e.w+e.x:this._contentSize=e.h+e.y,this.hasScrollingContent()){if(this._isHorizontalScrolling?this._contentSize+=e.x:this._contentSize+=e.y,!this._maskContainer){var i=new t.Rectangle(0,0,this._width,this._height);this._fadeTop=new t.Mask(new t.LinearGradientFill(this._isHorizontalScrolling?0:270,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),i),this._fadeBottom=new t.Mask(new t.LinearGradientFill(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),i),this._fadeTopBottom=new t.Mask(new t.LinearGradientFill(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],[0,1,1,0],[0,.1,.9,1]),i),this._maskContainer=new t.Container(this.getCtx()),this.addChild(this._maskContainer);var n=new t.ClipPath;n.addRect(0,0,this._width,this._height),this._container.setClipPath(n),this._maskContainer.addChild(this._container),this._scrollbar=new t.SimpleScrollbar(this.getCtx(),this._handleScrollbar,this,this),this._scrollbarTimer=new t.Timer(this.getCtx(),100,this._hideScrollbar,this)}this._maskContainer.setMask(this._fadeBottom);var o={color:"#9E9E9E",backgroundColor:"#F0F0F0",isHorizontal:this._isHorizontalScrolling,isReversed:!1,min:0,max:this._contentSize};this._isHorizontalScrolling?(this._scrollbar.render(o,this._getScrollbarWidth(),t.SimpleScrollableContainer._SCROLLBAR_WIDTH),this._scrollbar.setTranslate(t.SimpleScrollableContainer._SCROLLBAR_GAP,this._height-(t.SimpleScrollableContainer._SCROLLBAR_WIDTH+t.SimpleScrollableContainer._SCROLLBAR_GAP))):(this._scrollbar.render(o,t.SimpleScrollableContainer._SCROLLBAR_WIDTH,this._getScrollbarWidth()),this._scrollbar.setTranslate(t.Agent.isRightToLeft(this.getCtx())?t.SimpleScrollableContainer._SCROLLBAR_GAP:this._width-(t.SimpleScrollableContainer._SCROLLBAR_WIDTH+t.SimpleScrollableContainer._SCROLLBAR_GAP),t.SimpleScrollableContainer._SCROLLBAR_GAP)),this._scrollbar.setViewportRange(0,this._getAvailSize()),t.Agent.isEnvironmentTest()||this._scrollbar.setAlpha(0),this.addChild(this._scrollbar)}else this.addChild(this._container),this.removeChild(this._maskContainer),this.removeChild(this._scrollbar)},t.SimpleScrollableContainer.prototype._getScrollbarWidth=function(){return(this._isHorizontalScrolling?this._width:this._height)-2*t.SimpleScrollableContainer._SCROLLBAR_GAP},t.SimpleScrollableContainer.prototype._getAvailSize=function(){return this._isHorizontalScrolling?this._width:this._height},t.SimpleScrollableContainer.prototype._hideScrollbar=function(e){this._isScrollbarVisible&&(this._isScrollbarVisible=!1,this._scrollbarTimer.reset(),this._fadeOutAnim=new t.AnimFadeOut(this.getCtx(),this._scrollbar,.2),this._fadeOutAnim.play())},t.SimpleScrollableContainer.prototype._showScrollbar=function(t){this._isScrollbarVisible?(this._scrollbarTimer.reset(),this._scrollbarTimer.start()):(this._fadeOutAnim&&(this._fadeOutAnim.stop(!0),this._fadeOutAnim=null),this._scrollbar.setAlpha(1),this._isScrollbarVisible=!0,this._scrollbarTimer.start())},t.SimpleScrollableContainer.prototype._updateFade=function(t){0==t?this._maskContainer.setMask(this._fadeBottom):t+this._getAvailSize()>=this._contentSize?this._maskContainer.setMask(this._fadeTop):this._maskContainer.setMask(this._fadeTopBottom)},t.SimpleScrollableContainer.prototype._onMouseWheel=function(t){if(this.hasScrollingContent()){this._showScrollbar();var e=null!=t.wheelDelta?t.wheelDelta:0,i=-1*(this._isHorizontalScrolling?this._container.getTranslateX():this._container.getTranslateY())-4*e,n=Math.max(this._contentSize-this._getAvailSize(),0),o=Math.max(Math.min(i,n),0);this._isHorizontalScrolling?(this._container.setTranslateX(-1*o),this._scrollbar.setViewportRange(o+this._width,o)):(this._container.setTranslateY(-1*o),this._scrollbar.setViewportRange(o,o+this._height)),this._updateFade(o),t.preventDefault()}},t.SimpleScrollableContainer.prototype._handleScrollbar=function(t){this._showScrollbar(),this._isHorizontalScrolling?this._container.setTranslateX(-1*t.newMin):this._container.setTranslateY(-1*t.newMin),this._updateFade(t.newMin)},t.SimpleScrollableContainer.prototype.getWidth=function(){return this._width},t.SimpleScrollableContainer.prototype.getHeight=function(){return this._height},t.SimpleScrollableContainer.prototype.scrollIntoView=function(t){if(this.hasScrollingContent()){var e,i=t.getDimensions(t.getParent()),n=this._container.getDimensions();if(this._isHorizontalScrolling){var o=-1*this._container.getTranslateX(),r=i.x-n.x,s=i.x+i.w-this._width+n.x;o<s?(this._container.setTranslateX(-1*s),this._scrollbar.setViewportRange(s+this._width,s),e=s):o>r&&(this._container.setTranslateX(-1*r),this._scrollbar.setViewportRange(r+this._width,r),e=r)}else{var a=-1*this._container.getTranslateY(),l=i.y-n.y,h=i.y+i.h-this._height+n.y;a<h?(this._container.setTranslateY(-1*h),this._scrollbar.setViewportRange(h,h+this._height),e=h):a>l&&(this._container.setTranslateY(-1*l),this._scrollbar.setViewportRange(l,l+this._height),e=l)}null!=e&&this._updateFade(e)}},t.SimpleScrollableContainer.prototype.hasScrollingContent=function(){return this._contentSize>this._getAvailSize()},t.DragSource=function(t){this.Init(t)},t.Obj.createSubclass(t.DragSource,t.Obj),t.DragSource.DRAG_FEEDBACK_MARGIN=2,t.DragSource.prototype.Init=function(t){this._context=t,this._dragCandidate=null,this._dragObj=null,this._dragCoords=null},t.DragSource.prototype.getDragCandidate=function(){return this._dragCandidate},t.DragSource.prototype.setDragCandidate=function(t){t&&t.isDragAvailable&&t.getDragTransferable?this._dragCandidate=t:this._dragCandidate=null},t.DragSource.prototype.isDragAvailable=function(t){return null!=this._dragCandidate?this._dragCandidate.isDragAvailable(t):null},t.DragSource.prototype.getDragTransferable=function(t,e){return this._dragCandidate?(this._dragObj=this._dragCandidate,this._dragCoords={x:t,y:e},this._dragCandidate.getDragTransferable(t,e)):null},t.DragSource.prototype.getDragOverFeedback=function(t,e){this._context.getTooltipManager().hideTooltip();var i=this.getDragObject();return i&&i.getDragFeedback?i.getDragFeedback(t,e):null},t.DragSource.prototype.getDragContext=function(t,e){return this._dragObj&&this._dragObj.getDragContext?this._dragObj.getDragContext(t,e):null},t.DragSource.prototype.getDragObject=function(){return this._dragObj},t.DragSource.prototype.getDragCoords=function(){return this._dragCoords},t.DragSource.prototype.getDragOffset=function(e,i){var n={},o=this.getDragOverFeedback(e,i);if(o){var r=t.DragAndDropUtils.getDragFeedbackBounds(o,this._context.getStage()),s=this.getDragObject();s&&s.afterDragOverFeedback&&s.afterDragOverFeedback(o),r&&(n.x=e-r.x,n.y=i-r.y,n.x+=t.DragSource.DRAG_FEEDBACK_MARGIN,n.y+=t.DragSource.DRAG_FEEDBACK_MARGIN)}else n.x=0,n.y=0;return n},t.DragSource.prototype.getPointerOffset=function(t,e){return{x:0,y:0}},t.DragSource.prototype.initiateDrag=function(){var e=this.getTouchManager();t.Agent.isTouchDevice()&&e&&e.cancelTouchHold()},t.DragSource.prototype.dragDropEnd=function(){this._dragCandidate=null,this._dragObj=null,this._dragCoords=null},t.DragSource.prototype.setTouchManager=function(t){this._touchManager=t},t.DragSource.prototype.getTouchManager=function(){return this._touchManager},t.Button=function(t,e,i,n,o,r,s,a){this.Init(t,e,i,n,o,r,s,a)},t.Obj.createSubclass(t.Button,t.Container),t.Button.STATE_ENABLED=0,t.Button.STATE_OVER=1,t.Button.STATE_DOWN=2,t.Button.STATE_DISABLED=3,t.Button.NO_EVENT_LISTENERS=!0,t.Button.prototype.Init=function(e,i,n,o,r,s,a,l){t.Button.superclass.Init.call(this,e,null,s),this.setCallback(a,l),this._bDuringInit=!0,this.setUpState(i),this.setOverState(n),this.setDownState(o),r&&this.setDisabledState(r),this.setEnabled(!0),this.drawUpState(),this._tooltip=null,this._bToggleEnabled=!1,this._bToggled=!1,this._bDuringInit=!1},t.Button.prototype.isEnabled=function(){return this._enabled},t.Button.prototype.setEnabled=function(e){if(this._enabled!=e){this._enabled=e;var i=t.Agent.isTouchDevice()?t.TouchEvent.TOUCHSTART:t.MouseEvent.CLICK;e?(this.addEvtListener(t.MouseEvent.MOUSEOVER,this.OnMouseOver,!1,this),this.addEvtListener(t.MouseEvent.MOUSEOUT,this.OnMouseOut,!1,this),this.addEvtListener(t.MouseEvent.MOUSEDOWN,this.OnMouseDown,!1,this),this.addEvtListener(t.MouseEvent.MOUSEUP,this.OnMouseUp,!1,this),this.addEvtListener(i,this.OnClick,!1,this),this.setCursor(t.SelectionEffectUtils.getSelectingCursor())):(this.removeEvtListener(t.MouseEvent.MOUSEOVER,this.OnMouseOver,!1,this),this.removeEvtListener(t.MouseEvent.MOUSEOUT,this.OnMouseOut,!1,this),this.removeEvtListener(t.MouseEvent.MOUSEDOWN,this.OnMouseDown,!1,this),this.removeEvtListener(t.MouseEvent.MOUSEUP,this.OnMouseUp,!1,this),this.removeEvtListener(i,this.OnClick,!1,this),this.setCursor(null)),this.initState()}},t.Button.prototype.OnMouseOver=function(t){this._bToggled?this.drawOverDownState():this.drawOverState()},t.Button.prototype.OnMouseOut=function(t){this._bToggled?this.drawDownState():this.drawUpState()},t.Button.prototype.OnMouseDown=function(t){this.drawDownState()},t.Button.prototype.OnMouseUp=function(e){this._bToggled?t.Agent.isTouchDevice()?this.drawDownState():this.drawOverDownState():t.Agent.isTouchDevice()?this.drawUpState():this.drawOverState()},t.Button.prototype.OnClick=function(e){this._bToggleEnabled&&(this._bToggled=!this._bToggled,this._bToggled?t.Agent.isTouchDevice()?this.drawDownState():this.drawOverDownState():t.Agent.isTouchDevice()?this.drawUpState():this.drawOverState()),this._callback&&(this._callback.call(this._callbackObj,e,this),e.stopPropagation(),e.preventDefault())},t.Button.prototype.drawUpState=function(){this._enableButton(this.upState,!0),this._enableButton(this.downState,!1),this._enableButton(this.overState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},t.Button.prototype.drawOverState=function(){this._enableButton(this.upState,!1),this._enableButton(this.downState,!1),this._enableButton(this.overState,!0),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},t.Button.prototype.drawDownState=function(){this._enableButton(this.upState,!1),this._enableButton(this.downState,!0),this._enableButton(this.overState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},t.Button.prototype.drawDisabledState=function(){this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!0),this._enableButton(this.overDownState,!1)},t.Button.prototype.drawOverDownState=function(){this.overDownState?(this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!0)):this.drawDownState()},t.Button.prototype._enableButton=function(t,e){t&&t.setAlpha(e?1:0)},t.Button.prototype._enableMouseEvents=function(t,e){t.setMouseEnabled&&t.setMouseEnabled(e);for(var i=t.firstChild;null!=i;)this._enableMouseEvents(i,e),i=i.nextSibling},t.Button.prototype.setUpState=function(t){if(!this.upState||this.upState!=t){var e=!1;if(this.upState)e=this._isButtonEnabled(this.upState),this.removeChild(this.upState);else if(!this._bDuringInit){var i=!1,n=!1,o=!1;this.downState&&(i=this._isButtonEnabled(this.downState)),this.overState&&(n=this._isButtonEnabled(this.overState)),this.disabledState&&(o=this._isButtonEnabled(this.disabledState)),i||n||o||(e=!0)}t&&this.addChild(t),this.upState=t,this._enableButton(this.upState,e)}},t.Button.prototype.setDownState=function(t){if(!this.downState||this.downState!=t){var e=!1;this.downState&&(e=this._isButtonEnabled(this.downState),this.removeChild(this.downState)),t&&this.addChild(t),this.downState=t,this._enableButton(this.downState,e)}},t.Button.prototype.setOverState=function(t){if(!this.overState||this.overState!=t){var e=!1;this.overState&&(e=this._isButtonEnabled(this.overState),this.removeChild(this.overState)),t&&this.addChild(t),this.overState=t,this._enableButton(this.overState,e)}},t.Button.prototype.setDisabledState=function(t){if(!this.disabledState||this.disabledState==t){var e=!1;this.disabledState&&(e=this._isButtonEnabled(this.disabledState),this.removeChild(this.disabledState)),t&&this.addChild(t),this.disabledState=t,this._enableButton(this.disabledState,e)}},t.Button.prototype.setOverDownState=function(t){if(!this.overDownState||this.overDownState==t){var e=!1;this.overDownState&&(e=this._isButtonEnabled(this.overDownState),this.removeChild(this.overDownState)),t&&this.addChild(t),this.overDownState=t,this._enableButton(this.overDownState,e)}},t.Button.prototype.setCallback=function(t,e){this._callback=t,this._callbackObj=e},t.Button.prototype.setTooltip=function(t){this._tooltip=t,t&&(this.setAriaRole("button"),this.setAriaProperty("label",t))},t.Button.prototype.getTooltip=function(){return this._tooltip},t.Button.prototype.initState=function(){this.isEnabled()?this.drawUpState():this.drawDisabledState()},t.Button.prototype.setToggleEnabled=function(t){this._bToggleEnabled=t},t.Button.prototype.setToggled=function(t){this._bToggleEnabled&&(this._bToggled=t,this._bToggled?this.drawDownState():this.drawUpState())},t.Button.prototype.isToggled=function(){return this._bToggled},t.Button.prototype._isButtonEnabled=function(t){var e=!1;return t&&(e=t.getAlpha()>0),e},t.Button.prototype.showKeyboardFocusEffect=function(){this._keyboardFocusEffect||(this._keyboardFocusEffect=this.CreateKeyboardFocusEffect()),this._keyboardFocusEffect.show(),this._isShowingKeyboardFocusEffect=!0,this.getCtx().setActiveElement(this)},t.Button.prototype.hideKeyboardFocusEffect=function(){this._keyboardFocusEffect&&this._keyboardFocusEffect.hide(),this._isShowingKeyboardFocusEffect=!1},t.Button.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},t.Button.prototype.CreateKeyboardFocusEffect=function(){return new t.KeyboardFocusEffect(this.getCtx(),this,this.getDimensions(),null,null,!0)},t.Button.prototype.handleKeyboardEvent=function(e){var i=e.keyCode;i!=t.KeyboardEvent.ENTER&&i!=t.KeyboardEvent.SPACE||this._callback&&(this._callback.call(this._callbackObj,e,this),e.stopPropagation(),e.preventDefault())},t.TransientButton=function(t,e,i,n,o,r,s){this.Init(t,e,i,n,o,r,s)},t.Obj.createSubclass(t.TransientButton,t.Button),t.TransientButton._DEFAULT_RADIUS=15.5,t.TransientButton.prototype.Init=function(e,i,n,o,r,s,a){t.TransientButton.superclass.Init.call(this,e,i,n,o,r,null,a,s);var l=e.getStage();l.addEvtListener(p.FOCUS,this._onFocus,!0,this),l.addEvtListener(p.BLUR,this._onBlur,!0,this),t.Agent.isTouchDevice()||("ie"===t.Agent.browser||"edge"===t.Agent.browser?(l.addEvtListener("mouseenter",this._onMouseOver,!1,this),l.addEvtListener("mouseleave",this._onMouseOut,!1,this)):(l.addEvtListener(t.MouseEvent.MOUSEOVER,this._onMouseOver,!1,this),l.addEvtListener(t.MouseEvent.MOUSEOUT,this._onMouseOut,!1,this)))},t.TransientButton.getStateFromURL=function(e,i,n,o,r,s){var a=t.TransientButton._DEFAULT_RADIUS,l=a/2,h=new t.Circle(e,a,a,a);h.setSolidFill(r),h.setSolidStroke(s);var u=new t.Image(e,i,l,l,n,o);return h.addChild(u),h},t.TransientButton.prototype.show=function(){this.setAlpha(1)},t.TransientButton.prototype.hide=function(){this.setAlpha(0)},t.TransientButton.prototype._onFocus=function(t){this._isFocused=!0,this.show()},t.TransientButton.prototype._onBlur=function(t){this._isFocused=!1,this._isMouseOver||this.hide()},t.TransientButton.prototype._onMouseOver=function(t){this._mouseOutTimer&&this._mouseOutTimer.isRunning()&&this._mouseOutTimer.stop(),this._isMouseOver=!0,this.show()},t.TransientButton.prototype._onMouseOut=function(e){this._mouseOutTimer||(this._mouseOutTimer=new t.Timer(this.getCtx(),10,this._onMouseOutTimerEnd,this,1)),this._mouseOutTimer.reset(),this._mouseOutTimer.start()},t.TransientButton.prototype._onMouseOutTimerEnd=function(){this._isMouseOver=!1,this._isFocused||this.hide()},t.TransientButton.prototype.OnMouseDown=function(e){t.TransientButton.superclass.OnMouseDown.call(this,e),e.stopPropagation()},t.TransientButton.prototype.OnMouseUp=function(e){t.TransientButton.superclass.OnMouseUp.call(this,e),e.stopPropagation()},t.CustomDatatipPeer=function(t,e,i,n){this.Init(t,e,i,n)},t.Obj.createSubclass(t.CustomDatatipPeer,t.Obj),t.CustomDatatipPeer.prototype.Init=function(t,e,i,n){this._tooltipManager=t,this._tooltipFunc=e,this._datatipColor=i,this._dataContext=n},t.CustomDatatipPeer.prototype.getDatatip=function(t){return this._tooltipManager.getCustomTooltip(this._tooltipFunc,this._dataContext)},t.CustomDatatipPeer.prototype.getDatatipColor=function(t){return this._datatipColor},t.SimpleObjPeer=function(t,e,i,n){this.Init(t,e,i,n)},t.Obj.createSubclass(t.SimpleObjPeer,t.Obj),t.SimpleObjPeer.prototype.Init=function(t,e,i,n){this._tooltip=t,this._datatip=e,this._datatipColor=i,this._params=n},t.SimpleObjPeer.prototype.getParams=function(){return this._params},t.SimpleObjPeer.prototype.getTooltip=function(t){return this._tooltip},t.SimpleObjPeer.prototype.getDatatip=function(t){return"function"==typeof this._datatip?this._datatip():this._datatip},t.SimpleObjPeer.prototype.getDatatipColor=function(t){return"function"==typeof this._datatipColor?this._datatipColor():this._datatipColor},t.Agent=function(){},t.Agent.setAgentInfo=function(t){S=t},t.Agent.getAgentInfo=function(){return S},Object.defineProperty(t.Agent,"browser",{enumerable:!0,get:function(){return t.Agent.getAgentInfo().browser}}),Object.defineProperty(t.Agent,"version",{enumerable:!0,get:function(){return t.Agent.getAgentInfo().browserVersion}}),Object.defineProperty(t.Agent,"os",{enumerable:!0,get:function(){return t.Agent.getAgentInfo().os.toLowerCase()}}),t.Obj.createSubclass(t.Agent,t.Obj),t.Agent.FOCUS_COLOR_DEFAULT="#0645AD",t.Agent.FOCUS_COLOR_IE="#090909",t.Agent.deferAriaCreation=function(){return!t.Agent.isTouchDevice()&&!t.Agent.isEnvironmentTest()},t.Agent.getDevicePixelRatio=function(){return t.Agent._initialize(),t.Agent._devicePixelRatio},t.Agent.getElementPosition=function(e){return"ie"===t.Agent.browser||"edge"===t.Agent.browser?t.Agent._getElementPositionIE(e):t.Agent._getElementPositionDefault(e)},t.Agent.isRightToLeft=function(e){return t.Agent._initialize(),e&&null!=e.getReadingDirection()?"rtl"==e.getReadingDirection():t.Agent._bRtl},t.Agent.isTouchDevice=function(){return t.Agent._initialize(),t.Agent._bTouchDevice},t.Agent.setEnvironment=function(e){t.Agent._environment=e},t.Agent.isEnvironmentTest=function(){return"test"==t.Agent._environment},t.Agent.setHighContrast=function(e){t.Agent._highContrast=e},t.Agent.isHighContrast=function(){return!0===t.Agent._highContrast},t.Agent.workaroundFirefoxRepaint=function(e){if("firefox"===t.Agent.browser){var i=e.getParent();if(i){var n=i.getChildIndex(e);i.removeChildAt(n),i.addChildAt(e,n)}}},t.Agent._initialize=function(){t.Agent._bInitialized||(t.Agent._bRtl=!(!document||!document.documentElement)&&"rtl"==document.documentElement.dir,t.Agent._bTouchDevice=!("chrome"!==t.Agent.browser&&"safari"!==t.Agent.browser||"ios"!==t.Agent.os&&"android"!==t.Agent.os),t.Agent._devicePixelRatio=window&&null!=window.devicePixelRatio?window.devicePixelRatio:1,t.Agent._bInitialized=!0)},t.Agent._getElementPositionDefault=function(e){var i=e.getBoundingClientRect(),n=Math.round(i.top),o=i.left,r=e.ownerDocument.documentElement,s=e.ownerDocument.body;return o+=r.scrollLeft||s.scrollLeft,n+=r.scrollTop||s.scrollTop,new t.Point(o,n)},t.Agent._getElementPositionIE=function(e){var i=e.getBoundingClientRect(),n=i.top,o=i.left,r=e.ownerDocument.documentElement,s=r.scrollLeft;return o-=r.clientLeft-s,n-=r.clientTop-r.scrollTop,new t.Point(o,n)},t.Agent.getFocusColor=function(){if(t.Agent._initialize(),!t.Agent._focusColor){var e;if("chrome"===t.Agent.browser||"safari"===t.Agent.browser){var i=document.getElementsByTagName("body")[0],n=document.createElement("div");i.appendChild(n),n.style.outline="-webkit-focus-ring-color",e=window.getComputedStyle(n).getPropertyValue("outline-color"),i.removeChild(n)}else"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||(e=t.Agent.FOCUS_COLOR_IE);t.Agent._focusColor=e||t.Agent.FOCUS_COLOR_DEFAULT}return t.Agent._focusColor},t.Automation=function(t){},t.Obj.createSubclass(t.Automation,t.Obj),t.Automation.TOOLTIP_SUBID="tooltip",t.Automation.prototype.getSubIdForDomElement=function(e){var i=t.Automation._findDisplayable(e);return!i||i instanceof Array?e&&this.IsTooltipElement(e)?t.Automation.TOOLTIP_SUBID:null:this.GetSubIdForDomElement(i)},t.Automation.prototype.GetSubIdForDomElement=function(t){return null},t.Automation.prototype.getDomElementForSubId=function(t){return null},t.Automation._findDisplayable=function(t){for(;t;){if(t._obj)return t._obj;t=t.parentNode}return null},t.Automation.prototype.GetTooltipElement=function(t,e){if(t){var i=t.getCtx().getTooltipManager(e).getTooltipElem();return"hidden"==i.style.visibility?null:i}return null},t.Automation.prototype.IsTooltipElement=function(e){var i=e.getAttribute("id");return!(!i||0!=i.indexOf(t.HtmlTooltipManager._TOOLTIP_DIV_ID))},t.SelectionHandler=function(t,e){this.Init(t,e)},t.Obj.createSubclass(t.SelectionHandler,t.Obj),t.SelectionHandler.TYPE_SINGLE="s",t.SelectionHandler.TYPE_MULTIPLE="m",t.SelectionHandler.prototype.Init=function(e,i){this._context=e,this._selection=[],this._type=i||t.SelectionHandler.TYPE_SINGLE,this._hiddenSelectedIds=[]},t.SelectionHandler.prototype.getType=function(){return this._type},t.SelectionHandler.prototype.getSelectedCount=function(){return this._selection.length},t.SelectionHandler.prototype.getSelection=function(){return this._selection.slice(0)},t.SelectionHandler.prototype.getSelectedIds=function(){for(var t=[],e=0;e<this._selection.length;e++)t.push(this._selection[e].getId());return t.concat(this._hiddenSelectedIds)},t.SelectionHandler.prototype.processInitialSelections=function(t,e){if(this.clearSelection(!0),t&&e){for(var i=new this._context.KeySetImpl(t),n=new Map,o=0,r=0;o!==t.length&&r<e.length;r++){if((a=e[r]).isSelectable&&a.isSelectable()){var s=i.get(a.getId());s!==i.NOT_A_KEY&&(o++,n.set(s,a))}}for(r=0;r<t.length;r++){var a;(a=n.get(t[r]))?this._addToSelection(a,!0,!0):this._hiddenSelectedIds.push(t[r])}}},t.SelectionHandler.prototype.processClick=function(e,i){if(e&&e.isUnrelatedToSelection&&e.isUnrelatedToSelection())return!1;var n=!1;return i&&this._type==t.SelectionHandler.TYPE_MULTIPLE?e&&e.isSelectable&&e.isSelectable()&&(n=e.isSelected()?this._removeFromSelection(e):this._addToSelection(e,!0)):n=e&&e.isSelectable&&e.isSelectable()?this._addToSelection(e,!1):this.clearSelection(),n},t.SelectionHandler.prototype.processGroupSelection=function(t,e){var i;e||this.clearSelection();for(var n=0;n<t.length;n++)(i=t[n])&&i.isUnrelatedToSelection&&i.isUnrelatedToSelection()||this._addToSelection(i,!0)},t.SelectionHandler.prototype.processMouseOver=function(t){t&&t.isSelectable&&t.isSelectable()&&t.showHoverEffect&&t.showHoverEffect()},t.SelectionHandler.prototype.processMouseOut=function(t){t&&t.isSelectable&&t.isSelectable()&&t.hideHoverEffect&&t.hideHoverEffect()},t.SelectionHandler.prototype._addToSelection=function(t,e,i){return!(t.isSelected()||t.isSelectable&&!t.isSelectable())&&(e||this.clearSelection(i),t.setSelected(!0,i),this._selection.push(t),!0)},t.SelectionHandler.prototype._removeFromSelection=function(t){if(!t.isSelected())return!1;t.setSelected(!1);for(var e=0;e<this._selection.length;e++)if(this._selection[e]==t){this._selection.splice(e,1);break}return!0},t.SelectionHandler.prototype.clearSelection=function(t){if(this._selection.length<=0&&this._hiddenSelectedIds.length<=0)return!1;for(;this._selection.length>0;){this._selection.pop().setSelected(!1,t)}return this._hiddenSelectedIds.length=0,!0},t.KeyboardHandler=function(t){this.Init(t)},t.Obj.createSubclass(t.KeyboardHandler,t.Obj),t.KeyboardHandler.prototype.Init=function(t){this._eventManager=t},t.KeyboardHandler.prototype.processKeyDown=function(e){var i=this._eventManager.getFocus();return i&&(this.isNavigationEvent(e)||this.isMultiSelectEvent(e))?(t.EventManager.consumeEvent(e),i.getNextNavigable(e)):null},t.KeyboardHandler.getNextNavigable=function(e,i,n,o,r){var s=null,a=0,l=0,h=i.keyCode;if(!e)return!n||n.length<1?null:n[0];for(var u,c=e.getKeyboardBoundingBox(r),p=0;p<n.length;p++){var _=n[p];e!==_&&(u=_.getKeyboardBoundingBox(r),(o||t.KeyboardHandler._isInBounds(c,u,h))&&(l=t.KeyboardHandler._computeDelta(c,u,h),((h==t.KeyboardEvent.UP_ARROW||h==t.KeyboardEvent.LEFT_ARROW)&&l<0&&(!s||l>a)||(h==t.KeyboardEvent.DOWN_ARROW||h==t.KeyboardEvent.RIGHT_ARROW)&&l>0&&(!s||l<a))&&(s=_,a=l)))}return s||e},t.KeyboardHandler.prototype.getDefaultNavigable=function(e){if(!e||e.length<=0)return null;for(var i,n,o=e[0],r=o.getKeyboardBoundingBox(),s=1;s<e.length;s++)(((n=(i=e[s]).getKeyboardBoundingBox()).x==r.x&&n.y<r.y||n.x<r.x)&&!t.Agent.isRightToLeft(this._eventManager.getCtx())||(n.x+n.w==r.x+r.w&&n.y<r.y||n.x+n.w>r.x+r.w)&&t.Agent.isRightToLeft(this._eventManager.getCtx()))&&(r=(o=i).getKeyboardBoundingBox());return o},t.KeyboardHandler.prototype.isNavigationEvent=function(e){switch(e.keyCode){case t.KeyboardEvent.UP_ARROW:case t.KeyboardEvent.DOWN_ARROW:case t.KeyboardEvent.LEFT_ARROW:case t.KeyboardEvent.RIGHT_ARROW:return!0}return!1},t.KeyboardHandler.prototype.isSelectionEvent=function(t){return!1},t.KeyboardHandler.prototype.isMultiSelectEvent=function(t){return!1},t.KeyboardHandler._isInBounds=function(e,i,n){if(n==t.KeyboardEvent.UP_ARROW||n==t.KeyboardEvent.DOWN_ARROW){var o=e.x,r=o+e.w,s=i.x;return!(o>=s+i.w||r<=s)}if(n==t.KeyboardEvent.LEFT_ARROW||n==t.KeyboardEvent.RIGHT_ARROW){var a=e.y,l=a+e.h,h=i.y;return!(a>=h+i.h||l<=h)}},t.KeyboardHandler._computeDelta=function(e,i,n){var o=0,r=e.getCenter().x,s=e.getCenter().y,a=i.getCenter().x,l=i.getCenter().y;return n==t.KeyboardEvent.UP_ARROW||n==t.KeyboardEvent.DOWN_ARROW?o=l-s:n!=t.KeyboardEvent.LEFT_ARROW&&n!=t.KeyboardEvent.RIGHT_ARROW||(o=a-r),o},t.KeyboardHandler.getNextAdjacentNavigable=function(e,i,n){var o=i.keyCode;if(!n)return null;if(!e)return n[0];for(var r=e,s=Number.MAX_VALUE,a=!1,l=!1,h=0;h<n.length;h++){var u=n[h];if(u!==e){if(t.KeyboardHandler._isValidDestination(u,e,o)){var c=t.KeyboardHandler._calcInContact(u,e,o);if(!a||c){var p=t.KeyboardHandler._calcDistanceAngleWeighted(u,e,o);(0!=p||l)&&(!a&&c||p<s&&(a&&c||!a))&&(s=p,r=u,a=c)}}}else l=!0}return r},t.KeyboardHandler._calcInContact=function(e,i,n){var o=e.getKeyboardBoundingBox(),r=i.getKeyboardBoundingBox();switch(n){case t.KeyboardEvent.UP_ARROW:return t.KeyboardHandler._isVerticallyAligned(o,r)&&(r.y<=o.y+o.h||t.KeyboardHandler._areEqualWithinTolerance(r.y,o.y+o.h));case t.KeyboardEvent.DOWN_ARROW:return t.KeyboardHandler._isVerticallyAligned(o,r)&&(o.y<=r.y+r.h||t.KeyboardHandler._areEqualWithinTolerance(o.y,r.y+r.h));case t.KeyboardEvent.RIGHT_ARROW:return t.KeyboardHandler._isHorizontallyAligned(o,r)&&(o.x<=r.x+r.w||t.KeyboardHandler._areEqualWithinTolerance(o.x,r.x+r.w));case t.KeyboardEvent.LEFT_ARROW:return t.KeyboardHandler._isHorizontallyAligned(o,r)&&(r.x<=o.x+o.w||t.KeyboardHandler._areEqualWithinTolerance(r.x,o.x+o.w))}return!1},t.KeyboardHandler._isVerticallyAligned=function(t,e){return t.x>=e.x&&t.x<=e.x+e.w||e.x>=t.x&&e.x<=t.x+t.w},t.KeyboardHandler._isHorizontallyAligned=function(t,e){return t.y>=e.y&&t.y<=e.y+e.h||e.y>=t.y&&e.y<=t.y+t.h},t.KeyboardHandler._calcDistanceAngleWeighted=function(e,i,n){var o=15/180*Math.PI,r=40/180*Math.PI,s=e.getKeyboardBoundingBox(),a=s.x+s.w/2,l=s.y+s.h/2,h=i.getKeyboardBoundingBox(),u=h.x+h.w/2,c=h.y+h.h/2,p=Math.abs(a-u),_=Math.abs(l-c),g=Math.atan2(_,p),d=Math.sqrt(p*p+_*_);return(g>o&&(n==t.KeyboardEvent.RIGHT_ARROW||n==t.KeyboardEvent.LEFT_ARROW)||g<t.Math.HALF_PI-o&&(n==t.KeyboardEvent.UP_ARROW||n==t.KeyboardEvent.DOWN_ARROW))&&(g>r&&(n==t.KeyboardEvent.RIGHT_ARROW||n==t.KeyboardEvent.LEFT_ARROW)||g<t.Math.HALF_PI-r&&(n==t.KeyboardEvent.UP_ARROW||n==t.KeyboardEvent.DOWN_ARROW)?d*=6:d*=2),d},t.KeyboardHandler._isValidDestination=function(e,i,n){var o=e.getKeyboardBoundingBox(),r=i.getKeyboardBoundingBox();switch(n){case t.KeyboardEvent.UP_ARROW:return o.y<r.y||t.KeyboardHandler._areEqualWithinTolerance(o.y,r.y);case t.KeyboardEvent.DOWN_ARROW:return o.y>r.y||t.KeyboardHandler._areEqualWithinTolerance(o.y,r.y);case t.KeyboardEvent.RIGHT_ARROW:return o.x>r.x||t.KeyboardHandler._areEqualWithinTolerance(o.x,r.x);case t.KeyboardEvent.LEFT_ARROW:return o.x<r.x||t.KeyboardHandler._areEqualWithinTolerance(o.x,r.x)}return!0},t.KeyboardHandler._areEqualWithinTolerance=function(t,e){return Math.abs(t-e)<=1e-7},t.MarqueeHandler=function(t,e,i,n,o,r,s,a,l){this.Init(t,e,i,n,o,r,s,a,l)},t.Obj.createSubclass(t.MarqueeHandler,t.Obj),t.MarqueeHandler.prototype.Init=function(e,i,n,o,r,s,a,l,h){this._context=e.getCtx(),this._container=e,this._bounds=i,this._fill=o,this._stroke=r,this._allowHoriz=null==s||s,this._allowVert=null==a||a,this._horizBounds=l,this._vertBounds=h,this._glassPane=new t.Rect(this._context,n.x,n.y,n.w,n.h),this._glassPane.setInvisibleFill(),this._marqueeOn=!1,this._marqueeDrawn=!1,this._resizeHoriz=!1,this._resizeVert=!1},t.MarqueeHandler.prototype.processDragStart=function(t,e){if(!this._marqueeOn){if(this._origPt=this._container.stageToLocal(t),this._resizeHoriz=this._allowHoriz,this._resizeVert=this._allowVert,!this._bounds.containsPoint(this._origPt.x,this._origPt.y))if(this._vertBounds&&this._vertBounds.containsPoint(this._origPt.x,this._origPt.y))this._resizeHoriz=!1;else{if(!this._horizBounds||!this._horizBounds.containsPoint(this._origPt.x,this._origPt.y))return null;this._resizeVert=!1}return this._marqueeOn=!0,this._marquee=null,this._createMarqueeEvent("start",e)}return null},t.MarqueeHandler.prototype.processDragMove=function(e,i){if(!this._marqueeOn)return null;this._marqueeDrawn||(this._container.addChild(this._glassPane),this._marquee=new t.Rect(this._context,this._bounds.x,this._bounds.y,this._bounds.w,this._bounds.h),this._marquee.getElem().setAttribute("pointer-events","none"),this._resizeHoriz&&(this._marquee.setX(this._origPt.x),this._marquee.setWidth(0)),this._resizeVert&&(this._marquee.setY(this._origPt.y),this._marquee.setHeight(0)),this._marquee.setStroke(this._stroke),this._marquee.setFill(this._fill),this._marquee.setPixelHinting(!0),this._glassPane.addChild(this._marquee),this._marqueeDrawn=!0);var n=this._container.stageToLocal(e);return n.x=Math.max(n.x,this._bounds.x),n.x=Math.min(n.x,this._bounds.x+this._bounds.w),n.y=Math.max(n.y,this._bounds.y),n.y=Math.min(n.y,this._bounds.y+this._bounds.h),this._resizeHoriz&&(this._marquee.setWidth(Math.abs(n.x-this._origPt.x)),n.x<this._origPt.x?this._marquee.setX(n.x):this._marquee.setX(this._origPt.x)),this._resizeVert&&(this._marquee.setHeight(Math.abs(n.y-this._origPt.y)),n.y<this._origPt.y?this._marquee.setY(n.y):this._marquee.setY(this._origPt.y)),this._createMarqueeEvent("move",i)},t.MarqueeHandler.prototype.processDragEnd=function(t,e){return this._marqueeOn&&(this._marqueeOn=!1,this._marqueeDrawn)?(this._glassPane.removeChild(this._marquee),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,this._createMarqueeEvent("end",e)):null},t.MarqueeHandler.prototype.cancelMarquee=function(){return!(!this._marqueeOn||(this._marqueeOn=!1,!this._marqueeDrawn))&&(this._glassPane.removeChild(this._marquee),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,!0)},t.MarqueeHandler.prototype._createMarqueeEvent=function(e,i){var n=null,o=null,r=null,s=null;return this._resizeHoriz&&(n=this._marquee?this._marquee.getX():this._origPt.x,r=this._marquee?this._marquee.getWidth():0),this._resizeVert&&(o=this._marquee?this._marquee.getY():this._origPt.y,s=this._marquee?this._marquee.getHeight():0),new t.EventFactory.newMarqueeEvent(e,n,o,r,s,i)},t.MarqueeHandler.prototype.getCursor=function(t){var e=this._container.stageToLocal(t),i=this._bounds.containsPoint(e.x,e.y),n=this._vertBounds&&this._vertBounds.containsPoint(e.x,e.y),o=this._horizBounds&&this._horizBounds.containsPoint(e.x,e.y);return i||n||o?"crosshair":"inherit"},t.MarqueeHandler.prototype.getGlassPane=function(){return this._glassPane},t.PanZoomHandler=function(t,e,i,n){this.Init(t,e,i,n)},t.Obj.createSubclass(t.PanZoomHandler,t.Obj),t.PanZoomHandler.prototype.Init=function(e,i,n,o){this._context=e.getCtx(),this._container=e,this._bounds=i,this._zoomRate=o,this._glassPane=new t.Rect(this._context,n.x,n.y,n.w,n.h),this._glassPane.setInvisibleFill(),this._panOn=!1,this._glassPaneDrawn=!1,this._pinchOn=!1},t.PanZoomHandler.prototype.processDragStart=function(e){return this._panOn?null:(this._origPt=this._container.stageToLocal(e),this._lastPt=this._origPt,this._bounds.containsPoint(this._origPt.x,this._origPt.y)?(this._panOn=!0,t.EventFactory.newPanZoomEvent("panStart",0,0,0,0,0,0,0,0)):null)},t.PanZoomHandler.prototype.processDragMove=function(e){if(!this._panOn)return null;this._glassPaneDrawn||(this._container.addChild(this._glassPane),this._glassPaneDrawn=!0);var i=this._container.stageToLocal(e),n=i.x-this._lastPt.x,o=i.y-this._lastPt.y,r=i.x-this._origPt.x,s=i.y-this._origPt.y;return this._lastPt=i,t.EventFactory.newPanZoomEvent("panMove",-n,-n,-o,-o,-r,-r,-s,-s)},t.PanZoomHandler.prototype.processDragEnd=function(e){if(this._panOn&&(this._panOn=!1,this._glassPaneDrawn)){this._container.removeChild(this._glassPane),this._glassPaneDrawn=!1;var i=e?this._container.stageToLocal(e):this._lastPt,n=i.x-this._lastPt.x,o=i.y-this._lastPt.y,r=i.x-this._origPt.x,s=i.y-this._origPt.y;return this._lastPt=null,t.EventFactory.newPanZoomEvent("panEnd",-n,-n,-o,-o,-r,-r,-s,-s)}return null},t.PanZoomHandler.prototype.processMouseWheel=function(e,i){var n=this._container.stageToLocal(e);if(!this._bounds.containsPoint(n.x,n.y))return null;var o=(i*=this._zoomRate)*(n.x-this._bounds.x),r=-i*(this._bounds.x+this._bounds.w-n.x),s=i*(n.y-this._bounds.y),a=-i*(this._bounds.y+this._bounds.h-n.y);return t.EventFactory.newPanZoomEvent("zoom",o,r,s,a,o,r,s,a)},t.PanZoomHandler.prototype.processPinchStart=function(e,i){return this._pinchOn?null:(this._origPt1=this._container.stageToLocal(e),this._origPt2=this._container.stageToLocal(i),this._lastPt1=this._origPt1,this._lastPt2=this._origPt2,this._bounds.containsPoint(this._origPt1.x,this._origPt1.y)&&this._bounds.containsPoint(this._origPt2.x,this._origPt2.y)?(this._pinchOn=!0,t.EventFactory.newPanZoomEvent("pinchStart",0,0,0,0,0,0,0,0)):null)},t.PanZoomHandler.prototype.processPinchMove=function(e,i){if(!this._pinchOn)return null;var n=this._container.stageToLocal(e),o=this._container.stageToLocal(i),r=this._computePinchDeltas(n,o,this._lastPt1,this._lastPt2),s=this._computePinchDeltas(n,o,this._origPt1,this._origPt2);return this._lastPt1=n,this._lastPt2=o,t.EventFactory.newPanZoomEvent("pinchMove",r.dxMin,r.dxMax,r.dyMin,r.dyMax,s.dxMin,s.dxMax,s.dyMin,s.dyMax)},t.PanZoomHandler.prototype.processPinchEnd=function(){if(this._pinchOn){this._pinchOn=!1;var e=this._computePinchDeltas(this._lastPt1,this._lastPt2,this._origPt1,this._origPt2);return this._lastPt1=null,this._lastPt2=null,t.EventFactory.newPanZoomEvent("pinchEnd",0,0,0,0,e.dxMin,e.dxMax,e.dyMin,e.dyMax)}return null},t.PanZoomHandler.prototype._computePinchDeltas=function(t,e,i,n){var o=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),s=Math.abs(i.x-n.x),a=Math.abs(i.y-n.y),l=o>r/2?s/o:1,h=r>o/2?a/r:1,u=(t.x+e.x)/2,c=(t.y+e.y)/2,p=u-(i.x+n.x)/2,_=c-(i.y+n.y)/2,g=(1-l)*(u-this._bounds.x),d=(l-1)*(this._bounds.x+this._bounds.w-u),S=(1-h)*(c-this._bounds.y),f=(h-1)*(this._bounds.y+this._bounds.h-c);return{dxMin:g-=p,dxMax:d-=p,dyMin:S-=_,dyMax:f-=_}},t.PanZoomHandler.prototype.zoomBy=function(e){var i=(1/e-1)/2,n=-i*this._bounds.w,o=i*this._bounds.w,r=-i*this._bounds.h,s=i*this._bounds.h;return t.EventFactory.newPanZoomEvent("zoom",n,o,r,s,n,o,r,s)},t.PanZoomHandler.prototype.panBy=function(e,i){var n=e*this._bounds.w*(t.Agent.isRightToLeft(this._context)?-1:1),o=i*this._bounds.h;return t.EventFactory.newPanZoomEvent("panEnd",n,n,o,o,n,n,o,o)},t.PanZoomHandler.prototype.setPanCursor=function(e,i){"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser&&(e&&(this._panUpCursor="url("+e+") 8 8, auto"),i&&(this._panDownCursor="url("+i+") 8 8, auto"))},t.PanZoomHandler.prototype.getCursor=function(t){return null==t||this.isWithinBounds(t)?this._panOn?this._panDownCursor?this._panDownCursor:"move":this._panUpCursor?this._panUpCursor:"move":"inherit"},t.PanZoomHandler.prototype.isWithinBounds=function(t){var e=this._container.stageToLocal(t);return this._bounds.containsPoint(e.x,e.y)},t.CategoryRolloverHandler=function(e,i){this._callback=e,this._callbackObj=i,this._source=i,this._bHighlightMode=!1,this._hoverDelayCallback=null,this._highlightModeTimeout=null,this._hoverDelay=t.CategoryRolloverHandler._HOVER_DELAY},t.Obj.createSubclass(t.CategoryRolloverHandler,t.Obj),t.CategoryRolloverHandler._HOVER_DELAY=50,t.CategoryRolloverHandler._HOVER_TIMEOUT=1e3,t.CategoryRolloverHandler._ROLLOUT_TIMEOUT=250,t.CategoryRolloverHandler._FADE_OUT_OPACITY=.35,t.CategoryRolloverHandler.prototype.processEvent=function(e,i,n,o,r){if(e&&i&&0!=i.length){this._hoverDelayCallback&&(clearTimeout(this._hoverDelayCallback),this._hoverDelayCallback=null);var s=e._highlightType;if("over"==s){var a=this._bHighlightMode?this._hoverDelay:n;this._hoverDelayCallback=setTimeout(this.GetRolloverCallback(e,i,o,r),a),this._highlightModeTimeout&&(clearInterval(this._highlightModeTimeout),this._highlightModeTimeout=null)}else if("out"==s){var l=this._bHighlightMode?this._hoverDelay:t.CategoryRolloverHandler._ROLLOUT_TIMEOUT;this._hoverDelayCallback=setTimeout(this.GetRolloutCallback(e,i,o,r),l)}}},t.CategoryRolloverHandler.prototype.GetRolloverCallback=function(e,i,n,o){return t.Obj.createCallback(this,function(){this._bHighlightMode=!0,t.CategoryRolloverHandler.highlight(e.categories,i,n,o),this._callback&&this._callback.call(this._callbackObj,e,this._source)})},t.CategoryRolloverHandler.prototype.GetRolloutCallback=function(e,i,n,o){return t.Obj.createCallback(this,function(){t.CategoryRolloverHandler.highlight(e.categories,i,n,o),this.SetHighlightModeTimeout(),this._callback&&this._callback.call(this._callbackObj,e,this._source)})},t.CategoryRolloverHandler.highlight=function(e,i,n,o){if(i)for(var r=o||t.CategoryRolloverHandler._FADE_OUT_OPACITY,s=0;s<i.length;s++){var a=i[s];if(a&&a.getCategories){var l=n?t.CategoryRolloverHandler._hasAnyCategory(a,e):t.CategoryRolloverHandler._hasAllCategories(a,e),h=e&&e.length>0&&!l;t.CategoryRolloverHandler._highlightObj(a,h,r)}}},t.CategoryRolloverHandler._highlightObj=function(e,i,n){var o=i?n:1;if(e.highlight)e.highlight(i,o);else{var r=e.getDisplayables();t.CategoryRolloverHandler._updateAlpha(r,o)}},t.CategoryRolloverHandler._updateAlpha=function(t,e){if(t)for(var i=0;i<t.length;i++)t[i].setAlpha(e)},t.CategoryRolloverHandler._hasAnyCategory=function(e,i){return!(!e||!e.getCategories)&&t.ArrayUtils.hasAnyItem(e.getCategories(),i)},t.CategoryRolloverHandler._hasAllCategories=function(e,i){return!(!e||!e.getCategories)&&t.ArrayUtils.hasAllItems(e.getCategories(),i)},t.CategoryRolloverHandler.prototype.SetHighlightMode=function(t){this._bHighlightMode=t},t.CategoryRolloverHandler.prototype.SetHighlightModeTimeout=function(){var e=t.Obj.createCallback(this,function(){this.SetHighlightMode(!1)});this._highlightModeTimeout=setTimeout(e,t.CategoryRolloverHandler._HOVER_TIMEOUT)},t.CategoryRolloverHandler.prototype.setHoverDelay=function(t){this._hoverDelay=t},t.EventManager=function(t,e,i,n){this.Init(t,e,i)},t.Obj.createSubclass(t.EventManager,t.Obj),t.EventManager.CLEAR_SELECTION_ACTION_TYPE="clearSelectionActionType",t.EventManager.TOUCH_RESPONSE_TOUCH_START="touchStart",t.EventManager.TOUCH_RESPONSE_TOUCH_HOLD="touchHold",t.EventManager.TOUCH_RESPONSE_AUTO="auto",t.EventManager._TOUCH_RESPONSE_PADDING_CHECK=10,t.EventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY="tooltipDisplayed",t.EventManager.prototype.Init=function(e,i,n,o){this._context=e,this._callback=i,this._callbackObj=n,this._component=o,this._touchMap={},this._selectionHandler=null,this.KeyboardHandler=null,this.RolloverHandler=this.CreateCategoryRolloverHandler(i,n),this.setTooltipsEnabled(!0);var r=e.getStage().getId();r||(r="undefinedId"),this.CustomTooltipManager=this._context.getCustomTooltipManager(),this.CustomTooltipManager.addTooltipEventListener("actionTooltipClosed",this.OnActionTooltipClosed,this),this.CustomTooltipManager.addTooltipEventListener("actionTooltipStarted",this.OnActionTooltipStarted,this),this.TouchManager=null,t.Agent.isTouchDevice()&&(this.TouchManager=new t.TouchManager("touchmanager",this._context,this)),this._focusedObj=null,this._shouldDisplayKeyboardFocus=!1,this._keyboardHandlers=[this],this._currentKeyboardHandlerIdx=-1,this._dndListeners={}},t.EventManager.prototype.getCtx=function(){return this._context},t.EventManager.prototype.associate=function(t,e,i){t&&(t._logicalObjects&&!i||(t._logicalObjects=[]),t._logicalObjects.push({logicalObject:e,eventManager:this}))},t.EventManager.prototype.addListeners=function(e){if(e&&(t.Agent.isTouchDevice()?(this.hideTooltip(),e.addEvtListener(t.TouchEvent.TOUCHSTART,this.OnTouchStartBubble,!1,this),e.addEvtListener(t.TouchEvent.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),e.addEvtListener(t.TouchEvent.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.addTouchEventListener(t.ComponentTouchEvent.TOUCH_HOVER_START_TYPE,this.OnComponentTouchHoverStart,this),this.TouchManager.addTouchEventListener(t.ComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,this.OnComponentTouchHoverMove,this),this.TouchManager.addTouchEventListener(t.ComponentTouchEvent.TOUCH_HOVER_END_TYPE,this.OnComponentTouchHoverEnd,this),this.TouchManager.addTouchEventListener(t.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,this.OnComponentTouchHoverOut,this),this.TouchManager.addTouchEventListener(t.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,this.OnComponentTouchHoverOver,this),this.TouchManager.addTouchEventListener(t.ComponentTouchEvent.TOUCH_CLICK_TYPE,this.OnComponentTouchClick,this),this.TouchManager.addTouchEventListener(t.ComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,this.OnComponentTouchDblClick,this)):(e.addEvtListener(t.MouseEvent.CLICK,this._onClick,!1,this),e.addEvtListener(t.MouseEvent.DBLCLICK,this._onDblClick,!1,this),e.addEvtListener("contextmenu",this.OnContextMenu,!1,this),e.addEvtListener(t.MouseEvent.MOUSEMOVE,this.OnMouseMove,!1,this),e.addEvtListener(t.MouseEvent.MOUSEOVER,this.PreOnMouseOver,!1,this),e.addEvtListener(t.MouseEvent.MOUSEOUT,this.PreOnMouseOut,!1,this),e.addEvtListener(t.MouseEvent.MOUSEDOWN,this.PreOnMouseDown,!1,this),e.addEvtListener(t.MouseEvent.MOUSEUP,this.OnMouseUp,!1,this),e.addEvtListener(t.KeyboardEvent.KEYDOWN,this.OnKeyDown,!1,this),e.addEvtListener(t.KeyboardEvent.KEYUP,this.OnKeyUp,!1,this),e.addEvtListener(p.FOCUS,this.OnFocus,!1,this),e.addEvtListener(p.BLUR,this.OnBlur,!1,this)),this.isDndSupported())){var i=this.getCtx();this.setDragSource(new t.DragSource(i)),this._addDndListener("dragstart",this.OnDndDragStart),this._addDndListener("drag",this.OnDndDrag),this._addDndListener("dragend",this.OnDndDragEnd),this._addDndListener("dragenter",this.OnDndDragEnter),this._addDndListener("dragover",this.OnDndDragOver),this._addDndListener("dragleave",this.OnDndDragLeave),this._addDndListener("drop",this.OnDndDrop);var n=i.getContainer();for(var o in this._dndListeners)t.ToolkitUtils.addDomEventListener(n,o,this._dndListeners[o],!1);this._context.addDndEventManager(this)}},t.EventManager.prototype._addDndListener=function(e,i){var n=t.SvgDocumentUtils.createStaticCallback(this.getCtx(),i,this);this._dndListeners[e]=n},t.EventManager.prototype.removeListeners=function(t,e){t&&(e||this.hideTooltip(),this.RemoveListeners(t))},t.EventManager.prototype.RemoveListeners=function(e){if(t.Agent.isTouchDevice()?(e.removeEvtListener(t.TouchEvent.TOUCHSTART,this.OnTouchStartBubble,!1,this),e.removeEvtListener(t.TouchEvent.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),e.removeEvtListener(t.TouchEvent.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.removeTouchEventListener(t.ComponentTouchEvent.TOUCH_HOVER_START_TYPE,this.OnComponentTouchHoverStart,this),this.TouchManager.removeTouchEventListener(t.ComponentTouchEvent.TOUCH_HOVER_MOVE_TYPE,this.OnComponentTouchHoverMove,this),this.TouchManager.removeTouchEventListener(t.ComponentTouchEvent.TOUCH_HOVER_END_TYPE,this.OnComponentTouchHoverEnd,this),this.TouchManager.removeTouchEventListener(t.ComponentTouchEvent.TOUCH_HOVER_OUT_TYPE,this.OnComponentTouchHoverOut,this),this.TouchManager.removeTouchEventListener(t.ComponentTouchEvent.TOUCH_HOVER_OVER_TYPE,this.OnComponentTouchHoverOver,this),this.TouchManager.removeTouchEventListener(t.ComponentTouchEvent.TOUCH_CLICK_TYPE,this.OnComponentTouchClick,this),this.TouchManager.removeTouchEventListener(t.ComponentTouchEvent.TOUCH_DOUBLE_CLICK_TYPE,this.OnComponentTouchDblClick,this)):(e.removeEvtListener(t.MouseEvent.CLICK,this._onClick,!1,this),e.removeEvtListener(t.MouseEvent.DBLCLICK,this._onDblClick,!1,this),e.removeEvtListener("contextmenu",this.OnContextMenu,!1,this),e.removeEvtListener(t.MouseEvent.MOUSEMOVE,this.OnMouseMove,!1,this),e.removeEvtListener(t.MouseEvent.MOUSEOVER,this.PreOnMouseOver,!1,this),e.removeEvtListener(t.MouseEvent.MOUSEOUT,this.PreOnMouseOut,!1,this),e.removeEvtListener(t.MouseEvent.MOUSEDOWN,this.PreOnMouseDown,!1,this),e.removeEvtListener(t.MouseEvent.MOUSEUP,this.OnMouseUp,!1,this),e.removeEvtListener(t.KeyboardEvent.KEYDOWN,this.OnKeyDown,!1,this),e.removeEvtListener(t.KeyboardEvent.KEYUP,this.OnKeyUp,!1,this),e.removeEvtListener(p.FOCUS,this.OnFocus,!1,this),e.removeEvtListener(p.BLUR,this.OnBlur,!1,this)),this.isDndSupported()){var i=this.getCtx().getContainer();for(var n in this._dndListeners)t.ToolkitUtils.removeDomEventListener(i,n,this._dndListeners[n],!1);this._dndListeners={},this._context.removeDndEventManager(this)}},t.EventManager.prototype.destroy=function(){this.CustomTooltipManager&&(this.CustomTooltipManager.removeTooltipEventListener("actionTooltipClosed",this.OnActionTooltipClosed,this),this.CustomTooltipManager.removeTooltipEventListener("actionTooltipStarted",this.OnActionTooltipStarted,this))},t.EventManager.prototype.PreEventBubble=function(t){this.TouchManager.preEventBubble(t)},t.EventManager.prototype.setSelectionHandler=function(t){this._selectionHandler=t},t.EventManager.prototype.getSelectionHandler=function(t){return this._selectionHandler},t.EventManager.prototype.getMarqueeGlassPane=function(){return null},t.EventManager.prototype.setDragSource=function(e){this.DragSource=e,t.Agent.isTouchDevice()&&this.DragSource.setTouchManager(this.TouchManager)},t.EventManager.prototype.setKeyboardHandler=function(e){t.Agent.isTouchDevice()||(this.KeyboardHandler=e)},t.EventManager.prototype.getKeyboardHandler=function(){return this.KeyboardHandler},t.EventManager.prototype.setFocusObj=function(t){var e=this.getFocus();if(t!=e&&(this.setFocus(t),e&&e.hideKeyboardFocusEffect(),this._currentKeyboardHandlerIdx>-1&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length)){var i=this._keyboardHandlers[this._currentKeyboardHandlerIdx];i!=this&&i.hideKeyboardFocusEffect()}this.setCurrentKeyboardHandler(this)},t.EventManager.prototype.setFocus=function(t){this.KeyboardHandler&&(this._focusedObj=t)},t.EventManager.prototype.getFocus=function(){return this.KeyboardHandler?this._focusedObj:null},t.EventManager.prototype.setFocused=function(t){var e=this.getFocus();e&&this.KeyboardHandler&&(t?this._shouldDisplayKeyboardFocus&&this._currentKeyboardHandlerIdx>=0&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length&&this._keyboardHandlers[this._currentKeyboardHandlerIdx]===this&&e.showKeyboardFocusEffect():e.hideKeyboardFocusEffect()),t||(this._shouldDisplayKeyboardFocus=!1)},t.EventManager.prototype.setTooltipsEnabled=function(t){this._tooltipsEnabled=t},t.EventManager.prototype.getTooltipsEnabled=function(t){return this._tooltipsEnabled},t.EventManager.prototype.GetLogicalObject=function(t,e){return this.GetLogicalObjectAndDisplayable(t,e).logicalObject},t.EventManager.prototype.GetLogicalObjectAndDisplayable=function(t,e){for(var i=t;i;){if(i._logicalObjects)for(var n=0;n<i._logicalObjects.length;n++){var o=i._logicalObjects[n];if(o.eventManager==this){var r={};return r.logicalObject=o.logicalObject,r.displayable=i,r}}i=e?null:i.getParent()}return{}},t.EventManager.prototype._getTooltipColor=function(t,e,i){if(t&&t.getDatatipColor)return t.getDatatipColor()},t.EventManager.prototype.FireEvent=function(t,e){this._callback&&this._callback.call(this._callbackObj,t,e)},t.EventManager.prototype.fireSelectionEvent=function(e){var i=this.getSelectionHandler(e);if(i){var n=i.getSelectedIds(),o=t.EventFactory.newSelectionEvent(n);this._callback.call(this._callbackObj,o)}},t.EventManager.prototype._onClick=function(e){if(this.IsDoubleClickable(e)){if(this._clickTimer&&this._clickTimer.isRunning()){var i=this._savedClickEvent;if(e.pageX==i.pageX&&e.pageY==i.pageY)return void this._savedClickCount++;this._clickTimer.stop(),this._onClickTimerEnd()}this._savedClickEvent=e,this._savedClickCount=1,this._clickTimer||(this._clickTimer=new t.Timer(this._context,250,this._onClickTimerEnd,this,1)),this._clickTimer.reset(),this._clickTimer.start()}else this.OnClick(e)},t.EventManager.prototype._onClickTimerEnd=function(){var t=this._savedClickEvent;this._savedClickEvent=null,this._savedClickCount=0,t&&this.OnClick(t)},t.EventManager.prototype.OnClick=function(t){var e=this.GetLogicalObject(t.target);if(this.OnClickInternal(t),this.ProcessSelectionEventHelper(e,t.ctrlKey),this._shouldDisplayKeyboardFocus=!1,e&&this.KeyboardHandler&&e.getNextNavigable){var i=e.getNextNavigable(t);this.setFocusObj(i)}},t.EventManager.prototype.IsDoubleClickable=function(t){var e=this.GetLogicalObject(t.target);return!!(e&&e.isDoubleClickable&&e.isDoubleClickable())},t.EventManager.prototype.ProcessSelectionEventHelper=function(t,e){var i=this.getSelectionHandler(t);i&&(i.processClick(t,e)&&this.fireSelectionEvent(t))},t.EventManager.prototype._onDblClick=function(t){var e=this.IsDoubleClickable(t);(e&&2===this._savedClickCount||!e)&&this.OnDblClick(t),this._savedClickCount=0},t.EventManager.prototype.OnDblClick=function(t){this._clickTimer&&this._clickTimer.isRunning()&&(this._clickTimer.stop(),this._savedClickEvent=null),this.OnDblClickInternal(t)},t.EventManager.prototype.OnContextMenu=function(t){var e=this.GetLogicalObject(t.target);e&&e.getNextNavigable&&this.setFocus(e),this._onContextMenuHelper(t,e)},t.EventManager.prototype._onContextMenuHelper=function(e,i){this._processActionPopup(e.target,new t.Point(e.pageX,e.pageY))&&e.preventDefault(),i&&i.isSelectable&&i.isSelectable()&&this.ProcessSelectionEventHelper(i,e.ctrlKey)},t.EventManager.prototype.OnKeyDown=function(e){this._bKeyDown=!0;var i,n,o=e.keyCode,r=!1;for(i=this._currentKeyboardHandlerIdx<0||this._currentKeyboardHandlerIdx>this._keyboardHandlers.length?o==t.KeyboardEvent.TAB&&e.shiftKey?this._keyboardHandlers.length-1:0:this._currentKeyboardHandlerIdx,n=o==t.KeyboardEvent.TAB&&e.shiftKey?-1:1;i>=0&&i<this._keyboardHandlers.length&&!r;i+=n){var s=this._keyboardHandlers[i];(r=s===this?this.ProcessKeyboardEvent(e):s.handleKeyboardEvent(e))&&(this._currentKeyboardHandlerIdx=i)}return r||e.keyCode!=t.KeyboardEvent.UP_ARROW&&e.keyCode!=t.KeyboardEvent.DOWN_ARROW&&e.keyCode!=t.KeyboardEvent.LEFT_ARROW&&e.keyCode!=t.KeyboardEvent.RIGHT_ARROW||t.EventManager.consumeEvent(e),r||o!=t.KeyboardEvent.TAB||(this._currentKeyboardHandlerIdx=-1),r},t.EventManager.prototype.handleKeyboardEvent=function(t){return this.OnKeyDown(t)},t.EventManager.prototype.hideKeyboardFocusEffect=function(){var t=this.getFocus();t&&t.isShowingKeyboardFocusEffect()&&t.hideKeyboardFocusEffect()},t.EventManager.prototype.ProcessKeyboardEvent=function(e){if(!this.KeyboardHandler)return!1;this.hideTooltip();var i,n,o=this.getFocus();return e.keyCode==t.KeyboardEvent.TAB&&o?o.isShowingKeyboardFocusEffect()?(this._bKeyDown=!1,o.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(e,o,!1),!!(n=e.shiftKey?this._context.previousKeyboardFocus():this._context.nextKeyboardFocus())&&(n.FireListener(e,!1),t.EventManager.consumeEvent(e),!0)):(this.ShowFocusEffect(e,o),this.ProcessRolloverEvent(e,o,!0),t.EventManager.consumeEvent(e),!0):!!(i=this.KeyboardHandler.processKeyDown(e))&&(this.setFocus(i),this._shouldDisplayKeyboardFocus=!0,o&&(o.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(e,o,!1)),this.KeyboardHandler.isSelectionEvent(e)?this.ProcessSelectionEventHelper(i,e.shiftKey):this.KeyboardHandler.isMultiSelectEvent(e)&&this.ProcessSelectionEventHelper(i,e.ctrlKey),this.ShowFocusEffect(e,i),this.ProcessRolloverEvent(e,i,!0),!0)},t.EventManager.prototype.ShowFocusEffect=function(t,e){e.showKeyboardFocusEffect();var i=e.getKeyboardTooltipLocation?e.getKeyboardTooltipLocation():e.getKeyboardBoundingBox(this.getCtx().getStage()).getCenter(),n=this.getCtx().stageToPageCoords(i.x,i.y);this.ProcessObjectTooltip(t,n.x,n.y,e,e.getTargetElem()),this.UpdateActiveElement(e)},t.EventManager.prototype.OnKeyUp=function(e){if(this._bKeyDown=!1,!0===this._handleExternalKeyboardFocus&&e.keyCode==t.KeyboardEvent.TAB&&(this._handleExternalKeyboardFocus=!1,document.createEvent)){var i=document.createEvent("KeyboardEvent"),n=e.keyCode,o=e.ctrlKey,r=e.shiftKey;void 0!==i.initKeyboardEvent?i.initKeyboardEvent(t.KeyboardEvent.KEYDOWN,!0,!0,window,o,!1,r,!1,n,n):i.initKeyEvent(t.KeyboardEvent.KEYDOWN,!0,!0,window,o,!1,!1,r,n,n);var s=t.DomEventFactory.newEvent(i);s.keyCode=n,s.ctrlKey=o,s.shiftKey=r;var a=this.getCtx().getStage().getSVGRoot().parentNode;t.HtmlKeyboardListenerUtils._bubbleListener.call(a,s)}},t.EventManager.prototype.OnMouseMove=function(t){var e=t.pageX,i=t.pageY,n=this.GetLogicalObjectAndDisplayable(t.target),o=n.logicalObject,r=n.displayable;o&&this.ProcessObjectTooltip(t,e,i,o,r)},t.EventManager.prototype.PreOnMouseOver=function(t){this.OnMouseOver(t)},t.EventManager.prototype.OnMouseOver=function(t){var e=this.GetLogicalObjectAndDisplayable(t.target),i=e.logicalObject,n=e.displayable;if(i){var o=this.getSelectionHandler(i);o&&o.processMouseOver(i),this.ProcessRolloverEvent(t,i,!0),this.UpdateActiveElement(i,n)}},t.EventManager.prototype.PreOnMouseOut=function(t){var e=this.GetLogicalObject(t.relatedTarget),i=this.GetLogicalObject(t.target);i&&i===e||this.OnMouseOut(t)},t.EventManager.prototype.OnMouseOut=function(t){var e=this.GetLogicalObject(t.target);if(e&&e!=this.GetLogicalObject(t.relatedTarget)){var i=this.getSelectionHandler(e);i&&i.processMouseOut(e),this.ProcessRolloverEvent(t,e,!1),this.hideTooltip()}},t.EventManager.prototype.PreOnMouseDown=function(t){this.OnMouseDown(t)},t.EventManager.prototype.OnMouseDown=function(t){this.isInActionPopup()&&this.CustomTooltipManager.closeActionTooltip();var e=this.GetLogicalObject(t.target);this.DragSource&&!t.dragSourceSet&&this.IsDragCandidate(e)&&(this.DragSource.setDragCandidate(e),t.dragSourceSet=!0)},t.EventManager.prototype.OnMouseUp=function(t){},t.EventManager.prototype._processTouchTooltip=function(e){var i=this.TouchManager.getTooltipInfo(),n=i.touchIds,o=i.tooltipTarget;if(this.GetEventInfo(e,t.EventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||0!=n.length&&o){var r=this.TouchManager.calcAveragePosition(n),s=this.GetLogicalObject(o);this.ProcessObjectTooltip(e,r.x,r.y,s,null)}else this.hideTooltip()},t.EventManager.prototype.OnTouchStartBubble=function(e){if(this.PreEventBubble(e),e.isInitialTouch()&&(this._popupJustClosed=!1),this.DragSource){var i=this.GetLogicalObject(e.target);!e.dragSourceSet&&this.IsDragCandidate(i)&&(this.DragSource.setDragCandidate(i),e.dragSourceSet=!0)}this.isInActionPopup()&&(this.CustomTooltipManager.closeActionTooltip(),this.TouchManager.resetTouchHold()),this.HandleImmediateTouchStartInternal(e),this.TouchManager.fireLogicalEvents(e),this.TouchManager.postEventBubble(e),this.isTouchResponseTouchStart()?(this._touchResponseHandled=!0,this.TouchManager.processAssociatedTouchAttempt(e,t.EventManager.TOUCH_RESPONSE_TOUCH_START,this._saveTouchStart,this)):(this._touchResponseHandled=!1,this._processTouchTooltip(e))},t.EventManager.prototype.OnTouchMoveBubble=function(t){this.PreEventBubble(t),this.TouchManager&&(this._prevActionClear=!1,this.HandleImmediateTouchMoveInternal(t),this.TouchManager.fireLogicalEvents(t),this.TouchManager.postEventBubble(t),this._processTouchTooltip(t))},t.EventManager.prototype._handleTouchEndTimer=function(){for(var t=0;t<this._touchEndTimer.length;t++){var e=this._touchEndTimer[t];e.timer.stop();var i=e.event;this.TouchManager&&(this.HandleImmediateTouchEndInternal(i),this.TouchManager.fireLogicalEvents(i),this.TouchManager.postEventBubble(i))}this._touchEndTimer=new Array},t.EventManager.prototype.OnTouchEndBubble=function(e){this.PreEventBubble(e);var i=new t.Timer(this._context,0,this._handleTouchEndTimer,this,1);this._touchEndTimer||(this._touchEndTimer=new Array),this._touchEndTimer.push({event:e,timer:i}),i.start()},t.EventManager.prototype.HandleImmediateTouchStartInternal=function(t){},t.EventManager.prototype.HandleImmediateTouchMoveInternal=function(t){},t.EventManager.prototype.HandleImmediateTouchEndInternal=function(t){},t.EventManager.prototype.OnComponentTouchHoverStart=function(t){this.HandleTouchHoverStartInternal(t),this._touchResponseHandled||this.HandleTouchActionsStart(t)},t.EventManager.prototype.OnComponentTouchHoverMove=function(t){this.HandleTouchHoverMoveInternal(t),this._touchResponseHandled||this.HandleTouchActionsMove(t)},t.EventManager.prototype.OnComponentTouchHoverEnd=function(e){if(this.HandleTouchHoverEndInternal(e),this._callbackObj instanceof t.BaseComponent){var i=this.getCtx().getStageAbsolutePosition(),n=e.touch.pageX,o=e.touch.pageY;n<=i.x+this._callbackObj.getWidth()&&n>=i.x&&o<=i.y+this._callbackObj.getHeight()&&o>=i.y&&this._callback.call(this._callbackObj,t.EventFactory.newTouchHoldReleaseEvent(e.getNativeEvent()))}this._touchResponseHandled||this.HandleTouchActionsEnd(e)},t.EventManager.prototype.OnComponentTouchHoverOut=function(t){var e=this.GetLogicalObject(t.relatedTarget),i=this.GetLogicalObject(t.target);i&&i===e||(this.HandleTouchHoverOutInternal(t),this._touchResponseHandled||this.HandleTouchActionsOut(t))},t.EventManager.prototype.OnComponentTouchHoverOver=function(t){this.HandleTouchHoverOverInternal(t),this._touchResponseHandled||this.HandleTouchActionsOver(t)},t.EventManager.prototype.OnComponentTouchDblClick=function(t){this.HandleTouchDblClickInternal(t)},t.EventManager.prototype.OnComponentTouchClick=function(e){var i=this.GetLogicalObjectAndDisplayable(e.target),n=i.logicalObject,o=i.displayable,r=e.touch;this.HandleTouchClickInternal(e)||(this.isTouchResponseTouchStart()||this._processTouchSelection(n),this._popupJustClosed||this._processTouchSelectionClear(n),this.CustomTooltipManager.displayActionPopup()&&(this.UpdateActionTooltipLaunchedFeedback(o,new t.Point(r.pageX,r.pageY)),this.CustomTooltipManager.startActionPopupAtPosition(r.pageX,r.pageY,o)))},t.EventManager.prototype._processTouchSelection=function(t){var e=this.getSelectionHandler(t);e&&t&&t.isSelectable&&t.isSelectable()&&e.processClick(t,!0)&&this.fireSelectionEvent(t),this._prevActionClear=!1},t.EventManager.prototype._processTouchSelectionClear=function(e){var i=this.getSelectionHandler(e);if(i&&(!e||!e.isSelectable||!e.isSelectable())&&!this._prevActionClear){var n=!1;if(this.isClearMenuAllowed(e))i.getType()==t.SelectionHandler.TYPE_MULTIPLE&&i.getSelectedCount()>1&&(n=!0);n?this.addClearAllActionItem():i.processClick(null,!1)&&this.fireSelectionEvent(e)}},t.EventManager.prototype.OnActionTooltipClosed=function(e){this._popupJustClosed=!0,this._isInActionPopup=!1,this.CustomTooltipManager.getActionTooltip().containsMenuId(t.EventManager.CLEAR_SELECTION_ACTION_TYPE)&&(this._prevActionClear=!0),this.CustomTooltipManager.clearActionTooltip(),this.UpdateActionTooltipClosedFeedback(e.target)},t.EventManager.prototype.OnActionTooltipStarted=function(t){this._isInActionPopup=!0},t.EventManager.prototype._getTooltipInfo=function(t,e,i,n){var o=null,r=!1;return e&&e.getDatatip&&(o=e.getDatatip(t,i,n))&&(r=!0),!o&&e&&e.getTooltip&&(o=e.getTooltip(t,i,n)),{text:o,isDatatip:r}},t.EventManager.prototype._processShowTooltip=function(t,e,i,n){if(this.getTooltipsEnabled(e)){var o=this._context.pageToStageCoords(i,n),r=o.x,s=o.y,a=this._getTooltipInfo(t,e,r,s),l=a.isDatatip,h=a.text;if(h){this.CustomTooltipManager.clearActionTooltip();var u=this._getTooltipColor(e,r,s),c=this._context.getTooltipManager();return l?c.showDatatip(i,n,h,u):c.showTooltip(i,n,h,null,!0,u),this.TooltipLaunched(h,u),this.DispatchElementEvent("tooltiplaunched"),!0}this.hideTooltip()}else this.hideTooltip();return!1},t.EventManager.prototype.hideTooltip=function(){var t=this._context.getTooltipManager();t&&t.hideTooltip(),this.TooltipHidden()},t.EventManager.prototype._processActionPopup=function(t,e){return this.CustomTooltipManager.displayActionPopup()?(this.SetupTouchTooltip(t),this.UpdateActionPopupShownFeedback(t),this.CustomTooltipManager.startActionPopupAtPosition(e.x,e.y,t),!0):(this.UpdateActionPopupHiddenFeedback(t),!1)},t.EventManager.prototype.TooltipLaunched=function(t,e){},t.EventManager.prototype.TooltipHidden=function(){},t.EventManager.prototype.SetupTouchTooltip=function(t){var e=this.GetLogicalObject(t),i=this.CustomTooltipManager.getActionTooltip();if(null==i.getTooltipBorderColor()){var n=this._getTooltipColor(e);i.setTooltipBorderColor(n)}},t.EventManager.prototype.OnClickInternal=function(t){},t.EventManager.prototype.OnDblClickInternal=function(t){},t.EventManager.prototype.HandleTouchHoverStartInternal=function(t){},t.EventManager.prototype.HandleTouchHoverMoveInternal=function(t){},t.EventManager.prototype.HandleTouchHoverEndInternal=function(t){},t.EventManager.prototype.HandleTouchHoverOverInternal=function(t){},t.EventManager.prototype.HandleTouchHoverOutInternal=function(t){},t.EventManager.prototype.HandleTouchClickInternal=function(t){return!1},t.EventManager.prototype.HandleTouchDblClickInternal=function(t){},t.EventManager.prototype.UpdateActionPopupShownFeedback=function(t){},t.EventManager.prototype.UpdateActionPopupHiddenFeedback=function(t){},t.EventManager.prototype.UpdateActionTooltipClosedFeedback=function(t){},t.EventManager.prototype.UpdateActionTooltipLaunchedFeedback=function(t,e){},t.EventManager.prototype.isInActionPopup=function(){return this._isInActionPopup},t.EventManager.prototype.GetClearSelectionText=function(){var t=this.getComponent();return t&&t.getOptions().translations.labelClearSelection},t.EventManager.prototype.addClearAllActionItem=function(){var e=this.CustomTooltipManager.getActionTooltip(),i=e.getMenuItems();e&&i.length>0&&i[i.length-1].getId()===t.EventManager.CLEAR_SELECTION_ACTION_TYPE||(this.addActionTooltipMenuItem(t.EventManager.CLEAR_SELECTION_ACTION_TYPE,this.GetClearSelectionText(),this._actionTooltipClearListener,this),e&&e.setTooltipBorderColor(v.DEFAULT_BORDER_COLOR))},t.EventManager.prototype.isClearMenuAllowed=function(t){return!0},t.EventManager.prototype.addActionTooltipMenuItem=function(t,e,i,n){this.CustomTooltipManager.getActionTooltip().addMenuItem(new m(this._context,t,e,i,n))},t.EventManager.prototype._actionTooltipClearListener=function(t){var e=this.GetLogicalObject(t.target);this.getSelectionHandler(e).processClick(null,!1)&&this.fireSelectionEvent(e)},t.EventManager.consumeEvent=function(t){t&&(t.preventDefault(),t.stopPropagation())},t.EventManager.prototype.addComponentKeyboardHandlerAt=function(t,e){e>this._keyboardHandlers.length||t&&(this._keyboardHandlers.splice(e,0,t),e<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx++)},t.EventManager.prototype.removeComponentKeyboardHandler=function(t){if(t){var e=this._findHandler(t);e>-1&&(this._currentKeyboardHandlerIdx==e&&0==e?this._currentKeyboardHandlerIdx=0:e<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx--,this._keyboardHandlers.splice(e,1))}},t.EventManager.prototype._findHandler=function(t){for(var e=-1,i=this._keyboardHandlers.length,n=0;n<i;n++)this._keyboardHandlers[n]===t&&(e=n);return e},t.EventManager.prototype.setCurrentKeyboardHandler=function(t){var e=this._findHandler(t);e>=0&&(this._currentKeyboardHandlerIdx=e)},t.EventManager.prototype.IsDragCandidate=function(t){return!0},t.EventManager.prototype.UpdateActiveElement=function(e,i){if(i||(i=e.getDisplayable?e.getDisplayable():e.getDisplayables?e.getDisplayables()[0]:e),i instanceof t.Displayable){if(e.getAriaLabel){var n=e.getAriaLabel();n&&i.setAriaProperty("label",n)}else for(;!i.getAriaRole()&&i.getParent();)i=i.getParent();i!=this.getCtx().getStage()&&this.getCtx().setActiveElement(i)}},t.EventManager.prototype.getTouchManager=function(){return this.TouchManager},t.EventManager.prototype.endDrag=function(){return null},t.EventManager.prototype._hasEventInfo=function(t){return null!=t&&!!t.getNativeEvent()._eventInfo},t.EventManager.prototype.GetEventInfo=function(t,e){return this._hasEventInfo(t)&&null!=e&&(i=this.StoreInfoByEventType(e)?t.getNativeEvent()._eventInfo[t.type]:t.getNativeEvent()._eventInfo)?i[e]:null;var i},t.EventManager.prototype.SetEventInfo=function(t,e,i){if(null!=t&&null!=e){var n=t.getNativeEvent();if(n._eventInfo||(n._eventInfo={}),this.StoreInfoByEventType(e)){var o=t.type;n._eventInfo[o]||(n._eventInfo[o]={}),n._eventInfo[o][e]=i}else n._eventInfo[e]=i}},t.EventManager.prototype.StoreInfoByEventType=function(e){return e!=t.EventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY},t.EventManager.prototype.ProcessObjectTooltip=function(e,i,n,o,r){this.GetEventInfo(e,t.EventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||this._processShowTooltip(r,o,i,n)&&this.SetEventInfo(e,t.EventManager._EVENT_INFO_TOOLTIP_DISPLAYED_KEY,!0)},t.EventManager.prototype._resetExternalKeyboardFocus=function(){this._handleExternalKeyboardFocus=!1},t.EventManager.prototype.OnFocus=function(e){this._handleExternalKeyboardFocus=!1,this._bKeyDown||e.isPropagationStopped()||(this._handleExternalKeyboardFocus=!0,this._keyboardFocusTimer||(this._keyboardFocusTimer=new t.Timer(this._context,200,this._resetExternalKeyboardFocus,this,1)),this._keyboardFocusTimer.reset(),this._keyboardFocusTimer.start(),e.stopPropagation())},t.EventManager.prototype.OnBlur=function(t){this._bKeyDown=!1;var e=this.getFocus();e&&e.isShowingKeyboardFocusEffect()&&e.hideKeyboardFocusEffect()},t.EventManager.prototype.ProcessRolloverEvent=function(t,e,i){},t.EventManager.prototype.CreateCategoryRolloverHandler=function(e,i){return new t.CategoryRolloverHandler(e,i)},t.EventManager.prototype.GetTouchResponse=function(){return t.EventManager.TOUCH_RESPONSE_TOUCH_START},t.EventManager.prototype.isTouchResponseTouchStart=function(){var e=this.GetTouchResponse();if(e===t.EventManager.TOUCH_RESPONSE_TOUCH_START)return!0;if(e===t.EventManager.TOUCH_RESPONSE_TOUCH_HOLD)return!1;for(var i=this.getCtx().getSvgDocument().parentElement.parentElement;i&&"HTML"!==i.nodeName;){var n=window.getComputedStyle(i);if("hidden"!==n.overflow&&(i.scrollWidth>i.clientWidth+t.EventManager._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==n["overflow-x"]||i.scrollHeight>i.clientHeight+t.EventManager._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==n["overflow-y"])||window.frameElement&&"IFRAME"==window.frameElement.nodeName)return!1;i=i.parentElement}return!0},t.EventManager.prototype._saveTouchStart=function(e,i){this.TouchManager.getTouchIdsForObj(t.EventManager.TOUCH_RESPONSE_TOUCH_START).length<=1&&(this.TouchManager.saveProcessedTouch(i.identifier,t.TouchManager.HOVER_TOUCH_KEY,null,t.TouchManager.HOVER_TOUCH_KEY,t.TouchManager.HOVER_TOUCH_KEY,this.HandleTouchActionsMove,this.HandleTouchActionsEnd,this),this.HandleTouchActionsStart(e))},t.EventManager.prototype.HandleTouchActionsStart=function(e){var i=this.GetLogicalObject(e.target),n=e instanceof t.ComponentTouchEvent?e.touch:e.touches[0];e instanceof t.ComponentTouchEvent||(this._touchMap[n.identifier]||(this._touchMap[n.identifier]={}),this._touchMap[n.identifier][t.TouchManager.PREV_HOVER_OBJ]=null,i&&this.HandleTouchActionsOver(e),this._touchMap[n.identifier][t.TouchManager.PREV_HOVER_OBJ]=i),i&&this.ProcessRolloverEvent(e,i,!0),this._processTouchTooltip(e),this._prevActionClear=!1},t.EventManager.prototype.HandleTouchActionsMove=function(e){var i,n=e instanceof t.ComponentTouchEvent?e.touch:e.touches[0];if(e instanceof t.ComponentTouchEvent)i=this.GetLogicalObject(e.target);else{e.preventDefault();var o=t.SvgDocumentUtils.elementFromTouch(n);i=this.GetLogicalObject(o);var r=this._touchMap[n.identifier][t.TouchManager.PREV_HOVER_OBJ];if(r!=i){var s;if(r)r.getDisplayable?s=r.getDisplayable():r.getDisplayables&&(s=r.getDisplayables()[0]),s&&(e.target=s,this.HandleTouchActionsOut(e,n));e.target=o,i&&this.HandleTouchActionsOver(e)}this._touchMap[n.identifier][t.TouchManager.PREV_HOVER_OBJ]=i}i&&this.ProcessRolloverEvent(e,i,!0)},t.EventManager.prototype.HandleTouchActionsEnd=function(e,i){var n,o;if(e instanceof t.ComponentTouchEvent){var r=this.GetLogicalObjectAndDisplayable(e.target);n=r.displayable,o=r.logicalObject,i=e.touch}else{var s;e.preventDefault(),n=t.SvgDocumentUtils.elementFromTouch(i),(o=this.GetLogicalObject(n))&&(o.getDisplayable?s=o.getDisplayable():o.getDisplayables&&(s=o.getDisplayables()[0])),s&&(e.target=s,this.HandleTouchActionsOut(e,i)),this._touchMap[i.identifier][t.TouchManager.PREV_HOVER_OBJ]=null}var a=i.pageX,l=i.pageY;this._processTouchSelection(o),this._processActionPopup(n,new t.Point(a,l))},t.EventManager.prototype.HandleTouchActionsOver=function(t){var e=this.GetLogicalObject(t.target);e&&this.ProcessRolloverEvent(t,e,!0);var i=this.getSelectionHandler(e);i&&i.processMouseOver(e)},t.EventManager.prototype.HandleTouchActionsOut=function(e,i){var n=this.GetLogicalObject(e.target);e instanceof t.ComponentTouchEvent&&e.touch,n&&this.ProcessRolloverEvent(e,n,!1);var o=this.getSelectionHandler(n);o&&o.processMouseOut(n)},t.EventManager.prototype.getComponent=function(){return this._component},t.EventManager.DROP_OFFSET_X_DATA_TYPE="text/_dvtDropOffsetX",t.EventManager.DROP_OFFSET_Y_DATA_TYPE="text/_dvtDropOffsetY",t.EventManager.prototype.isDndSupported=function(){return!1},t.EventManager.prototype.OnDndDragStart=function(e){var i=t.ToolkitUtils.getEventForSyntax(this._context,e),n=i.dataTransfer;if(!(i.dataTransfer.types&&i.dataTransfer.types.length>0)){var o=this._context.pageToStageCoords(e.pageX,e.pageY),r=this.DragSource.getDragTransferable(o.x,o.y),s=this.GetDragSourceType(e);if(null!=r&&null!=s){this._context.getTooltipManager().hideTooltip();var a=this._getDragOptions(e),l=a.dataTypes,h=a.dragStart;if(null!=l||h){var u=this.DragSource.getDragObject();if(this.ProcessSelectionEventHelper(u,!1),u.hideHoverEffect&&u.hideHoverEffect(),null!=l){Array.isArray(l)||(l=[l]);for(var c=this._getDragData(e),p=0;p<l.length;p++)n.setData(l[p],c)}var _=t.ToolkitUtils.getDragFeedback(this.DragSource.getDragOverFeedback(o.x,o.y),this._context.getStage()),g=_.svg,d=this.DragSource.getDragOffset(o.x,o.y);g.style.width=_.width+"px",g.style.height=_.height+"px",g.style.left=e.pageX-d.x+"px",g.style.top=e.pageY-d.y+"px",g.style.position="absolute",g.style.fontFamily=this._context.getDefaultFontFamily(),g.style.fontSize=this._context.getDefaultFontSize(),t.SvgDocumentUtils.disableMouseEvents(g),document.body.appendChild(g),t.Context.requestAnimationFrame(function(){document.body.removeChild(g)}),n.setDragImage(g,d.x,d.y);var S=this.GetDropOffset(e);if(S&&(n.setData(t.EventManager.DROP_OFFSET_X_DATA_TYPE,S.x),n.setData(t.EventManager.DROP_OFFSET_Y_DATA_TYPE,S.y)),h)h(i,this._getDragEventPayload(e))}else this._context.isLastDndEventManager(this)&&e.preventDefault()}else this._context.isLastDndEventManager(this)&&e.preventDefault()}},t.EventManager.prototype.OnDndDrag=function(t){this._handleDragSourceEvent(t,"drag")},t.EventManager.prototype.OnDndDragEnd=function(t){this.DragSource.setDragCandidate(null),this._handleDragSourceEvent(t,"dragEnd")},t.EventManager.prototype.GetDragSourceType=function(t){return null},t.EventManager.prototype.GetDragDataContexts=function(){return[]},t.EventManager.prototype.GetDropOffset=function(t){return null},t.EventManager.prototype._getDragOptions=function(t){var e=this.GetDragSourceType(t);return this.getComponent().getOptions().dnd.drag[e]},t.EventManager.prototype._getDragEventPayload=function(t){var e={};return e[this.GetDragSourceType(t)]=this.GetDragDataContexts(),e},t.EventManager.prototype._getDragData=function(t){for(var e=this.GetDragDataContexts(),i=0;i<e.length;i++)e[i].component=void 0;return JSON.stringify(e)},t.EventManager.prototype._handleDragSourceEvent=function(e,i){if(null!=this.GetDragSourceType(e)){var n=this._getDragOptions(e)[i];if(n)n(t.ToolkitUtils.getEventForSyntax(this._context,e))}},t.EventManager.prototype.OnDndDragEnter=function(t){this._handleDropTargetEvent(t,"dragEnter",!0)},t.EventManager.prototype.OnDndDragOver=function(t){this._handleDropTargetEvent(t,"dragOver",!0)},t.EventManager.prototype.OnDndDragLeave=function(t){this._handleDropTargetEvent(t,"dragLeave",!1)},t.EventManager.prototype.OnDndDrop=function(t){this._handleDropTargetEvent(t,"drop",!1)},t.EventManager.prototype.GetDropTargetType=function(t){return null},t.EventManager.prototype.GetDropEventPayload=function(t){return null},t.EventManager.prototype.ShowDropEffect=function(t){},t.EventManager.prototype.ShowRejectedDropEffect=function(t){this.ClearDropEffect()},t.EventManager.prototype.ClearDropEffect=function(){},t.EventManager.prototype._getDropOptions=function(t){var e=this.GetDropTargetType(t);return this.getComponent().getOptions().dnd.drop[e]},t.EventManager.prototype._handleDropTargetEvent=function(t,e,i){var n=this._handleDropTargetEventHelper(t,e);n||t.preventDefault(),!n&&i?this.ShowDropEffect(t):n&&i?this.ShowRejectedDropEffect(t):this.ClearDropEffect()},t.EventManager.prototype._handleDropTargetEventHelper=function(e,i){if(null==this.GetDropTargetType(e))return!0;var n=t.ToolkitUtils.getEventForSyntax(this._context,e),o=this._getDropOptions(e),r=o[i];if(r){var s=r(n,this.GetDropEventPayload(e));if(e.getNativeEvent().defaultPrevented)return!1;if(null!=s&&!this._context.isCustomElement())return s}var a=o.dataTypes;if(null!=a){Array.isArray(a)||(a=[a]);for(var l=0;l<a.length;l++)if(n.dataTransfer.types&&n.dataTransfer.types.indexOf(a[l])>=0)return!1}return!0},t.EventManager.prototype.DispatchElementEvent=function(t,e){this.getCtx().getSvgDocument().dispatchEvent(new CustomEvent(t,{detail:e}))};var y=function(t,e){this.Init(t,e)};t.Obj.createSubclass(y,t.Obj),y.prototype.Init=function(t,e){this._context=t,this._id=e,this._actionTooltip=new v(this._context,this._id+"ActionPopup")},y.prototype.GetRichTooltipManager=function(){if(!this._RichTooltipManager){var t=this._id+"Tooltip";this._RichTooltipManager=new E(this._context,t),this._RichTooltipManager.InitializeTooltipElem();var e=this._RichTooltipManager.GetStoredContext();if(e)new T(e,this,null,null).addListeners(this._actionTooltip)}return this._RichTooltipManager},y.prototype.clearActionTooltip=function(){this._actionTooltip&&this._actionTooltip.clearContent()},y.prototype.getActionTooltip=function(){return this._actionTooltip},y.prototype.hideTooltip=function(){this.clearActionTooltip(),this._RichTooltipManager&&this._RichTooltipManager.hideTooltip()},y.prototype.closeActionTooltip=function(){var e=t.EventFactory.newActionTooltipEvent("actionTooltipClosed",this._actionPopupObj);this.FireListener(e),this._actionPopupObj=null,this.hideTooltip()},y.prototype.displayActionPopup=function(){var t=this.getActionTooltip();return!(!t||!t.hasMenuItems())},y.prototype.startActionPopupAtPosition=function(e,i,n,o){var r=this.getActionTooltip();if(r){this.GetRichTooltipManager().showRichElementAtPosition(e,i,r,!0,!1);var s=t.EventFactory.newActionTooltipEvent("actionTooltipStarted",n);this.FireListener(s),this._actionPopupObj=n}},y.prototype.addTooltipEventListener=function(t,e,i){var n=this._getListeners(t,!0);n.push(e),n.push(i)},y.prototype.removeTooltipEventListener=function(t,e,i){var n=this._getListeners(t,!1);if(null!==n)for(var o=0;o<n.length;o+=2)if(n[o]===e&&n[o+1]===i){n.splice(o,2);break}},y.prototype._getListeners=function(t,e){if(!this._listenerObj){if(!e)return null;this._listenerObj={}}var i=t,n=this._listenerObj[i];return!n&&e&&(n=[],this._listenerObj[i]=n),n},y.prototype.FireListener=function(t){var e=this._getListeners(t.type,!1);if(e)for(var i=0;i<e.length;i+=2){var n=e[i+1];e[i].call(n,t)}},y._formatTextString=function(t){var e="";if(!t)return e;var i=(t=t.replace(/\n/g,"<br>")).split("<br>");if(i){for(var n=new Array,o=0;o<i.length;o++){var r=i[o];null!=r&&""!=r&&n.push(r)}for(o=0;o<n.length;o++)e+=n[o],o<n.length-1&&(e+="\n")}return e};var T=function(t,e,i,n){this._customTooltipManager=e,this.Init(t,i,n)};t.Obj.createSubclass(T,t.EventManager),T.prototype.OnClickInternal=function(t){var e=t.target;this._handleMenuClick(e)},T.prototype.HandleImmediateTouchStartInternal=function(t,e){t.blockTouchHold(),this._handleMenuClick(t.target)},T.prototype.HandleTouchClickInternal=function(t){var e=t.target;this._handleMenuClick(e)},T.prototype._handleMenuClick=function(t){var e=this._customTooltipManager._actionPopupObj,i=t._menu;i&&(this._customTooltipManager.closeActionTooltip(),i.FireActionTooltipItem(e))};var v=function(t,e){this._Init(t,e)};t.Obj.createSubclass(v,t.Container),v.DEFAULT_BORDER_COLOR="gray",v.DEFAULT_BACKGROUND_COLOR="#ffffff",v.prototype._Init=function(e,i){this._context=e,v.superclass.Init.call(this,e),this._tooltipText=null,this._tooltipBorderColor=null,this._menuFontSize=11,this._tooltipFill=new t.SolidFill(v.DEFAULT_BACKGROUND_COLOR),this._fontSize=11},v.prototype.getRootDisplayable=function(){return this},v.prototype.UpdateTooltipSize=function(t,e){this._displayWidth=t,this._displayHeight=e},v.prototype.getDisplayWidth=function(){return this._displayWidth},v.prototype.getDisplayHeight=function(){return this._displayHeight},v.prototype.clearContent=function(){this.clearMenuItems(),this.setTooltipBorderColor(null),this.setTooltipText(null)},v.prototype.setTooltipBorderColor=function(t){this._tooltipBorderColor=t},v.prototype.getTooltipBorderColor=function(){return this._tooltipBorderColor},v.prototype.setTooltipText=function(t){this._tooltipText=t},v.prototype.addMenuItem=function(t){this.getMenuItems().push(t)},v.prototype.hasMenuItems=function(){var t=this.getMenuItems();return t&&t.length>0},v.prototype.clearMenuItems=function(){this._menuItems&&(this._menuItems=[])},v.prototype.getMenuItems=function(){return this._menuItems||(this._menuItems=new Array),this._menuItems},v.prototype.containsMenuId=function(t){for(var e=this.getMenuItems(),i=0;i<e.length;i++){if(e[i].getId()==t)return!0}return!1},v.prototype.Render=function(){var e=this.getRootDisplayable();if(e.removeChildren(),this.hasMenuItems()){var i=0,n=0;e.setAlpha(1);var o=new Array,r=new Array;i+=2.5;for(var s=this.getMenuItems(),a=0;a<s.length;a++){var l=s[a],h=new t.OutputText(this._context,l.getText(),0,0,null);h.alignBottom(),h.setFontSize(this._menuFontSize),h._menu=l;var u=h.getDimensions();u.y=5+i;var c=u.w;r.push(u),n=Math.max(c+21+10,n),h.setY(u.y),i+=u.h,a<s.length-1&&(i+=5),o.push(h),h.alignLeft(),h.alignTop()}var p=n+8+2,_=5+(i+=2.5)+4+1;this.UpdateTooltipSize(p+2,_+2),e.setTranslate(1,1);var g=new t.Rect(this._context,0,0,p,_);g.setSolidStroke("rgb(229,232,238)"),g.setFill(this._tooltipFill),e.addChildAt(g,0);for(a=0;a<o.length;a++){var d=o[a];e.addChild(d);c=r[a].w;if(d._menu){var S=new t.Rectangle(0,r[a].y-2.5,p,r[a].h+5),f=new t.Rect(this._context,S.x,S.y,S.w,S.h);f.setInvisibleFill(),f._menu=d._menu,e.addChild(f)}d.setTranslateX(21)}}};var m=function(t,e,i,n,o){this.Init(t,e,i,n,o)};t.Obj.createSubclass(m,t.Obj),m.prototype.Init=function(t,e,i,n,o){this._context=t,this._id=e,this._text=i,this._listener=n,this._listenerObj=o},m.prototype.getId=function(){return this._id},m.prototype.getText=function(){return this._text},m.prototype.FireActionTooltipItem=function(e){if(this._listenerObj&&this._listener){var i=new Object;i.target=e,i.menuItem=this._menuItem,this._menuItemTimer=new t.Timer(this._context,1,this._handleMenuTimer,this),this._menuItemTimer.evt=i,this._menuItemTimer.start()}},m.prototype._handleMenuTimer=function(){this._menuItemTimer&&this._menuItemTimer.stop(),this._listener.call(this._listenerObj,this._menuItemTimer.evt)},t.HtmlTooltipManager=function(t,e){this.Init(t,e)},t.Obj.createSubclass(t.HtmlTooltipManager,t.Obj),t.HtmlTooltipManager._TOOLTIP_DIV_ID="_dvtTooltip",t.HtmlTooltipManager._SHOW_DELAY=500,t.HtmlTooltipManager._BORDER_COLOR="#9ba2b0",t.HtmlTooltipManager._FONT_COLOR="#383a47",t.HtmlTooltipManager._VIEWPORT_BUFFER=15,t.HtmlTooltipManager.prototype.Init=function(e,i){this._context=e,this._domElementId=i||t.HtmlTooltipManager._TOOLTIP_DIV_ID,this._isTooltip=!0},t.HtmlTooltipManager.prototype.showDatatip=function(t,e,i,n,o){null==o&&(o=!0),this._isTooltip=!1,this._showTextAtPosition(t,e,i,n,o,"oj-dvt-datatip")},t.HtmlTooltipManager.prototype._showTextAtPosition=function(e,i,n,o,r,s){var a,l=this.getTooltipElem(),h=!0!==n;if(h)for(;l.hasChildNodes();)l.removeChild(l.firstChild);"string"==typeof n?(n=(n=n.replace(/(<|&#60;)/g,"&lt;")).replace(/(>|&#62;)/g,"&gt;"),n=t.HtmlTooltipManager._restoreTag(n,"b"),n=t.HtmlTooltipManager._restoreTag(n,"i"),n=t.HtmlTooltipManager._restoreTag(n,"table"),n=t.HtmlTooltipManager._restoreTag(n,"tr"),n=(n=(n=(n=t.HtmlTooltipManager._restoreTag(n,"td")).replace(/\n/g,"<br>")).replace(/\\n/g,"<br>")).replace(/&#92;n/g,"<br>"),n=t.HtmlTooltipManager._restoreTag(n,"br"),(a=document.createElement("span")).style.visibility="inherit",a.style.width=null,a.style.height=null,a.innerHTML=n):h&&(a=n),this._isCustomClassName||(l.className=s),this._isCustomClassName=!1,o||(o=t.HtmlTooltipManager._BORDER_COLOR),this._isCustomBorderColor||(l.style.borderColor=o),this._isCustomBorderColor=!1,l.style.position="absolute",l.style.zIndex=2147483647,null!=a&&(Array.isArray(a)?a.forEach(function(t){l.appendChild(t)}):l.appendChild(a)),this.PostElement(l,e,i,!0,r)},t.HtmlTooltipManager.prototype.PostElement=function(t,e,i,n,o){if(t.style["pointer-events"]=n?"none":"auto",t.style.width=null,t.style.height=null,t.style.left="0px",t.style.top="0px",o){var r=this._getOffsets(t);this.positionTip(e+r.x,i+r.y,e,i)}else this.positionTip(e,i,e,i);t.style.visibility="visible";var s=this._context.getTooltipAttachedCallback();s&&s(t)},t.HtmlTooltipManager.prototype.hideTooltip=function(){this.clearTooltip(),this._tooltipDisplayed=!1,this._timerIsRunning=!1;var e=document.getElementById(this._domElementId);e&&(e.style.visibility="hidden",e.style.overflow=null,e.style.width="0px",e.style.height="0px",t.Agent.isRightToLeft(this._context)?e.style.left=e.style.right:e.style.left="0px",e.style.top="0px","undefined"!=typeof $&&this._bCleanupChildren&&$(e).children().remove())},t.HtmlTooltipManager.prototype.getTooltipElem=function(){var t=document.getElementById(this._domElementId);return t||(t=this.InitializeTooltipElem()),t},t.HtmlTooltipManager.prototype.InitializeTooltipElem=function(){var t=document.createElement("div");return t.id=this._domElementId,t.style.visibility="hidden",document.body.appendChild(t),this.InitContent(t),t},t.HtmlTooltipManager.prototype.InitContent=function(t){},t.HtmlTooltipManager.prototype.showTooltip=function(e,i,n,o,r,s){if(n&&0!=n.length&&(this._x=e,this._y=i,this._text=n,this._trackMouse=r,!this._timerIsRunning)){var a=document.createElement("span");a.className="OraDVTTooltipText",a.innerHTML=n,a.style.color=t.HtmlTooltipManager._FONT_COLOR,s||(s=t.HtmlTooltipManager._BORDER_COLOR),this.getTooltipElem().style.borderColor=s,t.Agent.isTouchDevice()||this._tooltipDisplayed&&this._trackMouse?this._displayTooltip(this._x,this._y,this._text,this._borderColor):(this._timerIsRunning=!0,this._showTimerId=window.setTimeout(this._handleShowTimer.bind(this),t.HtmlTooltipManager._SHOW_DELAY))}},t.HtmlTooltipManager.prototype.clearTooltip=function(){this._showTimerId&&(window.clearTimeout(this._showTimerId),this._showTimerId=void 0,this._x=void 0,this._y=void 0,this._text=void 0,this._trackMouse=void 0),this._hideTimerId&&(window.clearTimeout(this._hideTimerId),this._hideTimerId=void 0)},t.HtmlTooltipManager.prototype._handleShowTimer=function(t){this._timerIsRunning=!1,this._displayTooltip(this._x,this._y,this._text,this._borderColor),this._tooltipDisplayed=!0},t.HtmlTooltipManager.prototype._displayTooltip=function(t,e,i,n){this._isTooltip=!0,this._showTextAtPosition(t,e,i,n,!0,"oj-dvt-tooltip")},t.HtmlTooltipManager.prototype._getOffsets=function(e){var i=this.getTooltipBounds(e);if(t.Agent.isTouchDevice())return new t.Point(0-i.w/2,-30-i.h);var n=-8-i.h,o=8;return this._isTooltip&&(n=22,o=0),t.Agent.isRightToLeft(this._context)&&(o=-o-i.w),new t.Point(o,n)},t.HtmlTooltipManager.prototype.getTooltipBounds=function(){var e=this.getTooltipElem();return e.style.height="auto",new t.Rectangle(parseInt(e.style.left),parseInt(e.style.top),e.offsetWidth,e.offsetHeight)},t.HtmlTooltipManager.prototype.positionTip=function(e,i){var n=this.getTooltipElem(),o=this.getTooltipBounds(),r=o.w,s=o.h,a=new t.Rectangle(window.pageXOffset+t.HtmlTooltipManager._VIEWPORT_BUFFER,window.pageYOffset+t.HtmlTooltipManager._VIEWPORT_BUFFER,window.innerWidth-2*t.HtmlTooltipManager._VIEWPORT_BUFFER,window.innerHeight-2*t.HtmlTooltipManager._VIEWPORT_BUFFER);r>a.w-2*t.HtmlTooltipManager._VIEWPORT_BUFFER&&(r=a.w-2*t.HtmlTooltipManager._VIEWPORT_BUFFER,n.style.width=r+"px");var l=e;l=Math.max(l,a.x),l=Math.min(l,a.x+a.w-r),Math.abs(a.x)>t.HtmlTooltipManager._VIEWPORT_BUFFER&&(n.style.width=Math.min(n.clientWidth,a.x+a.w-l)+"px",i+=s-n.offsetHeight,s=n.offsetHeight,n.style.overflow="hidden");var h=i;h=Math.min(h,a.y+a.h-s),h=Math.max(h,a.y),n.style.left=l+"px",n.style.top=h+"px"},t.HtmlTooltipManager.prototype.getCustomTooltip=function(t,e){for(var i=this.getTooltipElem();i.hasChildNodes();)i.removeChild(i.firstChild);e.parentElement=i,i.className="",i.style.borderColor="";var n=t(e=this._context.fixRendererContext(e));return i.className&&(this._isCustomClassName=!0),i.style.borderColor&&(this._isCustomBorderColor=!0),this._bCleanupChildren=null!=e._templateCleanup,!(n||!i.hasChildNodes())||n},t.HtmlTooltipManager._restoreTag=function(t,e){var i=new RegExp("&lt;(/?)"+e+"([^&]*)(/?)&gt;","g");return t.replace(i,"<$1"+e+"$2$3>")},t.HtmlTooltipManager.createElement=function(t,e,i){var n=document.createElement(t);if(e&&e.applyStylesToElement(n),null!=i)if(Array.isArray(i))for(var o=0;o<i.length;o++)n.appendChild(i[o]);else n.appendChild(document.createTextNode(i));return n},t.HtmlKeyboardListenerUtils=function(){},t.Obj.createSubclass(t.HtmlKeyboardListenerUtils,t.Obj),t.HtmlKeyboardListenerUtils.getListener=function(e){return e?t.HtmlKeyboardListenerUtils._captureListener:t.HtmlKeyboardListenerUtils._bubbleListener},t.HtmlKeyboardListenerUtils._bubbleListener=function(e){t.HtmlKeyboardListenerUtils._commonListener.call(this,e,!1)},t.HtmlKeyboardListenerUtils._captureListener=function(e){t.HtmlKeyboardListenerUtils._commonListener.call(this,e,!0)},t.HtmlKeyboardListenerUtils._commonListener=function(e,i){var n;if(this._currentObj){if("focus"==e.type)return void(this._focusEvent=e);var o=this._currentObj.getCtx();this._focusEvent&&(o.resetCurrentKeyboardFocus(e),n=t.DomEventFactory.newEvent(this._focusEvent,o),this._currentObj.FireListener(n,i),this._focusEvent=null),n=t.DomEventFactory.newEvent(e,o),this._currentObj.FireListener(n,i)}else if(Array.isArray(this._keyboardListeners))for(var r,s=this._keyboardListeners.length,a=0;a<s;a++)r=this._keyboardListeners[a],n=t.DomEventFactory.newEvent(e,r.getCtx()),r.FireListener(n,i)};var E=function(t,e){this.Init(t,e)};return t.Obj.createSubclass(E,t.HtmlTooltipManager),E.prototype.Init=function(t,e){this._storedContexts=new Object,E.superclass.Init.call(this,t,e)},E.prototype.InitContent=function(e){e.innerHTML="";var i=new t.Context(e,"DvtCustomTooltip");this._storedContexts[this._domElementId]=i},E.prototype.GetStoredContext=function(){return this._storedContexts[this._domElementId]},E.prototype.showRichElement=function(t,e,i,n){this.showRichElementAtPosition(t,e,i,n,!1)},E.prototype.showRichElementAtPosition=function(e,i,n,o,r){var s=this.getTooltipElem();s.style.position="absolute",s.style.zIndex=2147483647;var a=this.GetStoredContext();if(a){var l=a.getStage();l.removeChildren();var h=n.getRootDisplayable();l.addChild(h),n&&n.Render&&n.Render();var u=l.getSVGRoot();t.ToolkitUtils.setAttrNullNS(u,"width",n.getDisplayWidth()),t.ToolkitUtils.setAttrNullNS(u,"height",n.getDisplayHeight()),this.PostElement(s,e,i,r,o)}},E.prototype.hideTooltip=function(){E.superclass.hideTooltip.call(this);var t=this.GetStoredContext();t&&t.getStage().removeChildren()},t}();
  return dvt;
});

/**
 * Copyright (c) 2015, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
!function(){function a(){"use strict";function a(a,b,e){f[a]={deps:b.map(c),module:e,resolve:d}}function b(a,b){var c=e(a);b.apply(null,c)}function c(a){return 0===a.indexOf("./")?a.substr(2):a}function d(){if(!this._resolvedModule){var a=e(this.deps),b=this.module;this._resolvedModule="function"==typeof b?b.apply(null,a):b}return this._resolvedModule}function e(a){return a.map(function(a){return f[a].resolve()})}var f={};return{define:a,require:b}}var b=a(),c=b.define,d=b.require;c("dataTransfer",[],function(){"use strict";function a(a,b){function c(a){if("protected"!==p()){var b=f(a);return b&&m.hasOwnProperty(b)?m[b]:null}return""}function d(a,b){if("readwrite"===p()){var c=f(a);c&&(m[c]=b.toString())}}function e(a){if("readwrite"===p()){var b=f(a);b?m.hasOwnProperty(b)&&delete m[b]:m={}}}function f(a){return a?a.toString().toLowerCase():null}function g(b,c,d){a&&a(b,c,d)}function h(){var a=Object.keys(m);return a.item=function(b){return b>=0&&b<a.length?a[b]:null},a.contains=function(b){return a.indexOf(b)>=0},a}function i(){return n}function j(a){a=a.toLowerCase(),q.indexOf(a)>=0&&(n=a)}function k(){return o}function l(a){a=a.toLowerCase(),r.indexOf(a)>=0&&(o=a)}var m={},n="none",o="uninitialized",p=b||function(){return"readwrite"},q=["none","copy","link","move"],r=["uninitialized","none","copy","copylink","copymove","link","linkmove","move","all"];this.files={},this.items={},this.getData=c,this.setData=d,this.clearData=e,this.setDragImage=g,Object.defineProperty(this,"types",{get:h}),Object.defineProperty(this,"dropEffect",{get:i,set:j}),Object.defineProperty(this,"effectAllowed",{get:k,set:l})}return a}),c("dragImage",[],function(){"use strict";function a(a,b,c){function d(a){var b=0;if(a.children)for(var c=0;c<a.children.length;c++){var e=a.children[c],f=window.getComputedStyle(e);b="static"===f.position||"auto"===f.zIndex||isNaN(f.zIndex)?Math.max(b,d(e)):Math.max(b,f.zIndex)}return b}function e(a){var b=null!=a.parentNode,c=a.style.position,e=a.style.top;b||(a.style.position="fixed",a.style.top="10000px",document.body.appendChild(a));var f=a.cloneNode(!0);return f.id=a.id+"_dragimage",f.style.opacity=.7,f.style.position="fixed",f.style.width=a.offsetWidth+"px",f.style.height=a.offsetHeight+"px",f.style.zIndex=d(document.body)+1,f.style.visibility="hidden",b||(document.body.removeChild(a),a.style.position=c,a.style.top=e),f}function f(){document.body.appendChild(j),j.scrollLeft=m,j.scrollTop=n}function g(){document.body.removeChild(j),j=null}function h(a,b){j.style.left=a-k+m+"px",j.style.top=b-l+n+"px"}function i(a){j.style.visibility=a?"visible":"hidden"}var j=e(a),k=b,l=c,m=a.scrollLeft,n=a.scrollTop;this.start=f,this.end=g,this.move=h,this.show=i}return a}),c("eventDispatcher",[],function(){"use strict";function a(a,c,d){var e=b(a,c,d);return!c.target.dispatchEvent(e)}function b(a,b,d){var e;if(window.Event&&"function"==typeof window.Event){var g={bubbles:h[a].bubbles,cancelable:h[a].cancelable};e=new window.Event(a,g)}else e=document.createEvent("Event"),e.initEvent(a,h[a].bubbles,h[a].cancelable);return e.view=document.defaultView,e.detail=0,f(e,b),e.getModifierState=function(a){return c(a,b)},e.dataTransfer=d,e.__isPseudo=!0,e}function c(a,b){return"Alt"===a?b.altKey:"Control"===a?b.ctrlKey:"Meta"===a?b.metaKey:"Shift"===a&&b.shiftKey}function d(a){return a||0}function e(a){return a||!1}function f(a,b){var c=b.target.getBoundingClientRect();a.screenX=d(b.screenX),a.screenY=d(b.screenY),a.clientX=d(b.clientX),a.clientY=d(b.clientY),a.offsetX=b.clientX-c.left,a.offsetY=b.clientY-c.top,a.pageX=d(b.pageX),a.pageY=d(b.pageY),a.altKey=e(b.altKey),a.ctrlKey=e(b.ctrlKey),a.metaKey=e(b.metaKey),a.shiftKey=e(b.shiftKey),a.button=d(b.button),a.buttons=d(b.buttons),a.relatedTarget=b.relatedTarget?b.relatedTarget:null}function g(a){return{screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY,altKey:a.altKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,shiftKey:a.shiftKey,button:a.button,buttons:a.buttons}}var h={dragstart:{bubbles:!0,cancelable:!0},drag:{bubbles:!0,cancelable:!0},dragend:{bubbles:!0,cancelable:!1},dragenter:{bubbles:!0,cancelable:!0},dragover:{bubbles:!0,cancelable:!0},dragleave:{bubbles:!0,cancelable:!1},drop:{bubbles:!0,cancelable:!0}};return{dispatch:a,getMouseEventProps:g}}),c("autoScroller",[],function(){"use strict";function a(a,c,d){for(var e=a;null!=e&&!b(e,c,d);)e=e.parentNode;return e}function b(a,b,f){if(!c(a))return!1;var g,h,i=a.scrollLeft,j=a.scrollTop;if(a===document.documentElement)i=i||document.body.scrollLeft,j=j||document.body.scrollTop;else{var k=a.getBoundingClientRect();b-=Math.round(k.left),f-=Math.round(k.top)}return g=d(a.clientWidth,a.scrollWidth,b,i),h=d(a.clientHeight,a.scrollHeight,f,j),!(!g&&!h)&&(e(a,i+g,j+h),!0)}function c(a){if(a===document.body)return!1;if(a===document.documentElement)return!0;if(1===a.nodeType){var b=window.getComputedStyle(a,null);return("auto"===b.overflow||"scroll"===b.overflow)&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight)}return!1}function d(a,b,c,d){var e=12,f=15;if(c>a-e&&c<a){if(d+a<b)return f}else if(c>=0&&c<e&&d>0)return-Math.min(d,f);return 0}function e(a,b,c){a.scrollLeft=b,a.scrollTop=c,a===document.documentElement&&(document.body.scrollLeft=b,document.body.scrollTop=c)}return{checkAutoScroll:a}}),c("dragController",["./dataTransfer","./dragImage","./eventDispatcher","./autoScroller"],function(a,b,c,d){"use strict";function e(){function e(b,c,d){var e=new a(m,f);return g("dragstart",b,d,e),j(e,c)?k(e,b,d):{dataTransfer:e}}function f(){return Q}function g(a,b,d,e,f){return Q=h(a),"dragstart"!==a&&(e.dropEffect=i(a,e.effectAllowed)),d||(d={}),d.target=b,d.relatedTarget=f,c.dispatch(a,d,e)}function h(a){return"dragstart"===a?"readwrite":"drop"===a?"readonly":"protected"}function i(a,b){return"drag"===a||"dragleave"===a?"none":"dragenter"===a||"dragover"===a?"none"===b?"none":"move"===b?"move":0===b.indexOf("link")?"link":"copy":U}function j(a,b){return 0!==a.types.length&&(!b||b(a,M))}function k(a,b,c){return L=a,N=b,P=document.body.style.cursor,l(b,c),{dragStarted:!0,dataTransfer:a}}function l(a,b){if(null==M){var c=a.getBoundingClientRect(),d=b?b.clientX:c.left,e=b?b.clientY:c.top;m(a,d-c.left,e-c.top)}}function m(a,c,d){M&&(M.end(),M=null),a&&a.cloneNode&&(R={x:c,y:d},M=new b(a,c,d),M.start())}function n(a){if(a&&o()){if(M.show(!1),p(a))return D(a),!0;try{var b=q(a);r(b,a),s(b,a),v(b,a),B(b,a)}finally{M.show(!0)}}return!1}function o(){return null!=L}function p(a){return g("drag",N,a,L)}function q(a){var b=a.clientX,c=a.clientY;return b===S&&c===T?O:document.elementFromPoint(b,c)}function r(a,b){a!==O&&(a&&g("dragenter",a,b,L,O),O&&(z(O),g("dragleave",O,b,L,a)))}function s(a,b){if(a){t(g("dragover",a,b,L))}}function t(a){if(a){var b=L.effectAllowed;U="uninitialized"===b||"all"===b||b.indexOf(L.dropEffect)>=0?L.dropEffect:"none"}else U=u(O)?"copy":"none"}function u(a){return a&&("TEXTAREA"===a.nodeName||"INPUT"===a.nodeName&&"text"===a.type)}function v(a,b){w(b),x(a),A(a,b)}function w(a){M.move(a.clientX,a.clientY)}function x(a){var b;b="none"===U?"not-allowed":"copy"===U?"copy":"link"===U?"alias":"default",b!==document.body.style.cursor&&(document.body.style.cursor=b),y(a,b)}function y(a,b){a.style.cursor!==b&&(void 0===a._dndSavedCursor&&(a._dndSavedCursor=a.style.cursor),a.style.cursor=b)}function z(a){void 0!==a._dndSavedCursor&&(a.style.cursor=a._dndSavedCursor,delete a._dndSavedCursor)}function A(a,b){d.checkAutoScroll(a,b.clientX,b.clientY)&&(S=-1,T=-1)}function B(a,b){O=a,S=b.clientX,T=b.clientY}function C(a){E(a,!1)}function D(a){E(a,!0)}function E(a,b){if(o()){M.show(!1);var c=q(a);c&&(z(c),F(c,a,b),G(c,a,b)),g("dragend",N,a,L),J()}}function F(a,b,c){H(c)||g("dragleave",a,b,L)}function G(a,b,c){if(H(c)){var d=g("drop",a,b,L);return d?U=L.dropEffect:u(a)?I(a):U="none",d}return!0}function H(a){return!a&&"none"!==U}function I(a){var b=L.getData("text");if(b&&""!==b){var c=a.value,d=a.selectionEnd;a.value=c.substring(0,d)+b+c.substring(d)}}function J(){m(null,0,0),L=null,N=null,O=null,U="none",document.body.style.cursor=P,P=null}function K(a){var b=a.target,d=a.relatedTarget,e=c.getMouseEventProps(a);switch(a.type){case"drag":M&&M.show(!0),g("drag",b,e,L);break;case"dragenter":g("dragenter",b,e,L,d);break;case"dragleave":g("dragleave",b,e,L,d);break;case"dragover":var f=R.x>0?e.clientX-V:e.clientX+W,h=e.clientY;M.move(f,h);var i=g("dragover",b,e,L);t(i),i&&a.preventDefault();break;case"dragend":M&&M.show(!1),g("dragend",b,e,L,d),J(),a.dataTransfer.clearData();break;case"drop":M&&M.show(!1),i=G(b,e,!1),i&&a.preventDefault()}}var L,M,N,O,P,Q,R,S=-1,T=-1,U="none",V=50,W=10;this.start=e,this.drag=n,this.end=C,this.cancel=D,this.handleDndEvent=K}return e}),c("args",[],function(){"use strict";function a(a,c){if(b(a,c),"string"!=typeof c)throw new Error("argument '"+a+"' must be a string")}function b(a,b){if(!b)throw new Error("required argument '"+a+"' not specified")}return{requiredString:a,required:b}}),c("glassPane",["./eventDispatcher"],function(a){"use strict";function b(b,c){function d(a){l=a,document.body.addEventListener("mouseenter",h,!0),document.body.addEventListener("mousemove",i,!0),document.body.addEventListener("mouseup",j,!0),k=window.setInterval(g,200)}function e(){k&&(window.clearInterval(k),k=null),document.body.removeEventListener("mouseenter",h,!0),document.body.removeEventListener("mousemove",i,!0),document.body.removeEventListener("mouseup",j,!0)}function f(){return l}function g(){try{b(l)}finally{}}function h(b){b.target===document.body&&b.buttons!==m&&(l=a.getMouseEventProps(b),c(l,!0))}function i(b){void 0===m&&(m=b.buttons),b.stopPropagation(),b.preventDefault(),l=a.getMouseEventProps(b),g()}function j(b){b.stopPropagation(),b.preventDefault(),l=a.getMouseEventProps(b),c(l,!1)}var k,l,m;this.start=d,this.end=e,this.getLastInputProps=f}return b}),c("desktopDragDriver",["./args","./glassPane","./eventDispatcher"],function(a,b,c){"use strict";function d(d,e){function f(){var a=navigator.userAgent.toLowerCase();(a.indexOf("trident")>0||a.indexOf("edge")>0||a.indexOf("phantomjs")>0)&&(e.addEventListener("dragstart",i,!0),e.addEventListener("drag",v,!0),e.addEventListener("dragover",v,!0),e.addEventListener("dragend",v,!0),e.addEventListener("dragenter",v,!0),e.addEventListener("dragleave",v,!0),e.addEventListener("drop",v,!0),e.addEventListener("pointerdown",h,!0))}function g(){e.removeEventListener("dragstart",i,!0),e.removeEventListener("drag",v,!0),e.removeEventListener("dragover",v,!0),e.removeEventListener("dragend",v,!0),e.removeEventListener("dragenter",v,!0),e.removeEventListener("dragleave",v,!0),e.removeEventListener("drop",v,!0),e.removeEventListener("pointerdown",h,!0)}function h(a){x=a.pointerType}function i(a){if("touch"===x){var b=a.target;b.style.visibility="hidden",u(a),setTimeout(function(){b.style.visibility="visible"},0)}else j(a)}function j(a){var b,e=c.getMouseEventProps(a);a.stopPropagation(),g();try{b=d.start(a.target,k,e)}finally{f()}b.dragStarted?o(a,b,e):m(b.dataTransfer,a)}function k(a,b){return null!=b||l(a)}function l(a){var b=a.types;if(0===b.length)return!1;for(var c=0;c<b.length;c++){var d=b[c].toLowerCase();if("text"!==d&&"url"!==d)return!0}return!1}function m(a,b){n(a,b,"text"),n(a,b,"url")}function n(a,b,c){var d=a.getData(c);d&&b.dataTransfer.setData(c,d)}function o(a,b,c){a.preventDefault(),p(c)}function p(a){w=new b(r,s),w.start(a),document.body.addEventListener("keydown",t,!0)}function q(){w&&(w.end(),w=null),document.body.removeEventListener("keydown",t,!0)}function r(a){var b=d.drag(a);return b&&q(),b}function s(a,b){q(),b?d.cancel(a):d.end(a)}function t(a){if(a.stopPropagation(),a.preventDefault(),"Esc"===a.key||27===a.keyCode){var b=w.getLastInputProps();q(),d.cancel(b)}}function u(a){if(!a.__isPseudo){a.stopPropagation();for(var b=a.target;b&&!b.draggable;)b=b.parentNode;if(b){y=b;var e=c.getMouseEventProps(a);d.start(y,null,e).dragStarted||(a.preventDefault(),y=null)}}}function v(a){a.__isPseudo||y&&(a.stopPropagation(),d.handleDndEvent(a),"dragend"===a.type&&(y=null))}a.required("controller",d);var w,x,y;this.install=f,this.remove=g}return d}),c("touchDragDriver",["./args"],function(a){"use strict";function b(b,c){function d(){c.addEventListener("touchstart",f,!0),c.addEventListener("touchmove",g,!0)}function e(){c.removeEventListener("touchstart",f,!0),c.removeEventListener("touchmove",g,!0)}function f(a){for(var b=a.target;b&&!b.draggable;)b=b.parentNode;b&&h(b)}function g(){}function h(a){a.addEventListener("touchstart",j,!1),a.addEventListener("touchmove",k,!1),a.addEventListener("touchend",l,!1),a.addEventListener("touchcancel",m,!1)}function i(a){a.removeEventListener("touchstart",j,!1),a.removeEventListener("touchmove",k,!1),a.removeEventListener("touchend",l,!1),a.removeEventListener("touchcancel",m,!1)}function j(a){p=a.currentTarget,q=!1}function k(a){if(a.preventDefault(),a.stopPropagation(),!q){if(!b.start(p,null,o(a)).dragStarted)return void i(a.currentTarget);q=!0}b.drag(o(a))&&i(a.currentTarget)}function l(a){n(a,!1)}function m(a){n(a,!0)}function n(a,c){var d=a.currentTarget;c?b.cancel(o(a)):b.end(o(a)),p=null,q=!1,i(d)}function o(a){return{screenX:Math.round(a.changedTouches[0].screenX),screenY:Math.round(a.changedTouches[0].screenY),clientX:Math.round(a.changedTouches[0].clientX),clientY:Math.round(a.changedTouches[0].clientY),pageX:Math.round(a.changedTouches[0].pageX),pageY:Math.round(a.changedTouches[0].pageY),altKey:a.altKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,shiftKey:a.shiftKey}}a.required("controller",b);var p=null,q=!1;this.install=d,this.remove=e}return b}),c("bootstrap",["./dragController","./desktopDragDriver","./touchDragDriver"],function(a,b,c){"use strict";function d(){if(!g()){e(new a,-1!==navigator.userAgent.toLowerCase().indexOf("edge")?[b]:[b,c])}}function e(a,b){for(var c=document.documentElement,d=0;d<b.length;d++){var e=b[d],f=new e(a,c);f.install(),h.push(f)}}function f(){h.forEach(function(a){a.remove()}),h=[]}function g(){return h.length>0}var h=[];return{init:d,destroy:f}}),d(["bootstrap"],function(a){a.init()})}();
define("ojdnd", function(){});

/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojdvt-base',["ojs/ojcore","jquery","ojs/ojcontext","ojs/ojconfig","ojs/ojcomponentcore","ojs/ojattributegrouphandler","ojs/ojlocaledata","ojs/internal-deps/dvt/DvtToolkit","ojs/ojkeysetimpl","ojs/ojmap","ojs/ojlogger","ojdnd","promise"],function(e,t,n,r,i,s,o,a,l,h,d){"use strict";e.AttributeGroupHandler=s.AttributeGroupHandler,e.ColorAttributeGroupHandler=s.ColorAttributeGroupHandler,e.ShapeAttributeGroupHandler=s.ShapeAttributeGroupHandler;var c=function(e,t){this._component=e,this._configMap=t,this._init()};e.Object.createSubclass(c,e.Object,"DataProviderHandler"),c.prototype._init=function(){this._dataProviderEventListeners={},this._keyDataMap={},this._fetchedData={},this._eventListeners=[]},c.prototype._fetchCollection=function(e,t,n,r,i,s){var o=this,a={data:[],keys:[]};if(s<=-1)return Promise.resolve(a);var l=e.fetchFirst({size:-1})[Symbol.asyncIterator](),h=this.isTreeDataProvider(e),d=function(e){for(var s=[],c=0;c<e.value.data.length;c++){var u=t({data:e.value.data[c],key:e.value.metadata[c].key},i);s.push(u)}return Promise.all(s).then(function(e){for(var t=0;t<e.length;t++){var s=e[t].data,l=e[t].key;a.data.push(s),a.keys.push(l),o._keyDataMap[n].set(h?l.value:l,{data:s,key:l,parentKey:r,depth:i})}}).then(function(){return e.done?Promise.resolve(a):l.next().then(d)})};return l.next().then(d)},c.prototype._getDPPostProcessor=function(e,t,n,r){var i=this,s=this.isTreeDataProvider(e);r=null==r?Number.MAX_VALUE:r;var o=function(s,a){var l={value:s.data},h={value:s.key};if(a<r&&n&&n.has(h.value)){var d=e.getChildDataProvider(h.value);if(d)return i._fetchCollection(d,o,t,h.value,a+1).then(function(e){return l.children=e.data,h.children=e.keys,{data:l,key:h}})}return Promise.resolve({data:l,key:h})};return s?o:function(e){return Promise.resolve(e)}},c.prototype.fetchAllData=function(e,t,n){if(n&&this._fetchedData[t])return Promise.resolve(this._fetchedData[t]);var r=this._configMap[t];return this.clear(t,!0),this._fetchCollection(e,this._getDPPostProcessor(e,t,r.expandedKeySet,r.maxFetchDepth),t,null,0,r.maxFetchDepth).then(function(r){return n&&(this._fetchedData[t]=r,this._addDPEventListeners(e,t)),r}.bind(this))},c.prototype._getDataProviderEventHandler=function(e){var t=this,n=function(e,t,n){if(!t)return[];var r=new l(t),i=new Map,s=function(e){for(var t=0;t<e.length;t++){var o=n?e[t].value:e[t],a=r.get(o);a!==r.NOT_A_KEY&&i.set(a,t),n&&e[t].children&&s(e[t].children)}};s(e.keys);var o=[];return t.forEach(function(e){o.push(i.get(e))}),o},r=function(n){Promise.all([n]).then(function(n){t._fireEvent("clearState",{dataProperty:e}),t._fetchedData[e]=n[0],t._fireEvent("dataUpdated",{data:n[0]})})};return function(i){t._fireEvent("notReady",{event:i});var s=this,o=t.isTreeDataProvider(s),a=t._keyDataMap[e];if("refresh"===i.type)r(t.fetchAllData(s,e));else if("mutate"===i.type){var l,h=i.detail.update,d=i.detail.remove,c=i.detail.add,u=t._fetchedData[e],_=function(n,r,i,l){var h=0,d=[],c=1===i&&!l;return r.keys.forEach(function(n){var i,u=l?null:r.data[h];if(o)if(c){var _=a.get(n);_&&(_.data.value=u,i=Promise.resolve({data:_.data,key:a.get(n).key}))}else{var p={value:u},f={value:n},m=s.getChildDataProvider(n);if(m&&!l)i=t.fetchAllData(m,e).then(function(e){return p.children=e.data,f.children=e.keys,{data:p,key:f}});else i=Promise.resolve({data:p,key:f});if(!l){var v=r.parentKeys?r.parentKeys[h]:null;a.set(f.value,{data:p,key:f,parentKey:v})}}else i=Promise.resolve({data:u,key:n}),a.set(n,{data:u,key:n});d.push(i),h+=1}),Promise.all(d).then(function(e){for(var t=0;t<e.length;t++){var r,s,h,d=o?e[t].key.value:e[t].key,_=a.get(d).parentKey;if(_){var p=a.get(_);p.data.children||c||(p.data.children=[],p.key.children=[]),r=p.data.children,s=p.key.children}else r=u.data,s=u.keys;if(l)h=n[t]-t,r.splice(h,i),s.splice(h,i);else{if(c)h=n[t];else h=0===n.length||null==n[t]?r.length:n[t];r.splice(h,i,e[t].data),s.splice(h,i,e[t].key)}}return u})},p=function(e){return s.fetchByKeys({keys:e}).then(function(t){var n=[];return t.results.size>0&&e.forEach(function(e){n.push(t.results.get(e).data)}),n})},f=Promise.resolve();h&&(l=h.indexes||n(u,h.keys,o),f=Array.isArray(h.data)?_(l,h,1):p(h.keys).then(function(e){var t=Object.create(h,{data:{value:e}});return _(l,t,1)})),f.then(function(){return d?(l=d.indexes||n(u,d.keys,o),_(l,d,1,!0)):Promise.resolve()}).then(function(){return c?(l=c.indexes||n(u,c.addBeforeKeys?c.addBeforeKeys:c.afterKeys,o),Array.isArray(c.data)?_(l,c,0):p(c.keys).then(function(e){var t=Object.create(c,{data:{value:e}});return _(l,t,0)})):Promise.resolve()}).then(function(){r(Promise.resolve(u))})}}},c.prototype._addDPEventListeners=function(e,t){if(!this._dataProviderEventListeners[t]){var n=this._getDataProviderEventHandler(t);e.addEventListener("mutate",n),e.addEventListener("refresh",n),this._dataProviderEventListeners[t]={dataProvider:e,listener:n}}},c.prototype.release=function(e){var t=function(e){var t=this._dataProviderEventListeners[e];if(t){var n=t.dataProvider,r=t.listener;n.removeEventListener("mutate",r),n.removeEventListener("refresh",r),this._dataProviderEventListeners[e]=null}}.bind(this);if(e)t(e),this.clear(e);else{for(var n=Object.keys(this._dataProviderEventListeners),r=0;r<n.length;r++)t(n[r]);this.clear()}},c.prototype.fetchChildrenData=function(e,t,n,r){var i=function(t,n,r){this._keyDataMap[e].get(t).data.children=n,this._keyDataMap[e].get(t).key.children=r}.bind(this),s=t.getChildDataProvider(n);if(s){var o=this._configMap[e].maxFetchDepth,a=this._keyDataMap[e].get(n).depth,l=this._getDPPostProcessor(t,e,r,o);return this._fetchCollection(s,l,e,n,a,o).then(function(e){return i(n,e.data,e.keys),e})}return Promise.resolve({data:[],keys:[]})},c.prototype.clear=function(e,t){e&&t?(this._keyDataMap[e]=this._keyDataMap[e]||new h,this._fireEvent("reset",{dataProperty:e})):e?this._fetchedData[e]=null:(this._fetchedData={},this._keyDataMap={})},c.prototype.isDataProvider=function(t){return e.DataProviderFeatureChecker.isDataProvider(t)},c.prototype.isTreeDataProvider=function(t){return e.DataProviderFeatureChecker.isTreeDataProvider(t)},c.prototype.addEventListener=function(e){this._eventListeners.push(e)},c.prototype._fireEvent=function(e,t){for(var n=0;n<this._eventListeners.length;n++)this._eventListeners[n]({type:e,detail:t})};var u={_SHAPE_REGEXP:/\d/,_SHAPE_ENUMS:{circle:!0,ellipse:!0,square:!0,rectangle:!0,diamond:!0,triangleUp:!0,triangleDown:!0,plus:!0,human:!0,star:!0},shapeParseFunction:function(e,t){var n=t||u._SHAPE_ENUMS;return function(t,r,i,s){if(e[r]){if(u._SHAPE_REGEXP.test(t))return t;if(n[t])return t;throw new Error("Found: '"+t+"'. Expected one of the following: "+Object.keys(n).toString())}return s(t)}}},_=function(e,t){this._path=t,this._root=e,this._delimiter="/"};_.prototype._resolveLeafObjectAndProperty=function(e,t,n,r){for(var i={};e&&t.indexOf(n)>-1;){var s=t.substring(0,t.indexOf(n));r&&void 0===e[s]&&(e[s]={}),e=e[s],t=t.substring(t.indexOf(n)+1,t.length)}return e&&(i.object=e,i.parameter=t),i},_.prototype._resolvePath=function(e){if(void 0===this._leaf){var t=this._resolveLeafObjectAndProperty(this._root,this._path,this._delimiter,e);this._leaf=t.object,this._param=t.parameter}},_.prototype.getValue=function(){return this._resolvePath(!1),void 0===this._leaf?void 0:this._leaf[this._param]},_.prototype.setValue=function(e,t){this._resolvePath(!0),!t&&this._leaf[this._param]||(this._leaf[this._param]=e)};var p={TEXT:function(e){var t={};return e&&(e.hasClass("oj-gauge-metric-label")?(t["font-size"]=!0,t.color=!0):e.hasClass("oj-treemap-node-header")&&(t["font-weight"]=!0)),p._buildTextCssPropertiesObject(e,t)},BACKGROUND:function(e,t,n,r){return p._buildCssBackgroundPropertiesObject(e)},ANIM_DUR:function(e){var t=e.css("animation-duration");if(t)return"ms"===t.slice(-2)?t=parseInt(t.slice(0,-2),10):"s"===t.slice(-1)&&(t=1e3*parseFloat(t.slice(0,-1))),t},_INHERITED_FONT_COLOR:"rgb(254, 0, 254)",_INHERITED_FONT_FAMILY:"Times",_INHERITED_FONT_SIZE:"1px",_INHERITED_FONT_WEIGHT:"1",_INHERITED_FONT_STYLE:"normal",_FONT_SIZE_BUFFER:4,_styleCache:{},defaultStyleProcessor:function(e,t){return e.css(t)},_buildCssBackgroundPropertiesObject:function(e){var t={};return e.css("border-top-color")&&(t.borderColor=e.css("border-top-color")),e.css("border-width")&&e.css("border-style")&&"none"!==e.css("border-style")&&(t.borderWidth=e.css("border-width")),e.css("background-color")&&(t.backgroundColor=e.css("background-color")),t},_buildTextCssPropertiesObject:function(e,t){var n={},r=e.css("font-family");return r&&r!==p._INHERITED_FONT_FAMILY&&(n.fontFamily=r.replace(/"/g,"'")),!(r=e.css("font-size"))||r.indexOf("px")>-1&&parseFloat(r)<p._FONT_SIZE_BUFFER||t["font-size"]||(n.fontSize=r),(r=e.css("font-weight"))&&r!==p._INHERITED_FONT_WEIGHT&&!t["font-weight"]&&(n.fontWeight=r),(r=e.css("color"))&&r!==p._INHERITED_FONT_COLOR&&!t.color&&(n.color=r),(r=e.css("font-style"))&&r!==p._INHERITED_FONT_STYLE&&(n.fontStyle=r),n},processStyles:function(e,n,r,i){var o,a=null,l=null,h="";for(o=0;o<r.length;o++)h=h+r[o]+" ";var d,c={},u={},_=Object.keys(i);for(o=0;o<_.length;o++){var f=i[d=_[o]];f instanceof Array||(f=[f]);var m=p._hasUncachedProperty(d,f);l||a||!m||((a=t(document.createElement("div"))).css("display","none"),e.append(a),a.attr("class",h),t(document.body).append(a),(l=t(document.createElement("div"))).css("font-size",p._INHERITED_FONT_SIZE),l.css("color",p._INHERITED_FONT_COLOR),l.css("font-weight",p._INHERITED_FONT_WEIGHT),l.css("font-style",p._INHERITED_FONT_STYLE),a.append(l)),c[d]=f,m&&(u[d]=p._createStyleDivs(l,d,f))}var v=s.ColorAttributeGroupHandler.__createAttrDiv();for(o=0;o<_.length;o++)d=_[o],p._processStyle(u[d],n,d,c[d]);v&&(s.ColorAttributeGroupHandler.__processAttrDiv(v),v.remove()),a&&a.remove()},_createStyleDivs:function(e,n,r){p._styleCache[n]||(p._styleCache[n]={});for(var i=null,s=0;s<r.length;s++){var o=r[s].property;if(o)void 0===p._styleCache[n][o]&&(i||((i=t(document.createElement("div"))).addClass(n),e.append(i)))}return i},_processStyle:function(e,t,n,r){for(var i=0;i<r.length;i++){var s=r[i],o=s.property;if(o){var a=p._styleCache[n][o];if(void 0===a&&e&&(a=p._resolveStyle(e,o),p._styleCache[n][o]=a),null!=a){var l=new _(t,s.path),h=l.getValue(),d="object"==typeof h;if(d&&h)for(var c=Object.keys(a),u=0;u<c.length;u++){var f=c[u];void 0===h[f]&&(h[f]=a[f])}else l.setValue(a,d)}}}},_resolveStyle:function(e,t){var n=p[t],r=n?n(e):p.defaultStyleProcessor(e,t);return null==r||"string"==typeof r&&""===r.replace(/^\s+/g,"")?null:r},_hasUncachedProperty:function(e,t){var n=p._styleCache[e];if(!n)return!0;for(var r=0;r<t.length;r++){var i=t[r].property;if(i)if(void 0===n[i])return!0}return!1}},f=function(e,t){this._component=e,this._configMap=t,this._init()};return e.Object.createSubclass(f,e.Object,"TemplateHandler"),f.prototype._init=function(){this._templateEnginePromise=null,this.getTemplateEngine(),this._templates=this.getTemplates(),this._templateResults={},this._templateNodeData={},this._componentResults={},this._eventListeners=[],this._queueNextEvent=!0,this._eventUpdates=[],this._templatePropertyMap={},this._propertyValidatorMap={}},f.prototype.getTemplateEngine=function(){return this._templateEnginePromise?this._templateEnginePromise:(this._templateEnginePromise=new Promise(function(e){r.__getTemplateEngine().then(function(t){e(t)},function(e){throw new Error("Error loading template engine: "+e)})}),this._templateEnginePromise)},f.prototype.getTemplates=function(){return e.BaseCustomElementBridge.getSlotMap(this._component.element[0])},f.prototype._getPropertyValidator=function(t,n){if(!t)return null;var r=this._propertyValidatorMap[n];if(r)return r;var i=e.CustomElementBridge.getMetadata(n),s=t.content?t.content.children[0]:t.childNodes[1],o={};return r=function(t,n){var r=t.join("."),a=o[r];if(!a){a=i;for(var l=0;l<t.length;l++)a=a.properties[t[l]];o[r]=a}e.BaseCustomElementBridge.checkEnumValues(s,r,n,a),null!=n&&e.BaseCustomElementBridge.checkType(s,r,n,a)},this._propertyValidatorMap[n]=r,r},f.prototype._processAliasedPropertyNames=function(e,t,n){var r=this._configMap[e].getAliasedPropertyNames;if(r)for(var i=r(t),s=Object.keys(i),o=0;o<s.length;o++){var a=s[o];n[i[a]]=n[a],n[a]=void 0}return n},f.prototype._getTemplateElementProperties=function(e){var t=this._templatePropertyMap[e];return t||(t=this._component.getElementPropertyNames(e),this._templatePropertyMap[e]=t),t},f.prototype.processNodeTemplate=function(t,n,r,i,s,o){var a=this._configMap[t],l=r.getAttribute("slot"),d=this._component.options.as,c=this._component.element[0],u=this._getTemplateElementProperties(i),_="string"==typeof a.templateName?function(){return a.templateName}:a.templateName,p=this._getPropertyValidator(r,i),f=l===_()?t:l,m=function(r){return function(s){var a=this._processAliasedPropertyNames(t,i,s),h=this._templateNodeData[f];e.CollectionUtils.copyInto(h.get(r).data,a),this._eventUpdates.push({key:o,data:a}),this._queueNextEvent&&(this._fireEvent("notReady"),n.getThrottlePromise().then(function(){this._fireEvent("dataUpdated",{dataProperty:t,templateName:l,data:this._eventUpdates.slice(0)}),this._queueNextEvent=!0,this._eventUpdates=[]}.bind(this))),this._queueNextEvent=!1}.bind(this)}.bind(this),v=n.resolveProperties(c,r,i,u,s,d,p);v.subscribe(m(o));var y={data:this._processAliasedPropertyNames(t,i,v.peek()),node:v,context:s};return this._templateNodeData[f]||(this._templateNodeData[f]=new h),this._templateNodeData[f].set(o,y),y.data},f.prototype.processTemplates=function(e,t,n,r,i,s,o){if(s&&this._templateResults[e])return this._templateResults[e];var a,l,h=this._configMap[e],c=this;if(h){a=[],l=[];var u="string"==typeof h.templateName?function(){return h.templateName}:h.templateName,_="string"==typeof h.templateElementName?function(){return h.templateElementName}:h.templateElementName,p=h.resultPath,f=this._component.element[0],m=h.processChildrenData,v=h.processOptionData||function(e){return e},y=c._templateNodeData[e];if(u&&_&&p){var g,C=function(t,r,i,s,o){var a;try{s?a=c.processNodeTemplate(e,n,s[0],o,i,r):((a=Object.create(t))._noTemplate=!0,a._dvtNoClone=!0,y.set(r,{data:a,context:i})),a.id=r,a._itemData=t}catch(e){d.error(e)}return a},D=function(e,t,n){for(var i=e.data,s=e.keys,o=[],a=0;a<i.length;a++){var l=r?i[a].value:i[a],h=r?s[a].value:s[a],d={data:l,key:h,index:a,componentElement:f};r&&(d.parentData=t,d.parentKey=n);var v=u(i[a]),y=_(i[a]),g=c._templates[v],P=C(l,h,d,g,y);if(r&&i[a].children){var E=t.slice(0);E.push(l);var b={data:i[a].children,keys:s[a].children},T=D(b,E,h);m?m(P,i[a],T):P[p]=T}o.push(P)}return o};a.push(p),i&&y.has(i)&&(g=y.get(i).context.parentData.concat(y.get(i).context.data));var P=D(t,g||[],i);l.push(v(P))}o&&(y.get(i).data[p]=l[0])}var E={paths:a,values:l};return s&&(this._templateResults[e]=E),E},f.prototype.release=function(e){var t=function(e){var t=this._templateNodeData[e];t&&(t.forEach(function(e){e.node&&e.node.dispose()}),this._templateNodeData[e]=new h)}.bind(this);if(e)t(e),this.clear(e);else{for(var n=Object.keys(this._templateNodeData),r=0;r<n.length;r++)t(n[r]);this.clear()}},f.prototype.clear=function(e,t){e&&t?this._templateNodeData[e]=this._templateNodeData[e]||new h:e?(this._templateResults[e]=null,this._componentResults[e]=null):(this._templateResults={},this._componentResults={},this._templateNodeData={})},f.prototype.getComponentResults=function(e){return this._componentResults[e]},f.prototype.setComponentResults=function(e,t){this._componentResults[e]=t},f.prototype.addEventListener=function(e){this._eventListeners.push(e)},f.prototype._fireEvent=function(e,t){for(var n=0;n<this._eventListeners.length;n++)this._eventListeners[n]({type:e,detail:t})},e.__registerWidget("oj.dvtBaseComponent",t.oj.baseComponent,{options:{trackResize:"on"},_ComponentCreate:function(){this._super(),this._renderCount=0,this._numDeferredObjs=0,this._optionsCopy=null,this._dataValuePromise={},this._templateMap={},this._TemplateHandler=new f(this,this._GetSimpleDataProviderConfigs()),this._DataProviderHandler=new c(this,this._GetSimpleDataProviderConfigs()),this._DataProviderHandler.addEventListener(this._GetDPEventHandler()),this._TemplateHandler.addEventListener(this._GetDPEventHandler());for(var n=this._GetComponentStyleClasses(),r=0;r<n.length;r++)this.element.addClass(n[r]);this._referenceDiv=t(document.createElement("div")),this._referenceDiv.css("visibility","hidden"),this.element.append(this._referenceDiv),a.Agent.setAgentInfo(e.AgentUtils.getAgentInfo());var s=this.element[0].parentElement;s&&s._dvtcontext?this._context=s._dvtcontext:this._context=new a.Context(this.element[0],null,this._referenceDiv[0]),this._context.oj=e,this._context.KeySetImpl=l,this._context.ojMap=h,this._context.LocaleData=o,this._context.dataProviderProps=Object.keys(this._GetSimpleDataProviderConfigs()),this._context.setReadingDirection(this._GetReadingDirection()),this._context.setTooltipAttachedCallback(i.subtreeAttached),this._context.setOverlayAttachedCallback(i.subtreeAttached),this._context.setFixContextCallback(this._FixRendererContext.bind(this)),this._context.setCustomElement(this._IsCustomElement()),t(document.body).hasClass("oj-hicontrast")&&a.Agent.setHighContrast(!0),this._component=this._CreateDvtComponent(this._context,this._HandleEvent,this),this._context.getStage().addChild(this._component),this._LoadResources(),this.options._environment="jet",this.options._widgetConstructor=i.__GetWidgetConstructor(this.element)},_AfterCreate:function(){this._super(),"off"!==this.options.trackResize&&this._addResizeListener(),this._ProcessOptions(),this._Render()},_SetLocaleHelpers:function(e){if(!1!==a.requireJS){var t={};t.numberConverterFactory=e.Validation.getDefaultConverterFactory("number"),t.isoToDateConverter=function(t){if("string"==typeof t){var n=e.IntlConverterUtils.isoToDate(t),r=n.toJSON()?e.IntlConverterUtils.dateToLocalIso(n):t;return e.IntlConverterUtils.isoToLocalDate(r)}return t},t.dateToIsoWithTimeZoneConverter=function(t){if(t instanceof Date){var n=-1*t.getTimezoneOffset(),r=n>=0?"+":"-",i=Math.floor(Math.abs(n)/60),s=Math.abs(n)%60,o=r+(2!==i.toString().length?"0"+i:i)+":"+(2!==s.toString().length?s+"0":s);return e.IntlConverterUtils.dateToLocalIso(t)+o}return t},this._context.setLocaleHelpers(t)}},refresh:function(){this._super(),this._context.setReadingDirection(this._GetReadingDirection()),this._Render()},getNodeBySubId:function(e){var t=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(t){var n=this._ConvertLocatorToSubId(e);return t.getDomElementForSubId(n)}return null},getSubIdByNode:function(e){var t=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(t){var n=t.getSubIdForDomElement(e);return n?this._ConvertSubIdToLocator(n):null}return null},_ConvertLocatorToSubId:function(e){return null},_ConvertSubIdToLocator:function(e){return null},_ProcessStyles:function(){p.processStyles(this.element,this.options,this._GetComponentStyleClasses(),this._GetChildStyleClasses())},_GetComponentStyleClasses:function(){return["oj-dvtbase"]},_GetChildStyleClasses:function(){var e={"oj-dvt-no-data-message":{path:"_statusMessageStyle",property:"TEXT"}};return e},_GetEventTypes:function(){return[]},_VerifyConnectedForSetup:function(){return!0},_ReleaseResources:function(){this._super(),this._renderNeeded=!0,this._DataProviderHandler.release(),this._TemplateHandler.release(),this._dataValuePromise={}},_destroy:function(){this._context.hideTooltips(),this._context.destroy(),this._context=null;var e=this.element[0].parentElement;e&&e._dvtcontext&&(e._dvtcontext=null),this._component.destroy&&this._component.destroy(),this._component=null,this._removeResizeListener(),this._CleanAllTemplates(),this.element.children().remove(),this.element.removeAttr("role").removeAttr("tabIndex").removeAttr("aria-activedescendant");for(var t=this._GetComponentStyleClasses(),n=0;n<t.length;n++)this.element.removeClass(t[n]);this._MakeReady(),this._TemplateHandler.release(),this._DataProviderHandler.release(),this._dataValuePromise={},this._super()},_setOptions:function(e,n){this._superApply(arguments),this._OptionChangeHandler(e);var r=this.options.trackResize;if("off"===r&&this._resizeListener?this._removeResizeListener():"off"===r||this._resizeListener||this._addResizeListener(),this._ProcessOptions(),!this._bUserDrivenChange){var i=!1,s=this._GetEventTypes(),o=["highlightedCategories","selection","dataCursorPosition","scrollPosition"];t.each(e,function(e){if(s.indexOf(e)<0&&o.indexOf(e)<0)return i=!0,!1}),i?this._Render():(void 0!==e.highlightedCategories&&this._component.highlight(e.highlightedCategories),void 0!==e.selection&&this._component.select(e.selection),void 0!==e.dataCursorPosition&&this._component.positionDataCursor&&this._component.positionDataCursor(e.dataCursorPosition),void 0!==e.scrollPosition&&this._component.scroll(e.scrollPosition))}},_CreateDvtComponent:function(e,t,n){return null},_HandleEvent:function(e){var n=e.type;"selection"===n?this._UserOptionChange("selection",e.selection):"categoryHide"===n||"categoryShow"===n?this._UserOptionChange("hiddenCategories",e.hiddenCategories):"categoryHighlight"===n?this._UserOptionChange("highlightedCategories",e.categories):"optionChange"===n?this._UserOptionChange(e.key,e.value,e.optionMetadata):"touchHoldRelease"===n&&this._GetContextMenu()?this._OpenContextMenu(t.Event(e.nativeEvent),"touch"):"dvtRender"===n?this._Render():"ready"===n&&0===this._numDeferredObjs&&this._MakeReady()},_addResizeListener:function(){this._resizeListener||(this._resizeListener=this._handleResize.bind(this),e.DomUtils.addResizeListener(this.element[0],this._resizeListener,250))},_removeResizeListener:function(){this._resizeListener&&(e.DomUtils.removeResizeListener(this.element[0],this._resizeListener),this._resizeListener=null)},_handleResize:function(e,t){var n=this.element.width(),r=this.element.height();(null==this._width||null==this._height||Math.abs(n-this._width)+Math.abs(r-this._height)>=5)&&this._Render(!0)},_LoadResources:function(){},_Render:function(e){this._context.hideTooltips(),this._NotReady(),!this._context.isReadyToRender()||this._renderNeeded&&e?(this._renderNeeded=!0,this._MakeReady()):(this._width=this._IsFlowingLayoutSupported()?null:this.element.width(),this._height=this._IsFlowingLayoutSupported()?null:this.element.height(),this._context.setDefaultFontFamily(this._referenceDiv.css("font-family")),this.options._width=this._width,this.options._height=this._height,this.options._locale=r.getLocale(),this._IsDraggable()&&this.element.attr("draggable",!0),this._ProcessStyles(),e?0===this._numDeferredObjs&&(this._renderCount+=1,this._RenderComponent(this._optionsCopy,e)):(this._renderCount+=1,this._resolveDeferredDataItems()&&this._RenderComponent(this._optionsCopy)),this._renderNeeded=!1)},_IsDraggable:function(){return!!this.options.dnd},_NotifyShown:function(){this._super(),this._notifyShownAttached()},_NotifyAttached:function(){this._super(),this._notifyShownAttached()},_NotifyDetached:function(){this._super(),this._notifyHiddenDetached()},_NotifyHidden:function(){this._super(),this._notifyHiddenDetached()},_notifyShownAttached:function(){this._renderNeeded&&this._Render()},_notifyHiddenDetached:function(){this._context.hideTooltips(),this._MakeReady()},_UserOptionChange:function(e,t,n){this._bUserDrivenChange=!0,this.option(e,t,{_context:{writeback:!0,optionMetadata:n,internalSet:!0,skipEvent:"_"===e.charAt(0)}}),this._bUserDrivenChange=!1},_NotifyContextMenuGesture:function(e,t,n){if("touch"!==n)if("keyboard"===n){var r=this.element[0].getBoundingClientRect(),i=this._component.getKeyboardFocus()?this._component.getKeyboardFocus().getBoundingClientRect():null,s=i?"left+"+(i.left+.5*i.width-r.left)+" top+"+(i.top+.5*i.height-r.top):"center";this._OpenContextMenu(t,n,{position:{at:s}})}else this._super(e,t,n)},_GetDvtComponent:function(e){var t=i.__GetWidgetConstructor(e)("instance");return t?t._component:null},_GetStringFromIndexPath:function(e){for(var t="",n=0;n<e.length;n++)t+="["+e[n]+"]";return t},_GetIndexPath:function(e){for(var t=[],n=0;e.indexOf("[",n)>0;){var r=e.indexOf("[",n)+1,i=e.indexOf("]",n);t.push(Number(e.substring(r,i))),n=i+1}return t},_GetFirstIndex:function(e){return Number(this._GetFirstBracketedString(e))},_GetFirstBracketedString:function(e){var t=e.indexOf("[")+1,n=e.indexOf("]");return e.substring(t,n)},_GetComponentDeferredDataPaths:function(){return{}},_GetComponentNoClonePaths:function(){if(!this._noClonePaths){this._noClonePaths={};var e=this,t=this._GetComponentDeferredDataPaths().root;t&&t.forEach(function(t){e._noClonePaths[t]=!0})}return this._noClonePaths},_resolveDeferredDataItems:function(){this._optionsCopy=a.JsonUtils.clone(this.options,null,this._GetComponentNoClonePaths()),this._numDeferredObjs=0,this._FixCustomRenderers(this._optionsCopy);for(var e=this,t=this._GetComponentDeferredDataPaths(),n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];t[i].forEach(function(t){if("root"===i)e._resolveDeferredDataItem.bind(e)(e.options,e._optionsCopy,t);else{var n=e.options[i];if(n&&n instanceof Array)for(var r=0;r<n.length;r++)e._resolveDeferredDataItem.bind(e)(n[r],e._optionsCopy[i][r],t)}})}return 0===this._numDeferredObjs},_resolveDeferredDataItem:function(e,t,n){var r=new _(e,n),i=r.getValue(),s=this;if(i instanceof Function?i=Promise.resolve(i(this._GetDataContext(e))):this._IsCustomElement()&&Array.isArray(i)&&(i=Promise.resolve(i),r.setValue(i,!0)),i&&this._DataProviderHandler.isDataProvider(i)){var o=this._DataProviderHandler.isTreeDataProvider(i);i=s._dataValuePromise[n]||new Promise(function(e){var t=s._TemplateHandler.getTemplateEngine(),r=s._DataProviderHandler.fetchAllData(i,n,!0);Promise.all([t,r]).then(function(t){if(i===s._dataValuePromise[n]){var r=t[0],a=t[1],l=s._ProcessTemplates(n,a,r,o,null,!0);s._dataValuePromise[n]=null,e(l)}},function(){s._dataValuePromise[n]=null})}),s._dataValuePromise[n]=i}if(i instanceof Promise){var a=this._renderCount;i.then(function(e){var r=[n],i=[e];e.paths&&(r=e.paths,i=e.values),s._renderDeferredData(a,t,r,i)},function(){s._renderDeferredData(a,t,[n],[[]])}),this._numDeferredObjs+=1}},_renderDeferredData:function(e,t,n,r){if(e===this._renderCount){this._numDeferredObjs-=1;for(var i=0;i<n.length;i++)new _(t,n[i]).setValue(r[i],!0);0===this._numDeferredObjs&&(this._RenderComponent(this._optionsCopy),this._optionsCopy=null)}},_ClearDataProviderState:function(e){this._DataProviderHandler.clear(e),this._TemplateHandler.release(e),this._dataValuePromise[e]=null},_OptionChangeHandler:function(e){for(var t=Object.keys(this._GetSimpleDataProviderConfigs()),n=0;n<t.length;n++){var r=t[n];Object.prototype.hasOwnProperty.call(e,r)&&this._ClearDataProviderState(r)}},getElementPropertyNames:function(t){var n=e.CustomElementBridge.getMetadata(t).properties,r=Object.keys(n).filter(function(e){return!n[e]._eventListener}),i=new Set;return r.forEach(function(e){i.add(e)}),i},_ProcessTemplates:function(e,t,n,r,i,s,o){return this._TemplateHandler.processTemplates(e,t,n,r,i,s,o)},_GetSimpleDataProviderConfigs:function(){return{}},_GetDPEventHandler:function(){return function(e){"notReady"===e.type?this._NotReady():"dataUpdated"===e.type?this._Render():"clearState"===e.type?this._ClearDataProviderState(e.detail.dataProperty):"reset"===e.type&&this._TemplateHandler.clear(e.detail.dataProperty,!0)}.bind(this)},_getFetchDataHandler:function(e){var t=this._GetSimpleDataProviderConfigs()[e].resultPath;return function(n,r,i,s){var o=this._DataProviderHandler.fetchChildrenData(e,n,s,r),a=this._TemplateHandler.getTemplateEngine();return Promise.all([o,a]).then(function(n){var r=this._ProcessTemplates(e,{data:n[0].data,keys:n[0].keys},n[1],!0,s,!1,!0).values[0];i&&(i[t]=r)}.bind(this))}.bind(this)},_RenderComponent:function(e,t){if(this._context.isReadyToRender()){this._CleanAllTemplates();var n=this._IsFlowingLayoutSupported()&&this._resizeListener;n&&this._removeResizeListener(),this._component.render(t?null:e,this._width,this._height),n&&this._addResizeListener(),this.element.attr("role")?this.element[0].hasAttribute("tabindex")||this.element.attr("tabindex",0):this.element.attr("tabindex",null)}else this._renderNeeded=!0,this._MakeReady()},_GetDataContext:function(e){return{}},_IsFlowingLayoutSupported:function(){return!1},whenReady:function(){if(this._ready)return Promise.resolve(!0);if(!this._promise){var e=this;this._promise=new Promise(function(t){e._promiseResolve=t})}return this._promise},_NotReady:function(){if(this._ready=!1,0===this._numDeferredObjs&&!this._readyResolveFunc){var e=n.getContext(this.element[0]).getBusyContext(),t={description:"The component identified by '"+this.element.attr("id")+"' is being loaded."};this._readyResolveFunc=e.addBusyState(t)}},_MakeReady:function(){this._promiseResolve&&(this._promiseResolve(!0),this._promiseResolve=null),this._ready=!0,this._promise=null,this._readyResolveFunc&&(this._readyResolveFunc(),this._readyResolveFunc=null)},_ProcessOptions:function(){var e=this.options.tooltip;e&&e._renderer&&(this.options.tooltip={renderer:this._GetTemplateRenderer(e._renderer,"tooltip")})},_WrapCustomElementRenderer:function(e){var t=this;return function(n){n._dvtcontext=t._context;var r=e(n);if(n._templateName&&n._templateCleanup&&t._AddTemplate(n._templateName,n._templateCleanup),r&&!0!==r.preventDefault&&r.insert){var i=r.insert;return i.classList&&i.classList.contains("oj-dvtbase")?t._GetDvtComponent(i):i}return null}},_FixCustomRenderers:function(e){if(this._IsCustomElement())for(var t=this._GetComponentRendererOptions(),n=0;n<t.length;n++){var r=t[n].path,i=t[n].slot,s=this._TemplateHandler.getTemplates();if(i&&s[i]&&s[i][0])this._ProcessInlineTemplateRenderer(e,r,s[i][0],i);else{var o=new _(e,r),a=o.getValue();a&&o.setValue(this._WrapCustomElementRenderer(a),!0)}}},_GetComponentRendererOptions:function(){return[{path:"tooltip/renderer",slot:"tooltipTemplate"}]},_GetTemplateRenderer:function(e,n){var r=this;return function(i){var s=document.createElement("div");s.style.display="none",e({parentElement:s,context:i});var o=s.children[0];return o?(r._AddTemplate(n,function(){t(s).remove()}),s.removeChild(o),t(s).remove(),o):null}},_GetTemplateDataRenderer:function(e,n){var r=this;return function(i){var s=document.createElement("div");s.style.display="none",s._dvtcontext=r._context,r.element.append(s),e({parentElement:s,data:i.data});var o=s.children[0];return o?(r._AddTemplate(n,function(){t(s).remove()}),"http://www.w3.org/2000/svg"===o.namespaceURI?(s.removeChild(o),t(s).remove(),o):r._GetDvtComponent(o)):null}},_ProcessInlineTemplateRenderer:function(e,t,n,r){var i=this._renderCount;this._numDeferredObjs+=1,this._TemplateHandler.getTemplateEngine().then(function(s){var o=function(e){var t=s.execute(this.element[0],n,e);return t&&t.length>0?(Object.defineProperty(e,"_templateCleanup",{value:function(){t.forEach(function(e){s.clean(e)})},enumerable:!1}),Object.defineProperty(e,"_templateName",{value:r,enumerable:!1}),{insert:t}):{preventDefault:!0}}.bind(this);this._renderDeferredData(i,e,[t],[this._WrapCustomElementRenderer(o)])}.bind(this))},_CleanAllTemplates:function(){for(var e=Object.keys(this._templateMap),t=0;t<e.length;t++){var n=e[t];this._CleanTemplate(n)}this._templateMap={}},_CleanTemplate:function(e){if(this._templateMap[e]){for(var t=this._templateMap[e].length,n=0;n<t;n++)this._templateMap[e][n]();this._templateMap[e]=[]}},_AddTemplate:function(e,t){this._templateMap[e]||(this._templateMap[e]=[]),this._templateMap[e].push(t)},_CompareOptionValues:function(t,n,r){switch(t){case"hiddenCategories":case"highlightedCategories":case"selection":return e.Object.compareValues(n,r);default:return this._super(t,n,r)}}},!0),u});
/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/internal-deps/dvt/DvtAxis',['./DvtToolkit'], function(dvt) {
  "use strict";
  // Internal use only.  All APIs and functionality are subject to change at any time.

!function(t){t.BaseAxisInfo=function(){},t.Obj.createSubclass(t.BaseAxisInfo,t.Obj),t.BaseAxisInfo.MINIMUM_AXIS_BUFFER=10,t.BaseAxisInfo.prototype.Init=function(i,a,e){this._context=i,this.Position=a.position,this._radius=a._radius,"top"==this.Position||"bottom"==this.Position?(this.StartCoord=e.x,this.EndCoord=e.x+e.w):"left"==this.Position||"right"==this.Position?(this.StartCoord=e.y,this.EndCoord=e.y+e.h):"radial"==this.Position?(this.StartCoord=0,this.EndCoord=this._radius):"tangential"==this.Position&&(t.Agent.isRightToLeft(i)?(this.StartCoord=2*Math.PI,this.EndCoord=0):(this.StartCoord=0,this.EndCoord=2*Math.PI)),this.MinValue=null,this.MaxValue=null,this.GlobalMin=null,this.GlobalMax=null,this.DataMin=null,this.DataMax=null,this.StartOverflow=0,this.EndOverflow=0,null==a.leftBuffer&&(a.leftBuffer=1/0),null==a.rightBuffer&&(a.rightBuffer=1/0),this.Options=a},t.BaseAxisInfo.prototype.getCtx=function(){return this._context},t.BaseAxisInfo.prototype.getOptions=function(){return this.Options},t.BaseAxisInfo.prototype.getValueAt=function(t){if(null==t)return null;var i=Math.min(this.StartCoord,this.EndCoord),a=Math.max(this.StartCoord,this.EndCoord);return t<i||t>a?null:this.getUnboundedValueAt(t)},t.BaseAxisInfo.prototype.getCoordAt=function(t){return null==t?null:t<this.MinValue||t>this.MaxValue?null:this.getUnboundedCoordAt(t)},t.BaseAxisInfo.prototype.getBoundedValueAt=function(t){if(null==t)return null;var i=Math.min(this.StartCoord,this.EndCoord),a=Math.max(this.StartCoord,this.EndCoord);return t<i?t=i:t>a&&(t=a),this.getUnboundedValueAt(t)},t.BaseAxisInfo.prototype.getBoundedCoordAt=function(t){return null==t?null:(t<this.MinValue?t=this.MinValue:t>=this.MaxValue&&(t=this.MaxValue),this.getUnboundedCoordAt(t))},t.BaseAxisInfo.prototype.getUnboundedValueAt=function(t){return null},t.BaseAxisInfo.prototype.getUnboundedCoordAt=function(t){return null},t.DataAxisInfoMixin=function(i,a,e){this.MAX_NUMBER_OF_GRIDS_AUTO=10,this.MINOR_TICK_COUNT=2,this.MAJOR_TICK_INCREMENT_BUFFER=1e-10,this.MixinInit=function(i,a,e){"top"==this.Position||"bottom"==this.Position?("off"!=a.tickLabel.rendered&&"off"!=a.rendered&&(this.StartOverflow=Math.max(t.BaseAxisInfo.MINIMUM_AXIS_BUFFER-a.leftBuffer,0),this.EndOverflow=Math.max(t.BaseAxisInfo.MINIMUM_AXIS_BUFFER-a.rightBuffer,0)),t.Agent.isRightToLeft(i)?(this.MinCoord=this.EndCoord-this.EndOverflow,this.MaxCoord=this.StartCoord+this.StartOverflow):(this.MinCoord=this.StartCoord+this.StartOverflow,this.MaxCoord=this.EndCoord-this.EndOverflow)):"tangential"==this.Position||"radial"==this.Position?(this.MinCoord=this.StartCoord,this.MaxCoord=this.EndCoord):(this.MinCoord=this.EndCoord,this.MaxCoord=this.StartCoord),this.DataMin=a.dataMin,this.DataMax=a.dataMax,this.IsLog="log"==a.scale&&this.DataMin>0&&this.DataMax>0,this.LinearGlobalMin=this.actualToLinear(a.min),this.LinearGlobalMax=this.actualToLinear(a.max),this.LinearMinValue=null==a.viewportMin?this.LinearGlobalMin:this.actualToLinear(a.viewportMin),this.LinearMaxValue=null==a.viewportMax?this.LinearGlobalMax:this.actualToLinear(a.viewportMax),this._dataMin=this.actualToLinear(this.DataMin),this._dataMax=this.actualToLinear(this.DataMax),this.MajorIncrement=this.actualToLinear(a.step),this.MinorIncrement=this.actualToLinear(a.minorStep),this._minMajorIncrement=this.actualToLinear(a.minStep),this.MajorTickCount=a._majorTickCount,this.MinorTickCount=a._minorTickCount,this.LogScaleUnit=a._logScaleUnit,this.ZeroBaseline=!this.IsLog&&"zero"==a.baselineScaling,this.Converter=null,null!=a.tickLabel&&(this.Converter=a.tickLabel.converter),this._calcAxisExtents(),this.GlobalMin=this.linearToActual(this.LinearGlobalMin),this.GlobalMax=this.linearToActual(this.LinearGlobalMax),this.MinValue=this.linearToActual(this.LinearMinValue),this.MaxValue=this.linearToActual(this.LinearMaxValue)},this.getBaselineCoord=function(){return this.IsLog?this.MinCoord:this.getBoundedCoordAt(0)},this.getUnboundedValueAt=function(t){if(null==t)return null;var i=(t-this.MinCoord)/(this.MaxCoord-this.MinCoord),a=this.LinearMinValue+i*(this.LinearMaxValue-this.LinearMinValue);return this.linearToActual(a)},this.getUnboundedCoordAt=function(t){return this.GetUnboundedCoordAt(this.actualToLinear(t))},this.GetUnboundedCoordAt=function(t){if(null==t)return null;var i=this.LinearMaxValue==this.LinearMinValue?0:(t-this.LinearMinValue)/(this.LinearMaxValue-this.LinearMinValue);return i=Math.max(Math.min(1e3,i),-1e3),this.MinCoord+i*(this.MaxCoord-this.MinCoord)},this.CalcMajorMinorIncr=function(t){this.MajorIncrement||(this.MajorTickCount?this.MajorIncrement=(this.LinearMaxValue-this.LinearMinValue)/this.MajorTickCount:this.MajorIncrement=Math.max(t,this._minMajorIncrement)),this.MajorTickCount||(this.MajorTickCount=(this.LinearMaxValue-this.LinearMinValue)/this.MajorIncrement,Math.ceil(this.MajorTickCount)-this.MajorTickCount<this.MAJOR_TICK_INCREMENT_BUFFER&&(this.MajorTickCount=Math.ceil(this.MajorTickCount))),this.MinorTickCount||(this.MinorIncrement?this.MinorTickCount=this.MajorIncrement/this.MinorIncrement:this.IsLog?this.MinorTickCount=this.MajorIncrement:this.MinorTickCount=this.MINOR_TICK_COUNT),this.MinorIncrement||(this.MinorIncrement=this.MajorIncrement/this.MinorTickCount)},this._calcAxisExtents=function(){var t="on"==this.Options._continuousExtent;this.ZeroBaseline&&(this._dataMin=Math.min(0,this._dataMin),this._dataMax=Math.max(0,this._dataMax));var i=this._calcAxisScale(null!=this.LinearGlobalMin?this.LinearGlobalMin:this._dataMin,null!=this.LinearGlobalMax?this.LinearGlobalMax:this._dataMax);i=Math.max(i,this._minMajorIncrement),this._dataMin==this._dataMax&&(0==this._dataMin?this._dataMax+=5*i:(this._dataMin-=2*i,this._dataMax+=2*i)),null==this.LinearGlobalMin&&(this.ZeroBaseline&&this._dataMin>=0?this.LinearGlobalMin=0:t?this.LinearGlobalMin=this._dataMin-.1*(this._dataMax-this._dataMin):this.ZeroBaseline||null==this.LinearGlobalMax?this.LinearGlobalMin=(Math.ceil(this._dataMin/i)-1)*i:(this.LinearGlobalMin=this.LinearGlobalMax,this.LinearGlobalMin-=i*(Math.floor((this.LinearGlobalMin-this._dataMin)/i)+1)),this._dataMin>=0&&(this.LinearGlobalMin=Math.max(this.LinearGlobalMin,0))),null==this.LinearGlobalMax&&(this.MajorTickCount?this.LinearGlobalMax=this.LinearGlobalMin+this.MajorTickCount*i:this.ZeroBaseline&&this._dataMax<=0?this.LinearGlobalMax=0:t?this.LinearGlobalMax=this._dataMax+.1*(this._dataMax-this._dataMin):this.ZeroBaseline?this.LinearGlobalMax=(Math.floor(this._dataMax/i)+1)*i:(this.LinearGlobalMax=this.LinearGlobalMin,this.LinearGlobalMax+=i*(Math.floor((this._dataMax-this.LinearGlobalMax)/i)+1)),this._dataMax<=0&&(this.LinearGlobalMax=Math.min(this.LinearGlobalMax,0))),this.LinearGlobalMax==this.LinearGlobalMin&&(this.LinearGlobalMax=100,this.LinearGlobalMin=0,i=(this.LinearGlobalMax-this.LinearGlobalMin)/this.MAX_NUMBER_OF_GRIDS_AUTO),null==this.LinearMinValue&&(this.LinearMinValue=this.LinearGlobalMin),null==this.LinearMaxValue&&(this.LinearMaxValue=this.LinearGlobalMax),this.LinearMinValue==this.LinearGlobalMin&&this.LinearMaxValue==this.LinearGlobalMax||(i=this._calcAxisScale(this.LinearMinValue,this.LinearMaxValue)),this.LinearGlobalMin>this.LinearMinValue&&(this.LinearGlobalMin=this.LinearMinValue),this.LinearGlobalMax<this.LinearMaxValue&&(this.LinearGlobalMax=this.LinearMaxValue),this.CalcMajorMinorIncr(i)},this._calcAxisScale=function(i,a){if(this.MajorIncrement)return this.MajorIncrement;var e=a-i;if(this.IsLog){var n=Math.floor(e/8)+1;return(!this.LogScaleUnit||this.LogScaleUnit<n)&&(this.LogScaleUnit=n),this.LogScaleUnit}if(0==e)return 0==i?10:Math.pow(10,Math.floor(t.Math.log10(i))-1);if(this.MajorTickCount){var r=e/this.MajorTickCount,o=r/(l=Math.pow(10,Math.ceil(t.Math.log10(r)-1)));return(o=o>1&&o<=1.5?1.5:o>5?10:Math.ceil(o))*l}var s=t.Math.log10(e),l=Math.pow(10,Math.ceil(s)-2),h=Math.round(e/l);return(h>=10&&h<=14?2:h>=15&&h<=19?3:h>=20&&h<=24?4:h>=25&&h<=45?5:h>=46&&h<=80?10:20)*l},this.linearToActual=function(t){return null==t?null:this.IsLog?Math.pow(10,t):t},this.actualToLinear=function(i){return null==i?null:this.IsLog?i>0?t.Math.log10(i):null:i}},t.LinearScaleAxisValueFormatter=function(t,i,a,e,n,r,o){this.Init(t,i,a,e,n,r,o)},t.Obj.createSubclass(t.LinearScaleAxisValueFormatter,t.Obj),t.LinearScaleAxisValueFormatter.SCALE_NONE="none",t.LinearScaleAxisValueFormatter.SCALE_AUTO="auto",t.LinearScaleAxisValueFormatter.SCALE_THOUSAND="thousand",t.LinearScaleAxisValueFormatter.SCALE_MILLION="million",t.LinearScaleAxisValueFormatter.SCALE_BILLION="billion",t.LinearScaleAxisValueFormatter.SCALE_TRILLION="trillion",t.LinearScaleAxisValueFormatter.SCALE_QUADRILLION="quadrillion",t.LinearScaleAxisValueFormatter.SCALING_FACTOR_DIFFERENCE=3,t.LinearScaleAxisValueFormatter.prototype.Init=function(t,i,a,e,n,r,o){this._context=t,this._translations=o,this._scales={},this._scalesOrder=[],this._factorToScaleMapping={},this.InitScales(),this.InitFormatter(i,a,e,n,r)},t.LinearScaleAxisValueFormatter.prototype.InitScales=function(){var i=function(t,i,a){var e;a&&(e=this._translations[a]);var n={scaleFactor:i,localizedSuffix:e};this._scales[t]=n,this._scalesOrder.push(n),this._factorToScaleMapping[i]=n},a=t.LinearScaleAxisValueFormatter.SCALING_FACTOR_DIFFERENCE;i.call(this,t.LinearScaleAxisValueFormatter.SCALE_NONE,0*a),i.call(this,t.LinearScaleAxisValueFormatter.SCALE_THOUSAND,1*a,"labelScalingSuffixThousand"),i.call(this,t.LinearScaleAxisValueFormatter.SCALE_MILLION,2*a,"labelScalingSuffixMillion"),i.call(this,t.LinearScaleAxisValueFormatter.SCALE_BILLION,3*a,"labelScalingSuffixBillion"),i.call(this,t.LinearScaleAxisValueFormatter.SCALE_TRILLION,4*a,"labelScalingSuffixTrillion"),i.call(this,t.LinearScaleAxisValueFormatter.SCALE_QUADRILLION,5*a,"labelScalingSuffixQuadrillion"),this._scalesOrder.sort(function(t,i){return t.scaleFactor<i.scaleFactor?-1:t.scaleFactor>i.scaleFactor?1:0})},t.LinearScaleAxisValueFormatter.prototype.InitFormatter=function(t,i,a,e,n){var r,o,s=!1,l=!1;if("off"!==n&&(l=!0),"number"!=typeof(o=this._getScaleFactor(e))&&(s=!0),s){var h=Math.max(Math.abs(t),Math.abs(i)),u=this._getPowerOfTen(h);o=this._findNearestLEScaleFactor(u)}if(!0===l)if(0==a&&t==i){var M=o-this._getPowerOfTen(i);r=M<=0?Math.max(M+3,0):Math.max(M,4)}else{var c=this._getPowerOfTen(a);r=Math.max(o-c,0)}this._useAutoPrecision=l,this._scaleFactor=o,this._decimalPlaces=r},t.LinearScaleAxisValueFormatter.prototype._findNearestLEScaleFactor=function(t){var i=0;if(t<=this._scalesOrder[0].scaleFactor)i=this._scalesOrder[0].scaleFactor;else if(t>=this._scalesOrder[this._scalesOrder.length-1].scaleFactor)i=this._scalesOrder[this._scalesOrder.length-1].scaleFactor;else for(var a=this._scalesOrder.length-1;a>=0;a--)if(this._scalesOrder[a].scaleFactor<=t){i=this._scalesOrder[a].scaleFactor;break}return i},t.LinearScaleAxisValueFormatter.prototype._getScaleFactor=function(i){i||(i=t.LinearScaleAxisValueFormatter.SCALE_AUTO);var a,e=this._scales[i];return e&&(a=e.scaleFactor),a},t.LinearScaleAxisValueFormatter.prototype.format=function(t,i){var a=null!=t?parseFloat(t):t;if("number"==typeof a){var e;if(this._scaleFactor>0){for(var n=0;n<this._scaleFactor;n++)a/=10;e=this._factorToScaleMapping[this._scaleFactor].localizedSuffix}if(i&&i.getAsString)a=i.getAsString(a);else if(i&&i.format)a=i.format(a);else{var r=this._context.getNumberConverter({minimumFractionDigits:this._decimalPlaces,maximumFractionDigits:this._decimalPlaces});r&&r.format?a=r.format(a):this._useAutoPrecision&&(a=parseFloat(new Number(a).toFixed(this._decimalPlaces)),a=this._formatFraction(a))}return"string"==typeof e&&0!=t&&(a+=e),a}return t},t.LinearScaleAxisValueFormatter.prototype._formatFraction=function(t){var i=t.toString();if(-1!=i.indexOf("e"))return i;if(this._decimalPlaces>0){-1==i.indexOf(".")&&(i+=".");for(var a=i.substring(i.indexOf(".")+1).length;a<this._decimalPlaces;)i+="0",a++}return i},t.LinearScaleAxisValueFormatter.prototype._getPowerOfTen=function(t){var i=0;if((t=t>=0?t:-t)<1e-15)return 0;if(t==1/0)return Number.MAX_VALUE;if(t>=10)for(;t>=10;)i+=1,t/=10;else if(t<1)for(;t<1;)i-=1,t*=10;return i}}(dvt);
  return dvt;
});

/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/internal-deps/dvt/DvtLegend',['./DvtToolkit'], function(dvt) {
  "use strict";
  // Internal use only.  All APIs and functionality are subject to change at any time.

!function(e){e.Legend=function(){},e.Obj.createSubclass(e.Legend,e.BaseComponent),e.Legend.newInstance=function(t,i,n){var o=new e.Legend;return o.Init(t,i,n),o},e.Legend.getDefaults=function(e){return(new i).getDefaults(e)},e.Legend.prototype.Init=function(t,o,r){e.Legend.superclass.Init.call(this,t,o,r),this.setId("legend1000"+Math.floor(1e9*Math.random())),this.Defaults=new i(t),this.EventManager=new n(this),this.EventManager.addListeners(this),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[]},e.Legend.prototype.SetOptions=function(e){this.getOptionsCache().clearCache(),e?(this.Options=this.Defaults.calcOptions(e),this._transferVisibilityProperties(this.Options.sections)):this.Options||(this.Options=this.GetDefaults())},e.Legend.prototype.getPreferredSize=function(t,i,n){this.SetOptions(t),this.getOptions().isLayout=!0;var o=new e.Rectangle(0,0,i,n),r=s.render(this,o);return this.getOptions().isLayout=!1,new e.Dimension(r.w,r.h)},e.Legend.prototype.render=function(t,i,n){this.getCache().clearCache(),this.SetOptions(t),isNaN(i)||isNaN(n)||(this.Width=i,this.Height=n),this.getOptions().isLayout=!1;for(var r=this.getNumChildren(),a=0;a<r;a++){this.getChildAt(a).destroy()}this.removeChildren(),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[],e.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new o(this.EventManager,this)),this.UpdateAriaAttributes();var l=new e.Rectangle(0,0,this.Width,this.Height);this._contentDimensions=s.render(this,l);var g=this.getOptions().highlightedCategories;return g&&g.length>0&&this.highlight(g),this.RenderComplete(),this._contentDimensions},e.Legend.prototype.highlight=function(t){this.getOptions().highlightedCategories=t&&t.length>0?t.slice():null,e.CategoryRolloverHandler.highlight(t,this.__getObjects(),!0)},e.Legend.prototype.processEvent=function(t,i){if("categoryHighlight"==t.type&&"dim"==this.getOptions().hoverBehavior){var n=this.__getObjects();this!=i&&this.highlight(t.categories);for(var o=0;o<n.length;o++)if(e.Obj.compareValues(this.getCtx(),n[o].getId(),t.categories)){this.container.scrollIntoView(n[o].getDisplayables()[0]);break}}this==i&&this.dispatchEvent(t)},e.Legend.prototype.__registerObject=function(t){if(t.getDisplayables()[0]instanceof e.Button)this._navigablePeers.push(t);else{var i=this.getOptions().hideAndShowBehavior;(null!=t.getDatatip()||t.isDrillable()||"none"!=i&&"off"!=i)&&this._navigablePeers.push(t),this._peers.push(t)}},e.Legend.prototype.__getObjects=function(){return this._peers},e.Legend.prototype.__getKeyboardObjects=function(){return this._navigablePeers},e.Legend.prototype.__setBounds=function(e){this._bounds=e.clone()},e.Legend.prototype.__getBounds=function(){return this._bounds},e.Legend.prototype.__registerTitle=function(e){this._titles.push(e)},e.Legend.prototype.__getTitles=function(){return this._titles},e.Legend.prototype.getAutomation=function(){return new t(this)},e.Legend.prototype.getKeyboardFocus=function(){return null!=this.EventManager?this.EventManager.getFocus():null},e.Legend.prototype.setKeyboardFocus=function(t,i){if(null!=this.EventManager){for(var n=this.__getKeyboardObjects(),o=0;o<n.length;o++)if(e.Obj.compareValues(this.getCtx(),n[o].getId(),t.getId())){this.EventManager.setFocusObj(n[o]),i&&n[o].showKeyboardFocusEffect();break}var r=this.getKeyboardFocus();if(r){var s=r.getDisplayables()[0];s.setAriaProperty("label",r.getAriaLabel()),this.getCtx().setActiveElement(s)}}},e.Legend.prototype.getDimensions=function(t){var i=new e.Rectangle(0,0,this.Width,this.Height);return t&&t!==this?this.ConvertCoordSpaceRect(i,t):i},e.Legend.prototype.getContentDimensions=function(e){return e&&e!==this?this.ConvertCoordSpaceRect(this._contentDimensions,e):this._contentDimensions},e.Legend.prototype._transferVisibilityProperties=function(e){if(e&&!(e.length<=0))for(var t=this.getOptions().hiddenCategories,i=0;i<e.length;i++){var n=e[i];n.sections&&this._transferVisibilityProperties(n.sections);var o=n.items;if(o&&!(o.length<=0))for(var r=0;r<o.length;r++){var a=o[r],l=s.getItemCategory(a,this);"hidden"==a.categoryVisibility&&t.indexOf(l)<0&&t.push(l),a.categoryVisibility=null}}},e.Legend.prototype.UpdateAriaAttributes=function(){if(this.IsParentRoot()){var t=this.getOptions(),i=t.translations,n=t.hideAndShowBehavior;("off"!=n&&"none"!=n||"dim"==t.hoverBehavior)&&(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(e.ResourceUtils.format(i.labelAndValue,[i.labelDataVisualization,e.TextUtils.processAriaLabel(this.GetComponentDescription())])))}},e.Legend.prototype.isNavigable=function(){return this._navigablePeers.length>0},e.Legend.getItemCount=function(t){var i=t.getOptionsCache().getFromCache("itemsCount");if(null!=i)return i;i=0;for(var n=t.getOptions().sections,o=0;o<n.length;o++){var r=n[o];i+=e.Legend.getSectionItemsCount(r)}return t.getOptionsCache().putToCache("itemsCount",i),i},e.Legend.getSectionItemsCount=function(t){var i=0;if(t.items&&(i+=t.items.length),t.sections)for(var n=t.sections,o=0;o<n.length;o++)i+=e.Legend.getSectionItemsCount(n[o]);return i};var t=function(e){this._legend=e,this._options=this._legend.getOptions()};e.Obj.createSubclass(t,e.Automation),t.prototype.GetSubIdForDomElement=function(e){var t=this._legend.getEventManager().GetLogicalObject(e);if(t&&t instanceof r){var i=t.getData(),n=this._getIndicesFromItem(i,this._options);if(n)return"section"+n}return null},t.prototype._getIndicesFromItem=function(e,t){if(t.sections&&t.sections.length>0){for(var i=0;i<t.sections.length;i++){if(t.sections[i]==e)return"["+i+"]";var n=this._getIndicesFromItem(e,t.sections[i]);if(n)return"["+i+"]"+n}return null}if(t.items&&t.items.length>0){for(var o=0;o<t.items.length;o++)if(t.items[o]==e)return":item["+o+"]";return null}},t.prototype.getIndicesFromSeries=function(e,t){if(t.sections&&t.sections.length>0){for(var i=0;i<t.sections.length;i++){var n=this.getIndicesFromSeries(e,t.sections[i]);if(n)return"["+i+"]"+n}return null}if(t.items&&t.items.length>0){for(var o=0;o<t.items.length;o++)if(t.items[o].text==e.name)return":item["+o+"]";return null}},t.prototype.getLegendItem=function(e,t){var i=t.indexOf("["),n=t.indexOf("]");if(i>=0&&n>=0){var o=t.substring(i+1,n),r=t.indexOf(":"),s=(t=t.substring(n+1)).indexOf("["),a=t.indexOf("]");return s>=0&&a>=0?this.getLegendItem(e.sections[o],t):0==r?e.items[o]:e.sections[o]}},t.prototype.getDomElementForSubId=function(t){if(t==e.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._legend);for(var i=this.getLegendItem(this._options,t),n=this._legend.__getObjects(),o=0;o<n.length;o++){if(i==n[o].getData())return n[o].getDisplayables()[0].getElem()}return null},t.prototype.getTitle=function(){return this._options.title},t.prototype.getItem=function(e){var t,i=e.shift(),n=this._options;if(!n.sections||0===n.sections.length)return null;for(;null!=i;)e.length>0?n=n.sections[i]:t=n.items[i],i=e.shift();return t?{text:t.text?t.text:null}:null},t.prototype.getSection=function(e){var t,i=e.shift(),n=this._options;if(!n.sections||0===n.sections.length)return null;for(;null!=i;)e.length>0?n=n.sections[i]:t=n.sections[i],i=e.shift();return{title:t.title?t.title:null,items:t.items?this._generateItemObjects(t.items):null,sections:t.sections?this._generateSectionObjects(t.sections):null}},t.prototype._generateItemObjects=function(e){for(var t=[],i=0;i<e.length;i++)t.push({text:e[i].text});return t},t.prototype._generateSectionObjects=function(e){for(var t=[],i=0;i<e.length;i++)t.push({title:e[i].title?e[i].title:null,items:e[i].items?this._generateItemObjects(e[i].items):null,sections:e[i].sections?this._generateSectionObjects(e[i].sections):null});return t};var i=function(e){this.Init({alta:i.SKIN_ALTA},e)};e.Obj.createSubclass(i,e.BaseComponentDefaults),i.SKIN_ALTA={skin:e.CSSStyle.SKIN_ALTA,orientation:"vertical",position:null,backgroundColor:null,borderColor:null,textStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),titleStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #737373;"),_sectionTitleStyle:new e.CSSStyle(e.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #737373;"),titleHalign:"start",hiddenCategories:[],hideAndShowBehavior:"off",hoverBehavior:"none",hoverBehaviorDelay:200,scrolling:"asNeeded",halign:"start",valign:"top",drilling:"off",dnd:{drag:{series:{}},drop:{legend:{}}},_color:"#a6acb1",_markerShape:"square",_lineWidth:3,layout:{outerGapWidth:3,outerGapHeight:3,titleGapWidth:17,titleGapHeight:9,symbolGapWidth:7,symbolGapHeight:4,rowGap:4,columnGap:10,sectionGapHeight:16,sectionGapWidth:24},isLayout:!1},i.getGapSize=function(t,i){var n=Math.min(e.TextUtils.getTextStringHeight(t.getCtx(),t.getOptions().textStyle)/14,1);return Math.ceil(i*n)},i.prototype.getNoCloneObject=function(e){return{sections:{items:{_dataContext:!0}}}};var n=function(e){this.Init(e.getCtx(),e.processEvent,e,e),this._legend=e};e.Obj.createSubclass(n,e.EventManager),n.prototype.OnClick=function(e){n.superclass.OnClick.call(this,e);var t=this.GetLogicalObject(e.target);if(t){var i=this.processHideShowEvent(t),o=this.handleClick(t,e);(i||o)&&e.stopPropagation()}},n.prototype.OnMouseOver=function(t){n.superclass.OnMouseOver.call(this,t);var i=this.GetLogicalObject(t.target);if(i){var o=i instanceof e.SimpleObjPeer?i.getParams():null;if(o&&o.isCollapsible&&o.button)o.button.drawOverState();this.UpdateActiveElement(i)}},n.prototype.OnMouseOut=function(t){n.superclass.OnMouseOut.call(this,t);var i=this.GetLogicalObject(t.target);if(i){var o=i instanceof e.SimpleObjPeer?i.getParams():null;if(o&&o.isCollapsible&&o.button)o.button.drawUpState()}},n.prototype.HandleTouchClickInternal=function(e){var t=this.GetLogicalObject(e.target);if(t){var i=e.touchEvent,n=this.processHideShowEvent(t),o=this.handleClick(t,e);(n||o)&&i&&i.preventDefault()}},n.prototype.processHideShowEvent=function(t){var i=this._legend.getOptions().hideAndShowBehavior;if("none"==i||"off"==i)return!1;var n=t.getCategories?t.getCategories():null;if(!n||n.length<=0)return!1;var o=t.getCategories()[0],r=this._legend.getOptions().hiddenCategories||[];r=r.slice();for(var a=t.getDisplayables(),l=0;l<a.length;l++){var g=a[l];g instanceof e.SimpleMarker?g.setHollow(t.getColor()):g instanceof e.Rect&&t.updateAriaLabel()}var h,c=n[0];return s.isCategoryHidden(o,this._legend)?(r.splice(r.indexOf(o),1),h=e.EventFactory.newCategoryShowEvent(c,r)):(r.push(o),h=e.EventFactory.newCategoryHideEvent(c,r)),this._legend.getOptions().hiddenCategories=r,this.FireEvent(h,this._legend),!0},n.prototype.handleClick=function(t,i){if(t instanceof r&&t.isDrillable()){var n=t.getId();return this.FireEvent(e.EventFactory.newChartDrillEvent(n,n,null),this._legend),!0}var o=t instanceof e.SimpleObjPeer?t.getParams():null;return!(!o||!o.isCollapsible)&&(this.toggleSectionCollapse(i,o.id),!0)},n.prototype.ProcessRolloverEvent=function(t,i,n){var o=this._legend.getOptions();if(!("none"==o.hoverBehavior||i.getDisplayables&&i.getDisplayables()[0]instanceof e.Button)){var r=i.getCategories?i.getCategories():[];o.highlightedCategories=n?r.slice():null;var s=e.EventFactory.newCategoryHighlightEvent(o.highlightedCategories,n),a=e.CSSStyle.getTimeMilliseconds(o.hoverBehaviorDelay);this.RolloverHandler.processEvent(s,this._legend.__getObjects(),a,!0)}},n.prototype.onCollapseButtonClick=function(e,t){var i=t.getId();this.toggleSectionCollapse(e,i)},n.prototype.toggleSectionCollapse=function(t,i){for(var n=this._legend.getOptions(),o=n.expanded,r=this._legend.getOptions(),s=null,a=0;a<i.length;a++)r=r.sections[i[a]];if(o?o.has(r.id)?(n.expanded=o.delete([r.id]),s=!1):(n.expanded=o.add([r.id]),s=!0):r.expanded="off"==r.expanded?"on":"off",t.type==e.MouseEvent.CLICK){var l=this.GetLogicalObject(t.target);l.getNextNavigable&&this.setFocusObj(l.getNextNavigable(t))}var g=this._legend.getKeyboardFocus(),h=!!g&&g.isShowingKeyboardFocusEffect();if(this._legend.render(),g&&this._legend.setKeyboardFocus(g,h),this.hideTooltip(),null!=s){t=new e.EventFactory.newExpandCollapseEvent(s?"expand":"collapse",r.id,r,this._legend.getOptions()._widgetConstructor,n.expanded);this.FireEvent(t,this._legend)}},n.prototype.GetTouchResponse=function(){return this._legend.getOptions()._isScrollingLegend?e.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:e.EventManager.TOUCH_RESPONSE_TOUCH_START},n.prototype.isDndSupported=function(){return!0},n.prototype.GetDragSourceType=function(e){var t=this.DragSource.getDragObject();return t instanceof r&&null!=t.getData()._dataContext?"series":null},n.prototype.GetDragDataContexts=function(){var e=this.DragSource.getDragObject();return e instanceof r?[e.getData()._dataContext]:[]},n.prototype.GetDropTargetType=function(e){var t=this._legend.stageToLocal(this.getCtx().pageToStageCoords(e.pageX,e.pageY)),i=this._legend.getOptions().dnd.drop,n=this._legend.__getBounds();return Object.keys(i.legend).length>0&&n.containsPoint(t.x,t.y)?"legend":null},n.prototype.GetDropEventPayload=function(e){return{}},n.prototype.ShowDropEffect=function(e){if("legend"==this.GetDropTargetType(e)){var t=this._legend.getOptions()._dropColor,i=this._legend.getCache().getFromCache("background");i&&(i.setSolidFill(t),i.setClassName("oj-active-drop"))}},n.prototype.ClearDropEffect=function(){var t=this._legend.getCache().getFromCache("background");if(t){var i=this._legend.getOptions().backgroundColor;i?t.setSolidFill(i):t.setInvisibleFill(),e.ToolkitUtils.removeClassName(t.getElem(),"oj-invalid-drop"),e.ToolkitUtils.removeClassName(t.getElem(),"oj-active-drop")}},n.prototype.ShowRejectedDropEffect=function(e){if("legend"==this.GetDropTargetType(e)){var t=this._legend.getCache().getFromCache("background");t&&t.setClassName("oj-invalid-drop")}};var o=function(e,t){this.Init(e,t)};e.Obj.createSubclass(o,e.KeyboardHandler),o.prototype.Init=function(e,t){o.superclass.Init.call(this,e),this._legend=t},o.prototype.processKeyDown=function(t){var i=t.keyCode,n=this._eventManager.getFocus(),r=n&&n.getDisplayables()[0]instanceof e.Button,s=null;if(null==n&&i==e.KeyboardEvent.TAB){var a=this._legend.__getKeyboardObjects();a.length>0&&(e.EventManager.consumeEvent(t),s=this.getDefaultNavigable(a))}else n&&(i==e.KeyboardEvent.TAB?(e.EventManager.consumeEvent(t),s=n):i==e.KeyboardEvent.ENTER||i==e.KeyboardEvent.SPACE?(i==e.KeyboardEvent.ENTER&&this._eventManager.handleClick(n,t),r?this._eventManager.onCollapseButtonClick(t,n.getDisplayables()[0]):this._eventManager.processHideShowEvent(n),e.EventManager.consumeEvent(t)):!r||i!=e.KeyboardEvent.LEFT_ARROW&&i!=e.KeyboardEvent.RIGHT_ARROW?s=o.superclass.processKeyDown.call(this,t):(this._eventManager.onCollapseButtonClick(t,n.getDisplayables()[0]),e.EventManager.consumeEvent(t)));return s&&this._legend.container.scrollIntoView(s.getDisplayables()[0]),s};var r=function(e,t,i,n,o,r){this.Init(e,t,i,n,o,r)};e.Obj.createSubclass(r,e.Obj),r.prototype.Init=function(t,i,n,o,r,a){if(this._legend=t,this._displayables=i,this._item=n,this._category=s.getItemCategory(this._item,this._legend),this._id=this._category?this._category:n.title,this._drillable=a,this._tooltip=o,this._datatip=r,this._isShowingKeyboardFocusEffect=!1,this._drillable)for(var l=0;l<this._displayables.length;l++)this._displayables[l].setCursor(e.SelectionEffectUtils.getSelectingCursor())},r.associate=function(e,t,i,n,o,s){if(!e||!i)return null;var a=new r(t,e,i,n,o,s);t.__registerObject(a);for(var l=0;l<e.length;l++)t.getEventManager().associate(e[l],a);return a},r.prototype.getData=function(){return this._item},r.prototype.getColor=function(){return this._item.color},r.prototype.getId=function(){return this._id},r.prototype.getDisplayables=function(){return this._displayables},r.prototype.getCategories=function(e){return null!=this._category?[this._category]:null},r.prototype.isDrillable=function(){return this._drillable},r.prototype.getAriaLabel=function(){var t=[],i=this._legend.getOptions().translations,n=this._legend.getOptions().hideAndShowBehavior,o=s.isCategoryHidden(this._category,this._legend),r=this.getData();return this._displayables[0]instanceof e.Button?(t.push(i[s.isSectionCollapsed(r,this._legend)?"stateCollapsed":"stateExpanded"]),e.Displayable.generateAriaLabel(r.title,t)):("off"!=n&&"none"!=n&&t.push(i[o?"stateHidden":"stateVisible"]),this.isDrillable()&&t.push(i.stateDrillable),null!=r.shortDesc?e.Displayable.generateAriaLabel(r.shortDesc,t):t.length>0?e.Displayable.generateAriaLabel(r.text,t):null)},r.prototype.updateAriaLabel=function(){!e.Agent.deferAriaCreation()&&this._displayables[0]&&this._displayables[0].setAriaProperty("label",this.getAriaLabel())},r.prototype.getNextNavigable=function(t){if(t.type==e.MouseEvent.CLICK)return this;var i=this._legend.__getKeyboardObjects();return e.KeyboardHandler.getNextNavigable(this,t,i,!0)},r.prototype.getKeyboardBoundingBox=function(t){return this._displayables[0]?this._displayables[0].getDimensions(t):new e.Rectangle(0,0,0,0)},r.prototype.getTargetElem=function(){return this._displayables[0]?this._displayables[0].getElem():null},r.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0,this._displayables[0]&&(this._displayables[0]instanceof e.Button?this._displayables[0].drawOverState():this._displayables[0].setSolidStroke(e.Agent.getFocusColor()))},r.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this._displayables[0]&&(this._displayables[0]instanceof e.Button?this._displayables[0].drawUpState():this._displayables[0].setStroke(null))},r.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},r.prototype.getTooltip=function(e){return this._tooltip},r.prototype.getDatatip=function(e){return this._datatip},r.prototype.getDatatipColor=function(e){return this._item.color},r.prototype.isDragAvailable=function(e){return!0},r.prototype.getDragTransferable=function(e,t){return[this.getId()]},r.prototype.getDragFeedback=function(e,t){return this.getDisplayables()};var s=new Object;e.Obj.createSubclass(s,e.Obj),s._DEFAULT_LINE_WIDTH_WITH_MARKER=2,s._LINE_MARKER_SIZE_FACTOR=.6,s._DEFAULT_SYMBOL_SIZE=10,s._BUTTON_SIZE=12,s._FOCUS_GAP=2,s.render=function(t,n){var o=t.getOptions(),r=t.getCtx(),a=e.Agent.isRightToLeft(r);t.__setBounds(n),o.isLayout||s._renderBackground(t,n);var l=new e.SimpleScrollableContainer(r,n.w,n.h),g=new e.Container(r);l.getScrollingPane().addChild(g),t.addChild(l),t.container=l;var h=i.getGapSize(t,o.layout.outerGapWidth),c=i.getGapSize(t,o.layout.outerGapHeight);if(n.x+=h,n.y+=c,n.w-=2*h,n.h-=2*c,n.w<=0||n.h<=0)return new e.Dimension(0,0);var u=s._renderContents(t,g,new e.Rectangle(n.x,n.y,n.w,n.h));if(0==u.w||0==u.h)return new e.Dimension(0,0);l.prepareContentPane(),u.h>n.h?(u.h=n.h,o._isScrollingLegend=!0):o._isScrollingLegend=!1;var d=0,p=0,_=null!=o.hAlign?o.hAlign:o.halign;"center"==_?d=n.x-u.x+(n.w-u.w)/2:"end"==_&&(d=a?n.x-u.x:n.x-u.x+n.w-u.w);var y=null!=o.vAlign?o.vAlign:o.valign;"middle"==y?p=n.y-u.y+(n.h-u.h)/2:"bottom"==y&&(p=n.y-u.y+n.h-u.h);var f=new e.Rectangle(u.x+d-h,u.y+p-c,u.w+2*h,u.h+2*c);if(o.isLayout)return f;(d||p)&&g.setTranslate(d,p);for(var v=t.__getTitles(),b=0;b<v.length;b++)e.LayoutUtils.align(u,v[b].halign,v[b].text,v[b].text.getDimensions().w);return f},s._renderContents=function(e,t,n){var o=e.getOptions();n=n.clone();var r=s._renderTitle(e,t,o.title,n,null,!0);if(r){var a=r.getDimensions(),l=i.getGapSize(e,o.layout.titleGapHeight);n.y+=a.h+l,n.h-=Math.floor(a.h+l)}var g=s._renderSections(e,t,o.sections,n,[]);return r?a.getUnion(g):g},s._renderBackground=function(t,i){var n=t.getOptions(),o=n.backgroundColor,r=n.borderColor,s=n.dnd?n.dnd.drop.legend:{},a=n.dnd?n.dnd.drag.series:{};if(o||r||Object.keys(s).length>0||Object.keys(a).length>0){var l=new e.Rect(t.getCtx(),i.x,i.y,i.w,i.h);o?l.setSolidFill(o):l.setInvisibleFill(),r&&(l.setSolidStroke(r),l.setPixelHinting(!0)),t.addChild(l),t.getCache().putToCache("background",l)}},s._renderTitle=function(t,i,n,o,r,s,a,l){var g=t.getOptions(),h=i.getCtx(),c=e.Agent.isRightToLeft(h);if(!n)return null;var u=new e.OutputText(h,n,o.x,o.y),d=g.titleStyle;if(r&&r.titleStyle?d=new e.CSSStyle(r.titleStyle):r&&g._sectionTitleStyle&&(d=g._sectionTitleStyle),u.setCSSStyle(d),e.TextUtils.fitText(u,o.w,1/0,i)){if(c&&u.setX(o.x+o.w-u.getDimensions().w),g.isLayout)i.removeChild(u);else{var p={id:a,button:l};if(p.isCollapsible=r&&("on"==r.collapsible||1==r.collapsible),t.getEventManager().associate(u,new e.SimpleObjPeer(u.getUntruncatedTextString(),null,null,p)),s){var _=r&&r.titleHalign?r.titleHalign:g.titleHalign;t.__registerTitle({text:u,halign:_})}}return u}return null},s._renderSections=function(t,n,o,r,a){if(!o||0==o.length)return new e.Rectangle(0,0,0,0);var l=t.getOptions();l.symbolWidth||l.symbolHeight?(l.symbolWidth?l.symbolHeight||(l.symbolHeight=l.symbolWidth):l.symbolWidth=l.symbolHeight,l.symbolWidth=parseInt(l.symbolWidth),l.symbolHeight=parseInt(l.symbolHeight)):(l.symbolWidth=s._DEFAULT_SYMBOL_SIZE,l.symbolHeight=s._DEFAULT_SYMBOL_SIZE);for(var g,h=i.getGapSize(t,l.layout.sectionGapHeight),c=i.getGapSize(t,l.layout.titleGapHeight),u=i.getGapSize(t,l.layout.sectionGapWidth),d=s._getRowHeight(t),p="vertical"!=l.orientation,_=null,y=r.clone(),f=0;f<o.length;f++){var v=a.concat([f]),b=s.isSectionCollapsed(o[f],t)?c:h;p?(g=s._renderHorizontalSection(t,n,o[f],y,d)).w>y.w?(y.w<r.w&&(r.y+=g.h+b,r.h-=g.h+b),g=g.w<=r.w?s._renderHorizontalSection(t,n,o[f],r,d):s._renderVerticalSection(t,n,o[f],r,d,v,!0),r.y+=g.h+b,r.h-=g.h+b,y=r.clone()):(y.w-=g.w+u,e.Agent.isRightToLeft(t.getCtx())||(y.x+=g.w+u)):(g=s._renderVerticalSection(t,n,o[f],r,d,v,!1),r.y+=g.h+b,r.h-=g.h+b),_=_?_.getUnion(g):g}return _},s._createButton=function(t,i,n,o,a,l,g,h,c,u,d){var p=s._createButtonImage(t,o,a+"Enabled",l,g),_=s._createButtonImage(t,o,a+"Over",l,g),y=s._createButtonImage(t,o,a+"Down",l,g),f=new e.Button(t,p,_,y,null,c,u,d),v=r.associate([f],i,n,h,null,!1);return f.setAriaRole("button"),v.updateAriaLabel(),f},s._createButtonImage=function(t,i,n,o,r){var a=e.Agent.isRightToLeft(t)?"RTL":"",l=i[n+a]?i[n+a]:i[n],g=new e.Image(t,l,o,r,s._BUTTON_SIZE,s._BUTTON_SIZE);return g.setInvisibleFill(),g},s._renderVerticalSection=function(t,n,o,r,a,l,g){if(o){var h,c=t.getOptions(),u=i.getGapSize(t,c.layout.symbolGapWidth),d=i.getGapSize(t,c.layout.rowGap),p=i.getGapSize(t,c.layout.columnGap),_=t.getCtx(),y=e.Agent.isRightToLeft(_),f=null!=o.sections&&o.sections.length>0,v=null!=o.items&&o.items.length>0,b=r.clone();"off"!=c.scrolling&&(b.h=1/0);var m,S="on"==o.collapsible||1==o.collapsible;if(S){var C=y?b.x+b.w-s._BUTTON_SIZE:b.x;if(!c.isLayout){var O=s.isSectionCollapsed(o,t),x=O?"closed":"open",w=c.translations[O?"tooltipExpand":"tooltipCollapse"],E=t.getEventManager();m=s._createButton(_,t,o,c._resources,x,C,b.y,w,l,E.onCollapseButtonClick,E),n.addChild(m)}h=new e.Rectangle(C,b.y,s._BUTTON_SIZE,s._BUTTON_SIZE);var T=i.getGapSize(t,c.layout.symbolGapWidth);y||(b.x+=s._BUTTON_SIZE+T),b.w-=s._BUTTON_SIZE+T}var L=s._renderTitle(t,n,o.title,b,o,!S&&l.length<=1,l,m),I=L?L.getDimensions():new e.Rectangle(y?b.x+b.w:b.x,b.y,0,0),D=h?I.getUnion(h):I;if(!v&&!f||s.isSectionCollapsed(o,t))return D;if(D.h>0){var A=i.getGapSize(t,c.layout.titleGapHeight);b.y+=D.h+A,b.h-=D.h+A}if(f){var M=s._renderSections(t,n,o.sections,b,l);D=D.getUnion(M)}if(!v)return D;var F=s._calcColumns(t,b,a,o.items,g),G=F.numCols,k=F.numRows,H=F.width,R=b.y;if(0==k||0==G)return D;var B=k*(a+d)-d,N=Math.min(G*(H+p)-p,b.w),P=new e.Rectangle(y?b.x+b.w-N:b.x,b.y,N,B);if(D=D.getUnion(P),c.isLayout)return D;for(var j=H-c.symbolWidth-u,U=0,W=1,K=o.items.length,z=0;z<K;z++){var V=o.items[z];if(s._createLegendItem(t,n,V,b,j,a,z),b.y+=a+d,++U===k&&W!==G&&(b.y=R,b.w-=H+p,y||(b.x+=H+p),U=0,W++),U===k)break}return D}},s._renderHorizontalSection=function(t,n,o,r,a){if(o){var l=t.getOptions(),g=l.symbolWidth,h=i.getGapSize(t,l.layout.symbolGapWidth),c=i.getGapSize(t,l.layout.columnGap),u=i.getGapSize(t,l.layout.titleGapWidth),d=null!=o.items&&o.items.length>0,p=e.Agent.isRightToLeft(t.getCtx()),_=r.clone(),y=s._renderTitle(t,n,o.title,r,o,!1),f=y?y.getDimensions():new e.Rectangle(p?r.x+r.w:r.x,r.y,0,0);if(!d)return f;f.w>0&&(_.w-=f.w+u,p||(_.x+=f.w+u));var v,b,m,S=[],C=r.w-_.w,O=o.items.length;for(m=0;m<O;m++)v=o.items[m],C+=(b=Math.ceil(e.TextUtils.getTextStringWidth(t.getCtx(),v.text,l.textStyle)))+g+h+c,S.push(b);O>0&&(C-=c);var x,w=new e.Rectangle(p?r.x+r.w-C:r.x,r.y,C,Math.max(a,f.h));if(l.isLayout||C>r.w)return n.removeChild(y),w;for(m=0;m<O;m++)v=o.items[m],s._createLegendItem(t,n,v,_,S[m],a,m),x=S[m]+g+h,_.w-=x+c,p||(_.x+=x+c);return w}},s._calcColumns=function(t,n,o,r,s){for(var a=t.getOptions(),l=[],g=0;g<r.length;g++)l.push(r[g].text);var h,c,u,d=e.TextUtils.getMaxTextStringWidth(t.getCtx(),l,a.textStyle),p=a.symbolWidth,_=i.getGapSize(t,a.layout.symbolGapWidth),y=i.getGapSize(t,a.layout.rowGap),f=i.getGapSize(t,a.layout.columnGap),v=Math.ceil(p+_+d);s?(u=Math.min(Math.max(Math.floor((n.w+f)/(v+f)),1),r.length),h=Math.min(Math.floor((n.h+y)/(o+y)),Math.ceil(r.length/u)),u=Math.ceil(r.length/h),h=Math.ceil(r.length/u)):n.h==1/0?(u=1,h=r.length):(h=Math.min(Math.floor((n.h+y)/(o+y)),r.length),u=Math.ceil(r.length/h),h=Math.ceil(r.length/u));var b=(n.w-f*(u-1))/u;return(c=Math.min(v,b))<p?{width:0,numCols:0,numRows:0}:{width:c,numCols:u,numRows:h}},s._getRowHeight=function(t){var n=t.getOptions(),o=e.TextUtils.getTextStringHeight(t.getCtx(),n.textStyle),r=n.symbolHeight+i.getGapSize(t,n.layout.symbolGapHeight);return Math.ceil(Math.max(o,r))},s._createLegendItem=function(t,n,o,a,l,g,h){var c,u=t.getOptions(),d=t.getCtx(),p=e.Agent.isRightToLeft(d),_=u.symbolWidth,y=i.getGapSize(t,u.layout.symbolGapWidth),f=p?a.x+a.w-_:a.x,v=p?a.x+a.w-_-y:a.x+_+y,b=s._createLegendSymbol(t,f,a.y,g,o,h),m=o.text;if(null!=m){var S=u.textStyle;(c=s._createLegendText(n,l,m,S))&&(c.setX(v),e.TextUtils.centerTextVertically(c,a.y+g/2),p&&c.alignRight())}n.addChild(b);var C=new e.Rect(d,p?v-l-s._FOCUS_GAP:f-s._FOCUS_GAP,a.y-s._FOCUS_GAP,_+y+l+2*s._FOCUS_GAP,g+2*s._FOCUS_GAP);C.setInvisibleFill();var O=u.hideAndShowBehavior;"none"!=O&&"off"!=O&&C.setCursor("pointer"),n.addChild(C);var x=[C,b];null!=c&&x.push(c);var w=r.associate(x,t,o,null!=c?c.getUntruncatedTextString():null,o.shortDesc,s._isItemDrillable(t,o));s.isCategoryHidden(s.getItemCategory(o,t),t)&&(b.setHollow(w.getColor()),b.setStyle().setClassName()),("none"!=O&&"off"!=O||null!=o.shortDesc)&&(C.setAriaRole("img"),w.updateAriaLabel())},s._isItemDrillable=function(e,t){return"on"==t.drilling||"off"!=t.drilling&&"on"==e.getOptions().drilling},s._createLegendText=function(t,i,n,o){var r=new e.OutputText(t.getCtx(),n);return r.setCSSStyle(o),r=e.TextUtils.fitText(r,i,1/0,t)?r:null},s._createLegendSymbol=function(t,i,n,o,r,a){var l=t.getOptions(),g=t.getCtx(),h=null!=r.type?r.type:r.symbolType;r.markerShape||(r.markerShape=l._markerShape),r.color||(r.color=l._color),r.lineWidth||(r.lineWidth="lineWithMarker"==h?s._DEFAULT_LINE_WIDTH_WITH_MARKER:l._lineWidth);var c,u=l.symbolWidth,d=l.symbolHeight,p=n+o/2,_=i+u/2;if("line"==h)c=s._createLine(g,i,n,u,o,r);else if("lineWithMarker"==h)c=s._createLine(g,i,n,u,o,r),s.isCategoryHidden(s.getItemCategory(r,t),t)||c.addChild(s._createMarker(t,_,p,u*s._LINE_MARKER_SIZE_FACTOR,d*s._LINE_MARKER_SIZE_FACTOR,r));else if("image"==h)c=s._createImage(t,i,n,u,d,o,r);else if("_verticalBoxPlot"==h)d=Math.max(4*Math.round(d/4),4),(c=new e.Container(g)).addChild(s._createMarker(t,_,p+d/4,u,d/2,s._getBoxPlotOptions(r,"q2"))),c.addChild(s._createMarker(t,_,p-d/4,u,d/2,s._getBoxPlotOptions(r,"q3")));else if("_horizontalBoxPlot"==h){var y=e.Agent.isRightToLeft(g),f=(u=Math.max(4*Math.round(u/4),4))/4*(y?1:-1);(c=new e.Container(g)).addChild(s._createMarker(t,_+f,p,u/2,d,s._getBoxPlotOptions(r,"q2"))),c.addChild(s._createMarker(t,_-f,p,u/2,d,s._getBoxPlotOptions(r,"q3")))}else c=s._createMarker(t,_,p,u,d,r);return c},s._createImage=function(t,i,n,o,r,s,a){var l=t.getCtx(),g=n+s/2,h=i+o/2;return new e.ImageMarker(l,h,g,o,r,null,a.source)},s._createMarker=function(t,i,n,o,r,s){var a,l=t.getCtx(),g=(t.getOptions(),s.markerShape),h=s.symbolType&&"lineWithMarker"==s.symbolType&&s.markerColor?s.markerColor:s.color,c=s.markerStyle||s.markerSvgStyle?s.markerStyle||s.markerSvgStyle:s.style||s.svgStyle,u=s.markerClassName||s.markerSvgClassName?s.markerClassName||s.markerSvgClassName:s.className||s.svgClassName,d=s.pattern;if(d&&"none"!=d?((a=new e.SimpleMarker(l,g,0,0,o,r,null,null,!0)).setFill(new e.PatternFill(d,h,"#FFFFFF")),a.setTranslate(i,n)):(a=new e.SimpleMarker(l,g,i,n,o,r,null,null,!0)).setSolidFill(h),s.borderColor){var p=s._borderWidth?s._borderWidth:1;a.setSolidStroke(s.borderColor,null,p)}return"square"!=g&&"rectangle"!=g||a.setPixelHinting(!0),a.setClassName(u).setStyle(c),a},s._createLine=function(t,i,n,o,r,s){var a=n+r/2;o=o%2==1?o+1:o;var l,g=new e.Line(t,i,Math.round(a),i+o,Math.round(a)),h=s.lineStyle;"dashed"==h?l={dashArray:"4,2,4"}:"dotted"==h&&(l={dashArray:"2"});var c=new e.Stroke(s.color,1,s.lineWidth,!1,l);return g.setClassName(s.className||s.svgClassName).setStyle(s.style||s.svgStyle),g.setStroke(c),g.setPixelHinting(!0),g},s._getBoxPlotOptions=function(e,t){return{markerShape:"rectangle",color:e._boxPlot[t+"Color"],pattern:e._boxPlot["_"+t+"Pattern"],className:e._boxPlot[t+"ClassName"]||e._boxPlot[t+"svgClassName"],style:e._boxPlot[t+"Style"]||e._boxPlot[t+"svgStyle"]}},s.getItemCategory=function(e,t){var i=null,n=null!=t.getOptions().data;return e.categories&&e.categories.length>0?i=e.categories[0]:n||(i=e.id?e.id:e.text),i},s.isCategoryHidden=function(e,t){var i=t.getOptions().hiddenCategories;return!(!i||i.length<=0)&&-1!==i.indexOf(e)},s.isSectionCollapsed=function(e,t){var i=t.getOptions();return"off"==e.expanded||0==e.expanded||i.expanded&&0==i.expanded.has(e.id)}}(dvt);
  return dvt;
});

/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/internal-deps/dvt/DvtOverview',['./DvtToolkit'], function(dvt) {
  "use strict";
  // Internal use only.  All APIs and functionality are subject to change at any time.

!function(t){t.OverviewUtils=new Object,t.OverviewUtils.supportsTouch=function(){return t.Agent.isTouchDevice()},t.Obj.createSubclass(t.OverviewUtils,t.Obj),t.OverviewUtils.getDatePosition=function(t,i,e,n){var o=(e-t)*n,r=i-t;return 0==o||0==r?0:o/r},t.OverviewUtils.getPositionDate=function(t,i,e,n){var o=e*(i-t);return 0==o||0==n?t:o/n+t},t.Overview=function(t,i,e){this.Init(t,i,e)},t.Obj.createSubclass(t.Overview,t.Container),t.Overview.MIN_WINDOW_SIZE=10,t.Overview.DEFAULT_VERTICAL_TIMEAXIS_SIZE=40,t.Overview.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE=20,t.Overview.HANDLE_PADDING_SIZE=20,t.Overview.prototype.Init=function(i,n,o){t.Overview.superclass.Init.call(this,i),this.initDefaults(),this._callback=n,this._callbackObj=o,this._lastChildIndex=6,(null!=this._callback||null!=this._callbackObj)&&(this.EventManager=new e(this,i,n,o),this.EventManager.addListeners(this),t.OverviewUtils.supportsTouch()?(this.addEvtListener(t.TouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.addEvtListener(t.TouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.addEvtListener(t.TouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.addEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this)):(this.addEvtListener(t.MouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.addEvtListener(t.MouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.addEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this)))},t.Overview.prototype.initDefaults=function(){this.Defaults=new i},t.Overview.prototype.setViewportRange=function(t,i,e,o){if(null!=t&&null!=i){var r=this.getDateXPosition(t),s=this.getDateXPosition(i);if(s>r){r<this.getMinimumPositionX()&&(r=this.getMinimumPositionX()),s>this.getMaximumPositionX()&&(s=this.getMaximumPositionX());var a=Math.max(s-r,this.getMinimumWindowWidth()),l=this.getSlidingWindow();this.isRTL()?this.setSlidingWindowPosX(l,this.Width-(r+a)):this.setSlidingWindowPosX(l,r),n._setSlidingWindowWidth(this,l,a)}}if(null!=e&&null!=o){var h=this.getDateYPosition(e),d=this.getDateYPosition(o);if(d>h){h<this.getMinimumPositionY()&&(h=this.getMinimumPositionY()),d>this.getMaximumPositionY()&&(d=this.getMaximumPositionY());var g=Math.max(d-h,this.getMinimumWindowHeight());l=this.getSlidingWindow(),this.setSlidingWindowPosY(l,h),n._setSlidingWindowHeight(this,l,g)}}n._updateBorderAroundSlidingWindow(this)},t.Overview.prototype.isFeatureOff=function(t){return null!=this._featuresOff&&-1!=this._featuresOff.indexOf(t)},t.Overview.prototype.isAnimationOnClick=function(){return!("off"===this._animationOnClick)},t.Overview.prototype.render=function(i,e,o){if(null!=e&&null!=o&&(this.Width=e,this.Height=o),null==i){var r=this.getSlidingWindow();if(this._xMin&&this._xMax){var s=this.getSlidingWindowPosX(r);null!=r&&0!=s&&(this._x1=t.OverviewUtils.getPositionDate(this._xMin,this._xMax,s,this.Width))}this._yMin&&this._yMax&&(s=this.getSlidingWindowPosY(r),null!=r&&0!=s&&(this._y1=t.OverviewUtils.getPositionDate(this._yMin,this._yMax,s,this.Height))),this.removeChildren()}else{this.SetOptions(i);var a=this.Parse(this.Options);this._applyParsedProperties(a)}n.renderOverview(this)},t.Overview.prototype.SetOptions=function(t){this.Options=this.Defaults.calcOptions(t)},t.Overview.prototype.getParser=function(i){return new t.OverviewParser(this)},t.Overview.prototype.Parse=function(t){return this.getParser(t).parse(t)},t.Overview.prototype._applyParsedProperties=function(i){this._xMin=i.xMin,this._xMax=i.xMax,this._x1=i.x1,this._x2=i.x2,this._yMin=i.yMin,this._yMax=i.yMax,this._y1=i.y1,this._y2=i.y2,this._currentTime=i.currentTime,this._animationOnClick=i.animationOnClick,this._leftMargin=Math.max(0,i.leftMargin),this._rightMargin=Math.max(0,i.rightMargin),isNaN(this._leftMargin)&&(this._leftMargin=0),isNaN(this._rightMargin)&&(this._rightMargin=0),this._orientation=i.orientation,this._isRtl=i.isRtl,null!=i.featuresOff&&(this._featuresOff=i.featuresOff.split(" ")),null!=i.minimumWindowSize&&i.minimumWindowSize>0&&(this._minimumWindowSize=i.minimumWindowSize),this._timeAxisInfo=i.timeAxisInfo,null!=i.timeAxisInfo&&(this._ticks=this._timeAxisInfo.ticks),this._formattedTimeRanges=i.formattedTimeRanges,this._borderTopStyle=o.getBorderTopStyle(this.Options),this._borderTopColor=o.getBorderTopColor(this.Options),this._windowBackgroundColor=o.getWindowBackgroundColor(this.Options),this._windowBackgroundAlpha=o.getWindowBackgroundAlpha(this.Options),this._windowBorderTopStyle=o.getWindowBorderTopStyle(this.Options),this._windowBorderRightStyle=o.getWindowBorderRightStyle(this.Options),this._windowBorderBottomStyle=o.getWindowBorderBottomStyle(this.Options),this._windowBorderLeftStyle=o.getWindowBorderLeftStyle(this.Options),this._windowBorderTopColor=o.getWindowBorderTopColor(this.Options),this._windowBorderRightColor=o.getWindowBorderRightColor(this.Options),this._windowBorderBottomColor=o.getWindowBorderBottomColor(this.Options),this._windowBorderLeftColor=o.getWindowBorderLeftColor(this.Options),this._handleTextureColor=o.getHandleTextureColor(this.Options),this._handleFillColor=o.getHandleFillColor(this.Options),this._horHandleBackgroundImage=o.getHandleBackgroundImage(this.Options,!1),this._horHandleWidth=o.getHandleWidth(this.Options,!1),this._horHandleHeight=o.getHandleHeight(this.Options,!1),this._vertHandleBackgroundImage=o.getHandleBackgroundImage(this.Options,!0),this._vertHandleWidth=o.getHandleWidth(this.Options,!0),this._vertHandleHeight=o.getHandleHeight(this.Options,!0),this._overviewBackgroundColor=o.getOverviewBackgroundColor(this.Options),this._currentTimeIndicatorColor=o.getCurrentTimeIndicatorColor(this.Options),this._timeIndicatorColor=o.getTimeIndicatorColor(this.Options),this._timeAxisBarColor=o.getTimeAxisBarColor(this.Options),this._timeAxisBarOpacity=o.getTimeAxisBarAlpha(this.Options),this._leftFilterPanelColor=o.getLeftFilterPanelColor(this.Options),this._leftFilterPanelAlpha=o.getLeftFilterPanelAlpha(this.Options),this._rightFilterPanelColor=o.getRightFilterPanelColor(this.Options),this._rightFilterPanelAlpha=o.getRightFilterPanelAlpha(this.Options),this._labelStyle=new t.CSSStyle("font-weight:bold")},t.Overview.prototype.getDateXPosition=function(i){return Math.max(this.getMinimumPositionX(),t.OverviewUtils.getDatePosition(this._xMin,this._xMax,i,this.getOverviewWidth())+this._leftMargin)},t.Overview.prototype.getDateYPosition=function(i){return Math.max(this.getMinimumPositionY(),t.OverviewUtils.getDatePosition(this._yMin,this._yMax,i,this.getOverviewHeight()))},t.Overview.prototype.getXPositionDate=function(i){return t.OverviewUtils.getPositionDate(this._xMin,this._xMax,Math.max(this.getMinimumPositionX()-this._leftMargin,i-this._leftMargin),this.getOverviewWidth())},t.Overview.prototype.getYPositionDate=function(i){return t.OverviewUtils.getPositionDate(this._yMin,this._yMax,Math.max(this.getMinimumPositionY(),i),this.getOverviewHeight())},t.Overview.prototype.isRTL=function(){return"true"==this._isRtl},t.Overview.prototype.isHorizontalRTL=function(){return this.isRTL()&&!this.isVertical()},t.Overview.prototype.isVertical=function(){return"vertical"==this._orientation},t.Overview.prototype.isOverviewAbove=function(){return"above"==this.Options.overviewPosition},t.Overview.prototype.setMargins=function(t,i){!isNaN(t)&&null!=t&&t>0&&(this._leftMargin=t),!isNaN(i)&&null!=i&&i>0&&(this._rightMargin=i)},t.Overview.prototype.getOverviewSize=function(){return this.isVertical()?this.Height-this._leftMargin-this._rightMargin:this.Width-this._leftMargin-this._rightMargin},t.Overview.prototype.getOverviewWidth=function(){return this.Width-this._leftMargin-this._rightMargin},t.Overview.prototype.getOverviewHeight=function(){return this.Height},t.Overview.prototype.getMinimumPositionX=function(){return this._leftMargin},t.Overview.prototype.getMinimumPositionY=function(){return 0},t.Overview.prototype.getMaximumPositionX=function(){return this.Width-this._rightMargin},t.Overview.prototype.getMaximumPositionY=function(){return this.Height},t.Overview.prototype.getMinimumWindowWidth=function(){return null!=this._minWinSize?this._minWinSize:null!=this._minimumWindowSize?(this._minWinSize=t.OverviewUtils.getDatePosition(this._xMin,this._xMax,this._xMin+this._minimumWindowSize,this.getOverviewWidth()),this._minWinSize):t.Overview.MIN_WINDOW_SIZE},t.Overview.prototype.getMinimumWindowHeight=function(){return null!=this._minWinSize?this._minWinSize:null!=this._minimumWindowSize?(this._minWinSize=t.OverviewUtils.getDatePosition(this._yMin,this._yMax,this._yMin+this._minimumWindowSize,this.getOverviewHeight()),this._minWinSize):t.Overview.MIN_WINDOW_SIZE},t.Overview.prototype.getMaximumWindowWidth=function(){return this.Width},t.Overview.prototype.getMaximumWindowHeight=function(){return this.Height},t.Overview.prototype.getGrippySize=function(){return 10},t.Overview.prototype.getHandleStart=function(){return t.OverviewUtils.supportsTouch()?this.getHandleSize()/2:0},t.Overview.prototype.getHandleSize=function(){return t.OverviewUtils.supportsTouch()?30:10},t.Overview.prototype.isHandle=function(t){var i=t.getId();return"lh"==i||"rh"==i||"lhb"==i||"rhb"==i||"th"==i||"bh"==i||"thb"==i||"bhb"==i||"hgrpy"==i||"vgrpy"==i||"lbgrh"==i||"rbgrh"==i||null!=t.getParent()&&("hgrpy"==t.getParent().getId()||"vgrpy"==t.getParent().getId())},t.Overview.prototype.isLeftOrRightHandle=function(t){var i=t.getId();return"lh"==i||"rh"==i||"lhb"==i||"rhb"==i||"hgrpy"==i||"lbgrh"==i||"rbgrh"==i||null!=t.getParent()&&"hgrpy"==t.getParent().getId()},t.Overview.prototype.isTopOrBottomHandle=function(t){var i=t.getId();return"th"==i||"bh"==i||"thb"==i||"bhb"==i||"vgrpy"==i||null!=t.getParent()&&"vgrpy"==t.getParent().getId()},t.Overview.prototype.getTimeAxisWidth=function(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisWidth){var i=parseInt(this._timeAxisInfo.width,10);!isNaN(i)&&i<this.Width?this._timeAxisWidth=i:this._timeAxisWidth=t.Overview.DEFAULT_VERTICAL_TIMEAXIS_SIZE}return this._timeAxisWidth},t.Overview.prototype.getTimeAxisHeight=function(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisHeight){var i=parseInt(this._timeAxisInfo.height,10);!isNaN(i)&&i<this.Height?this._timeAxisHeight=i:this._timeAxisHeight=t.Overview.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE}return this._timeAxisHeight},t.Overview.prototype.getPageX=function(i){return t.OverviewUtils.supportsTouch()&&null!=i.targetTouches?i.targetTouches.length>0?i.targetTouches[0].pageX:null:i.pageX},t.Overview.prototype.getPageY=function(i){return t.OverviewUtils.supportsTouch()&&null!=i.targetTouches?i.targetTouches.length>0?i.targetTouches[0].pageY:null:i.pageY},t.Overview.prototype.isBackgroundRendered=function(){return!0},t.Overview.prototype.isLeftAndRightFilterRendered=function(){return!1},t.Overview.prototype.getSlidingWindow=function(){return this.getChildAt(1)},t.Overview.prototype.getSlidingWindowWidth=function(){if(this.isHorizontalScrollingEnabled()){var i=Math.max(this.getMinimumPositionX(),t.OverviewUtils.getDatePosition(this._xMin,this._xMax,this._x1,this.Width));return Math.min(this.getMaximumPositionX(),Math.max(this.getMinimumPositionX(),t.OverviewUtils.getDatePosition(this._xMin,this._xMax,this._x2,this.Width)))-i}return this.Width},t.Overview.prototype.getSlidingWindowHeight=function(){if(this.isVerticalScrollingEnabled()){var i=Math.max(this.getMinimumPositionY(),t.OverviewUtils.getDatePosition(this._yMin,this._yMax,this._y1,this.Height));return Math.min(this.getMaximumPositionY(),Math.max(this.getMinimumPositionY(),t.OverviewUtils.getDatePosition(this._yMin,this._yMax,this._y2,this.Height)))-i}return this.Height},t.Overview.prototype.getLeftBackground=function(){return this.isLeftAndRightFilterRendered()?this.getChildAt(3):null},t.Overview.prototype.getRightBackground=function(){return this.isLeftAndRightFilterRendered()?this.getChildAt(4):null},t.Overview.prototype.getLeftBackgroundHandle=function(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(5):null},t.Overview.prototype.getRightBackgroundHandle=function(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(6):null},t.Overview.prototype.getLeftHandle=function(){return this._leftHandle},t.Overview.prototype.getRightHandle=function(){return this._rightHandle},t.Overview.prototype.getLeftTopBar=function(){var t=this._lastChildIndex-2;return this.getChildAt(this.getNumChildren()-t)},t.Overview.prototype.getRightTopBar=function(){var t=this._lastChildIndex-3;return this.getChildAt(this.getNumChildren()-t)},t.Overview.prototype.getBottomBar=function(){var t=this._lastChildIndex-4;return this.getChildAt(this.getNumChildren()-t)},t.Overview.prototype.getTopBar=function(){var t=this._lastChildIndex-5;return this.getChildAt(this.getNumChildren()-t)},t.Overview.prototype.setLinePos=function(t,i,e){this.isVertical()?(-1!=i&&t.setY1(i),-1!=e&&t.setY2(e)):(-1!=i&&t.setX1(i),-1!=e&&t.setX2(e))},t.Overview.prototype.setLinePosX=function(t,i,e){-1!=i&&t.setX1(i),-1!=e&&t.setX2(e)},t.Overview.prototype.setLinePosY=function(t,i,e){-1!=i&&t.setY1(i),-1!=e&&t.setY2(e)},t.Overview.prototype.getLinePos1=function(t){return this.isVertical()?t.getY1():t.getX1()},t.Overview.prototype._findDrawable=function(t){var i=t.target;if(null!=i){var e=i.getId();if(null==e)return null;if("_border"==e.substr(e.length-7))return this.getChildAfter(i);if("tick"!=e.substr(0,4)&&"ltb"!=e&&"rtb"!=e&&"bb"!=e&&"tab"!=e)return i}return null},t.Overview.prototype.isMovable=function(t){return!("window"!=t.getId()&&"ftr"!=t.getId()&&"sta"!=t.getId()&&!this.isHandle(t))},t.Overview.prototype.setRectPos=function(t,i){this.isVertical()?t.setY(i):t.setX(i)},t.Overview.prototype.getRectPos=function(t){return this.isVertical()?t.getY():t.getX()},t.Overview.prototype.getRectSize=function(t){return this.isVertical()?t.getHeight():t.getWidth()},t.Overview.prototype.setRectSize=function(t,i){this.isVertical()?t.setHeight(i):t.setWidth(i)},t.Overview.prototype.getSlidingWindowPos=function(t){return this.isVertical()?t.getTranslateY():t.getTranslateX()},t.Overview.prototype.getSlidingWindowPosX=function(t){return t.getTranslateX()},t.Overview.prototype.getSlidingWindowPosY=function(t){return t.getTranslateY()},t.Overview.prototype.setSlidingWindowPosX=function(i,e){if(e=Math.max(this.getMinimumPositionX(),e),i.setTranslateX(e),this.isLeftAndRightFilterRendered()){this.getLeftBackground().setWidth(e);var n=e+this.getSlidingWindowSize(i),o=this.getRightBackground();if(o.setX(n),o.setWidth(Math.max(0,this.Width-n)),t.OverviewUtils.supportsTouch()&&!this.isFeatureOff("zoom")){var r=this.getHandleStart();this.getLeftBackgroundHandle().setX(e-r),this.getRightBackgroundHandle().setX(n)}}},t.Overview.prototype.setSlidingWindowPosY=function(t,i){i=Math.max(this.getMinimumPositionY(),i),t.setTranslateY(i)},t.Overview.prototype.getSlidingWindowSize=function(t){return this.getRectSize(t)},t.Overview.prototype.renderData=function(t,i){},t.Overview.prototype.animateSlidingWindow=function(i,e){var n=this.getSlidingWindow();if(null!=i&&i!=this.getSlidingWindowPosX(n)||null!=e&&e!=this.getSlidingWindowPosY(n)){var o=this.getLeftHandle(),r=this.getRightHandle(),s=this.getLeftTopBar(),a=this.getRightTopBar(),l=this.getBottomBar(),h=this.getTopBar(),d=!1,g=this.isAnimationOnClick()?new t.Animator(this.getCtx(),.5,0,t.Easing.linear):null;if(this.isVerticalScrollingEnabled()&&null!=e){var u=n.getTranslateY,v=n.setTranslateY,w=o.getY1,c=o.setY1,p=o.getY2,_=o.setY2,f=r.getY1,m=r.setY1,P=r.getY2,S=r.setY2,y=l.getY1,O=l.setY1,C=l.getY2,x=l.setY2,W=h.getY1,T=h.setY1,H=h.getY2,M=h.setY2,b=this.getMinimumPositionY(),D=this.getMaximumPositionY(),B=n.getHeight();e=Math.max(b,Math.min(D-B,e)),this.animateProperty(g,n,u,v,e),this.isVertical()?(this.animateProperty(g,o,w,c,e),this.animateProperty(g,o,p,_,e),this.animateProperty(g,r,f,m,e+B),this.animateProperty(g,r,P,S,e+B),this.animateProperty(g,l,y,O,e),this.animateProperty(g,h,W,T,e),this.animateProperty(g,l,C,x,e+B),this.animateProperty(g,h,H,M,e+B),this.animateProperty(g,s,s.getY2,s.setY2,e+1),this.animateProperty(g,a,a.getY1,a.setY1,e+B-1)):(this.animateProperty(g,o,w,c,e),this.animateProperty(g,o,p,_,e+B),this.animateProperty(g,r,f,m,e),this.animateProperty(g,r,P,S,e+B),this.animateProperty(g,l,y,O,e+B),this.animateProperty(g,h,W,T,e),this.animateProperty(g,l,C,x,e+B),this.animateProperty(g,h,H,M,e)),d=!0}if(this.isHorizontalScrollingEnabled()&&null!=i){var X=n.getTranslateX,L=n.setTranslateX,A=o.getX1,E=o.setX1,R=o.getX2,I=o.setX2,Y=r.getX1,k=r.setX1,F=r.getX2,U=r.setX2,z=l.getX1,N=l.setX1,V=l.getX2,G=l.setX2,j=h.getX1,Z=h.setX1,K=h.getX2,q=h.setX2,J=this.getMinimumPositionX(),Q=this.getMaximumPositionX(),$=n.getWidth();i=Math.max(J,Math.min(Q-$,i)),this.animateProperty(g,n,X,L,i),this.animateProperty(g,o,A,E,i),this.animateProperty(g,o,R,I,i),this.animateProperty(g,r,Y,k,i+$),this.animateProperty(g,r,F,U,i+$),this.isVertical()||(this.animateProperty(g,s,s.getX2,s.setX2,i+1),this.animateProperty(g,a,a.getX1,a.setX1,i+$-1)),this.animateProperty(g,l,z,N,i),this.animateProperty(g,h,j,Z,i),this.animateProperty(g,l,V,G,i+$),this.animateProperty(g,h,K,q,i+$),d=!0}if(this.isLeftAndRightFilterRendered()){var tt=this.getLeftBackground(),it=tt.getWidth,et=tt.setWidth;this.animateProperty(g,tt,it,et,i);var nt=i+$,ot=this.getRightBackground(),rt=ot.getWidth,st=ot.setWidth,at=ot.getX,lt=ot.setX;if(this.animateProperty(g,ot,rt,st,this.Width-nt),this.animateProperty(g,ot,at,lt,nt),t.OverviewUtils.supportsTouch()&&!this.isFeatureOff("zoom")){var ht=this.getHandleStart(),dt=this.getLeftBackgroundHandle(),gt=dt.getX,ut=dt.setX,vt=this.getRightBackgroundHandle(),wt=vt.getX,ct=vt.setX;this.animateProperty(g,dt,gt,ut,i-ht),this.animateProperty(g,vt,wt,ct,nt)}d=!0}null!=g&&d&&g.play()}},t.Overview.prototype.animateProperty=function(i,e,n,o,r){null!=i?i.addProp(t.Animator.TYPE_NUMBER,e,n,o,r):o.call(e,r)},t.Overview.prototype.HandleShapeMouseOver=function(i){var e=this._findDrawable(i);if(e&&"bg"!=e.getId()&&"ocd"!=e.getId())if("label"==e.getId().substr(0,5)&&(e instanceof t.OutputText||e instanceof t.BackgroundOutputText))e.isTruncated()&&this.getCtx().getTooltipManager().showDatatip(i.pageX,i.pageY,e._rawText,"#000000");else if("window"!=e.getId()&&"ftr"!=e.getId()&&"arr"!=e.getId()&&!this.isHandle(e))return e},t.Overview.prototype.HandleShapeMouseOut=function(t){null==this._moveDrawable&&this.setCursor("default");var i=this._findDrawable(t);if(null!=i)return i},t.Overview.prototype.HandleShapeClick=function(i,e,n){i.stopPropagation();var o=this._findDrawable(i);if(o&&"window"!=o.getId()&&!this.isHandle(o)){if("bg"!=o.getId()&&"label"!=o.getId().substr(0,5)&&"ocd"!=o.getId()&&"lbg"!=o.getId()&&"rbg"!=o.getId())return o;null==e&&(e=i.pageX),null==n&&(n=i.pageY);var r=this.getCtx().pageToStageCoords(e,n);r=this.stageToLocal(r);var s,a,l,h,d=this.getSlidingWindow();if(this.isVerticalScrollingEnabled())var g=r.y,u=this.Height,v=g-d.getHeight()/2;if(this.isHorizontalScrollingEnabled()){var w=r.x,c=this.Width,p=w-d.getWidth()/2;this.isRTL()&&(w=c-w)}if(this.animateSlidingWindow(p,v),null!=p){var _=d.getWidth();p=Math.max(this.getMinimumPositionX(),Math.min(p,c-_)),this.isRTL()?(s=this.getXPositionDate(c-(p+_)),a=this.getXPositionDate(c-p)):(s=this.getXPositionDate(p),a=this.getXPositionDate(p+_))}if(null!=v){var f=d.getHeight();v=Math.max(this.getMinimumPositionY(),Math.min(v,u-f)),l=this.getYPositionDate(v),h=this.getYPositionDate(v+f)}var m=t.EventFactory.newOverviewEvent("scrollTime",s,a,l,h);this.dispatchEvent(m)}},t.Overview.prototype.beginDragPan=function(i,e,n){var o=this._findDrawable(i);if(null!=o&&this.isMovable(o)){if("ftr"!=o.getId()&&"sta"!=o.getId()||(o=this.getSlidingWindow()),this._initX=e,this._initY=n,this.isHandle(o)){var r=this.getSlidingWindow();"hgrpy"!=o.getParent().getId()&&"vgrpy"!=o.getParent().getId()||(o=o.getParent());var s=o.getId();"hgrpy"!=s&&"vgrpy"!=s||(s=(o=r.getChildBefore(o)).getId()),"lh"!=s&&"rh"!=s&&"th"!=s&&"bh"!=s||(s=(o=r.getChildBefore(o)).getId()),"lbgrh"==s&&(o=r.getChildAt(0)),"rbgrh"==s&&(o=r.getChildAt(r.getNumChildren()-3)),this.isLeftOrRightHandle(o)?(this._isHorizontalResize=!0,this.isRTL()?(this._oldEndPosX=this.Width-r.getX(),this._oldStartPosX=this._oldEndPosX-r.getWidth()):(this._oldStartPosX=r.getX(),this._oldEndPosX=this._oldStartPosX+r.getWidth()),t.OverviewUtils.supportsTouch()||(o.setX(0-t.Overview.HANDLE_PADDING_SIZE),o.setWidth(2*(o.getWidth()+t.Overview.HANDLE_PADDING_SIZE)))):(this._isHorizontalResize=!1,this._oldStartPosY=r.getY(),this._oldEndPosY=this._oldStartPosY+r.getHeight(),t.OverviewUtils.supportsTouch()||(o.setY(0-t.Overview.HANDLE_PADDING_SIZE),o.setHeight(2*(o.getHeight()+t.Overview.HANDLE_PADDING_SIZE)))),this.overrideCursors(o.getCursor())}this._moveDrawable=o;var a=t.EventFactory.newOverviewEvent("dropCallback");return this.dispatchEvent(a),!0}return!1},t.Overview.prototype.overrideCursors=function(t){var i=this.getSlidingWindow();if(null!=i&&i.setCursor(t),this.isLeftAndRightFilterRendered()){var e=this.getLeftBackground(),n=this.getRightBackground();null!=e&&null!=n&&(e.setCursor(t),n.setCursor(t))}},t.Overview.prototype.resetCursors=function(){var t=this.getSlidingWindow();if(null!=t&&t.setCursor("move"),this.isLeftAndRightFilterRendered()){var i=this.getLeftBackground(),e=this.getRightBackground();null!=i&&null!=e&&(i.setCursor("default"),e.setCursor("default"))}},t.Overview.prototype.endDragPan=function(){null!=this._moveDrawable&&1==this._isDragPanning&&("window"==this._moveDrawable.getId()?this.handleWindowDrag("scrollEnd"):this.isHandle(this._moveDrawable)&&(this.finishHandleDrag(0,0),t.OverviewUtils.supportsTouch()||(this.isTopOrBottomHandle(this._moveDrawable)?(this._moveDrawable.setY(0),this._moveDrawable.setHeight(this.getHandleSize())):this.isLeftOrRightHandle(this._moveDrawable)&&(this._moveDrawable.setX(0),this._moveDrawable.setWidth(this.getHandleSize()))),this.resetCursors()),this._isDragPanning=!1,this._moveDrawable=null,this._initX=-1)},t.Overview.prototype.contDragPan=function(t,i,e){if(null!=this._moveDrawable&&-1!=this._initX){this._isDragPanning=!0;var n=i-this._initX,o=e-this._initY;this._initX=i,this._initY=e,"window"==this._moveDrawable.getId()?this.handleWindowDrag("scrollPos",n,o):"lh"==this._moveDrawable.getId()||"lhb"==this._moveDrawable.getId()?this.handleLeftOrRightHandleDragPositioning(t,n,!0):"rh"==this._moveDrawable.getId()||"rhb"==this._moveDrawable.getId()?this.handleLeftOrRightHandleDragPositioning(t,n,!1):"th"==this._moveDrawable.getId()||"thb"==this._moveDrawable.getId()?this.handleTopOrBottomHandleDragPositioning(t,o,!0):"bh"!=this._moveDrawable.getId()&&"bhb"!=this._moveDrawable.getId()||this.handleTopOrBottomHandleDragPositioning(t,o,!1)}},t.Overview.prototype.HandleTouchStart=function(t){var i=t.touches;this._touchStartX=i[0].pageX,this._touchStartY=i[0].pageY,2==i.length&&(t.preventDefault(),this._touchStartX2=i[1].pageX,this._touchStartY2=i[1].pageY,Math.abs(this._touchStartY-this._touchStartY2)<20?this._counter=0:(this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null))},t.Overview.prototype.HandleTouchMove=function(t){t.preventDefault();var i=t.touches;if(null!=this._touchStartX2&&null!=this._touchStartY2){if(this._counter<50)return void this._counter++;var e=i[1].pageX-this._touchStartX2;this.handleRightHandleDragPositioning(null,e,0),this._touchStartX2=i[1].pageX,this._counter=0}else{var n=Math.abs(this._touchStartX-i[0].pageX),o=Math.abs(this._touchStartY-i[0].pageY);(n>3||o>3)&&(this._touchStartX=null,this._touchStartY=null)}},t.Overview.prototype.HandleTouchEnd=function(t){null!=this._touchStartX2&&null!=this._touchStartY2?this.finishHandleDrag(0,0):null!=this._touchStartX&&null!=this._touchStartY&&this.HandleShapeClick(t,this._touchStartX,this._touchStartY),this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null},t.Overview.prototype.stopDragAction=function(){this.endDragPan()},t.Overview.prototype.handleWindowDrag=function(t,i,e){var o,r,s,a,l=this.getSlidingWindow(),h=!1,d=this.getSlidingWindowPosX(l),g=this.getSlidingWindowPosY(l),u=l.getWidth(),v=l.getHeight();if("scrollPos"===t){if(this.isHorizontalScrollingEnabled()&&0!==i){var w=this.getMinimumPositionX(),c=this.getMaximumPositionX();d+i<=w?this.setSlidingWindowPosX(l,w):d+u+i>=c?this.setSlidingWindowPosX(l,c-u):this.setSlidingWindowPosX(l,d+i);var p=this.getSlidingWindowPosX(l);p!==d&&(d=p,h=!0)}if(this.isVerticalScrollingEnabled()&&0!==e){var _=this.getMinimumPositionY(),f=this.getMaximumPositionY();g+e<=_?this.setSlidingWindowPosY(l,_):g+v+e>=f?this.setSlidingWindowPosY(l,f-v):this.setSlidingWindowPosY(l,g+e);var m=this.getSlidingWindowPosY(l);m!==g&&(g=m,h=!0)}h&&n._updateBorderAroundSlidingWindow(this)}this.isHorizontalScrollingEnabled()&&(this.isRTL()?(o=this.getXPositionDate(this.Width-(d+u)),r=this.getXPositionDate(this.Width-d)):(o=this.getXPositionDate(d),r=this.getXPositionDate(d+u))),this.isVerticalScrollingEnabled()&&(s=this.getYPositionDate(g),a=this.getYPositionDate(g+v)),this.fireScrollEvent(t,o,r,s,a)},t.Overview.prototype.fireScrollEvent=function(i,e,n,o,r){var s,a,l,h;this.isHorizontalScrollingEnabled()&&(s=e,a=n),this.isVerticalScrollingEnabled()&&(l=o,h=r);var d=t.EventFactory.newOverviewEvent(i,s,a,l,h);this.dispatchEvent(d)},t.Overview.prototype.handleLeftOrRightHandleDragPositioning=function(i,e,o){if(0!=e){var r=this.getSlidingWindow(),s=this.getSlidingWindowPosX(r),a=r.getWidth();if(o){if(a-e<=this.getMinimumWindowWidth())return;if(s+e<=this.getMinimumPositionX())return;var l=this.getCtx().pageToStageCoords(this.getPageX(i),this.getPageY(i)).x;if(l=this.stageToLocal(l),e>0&&l<=s)return;if(e<0&&l>=s)return;this.setSlidingWindowPosX(r,s+e),n._setSlidingWindowWidth(this,r,a-e)}else{if(a+e<=this.getMinimumWindowWidth())return;if(s+a+e>=this.getMaximumPositionX())return;if(l=this.getCtx().pageToStageCoords(this.getPageX(i),this.getPageY(i)).x,l=this.stageToLocal(l),e>0&&l<=s+a)return;if(e<0&&l>=s+a)return;n._setSlidingWindowWidth(this,r,a+e)}if(n._updateBorderAroundSlidingWindow(this),this.isRangeChangingSupported()){var h,d;this.isRTL()?(h=this.getXPositionDate(this.Width-(this.getSlidingWindowPosX(r)+r.getWidth())),d=this.getXPositionDate(this.Width-this.getSlidingWindowPosX(r))):(h=this.getXPositionDate(this.getSlidingWindowPosX(r)),d=this.getXPositionDate(this.getSlidingWindowPosX(r)+r.getWidth()));var g=t.EventFactory.newOverviewEvent("rangeChanging",h,d);this.dispatchEvent(g)}}},t.Overview.prototype.handleTopOrBottomHandleDragPositioning=function(i,e,o){if(0!=e){var r=this.getSlidingWindow(),s=this.getSlidingWindowPosY(r),a=r.getHeight();if(o){if(a-e<=this.getMinimumWindowHeight())return;if(s+e<=this.getMinimumPositionY())return;var l=this.getCtx().pageToStageCoords(this.getPageX(i),this.getPageY(i)).y;if(l=this.stageToLocal(l),e>0&&l<=s)return;if(e<0&&l>=s)return;this.setSlidingWindowPosY(r,s+e),n._setSlidingWindowHeight(this,r,a-e)}else{if(a+e<=this.getMinimumWindowHeight())return;if(s+a+e>=this.getMaximumPositionY())return;if(l=this.getCtx().pageToStageCoords(this.getPageX(i),this.getPageY(i)).y,l=this.stageToLocal(l),e>0&&l<=s+a)return;if(e<0&&l>=s+a)return;n._setSlidingWindowHeight(this,r,a+e)}if(n._updateBorderAroundSlidingWindow(this),this.isRangeChangingSupported()){var h=this.getYPositionDate(this.getSlidingWindowPosY(r)),d=this.getYPositionDate(this.getSlidingWindowPosY(r)+r.getHeight()),g=t.EventFactory.newOverviewEvent("rangeChanging",void 0,void 0,h,d);this.dispatchEvent(g)}}},t.Overview.prototype.isHorizontalScrollingEnabled=function(){return null!=this._xMin&&null!=this._xMax},t.Overview.prototype.isVerticalScrollingEnabled=function(){return null!=this._yMin&&null!=this._yMax},t.Overview.prototype.isRangeChangingSupported=function(){return!0},t.Overview.prototype.finishHandleDrag=function(i,e){var n,o=this.getSlidingWindow();if(this._isHorizontalResize){var r=this.getXPositionDate(this._oldStartPosX),s=this.getXPositionDate(this._oldEndPosX);if(this.isRTL())var a=this.getXPositionDate(this.Width-(this.getSlidingWindowPosX(o)+o.getWidth())),l=this.getXPositionDate(this.Width-this.getSlidingWindowPosX(o));else a=this.getXPositionDate(this.getSlidingWindowPosX(o)),l=this.getXPositionDate(this.getSlidingWindowPosX(o)+o.getWidth());n=t.EventFactory.newOverviewEvent("rangeChange",a,l,void 0,void 0,r,s)}else{var h=this.getYPositionDate(this._oldStartPosY),d=this.getYPositionDate(this._oldEndPosY),g=this.getYPositionDate(this.getSlidingWindowPosY(o)),u=this.getYPositionDate(this.getSlidingWindowPosY(o)+o.getHeight());n=t.EventFactory.newOverviewEvent("rangeChange",void 0,void 0,g,u,void 0,void 0,h,d)}this.dispatchEvent(n)},t.Overview.prototype.dispatchEvent=function(t){this._callback.call(this._callbackObj,t,this)},t.Overview.prototype.destroy=function(){this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null),t.OverviewUtils.supportsTouch()?(this.removeEvtListener(t.TouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.removeEvtListener(t.TouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.removeEvtListener(t.TouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.removeEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this)):(this.removeEvtListener(t.MouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.removeEvtListener(t.MouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.removeEvtListener(t.MouseEvent.CLICK,this.HandleShapeClick,!1,this),this.removeEvtListener(t.KeyboardEvent.KEYDOWN,this.HandleKeyDown,!1,this),this.removeEvtListener(t.KeyboardEvent.KEYUP,this.HandleKeyUp,!1,this)),t.Overview.superclass.destroy.call(this)};var i=function(){this.Init({alta:i.VERSION_1})};t.Obj.createSubclass(i,t.BaseComponentDefaults),i.VERSION_1={overviewPosition:"below",style:{currentTimeIndicatorColor:"#c000d1",handleFillColor:"#ffffff",handleTextureColor:"#b3c6db",leftFilterPanelAlpha:.7,leftFilterPanelColor:"#ffffff",overviewBackgroundColor:"#e6ecf3",rightFilterPanelAlpha:.7,rightFilterPanelColor:"#ffffff",timeAxisBarColor:"#e5e5e5",timeAxisBarAlpha:1,timeIndicatorColor:"#bcc7d2",windowBackgroundAlpha:1,windowBackgroundColor:"#ffffff",windowBorderBottomColor:"#4f4f4f",windowBorderBottomStyle:"solid",windowBorderLeftColor:"#4f4f4f",windowBorderLeftStyle:"solid",windowBorderRightColor:"#4f4f4f",windowBorderRightStyle:"solid",windowBorderTopColor:"#4f4f4f",windowBorderTopStyle:"solid"}},t.OverviewParser=function(t){this.Init(t)},t.Obj.createSubclass(t.OverviewParser,t.Obj),t.OverviewParser.prototype.Init=function(t){this._view=t},t.OverviewParser.prototype.parse=function(t){var i=t;return this.ParseRootAttributes(i)},t.OverviewParser.prototype.ParseRootAttributes=function(i){var e=new Object;return e.animationOnClick=i.animationOnClick,null!=i.xMin&&(e.xMin=i.xMin),null!=i.xMax&&(e.xMax=i.xMax),null!=i.x1&&(e.x1=i.x1),null!=i.x2&&(e.x2=i.x2),null!=i.yMin&&(e.yMin=i.yMin),null!=i.yMax&&(e.yMax=i.yMax),null!=i.y1&&(e.y1=i.y1),null!=i.y2&&(e.y2=i.y2),null!=i.currentTime&&(e.currentTime=i.currentTime),e.orientation="horizontal",null!=i.orientation&&(e.orientation=i.orientation),e.featuresOff=i.featuresOff,e.minimumWindowSize=i.minimumWindowSize,e.leftMargin=i.leftMargin,e.rightMargin=i.rightMargin,e.overviewPosition="below",e.selectionMode="none",e.isRtl=t.Agent.isRightToLeft(this._view.getCtx()).toString(),null!=i.rtl&&(e.isRtl=i.rtl.toString()),e},t.OverviewParser.prototype.calculateWidth=function(t,i,e,n,o){var r=o*(i-t),s=n-e;return 0==r||0==s?0:r/s};var e=function(t){this.Init(t.getCtx(),t.processEvent,t),this._overview=t};t.Obj.createSubclass(e,t.EventManager),e.prototype.addListeners=function(i){t.SvgDocumentUtils.addDragListeners(this._overview,this._onDragStart,this._onDragMove,this._onDragEnd,this)},e.prototype._onDragStart=function(i){return t.Agent.isTouchDevice()?this._onTouchDragStart(i):this._onMouseDragStart(i)},e.prototype._onDragMove=function(i){return t.Agent.isTouchDevice()?this._onTouchDragMove(i):this._onMouseDragMove(i)},e.prototype._onDragEnd=function(i){return t.Agent.isTouchDevice()?this._onTouchDragEnd(i):this._onMouseDragEnd(i)},e.prototype._getRelativePosition=function(i,e){return this._stageAbsolutePosition||(this._stageAbsolutePosition=this._context.getStageAbsolutePosition()),new t.Point(i-this._stageAbsolutePosition.x,e-this._stageAbsolutePosition.y)},e.prototype._onMouseDragStart=function(i){if(i.button!=t.MouseEvent.RIGHT_CLICK_BUTTON){var e=this._getRelativePosition(i.pageX,i.pageY);return this._overview.beginDragPan(i,e.x,e.y)}return!1},e.prototype._onMouseDragMove=function(t){var i=this._getRelativePosition(t.pageX,t.pageY);return this._overview.contDragPan(t,i.x,i.y),!0},e.prototype._onMouseDragEnd=function(t){this._overview.endDragPan(),this._stageAbsolutePosition=null},e.prototype._onTouchDragStart=function(t){var i=t.touches;if(t.stopPropagation(),1==i.length){var e=this._getRelativePosition(i[0].pageX,i[0].pageY);return t.preventDefault(),this._overview.beginDragPan(t,e.x,e.y)}return!1},e.prototype._onTouchDragMove=function(t){var i=t.touches;if(1==i.length){var e=this._getRelativePosition(i[0].pageX,i[0].pageY);this._overview.contDragPan(t,e.x,e.y),t.preventDefault()}t.stopPropagation()},e.prototype._onTouchDragEnd=function(i){this._overview.endDragPan(),t.EventManager.consumeEvent(i),this._stageAbsolutePosition=null};var n=new Object;t.Obj.createSubclass(n,t.Obj),n.renderOverview=function(t){t.isBackgroundRendered()&&n._renderBackground(t);var i=null!=t._callback||null!=t._callbackObj;i&&n._renderSlidingWindow(t),n._renderTimeAxis(t),n._parseFilledTimeRanges(t),n._updateCurrentTime(t),t.renderData(t.Width,t.Height),i&&(n._createBorderAroundSlidingWindow(t),n._updateSlidingWindow(t))},n._renderBackground=function(i){var e=new t.Rect(i.getCtx(),0,0,i.Width,i.Height,"bg");e.setSolidFill(i._overviewBackgroundColor),e.setPixelHinting(!0),i.addChild(e)},n._renderSlidingWindow=function(i){var e=i.Width,o=i.Height,r=new t.Rect(i.getCtx(),0,0,e,o,"window");if(r.setSolidFill(i._windowBackgroundColor,i._windowBackgroundAlpha),r.setPixelHinting(!0),!i.isFeatureOff("zoom")){var s=i.getHandleSize(),a=i.getHandleStart(),l=i.getGrippySize();if(i.isVerticalScrollingEnabled()){var h=i.getSlidingWindowWidth(),d=t.PathUtils.moveTo(0,0)+t.PathUtils.quadTo(3,6,8,8)+t.PathUtils.lineTo(28,8)+t.PathUtils.quadTo(33,6,36,0);t.PathUtils.closePath();var g=t.PathUtils.moveTo(0,0)+t.PathUtils.quadTo(3,-6,8,-8)+t.PathUtils.lineTo(28,-8)+t.PathUtils.quadTo(33,-6,36,0);t.PathUtils.closePath();var u=new t.Rect(i.getCtx(),0,0,h,s,"thb"),v=new t.Rect(i.getCtx(),0,0,h,s,"bhb");if(O="row-resize",i._vertHandleBackgroundImage)var w=n._createGrippyImage(i,h,l,!0),c=n._createGrippyImage(i,h,l,!0);else w=n._createGrippy(i,!0),c=n._createGrippy(i,!0);u.setSolidFill(i._windowBackgroundColor,0),v.setSolidFill(i._windowBackgroundColor,0),u.setPixelHinting(!0),v.setPixelHinting(!0);var p=new t.Path(i.getCtx(),d,"th"),_=new t.Path(i.getCtx(),g,"bh");p.setSolidFill(i._handleFillColor),p.setSolidStroke(i._handleFillColor),_.setSolidFill(i._handleFillColor),_.setSolidStroke(i._handleFillColor),i._windowBackgroundColor==i._handleFillColor&&(p.setPixelHinting(!0),_.setPixelHinting(!0)),u.setCursor(O),v.setCursor(O),p.setCursor(O),_.setCursor(O),w.setCursor(O),c.setCursor(O),r.addChild(u),i._windowTopHandleBackground=u,r.addChild(p),i._windowTopHandle=p,r.addChild(w),i._windowTopGrippy=w,r.addChild(v),i._windowBottomHandleBackground=v,r.addChild(_),i._windowBottomHandle=_,r.addChild(c),i._windowBottomGrippy=c}if(i.isHorizontalScrollingEnabled()){var f=i.getSlidingWindowHeight(),m=t.PathUtils.moveTo(0,0)+t.PathUtils.quadTo(6,3,8,8)+t.PathUtils.lineTo(8,28)+t.PathUtils.quadTo(6,33,0,36);t.PathUtils.closePath();var P=t.PathUtils.moveTo(0,0)+t.PathUtils.quadTo(-6,3,-8,8)+t.PathUtils.lineTo(-8,28)+t.PathUtils.quadTo(-6,33,0,36);t.PathUtils.closePath();var S=new t.Rect(i.getCtx(),0-a,0,s,f,"lhb"),y=new t.Rect(i.getCtx(),a,0,s,f,"rhb"),O="col-resize";if(i._horHandleBackgroundImage)var C=n._createGrippyImage(i,l,f,!1),x=n._createGrippyImage(i,l,f,!1);else C=n._createGrippy(i,!1),x=n._createGrippy(i,!1);S.setSolidFill(i._windowBackgroundColor,0),y.setSolidFill(i._windowBackgroundColor,0),S.setPixelHinting(!0),y.setPixelHinting(!0);var W=new t.Path(i.getCtx(),m,"lh"),T=new t.Path(i.getCtx(),P,"rh");W.setSolidFill(i._handleFillColor),W.setSolidStroke(i._handleFillColor),T.setSolidFill(i._handleFillColor),T.setSolidStroke(i._handleFillColor),i._windowBackgroundColor==i._handleFillColor&&(W.setPixelHinting(!0),T.setPixelHinting(!0)),S.setCursor(O),y.setCursor(O),W.setCursor(O),T.setCursor(O),C.setCursor(O),x.setCursor(O),r.addChild(S),i._windowLeftHandleBackground=S,r.addChild(W),i._windowLeftHandle=W,r.addChild(C),i._windowLeftGrippy=C,r.addChild(y),i._windowRightHandleBackground=y,r.addChild(T),i._windowRightHandle=T,r.addChild(x),i._windowRightGrippy=x}}r.setCursor("move"),i.addChild(r),n._renderTimeAxisTopBar(i),n._renderLeftAndRightFilters(i,a)},n._createGrippyImage=function(i,e,n,o){if(o){var r=(n-i._vertHandleHeight)/2;a=new t.Image(i.getCtx(),i._vertHandleBackgroundImage,0,r,i._vertHandleWidth,i._vertHandleHeight,"vgrpy")}else var s=(e-i._horHandleWidth)/2,a=new t.Image(i.getCtx(),i._horHandleBackgroundImage,s,0,i._horHandleWidth,i._horHandleHeight,"hgrpy");return a.setMouseEnabled(!1),a},n._createGrippy=function(i,e){var n=i._handleTextureColor;if(e){for(var o=new t.Container(i.getCtx(),"vgrpy"),r=8,s=3,a=0;a<9;a++){var l=new t.Line(i.getCtx(),r+2*a,s,r+2*a+1,s,"dot1"+a);l.setSolidStroke(n),o.addChild(l),s+=2,(l=new t.Line(i.getCtx(),r+1+2*a,s,r+1+2*a+1,s,"dot2"+a)).setSolidStroke(n),o.addChild(l),s+=2,(l=new t.Line(i.getCtx(),r+2*a,s,r+2*a+1,s,"dot3"+a)).setSolidStroke(n),o.addChild(l),s=3}(l=new t.Line(i.getCtx(),r+18,s,r+18+1,s,"dot4")).setSolidStroke(n),o.addChild(l),s+=4,(l=new t.Line(i.getCtx(),r+18,s,r+18+1,s,"dot5")).setSolidStroke(n),o.addChild(l)}else{for(o=new t.Container(i.getCtx(),"hgrpy"),r=3,s=8,a=0;a<9;a++)(l=new t.Line(i.getCtx(),r,s+2*a,r,s+2*a+1,"dot1"+a)).setSolidStroke(n),o.addChild(l),r+=2,(l=new t.Line(i.getCtx(),r,s+1+2*a,r,s+1+2*a+1,"dot2"+a)).setSolidStroke(n),o.addChild(l),r+=2,(l=new t.Line(i.getCtx(),r,s+2*a,r,s+2*a+1,"dot3"+a)).setSolidStroke(n),o.addChild(l),r=3;(l=new t.Line(i.getCtx(),r,s+18,r,s+18+1,"dot4")).setSolidStroke(n),o.addChild(l),r+=4,(l=new t.Line(i.getCtx(),r,s+18,r,s+18+1,"dot5")).setSolidStroke(n),o.addChild(l)}return o.setPixelHinting(!0),o},n._createBorderAroundSlidingWindow=function(i){var e=i.Width,n=i.Height,r=i.getSlidingWindow(),s=o._DEFAULT_WINDOW_BORDER_WIDTH/2;if(i.isVertical())var a=r.getY(),l=a+s,h=a+r.getHeight(),d=h-s,g=0,u=s,v=e,w=v-s,c=new t.Line(i.getCtx(),g,l,e,l,"lh"),p=new t.Line(i.getCtx(),g,d,e,d,"rh"),_=new t.Line(i.getCtx(),u,0,u,a,"ltb"),f=new t.Line(i.getCtx(),u,h,u,n,"rtb"),m=new t.Line(i.getCtx(),w,a,w,h,"bb"),P=new t.Line(i.getCtx(),u,a,u,h,"tb");else l=(a=0)+s,d=(h=n)-s,u=(g=r.getX())+s,w=(v=g+r.getWidth())-s,c=new t.Line(i.getCtx(),u,a,u,h,"lh"),p=new t.Line(i.getCtx(),w,a,w,h,"rh"),_=new t.Line(i.getCtx(),0,l,g+1,l,"ltb"),f=new t.Line(i.getCtx(),v-1,l,e,l,"rtb"),m=new t.Line(i.getCtx(),g,d,v,d,"bb"),P=new t.Line(i.getCtx(),g,l,v,l,"tb");c.setPixelHinting(!0),p.setPixelHinting(!0),_.setPixelHinting(!0),f.setPixelHinting(!0),m.setPixelHinting(!0),P.setPixelHinting(!0),"none"!=i._windowBorderLeftStyle&&c.setSolidStroke(i._windowBorderLeftColor),i.addChild(c),i._leftHandle=c,"none"!=i._windowBorderRightStyle&&p.setSolidStroke(i._windowBorderRightColor),i.addChild(p),i._rightHandle=p,"none"!=i._borderTopStyle&&i._borderTopColor&&(_.setSolidStroke(i._borderTopColor),f.setSolidStroke(i._borderTopColor)),i.addChild(_),i.addChild(f),"none"!=i._windowBorderBottomStyle&&m.setSolidStroke(i._windowBorderBottomColor),i.addChild(m),"none"!=i._windowBorderTopStyle&&P.setSolidStroke(i._windowBorderTopColor),i.addChild(P)},n._updateBorderAroundSlidingWindow=function(t){var i=t.getSlidingWindow(),e=o._DEFAULT_WINDOW_BORDER_WIDTH/2,n=t.getLeftHandle(),r=t.getRightHandle(),s=t.getLeftTopBar(),a=t.getRightTopBar(),l=t.getBottomBar(),h=t.getTopBar();if(t.isVertical()){if(t.isHorizontalScrollingEnabled()){var d=i.getWidth(),g=t.getSlidingWindowPosX(i),u=g+e,v=g+d-e;t.setLinePosX(n,u,v),t.setLinePosX(r,u,v),t.setLinePosX(h,u,u),t.setLinePosX(l,v,v)}if(t.isVerticalScrollingEnabled()){var w=i.getHeight(),c=t.getSlidingWindowPosY(i),p=c+e,_=c+w-e;t.setLinePosY(n,p,p),t.setLinePosY(r,_,_),t.setLinePosY(h,p,_),t.setLinePosY(l,p,_)}}else t.isHorizontalScrollingEnabled()&&(d=i.getWidth(),u=(g=t.getSlidingWindowPosX(i))+e,v=g+d-e,t.setLinePosX(n,u,u),t.setLinePosX(r,v,v),t.setLinePosX(h,u,v),t.setLinePosX(l,u,v)),t.isVerticalScrollingEnabled()&&(w=i.getHeight(),p=(c=t.getSlidingWindowPosY(i))+e,_=c+w-e,t.setLinePosY(n,p,_),t.setLinePosY(r,p,_),t.setLinePosY(h,p,p),t.setLinePosY(l,_,_));t.setLinePos(s,-1,t.getSlidingWindowPos(i)),t.setLinePos(a,t.getLinePos1(r),-1)},n._updateSlidingWindow=function(i){var e=i.getSlidingWindow(),o=i.Width,r=i.Height;if(i.isHorizontalScrollingEnabled()){var s=Math.max(i.getMinimumPositionX(),t.OverviewUtils.getDatePosition(i._xMin,i._xMax,i._x1,o)),a=Math.min(i.getMaximumPositionX(),Math.max(i.getMinimumPositionX(),t.OverviewUtils.getDatePosition(i._xMin,i._xMax,i._x2,o)));i.isRTL()?i.setSlidingWindowPosX(e,o-a):i.setSlidingWindowPosX(e,s),n._setSlidingWindowWidth(i,e,a-s)}else n._setSlidingWindowWidth(i,e,o);if(i.isVerticalScrollingEnabled()){var l=Math.max(i.getMinimumPositionY(),t.OverviewUtils.getDatePosition(i._yMin,i._yMax,i._y1,r)),h=Math.min(i.getMaximumPositionY(),Math.max(i.getMinimumPositionY(),t.OverviewUtils.getDatePosition(i._yMin,i._yMax,i._y2,r)));i.setSlidingWindowPosY(e,l),n._setSlidingWindowHeight(i,e,h-l)}else n._setSlidingWindowHeight(i,e,r);n._updateBorderAroundSlidingWindow(i)},n._setSlidingWindowWidth=function(i,e,n){if(n=Math.min(i.getMaximumWindowWidth(),Math.max(i.getMinimumWindowWidth(),n)),e.setWidth(n),i.isLeftAndRightFilterRendered()){var o=i.getSlidingWindowPosX(e)+n,r=i.getRightBackground();if(r.setX(o),r.setWidth(Math.max(0,i.Width-o)),t.OverviewUtils.supportsTouch()&&!i.isFeatureOff("zoom"))i.getRightBackgroundHandle().setX(o)}if(!i.isFeatureOff("zoom")){if(i.isHorizontalScrollingEnabled()){var s=i._windowRightHandleBackground,a=i._windowRightHandle,l=i._windowRightGrippy;a.setTranslateX(n),s.setTranslateX(n-i.getHandleSize()),l.setTranslateX(n-i.getGrippySize())}if(i.isVerticalScrollingEnabled()){var h=(e.getWidth()-36)/2;if(i._vertHandleBackgroundImage)var d=(n-i._vertHandleWidth)/2;else d=h;var g=i._windowTopHandleBackground,u=i._windowTopHandle,v=i._windowTopGrippy;u.setTranslateX(h),g.setWidth(n),v.setTranslateX(d);var w=i._windowBottomHandleBackground,c=i._windowBottomHandle,p=i._windowBottomGrippy;c.setTranslateX(h),w.setWidth(n),p.setTranslateX(d)}}},n._setSlidingWindowHeight=function(t,i,e){if(e=Math.min(t.getMaximumWindowHeight(),Math.max(t.getMinimumWindowHeight(),e)),i.setHeight(e),!t.isFeatureOff("zoom")){if(t.isHorizontalScrollingEnabled()){var n=(e-36)/2;if(t._horHandleBackgroundImage)var o=(e-t._horHandleHeight)/2;else o=n;var r=t._windowLeftHandleBackground,s=t._windowLeftHandle,a=t._windowLeftGrippy;s.setTranslateY(n),r.setHeight(e),a.setTranslateY(o);var l=t._windowRightHandleBackground,h=t._windowRightHandle,d=t._windowRightGrippy;h.setTranslateY(n),l.setHeight(e),d.setTranslateY(o)}if(t.isVerticalScrollingEnabled()){var g=t._windowBottomHandleBackground,u=t._windowBottomHandle,v=t._windowBottomGrippy;u.setTranslateY(e),g.setTranslateY(e-t.getHandleSize()),v.setTranslateY(e-t.getGrippySize())}}},n._renderTimeAxisTopBar=function(i){var e=i.Width,n=i.Height;if(i.isVertical())if(i.isRTL())var o=new t.Line(i.getCtx(),i.getTimeAxisWidth(),0,i.getTimeAxisWidth(),n,"tab");else o=new t.Line(i.getCtx(),e-i.getTimeAxisWidth(),0,e-i.getTimeAxisWidth(),n,"tab");else o=i.isOverviewAbove()?new t.Line(i.getCtx(),0,i.getTimeAxisHeight(),e,i.getTimeAxisHeight(),"tab"):new t.Line(i.getCtx(),0,n-i.getTimeAxisHeight(),e,n-i.getTimeAxisHeight(),"tab");o.setSolidStroke(i._timeAxisBarColor,i._timeAxisBarOpacity),o.setPixelHinting(!0),i._timeAxisTopBar=o,i.addChild(o)},n._renderLeftAndRightFilters=function(i,e){var n=i.Width,o=i.Height;if(i.isLeftAndRightFilterRendered()){if(i.isVertical())var r=new t.Rect(i.getCtx(),0,0,n,0,"lbg"),s=new t.Rect(i.getCtx(),0,0,n,0,"rbg");else r=new t.Rect(i.getCtx(),0,0,0,o,"lbg"),s=new t.Rect(i.getCtx(),0,0,0,o,"rbg");if(r.setSolidFill(i._leftFilterPanelColor,i._leftFilterPanelAlpha),i.addChild(r),s.setSolidFill(i._rightFilterPanelColor,i._rightFilterPanelAlpha),i.addChild(s),t.OverviewUtils.supportsTouch()&&null!=e){if(i.isVertical())var a=new t.Rect(i.getCtx(),0,0,n,e,"lbgrh"),l=new t.Rect(i.getCtx(),0,0,n,e,"rbgrh");else a=new t.Rect(i.getCtx(),0,0,e,o,"lbgrh"),l=new t.Rect(i.getCtx(),0,0,e,o,"rbgrh");a.setSolidFill(i._leftFilterPanelColor,0),i.addChild(a),l.setSolidFill(i._rightFilterPanelColor,0),i.addChild(l)}}},n._renderTimeAxis=function(t){if(null!=t._ticks)for(var i=t.Width,e=t.Height,r=t.isVertical(),s=t.getOverviewSize(),a=0;a<t._ticks.length;a++){var l=t._ticks[a],h=parseInt(l.time,10);if(r)var d=t.getDateYPosition(h);else d=t.getDateXPosition(h);var g=l.label,u=0;if(a+1<t._ticks.length){var v=parseInt(t._ticks[a+1].time,10);if(r)var w=t.getDateYPosition(v);else w=t.getDateXPosition(v);u=w-d}else u=s-d;t.isHorizontalRTL()&&(d=s-d),r&&(u=i),u-=2*o._DEFAULT_AXIS_LABEL_PADDING,n._addTick(t,d,i,e,"tick"+a),n._addLabel(t,d,g,e,u,"label"+a,t._labelStyle)}},n._addTick=function(i,e,n,o,r){if(i.isVertical())var s=new t.Line(i.getCtx(),0,e,n,e,r);else s=new t.Line(i.getCtx(),e,0,e,o,r);var a=new t.Stroke(i._timeIndicatorColor,1,1,!1,{dashArray:"3"});s.setStroke(a),s.setPixelHinting(!0),i.addChild(s)},n._addLabel=function(i,e,n,r,s,a,l){if(i.isVertical()){var h=new t.OutputText(i.getCtx(),n,4,e,a);if(h.setCSSStyle(l),i.isRTL()){var d=h.getDimensions();h.setX(Math.max(4,i.Width-d.w-4))}}else{if(i.isOverviewAbove())var g=2;else g=r-i.getTimeAxisHeight()+2;var u=o._DEFAULT_AXIS_LABEL_PADDING;(h=new t.OutputText(i.getCtx(),n,e+u,g,a)).setCSSStyle(l),i.isHorizontalRTL()&&(d=h.getDimensions(),h.setX(e-Math.min(d.w,s)-u))}t.TextUtils.fitText(h,s,1/0,i),h._rawText=h.getUntruncatedTextString()},n._parseFilledTimeRanges=function(t){if(null!=t._formattedTimeRanges)for(var i=0;i<t._formattedTimeRanges.length;i++){var e=t._formattedTimeRanges[i];n._addFilledTimeRange(t,e,t.Width,t.Height)}},n._addFilledTimeRange=function(i,e,n,o){var r=parseInt(e.rs,10),s=parseInt(e.re,10);if(null!=r&&null!=s){var a=e.c,l=i.getOverviewSize();if(i.isVertical())h=i.getDateYPosition(r),d=i.getDateYPosition(s);else var h=i.getDateXPosition(r),d=i.getDateXPosition(s);var g=d-h;if(i.isHorizontalRTL()&&(h=l-h-g,d=l-d-g),i.isVertical())var u=new t.Rect(i.getCtx(),0,h,n-i.getTimeAxisWidth(),g,"ftr");else u=new t.Rect(i.getCtx(),h,i.isOverviewAbove()?i.getTimeAxisHeight():0,g,o-i.getTimeAxisHeight(),"ftr");null!=a&&u.setSolidFill(a,.4),u.setCursor("move"),u.setPixelHinting(!0),i.addChild(u)}},n._updateCurrentTime=function(i){var e=i.Width,n=i.Height;if(!(null==i._currentTime||isNaN(i._currentTime)||i._currentTime<i._xMin||i._currentTime>i._xMax)){if(i.isVertical())var o=i.getDateYPosition(i._currentTime),r=new t.Line(i.getCtx(),0,o,e,o,"ocd");else o=i.getDateXPosition(i._currentTime),i.isRTL()&&(o=e-o),r=new t.Line(i.getCtx(),o,0,o,n,"ocd");r.setSolidStroke(i._currentTimeIndicatorColor),r.setPixelHinting(!0),i.addChild(r)}};var o=new Object;t.Obj.createSubclass(o,t.Obj),o._DEFAULT_AXIS_LABEL_PADDING=5,o._DEFAULT_WINDOW_BORDER_WIDTH=1,o.getHandleFillColor=function(t){return null!=t._hfc?t._hfc:t.style.handleFillColor},o.getHandleTextureColor=function(t){return null!=t._htc?t._htc:t.style.handleTextureColor},o.getHandleBackgroundImage=function(t,i){return i?null!=t._vhbi?t._vhbi:t.style.vertHandleBackgroundImage:null!=t._hbi?t._hbi:t.style.handleBackgroundImage},o.getHandleWidth=function(t,i){return i?null!=t._vhw?t._vhw:t.style.vertHandleWidth:null!=t._hw?t._hw:t.style.handleWidth},o.getHandleHeight=function(t,i){return i?null!=t._vhh?t._vhh:t.style.vertHandleHeight:null!=t._hh?t._hh:t.style.handleHeight},o.getBorderTopColor=function(t){return null!=t._btc?t._btc:t.style.borderTopColor},o.getBorderTopStyle=function(t){return null!=t._bts?t._bts:t.style.borderTopStyle},o.getWindowBackgroundColor=function(t){return null!=t._wbc?t._wbc:t.style.windowBackgroundColor},o.getWindowBackgroundAlpha=function(t){return t.style.windowBackgroundAlpha},o.getWindowBorderTopStyle=function(t){return null!=t._wbts?t._wbts:t.style.windowBorderTopStyle},o.getWindowBorderRightStyle=function(t){return null!=t._wbrs?t._wbrs:t.style.windowBorderRightStyle},o.getWindowBorderBottomStyle=function(t){return null!=t._wbbs?t._wbbs:t.style.windowBorderBottomStyle},o.getWindowBorderLeftStyle=function(t){return null!=t._wbls?t._wbls:t.style.windowBorderLeftStyle},o.getWindowBorderTopColor=function(t){return null!=t._wbtc?t._wbtc:t.style.windowBorderTopColor},o.getWindowBorderRightColor=function(t){return null!=t._wbrc?t._wbrc:t.style.windowBorderRightColor},o.getWindowBorderBottomColor=function(t){return null!=t._wbbc?t._wbbc:t.style.windowBorderBottomColor},o.getWindowBorderLeftColor=function(t){return null!=t._wblc?t._wblc:t.style.windowBorderLeftColor},o.getOverviewBackgroundColor=function(t){return null!=t._obc?t._obc:t.style.overviewBackgroundColor},o.getCurrentTimeIndicatorColor=function(t){return null!=t._ctic?t._ctic:t.style.currentTimeIndicatorColor},o.getTimeAxisBarColor=function(t){return null!=t._tabc?t._tabc:t.style.timeAxisBarColor},o.getTimeAxisBarAlpha=function(t){return null!=t._tabo?t._tabo:t.style.timeAxisBarAlpha},o.getTimeIndicatorColor=function(t){return null!=t._tic?t._tic:t.style.timeIndicatorColor},o.getLeftFilterPanelColor=function(t){return t.style.leftFilterPanelColor},o.getLeftFilterPanelAlpha=function(t){return t.style.leftFilterPanelAlpha},o.getRightFilterPanelColor=function(t){return t.style.rightFilterPanelColor},o.getRightFilterPanelAlpha=function(t){return t.style.rightFilterPanelAlpha}}(dvt);
  return dvt;
});

/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/internal-deps/dvt/DvtChart',['./DvtToolkit', './DvtAxis', './DvtLegend', './DvtOverview'], function(dvt) {
  "use strict";
  // Internal use only.  All APIs and functionality are subject to change at any time.

!function(t){t.Chart=function(t,e,i){this.Init(t,e,i)},t.Obj.createSubclass(t.Chart,t.BaseComponent),t.Chart.newInstance=function(e,i,r){return new t.Chart(e,i,r)},t.Chart.getDefaults=function(t){return(new o).getDefaults(t)},t.Chart.prototype.Init=function(e,r,a){t.Chart.superclass.Init.call(this,e,r,a),this.Defaults=new o(e),this.EventManager=new i(this),this.EventManager.addListeners(this),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(this.CreateKeyboardHandler(this.EventManager)),this.setId("chart1000"+Math.floor(1e9*Math.random())),this.legend=null,this.xAxis=null,this.yAxis=null,this.y2Axis=null,this.overview=null,this.xScrollbar=null,this.yScrollbar=null,this.dragButtons=null,this.pieChart=null,this.pieCenterDiv=null,this.Peers=[],this.SeriesStyleArray=[],this._numFrontObjs=0,this._numSelectedObjsInFront=0,this._dataLabels=null,this._rawOptions=null},t.Chart.prototype.GetComponentDescription=function(){var e=this.getOptions(),i=e.translations.componentName,r="",a=t.Context.ARIA_LABEL_DESC_DELIMITER;return e.title.text&&(r+=this.Options.title.text,e.subtitle.text&&(r+=a+this.Options.subtitle.text)),e.footnote.text&&(r=0==r.length?this.Options.footnote.text:r.concat(a,this.Options.footnote.text)),r.length>0?t.ResourceUtils.format(this.Options.translations.labelAndValue,[i,r]):i},t.Chart.prototype.SetOptions=function(e){e?(this._rawOptions=e,this.Options=this.Defaults.calcOptions(e),this.getOptionsCache().clearCache(),Q.processDataObject(this),(t.Agent.isEnvironmentTest()||at.isScatterBubble(this)&&Q.getSeriesCount(this)*Q.getGroupCount(this)>ct.FILTER_THRESHOLD_SCATTER_BUBBLE)&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults());var i=this.Options.selectionMode;this._selectionHandler="single"==i?new t.SelectionHandler(this.getCtx(),t.SelectionHandler.TYPE_SINGLE):"multiple"==i?new t.SelectionHandler(this.getCtx(),t.SelectionHandler.TYPE_MULTIPLE):null,this.EventManager.setSelectionHandler(this._selectionHandler)},t.Chart.prototype.render=function(e,i,r){this.getCache().clearCache();var a=this.getCtx(),n=this.Options?this.Options.animationOnDataChange:"none",s="none"!=n?new G(this):null,o=this.__cacheChartFocus();this._container&&this.__cleanUp(),this.SetOptions(e),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r);var l=new t.Container(a);this.addChild(l),ut.render(this,l,new t.Rectangle(0,0,this.Width,this.Height)),at.isSpark(this)&&this.EventManager.removeListeners(this),this.StopAnimation();var h=et.getAnimationOnDisplay(this),u=et.getAnimationDuration(this),g=new t.Rectangle(0,0,this.Width,this.Height),d=!1;if(this._container){if("none"!=n&&e)if(this.Animation=t.BlackBoxAnimationHandler.getCombinedAnimation(a,n,this._container,l,g,u),this.Animation)d=!0;else if("auto"==n&&this.getPlotArea()){var c=this.__getPlotAreaSpace();this._delContainer=ct.createClippedGroup(this,this._container,new t.Rectangle(0,0,c.w,c.h)),this.Animation=H.createAnimation(s,this,n,u,this._delContainer),this._delContainer.getNumChildren()>0&&this.getPlotArea().addChild(this._delContainer)}}else"none"!=h&&(this.Animation=t.BlackBoxAnimationHandler.getInAnimation(a,h,l,g,u),this.Animation||"auto"!=h||(this.Animation=N.createAnimation(this,h,u)));this.Animation?(this.EventManager.removeListeners(this),t.Playable.appendOnEnd(this.Animation,this._onAnimationEnd,this),this.Animation.play(),this._oldContainer=this._container,!d&&this._oldContainer&&this._oldContainer.removeFromParent()):this._container&&(this._container.removeFromParent(),this._container.destroy(),this._container=null),this._container=l,this._dataCursor=ut.renderDataCursor(this),this.UpdateAriaAttributes(),this.__restoreChartFocus(o),this.Animation||this.RenderComplete()},t.Chart.prototype.__cleanUp=function(){this._dataCursor&&(this.removeChild(this._dataCursor),this._dataCursor=null),this.EventManager&&(this.EventManager.hideHoverFeedback(),this.EventManager.setPanZoomHandler(null),this.EventManager.setMarqueeZoomHandler(null),this.EventManager.setMarqueeSelectHandler(null),this.EventManager.panButton=null,this.EventManager.zoomButton=null,this.EventManager.selectButton=null),this.pieCenterDiv&&(this.getCtx().getContainer().removeChild(this.pieCenterDiv),this.pieCenterDiv=null),this.Peers=[],this.xScrollbar=null,this.yScrollbar=null,this.dragButtons&&(this.removeChild(this.dragButtons),this.dragButtons.destroy(),this.dragButtons=null),this._plotArea=null,this._areaContainer=null,this._dataLabels=null,this.getCache().clearCache()},t.Chart.prototype.__cleanUpAxisAndPlotArea=function(){this.EventManager.hideHoverFeedback(),this.Peers=[],this.xAxis&&(this._container.removeChild(this.xAxis),this.xAxis.destroy()),this.yAxis&&(this._container.removeChild(this.yAxis),this.yAxis.destroy()),this.y2Axis&&(this._container.removeChild(this.y2Axis),this.y2Axis.destroy()),this._plotArea&&this._plotArea==this._panZoomTarget?this._plotArea.setVisible(!1):this._plotArea&&(this._container.removeChild(this._plotArea),this._plotArea.destroy()),this._plotArea=null,this.getCache().clearCache()},t.Chart.prototype._onAnimationEnd=function(){this._oldContainer&&(this._oldContainer.removeFromParent(),this._oldContainer.destroy(),this._oldContainer=null),this._delContainer&&(this._delContainer.removeFromParent(),this._delContainer.destroy(),this._delContainer=null),this.AnimationStopped||this.RenderComplete(),this.EventManager.addListeners(this),this.Animation=null,this.AnimationStopped=!1},t.Chart.prototype.CreateKeyboardHandler=function(t){return new r(t,this)},t.Chart.prototype.getAutomation=function(){return new e(this)},t.Chart.prototype.getValuesAt=function(t,e){var i=this.__getPlotAreaSpace(),r=t-i.x,a=e-i.y,n=at.isPolar(this),s=at.isHorizontal(this);if(n){r-=i.w/2,a-=i.h/2;var o=Math.sqrt(r*r+a*a),l=Math.atan2(r,-a);return l<0&&(l+=2*Math.PI),{x:this.xAxis?this.xAxis.getValueAt(l):null,y:this.yAxis?this.yAxis.getValueAt(o):null}}return{x:this.xAxis?this.xAxis.getValueAt(s?a:r):null,y:this.yAxis?this.yAxis.getValueAt(s?r:a):null,y2:this.y2Axis?this.y2Axis.getValueAt(s?r:a):null}},t.Chart.prototype.filter=function(t,e){var i="out"==e?"hidden":"visible";J.setVisibility(this,t,i),this.render(this.Options)},t.Chart.prototype.highlight=function(e){this.getOptions().highlightedCategories=t.JsonUtils.clone(e),t.CategoryRolloverHandler.highlight(e,this.getObjects(),"any"==this.getOptions().highlightMatch),this.legend&&this.legend.highlight(e),this.pieChart&&this.pieChart.highlight(e),this.overview&&this.overview.getBackgroundChart().highlight(e)},t.Chart.prototype.select=function(e){this.getOptions().selection=t.JsonUtils.clone(e);var i=Q.getInitialSelection(this);J.setInitialSelection(this,i),this.pieChart&&this.pieChart.setInitialSelection()},t.Chart.prototype.positionDataCursor=function(e){var i=this.getEventManager().getDataCursorHandler();if(i){if(e){var r=this.xAxis&&null!=e.x?this.xAxis.getCoordAt(e.x):null,a=null;if(at.isBLAC(this)?this.yAxis&&null!=e.y?a=this.yAxis.getBoundedCoordAt(e.y):this.y2Axis&&null!=e.y2&&(a=this.yAxis.getBoundedCoordAt(e.y2)):a=this.yAxis&&null!=e.y?this.yAxis.getCoordAt(e.y):null,null!=r&&null!=a){var n=this.__getPlotAreaSpace(),s=ct.convertAxisCoord(this,new t.Point(r,a),n);return void i.processMove(new t.Point(n.x+s.x,n.y+s.y),!0)}}i.processEnd(!0)}},t.Chart.prototype.processEvent=function(t,e){var i=t.type;if("categoryHide"==i||"categoryShow"==i)this.filter(t.category,"categoryHide"==i?"out":"in");else if("categoryHighlight"==i)this!=e&&this.highlight(t.categories),this.legend&&this.legend!=e&&this.legend.processEvent(t,e);else if("selection"==i)t=this._processSelectionEvent(t);else if("dvtPanZoom"==i)t=this._processPanZoomEvent(t);else if("dvtMarquee"==i)t=this._processMarqueeEvent(t);else if("overview"==i){var r=t.subtype;if("dropCallback"==r)return;var a="scrollTime"==r||"scrollEnd"==r||"rangeChange"==r;t=this._processScrollbarEvent(t.newX1,t.newX2,a,e)}else if("dvtSimpleScrollbar"==i)t=this._processScrollbarEvent(t.newMin,t.newMax,"end"==t.subtype,e);else if("ready"==i&&this!=e)return;if(t){if("selection"==(i=t.type)){var n,s,o=this.getOptions(),l=o.selection,h=Q.getCurrentSelection(this);t.complete&&(o.selection=h),l=l||[],h=h||[];var u={};for(n=0;n<l.length;n++)u[l[n].id]=!0;var g={};for(s=0;s<h.length;s++)g[h[s].id]=!0;var d={};for(s=0;s<h.length;s++){var c=h[s].id;u[c]||(d[c]=!0)}var p={};for(n=0;n<l.length;n++){var _=l[n].id;g[_]||(p[_]=!0)}t.addedSet=d,t.removedSet=p;for(var f=0;f<t.selection.length;f++)J.addEventData(this,t.selection[f]);t.component=this.getOptions()._widgetConstructor}else"drill"==i&&(J.addEventData(this,t),t.component=this.getOptions()._widgetConstructor);this.dispatchEvent(t)}},t.Chart.prototype._processSelectionEvent=function(e){var i=J.processIds(this,e.selection);return this._updateOverviewSelection(),t.EventFactory.newChartSelectionEvent(i,!0)},t.Chart.prototype._processPanZoomEvent=function(e){var i=e.subtype;return"panStart"==i||"pinchStart"==i?(t.Agent.isTouchDevice()&&this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=this._plotArea),null):(this._lastPanZoomEvent?(e.dxMin+=this._lastPanZoomEvent.dxMin,e.dxMax+=this._lastPanZoomEvent.dxMax,e.dyMin+=this._lastPanZoomEvent.dyMin,e.dyMax+=this._lastPanZoomEvent.dyMax):t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._animatePanZoomEvent)),this._lastPanZoomEvent=e,null)},t.Chart.prototype._animatePanZoomEvent=function(){var e=this._lastPanZoomEvent;this._lastPanZoomEvent=null;var i,r,a=e.subtype,n="panEnd"==a||"zoom"==a||"pinchEnd"==a;(J.isLiveScroll(this)?(i=J.getAxisBoundsByDelta(this,e.dxMin,e.dxMax,e.dyMin,e.dyMax),this._setScrollbarViewport(i),this._setViewport(i,n)):(i=J.getAxisBoundsByDelta(this,e.dxMinTotal,e.dxMaxTotal,e.dyMinTotal,e.dyMaxTotal),this._setScrollbarViewport(i),n&&this._setViewport(i,n)),n&&(ut._setEventHandlers(this),this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=null)),n||!i.unchanged)&&(r=at.isBLAC(this)?t.EventFactory.newChartViewportChangeEvent(n,i.xMin,i.xMax,i.startGroup,i.endGroup,null,null):t.EventFactory.newChartViewportChangeEvent(n,i.xMin,i.xMax,null,null,i.yMin,i.yMax),this.dispatchEvent(r))},t.Chart.prototype._processMarqueeEvent=function(e){var r,a=e.subtype,n=this.EventManager;if(J.adjustBounds(e),n.getDragMode()==i.DRAG_MODE_SELECT){var s=n.getSelectionHandler();if("start"==a)this._initSelection=e.ctrlKey?s.getSelectedIds():[];else{var o=J.getBoundedObjects(this,e);s.processInitialSelections(this._initSelection,this.getChartObjPeers()),s.processGroupSelection(o,!0)}var l=s.getSelectedIds();r=J.getAxisBounds(this,e,!1);var h="end"==a,u=t.EventFactory.newChartSelectionEvent(l,h,r.xMin,r.xMax,r.startGroup,r.endGroup,r.yMin,r.yMax,r.y2Min,r.y2Max);return"end"==a&&this._updateOverviewSelection(),u}return n.getDragMode()==i.DRAG_MODE_ZOOM?"end"!=a?null:(r=J.getAxisBounds(this,e,!0),this._setViewport(r,!0),this._setScrollbarViewport(r),ut._setEventHandlers(this),at.isBLAC(this)?t.EventFactory.newChartViewportChangeEvent(!0,r.xMin,r.xMax,r.startGroup,r.endGroup,null,null):t.EventFactory.newChartViewportChangeEvent(!0,r.xMin,r.xMax,null,null,r.yMin,r.yMax)):null},t.Chart.prototype._processScrollbarEvent=function(e,i,r,a){return this._lastScrollbarEvent||t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._animateScrollbarEvent)),this._lastScrollbarEvent={start:e,end:i,actionDone:r,source:a},null},t.Chart.prototype._animateScrollbarEvent=function(){var e=this._lastScrollbarEvent.start,i=this._lastScrollbarEvent.end,r=this._lastScrollbarEvent.actionDone,a=this._lastScrollbarEvent.source;this._lastScrollbarEvent=null;var n=a==this.yScrollbar?this.yAxis:this.xAxis,s=J.getActualMinMax(n,e,i);if(e=s.min,i=s.max,(J.isLiveScroll(this)||r)&&(a==this.yScrollbar?this._setViewport({yMin:e,yMax:i},r):this._setViewport({xMin:e,xMax:i,unchanged:s.unchanged},r)),r||!s.unchanged){var o;if(a==this.yScrollbar)o=t.EventFactory.newChartViewportChangeEvent(r,null,null,null,null,e,i,null,null);else{var l=J.getAxisStartEndGroup(this.xAxis,e,i);o=t.EventFactory.newChartViewportChangeEvent(r,e,i,l.startGroup,l.endGroup,null,null,null,null)}this.dispatchEvent(o)}},t.Chart.prototype._updateOverviewSelection=function(){if(this.overview){var t=this.overview.getBackgroundChart();t.getOptions().selection=Q.getCurrentSelection(this),t.render()}},t.Chart.prototype.changeOption=function(e,i,r){this.getOptions()[e]=i,this.dispatchEvent(t.EventFactory.newOptionChangeEvent(e,i,r))},t.Chart.prototype.registerObject=function(t){this.Peers.push(t)},t.Chart.prototype.getObjects=function(){return this.Peers},t.Chart.prototype.getChartObjPeers=function(){for(var t=[],e=0;e<this.Peers.length;e++)this.Peers[e]instanceof a&&t.push(this.Peers[e]);return t},t.Chart.prototype.getRefObjPeers=function(){for(var t=[],e=0;e<this.Peers.length;e++)this.Peers[e]instanceof n&&t.push(this.Peers[e]);return t},t.Chart.prototype.getObject=function(t,e){for(var i=0;i<this.Peers.length;i++)if(this.Peers[i]instanceof a&&this.Peers[i].getSeriesIndex()==t&&this.Peers[i].getGroupIndex()==e)return this.Peers[i];return null},t.Chart.prototype.getWidth=function(){return this.Width},t.Chart.prototype.getHeight=function(){return this.Height},t.Chart.prototype.getSeriesStyleArray=function(){return this.SeriesStyleArray},t.Chart.prototype.getPlotArea=function(){return this._plotArea},t.Chart.prototype.setPlotArea=function(t){this._plotArea=t},t.Chart.prototype.getType=function(){return this.getOptions().type},t.Chart.prototype.getSkin=function(){return this.getOptions().skin},t.Chart.prototype.getGapWidthRatio=function(){var t=this.getOptions();return null!==t.layout.gapWidthRatio?t.layout.gapWidthRatio:Math.min(this.Width/400,1)},t.Chart.prototype.getGapHeightRatio=function(){var t=this.getOptions();return null!==t.layout.gapHeightRatio?t.layout.gapHeightRatio:Math.min(this.Height/300,1)},t.Chart.prototype.getSelectionHandler=function(){return this._selectionHandler},t.Chart.prototype.isSelectionSupported=function(){return!!this._selectionHandler},t.Chart.prototype._setViewport=function(t,e){!e&&t.unchanged||(null!=t.xMax&&(this.Options.xAxis.viewportMax=t.xMax),null!=t.xMin&&(this.Options.xAxis.viewportMin=t.xMin),at.isBLAC(this)?(this.Options.xAxis.viewportStartGroup=null,this.Options.xAxis.viewportEndGroup=null,this.Options._initialZoomed=!1):(null!=t.yMax&&(this.Options.yAxis.viewportMax=t.yMax),null!=t.yMin&&(this.Options.yAxis.viewportMin=t.yMin)),this.Options._duringZoomAndScroll=!e,ut.rerenderAxisAndPlotArea(this,this._container))},t.Chart.prototype._setScrollbarViewport=function(t){if(this.xAxis&&null!=t.xMin&&null!=t.xMax){var e=this.xAxis.actualToLinear(t.xMin),i=this.xAxis.actualToLinear(t.xMax);this.overview&&this.overview.setViewportRange(e,i),this.xScrollbar&&this.xScrollbar.setViewportRange(e,i)}if(this.yAxis&&null!=t.yMin&&null!=t.yMax){var r=this.yAxis.actualToLinear(t.yMin),a=this.yAxis.actualToLinear(t.yMax);this.yScrollbar&&this.yScrollbar.setViewportRange(r,a)}},t.Chart.prototype.__setAxisSpace=function(t){var e,i;this._axisSpace=t,q.isAxisRendered(this,"x")?(e=.8*t.w,i=t.h-4*q.getTickLabelHeight(this,"x")):q.isAxisRendered(this,"y")?(e=t.w,i=t.h-q.getTickLabelHeight(this,"y")):(e=t.w,i=t.h),this._radius=Math.min(e,i)/2},t.Chart.prototype.__getAxisSpace=function(){return this._axisSpace},t.Chart.prototype.__setPlotAreaSpace=function(t){this._plotAreaSpace=t},t.Chart.prototype.__getPlotAreaSpace=function(){return this._plotAreaSpace},t.Chart.prototype.__setAreaContainer=function(t){this._areaContainer=t},t.Chart.prototype.__getAreaContainer=function(){return this._areaContainer},t.Chart.prototype.getRadius=function(){return this._radius},t.Chart.prototype.showDragButtons=function(){this.dragButtons&&this.dragButtons.setVisible(!0)},t.Chart.prototype.hideDragButtons=function(){this.dragButtons&&this.dragButtons.setVisible(!1)},t.Chart.prototype.addDataLabel=function(t){this.getDataLabels().push(t)},t.Chart.prototype.getDataLabels=function(){return this._dataLabels||(this._dataLabels=[]),this._dataLabels},t.Chart.prototype.__cacheChartFocus=function(){var t=this.EventManager.getFocus();if(t)var e=t.isShowingKeyboardFocusEffect();if(this.xAxis){var i=this.xAxis.getKeyboardFocus();if(i)var r=i.isShowingKeyboardFocusEffect()}if(this.legend){var a=this.legend.getKeyboardFocus();if(a)var n=a.isShowingKeyboardFocusEffect()}return{chartFocus:t,chartShowingFocusEffect:e,axisFocus:i,axisShowingFocusEffect:r,legendFocus:a,legendShowingFocusEffect:n}},t.Chart.prototype.__restoreChartFocus=function(t){if(!at.isOverview(this)&&!at.isSpark(this)){var e=[this];if(this.xAxis&&this.xAxis.isNavigable()&&e.push(this.xAxis),this.legend&&this.legend.isNavigable()&&e.push(this.legend),this.getCtx().setKeyboardFocusArray(e),t.chartFocus){for(var i=J.getKeyboardNavigables(this),r=!1,a=0;a<i.length;a++){var n=i[a].id;if(n instanceof s&&n.equals(t.chartFocus.getId())){this.EventManager.setFocusObj(i[a]),t.chartShowingFocusEffect&&i[a].showKeyboardFocusEffect(),r=!0;break}}r||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(i))}t.axisFocus&&(this.xAxis.setKeyboardFocus(t.axisFocus,t.axisShowingFocusEffect),t.axisShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.xAxis)),t.legendFocus&&(this.legend.setKeyboardFocus(t.legendFocus,t.legendShowingFocusEffect),t.legendShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.legend))}},t.Chart.prototype.getRawOptions=function(){return this._rawOptions};var e=function(t){this._chart=t,this._options=this._chart.getOptions(),this._legend=this._chart.legend,this._xAxis=this._chart.xAxis,this._yAxis=this._chart.yAxis,this._y2Axis=this._chart.y2Axis,this._legendAutomation=this._legend?this._legend.getAutomation():null,this._xAxisAutomation=this._xAxis?this._xAxis.getAutomation():null,this._yAxisAutomation=this._yAxis?this._yAxis.getAutomation():null,this._y2AxisAutomation=this._y2Axis?this._y2Axis.getAutomation():null};t.Obj.createSubclass(e,t.Automation),e.PLOT_AREA_SUBID="plotArea",e.PIE_CENTER_LABEL_SUBID="pieCenterLabel",e.prototype.GetSubIdForDomElement=function(i){var r=null;if(i.isDescendantOf(this._xAxis))return(r=this._xAxisAutomation.GetSubIdForDomElement(i))?this._convertAxisSubIdToChartSubId(r,"xAxis"):null;if(i.isDescendantOf(this._yAxis))return(r=this._yAxisAutomation.GetSubIdForDomElement(i))?this._convertAxisSubIdToChartSubId(r,"yAxis"):null;if(i.isDescendantOf(this._y2Axis))return(r=this._y2AxisAutomation.GetSubIdForDomElement(i))?this._convertAxisSubIdToChartSubId(r,"y2Axis"):null;if(i.isDescendantOf(this._legend)){var s=this._legendAutomation.GetSubIdForDomElement(i);return s?this._convertLegendSubIdToChartSubId(s):null}var o=this._chart.getEventManager().GetLogicalObject(i);if(!o)return null;if(o instanceof t.SimpleObjPeer){var l=o.getParams().type;if("pieCenterLabel"==l)return e.PIE_CENTER_LABEL_SUBID;if("plotArea"==l)return e.PLOT_AREA_SUBID}if(o instanceof F)return"dataItem["+o.getSeriesIndex()+"]";if(o instanceof a){var h=o.getSeriesIndex(),u=o.getGroupIndex();if(null!=h&&u>=0&&("funnel"!=this._options.type||"pyramid"!=this._options.type))return"dataItem["+h+"]["+u+"]";if(null!=h&&u==pt._GROUP_INDEX&&("funnel"==this._options.type||"pyramid"==this._options.type))return"dataItem["+h+"]";if(null!=h&&(null==u||u<0))return"series["+h+"]"}else if(o instanceof n){var g=o.getAxisType(),d=o.getIndex();return g&&d>=0?g+":referenceObject["+d+"]":null}return null},e.prototype._convertLegendSubIdToChartSubId=function(t){var e=this._legend.getOptions(),i=this._legendAutomation.getLegendItem(e,t);if(i){for(var r=0;r<this._options.series.length;r++){if(this._options.series[r].name==i.text)return"series["+r+"]"}return"legend:"+t}return null},e.prototype._convertAxisSubIdToChartSubId=function(t,e){if("title"==t&&e)return e+":"+t;var i=t.substring(t.indexOf("["));return i?"group"+i:null},e.prototype.getDomElementForSubId=function(i){if(i==t.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._chart,rt.isDataCursorEnabled(this._chart)?w.TOOLTIP_ID:null);if(i==e.PIE_CENTER_LABEL_SUBID)return this._chart.pieChart.getCenterLabel().getElem();if(i==e.PLOT_AREA_SUBID)return this._chart.getPlotArea().getElem();var r,a,n,s=i.indexOf("["),o=i.indexOf("]"),l=i.indexOf(":");if(s>0&&o>0||l>0){var h=l<0?i.substring(0,s):i.substring(0,l);if("group"==h)return this._xAxisAutomation.getDomElementForSubId(i);if("series"==h)return i=this._convertToLegendSubId(i),this._legendAutomation.getDomElementForSubId(i);if("legend"==i.substring(0,l))return i=i.substring(l+1),this._legendAutomation.getDomElementForSubId(i);var u,g=i.substring(s+1,o);if("xAxis"==h||"yAxis"==h||"y2Axis"==h){var d=i.substring(l+1);if("title"==d){if("xAxis"==h)return this._xAxisAutomation.getDomElementForSubId(d);if("yAxis"==h)return this._yAxisAutomation.getDomElementForSubId(d);if("y2Axis"==h)return this._y2AxisAutomation.getDomElementForSubId(d)}else if(r=d.indexOf("["),a=d.indexOf("]"),"referenceObject"==d.substring(0,r)){var c=d.substring(r+1,a);if(n=this._getRefObjPeer(c))return n.getDisplayables()[0].getElem()}}if("pie"==this._options.type){var p=this._chart.pieChart.getSliceDisplayable(g);if(p)return p.getElem()}if("funnel"==this._options.type?u=pt._GROUP_INDEX:"pyramid"==this._options.type?u=_t._GROUP_INDEX:(r=(i=i.substring(o+1)).indexOf("["),a=i.indexOf("]"),r>=0&&a>=0&&(u=i.substring(r+1,a))),n=this._getChartObjPeer(g,u))return n.getDisplayables()[0].getElem()}return null},e.prototype._getChartObjPeer=function(t,e){for(var i=this._chart.getChartObjPeers(),r=0;r<i.length;r++){var a=i[r].getSeriesIndex(),n=i[r].getGroupIndex();if(a==t&&n==e)return i[r]}return null},e.prototype._getRefObjPeer=function(t){for(var e=this._chart.getRefObjPeers(),i=0;i<e.length;i++)if(t==e[i].getIndex())return e[i];return null},e.prototype._convertToLegendSubId=function(t){var e=t.indexOf("["),i=t.indexOf("]"),r=t.substring(e+1,i),a=this._legend.getOptions(),n=this._options.series[r];return"section"+this._legendAutomation.getIndicesFromSeries(n,a)},e.prototype.getDataItem=function(t,e){"pie"!=this._options.type&&"funnel"!=this._options.type&&"pyramid"!=this._options.type||(e=0);var i=Q.getDataItem(this._chart,t,e);return i?{borderColor:et.getBorderColor(this._chart,t,e),color:et.getColor(this._chart,t,e),label:Q.getDataLabel(this._chart,t,e),targetValue:Q.getTargetValue(this._chart,t,e),tooltip:rt.getDatatip(this._chart,t,e,null,!1),value:Q.getValue(this._chart,t,e),open:i.open,close:i.close,high:Q.getHighValue(this._chart,t,e),low:Q.getLowValue(this._chart,t,e),volume:i.volume,x:Q.getXValue(this._chart,t,e),y:i.y,z:i.z,min:i.min,max:i.max,group:Q.getGroup(this._chart,e),series:Q.getSeries(this._chart,t),selected:Q.isDataSelected(this._chart,t,e)}:null},e.prototype.getGroup=function(t){return Q.getGroup(this._chart,t)},e.prototype.getSeries=function(t){return this._options.series[t].name},e.prototype.getGroupCount=function(){return Q.getGroupCount(this._chart)},e.prototype.getSeriesCount=function(){return this._options.series.length},e.prototype.getTitle=function(){return this._options.title.text},e.prototype.getLegend=function(){var e=this._legend.__getBounds(),i=this._legend.localToStage(new t.Point(e.x,e.y));return{bounds:{x:i.x,y:i.y,width:e.w,height:e.h},title:this._legend.getOptions().title}},e.prototype.getPlotArea=function(){var t=this._chart.__getPlotAreaSpace();return{bounds:{x:t.x,y:t.y,width:t.w,height:t.h}}},e.prototype.getXAxis=function(){return this._getAxis("x")},e.prototype.getYAxis=function(){return this._getAxis("y")},e.prototype.getY2Axis=function(){return this._getAxis("y2")},e.prototype._getAxis=function(e){var i="x"==e?this._xAxis:"y"==e?this._yAxis:this._y2Axis;if(i){var r=i.__getBounds(),a=i.localToStage(new t.Point(r.x,r.y)),n={x:a.x,y:a.y,width:r.w,height:r.h},s=this._chart;return{bounds:n,title:this._options[e+"Axis"].title,getPreferredSize:function(t,r){var a,n=i.getOptions(),o=n.position,l=q.getTickLabelGapSize(s,e),h=at.isStandaloneXAxis(s)||at.isStandaloneYAxis(s)||at.isStandaloneY2Axis(s)?2:0;return"top"==o||"bottom"==o?(a=i.getPreferredSize(n,t,r-l-h)).h=Math.ceil(a.h+l+h):(a=i.getPreferredSize(n,t-l-h,r)).w=Math.ceil(a.w+l+h),{width:a.w,height:a.h}}}}return null},t.Automation.prototype.IsTooltipElement=function(e){var i=e.getAttribute("id");return!(!i||0!=i.indexOf(w.TOOLTIP_ID)&&0!=i.indexOf(t.HtmlTooltipManager._TOOLTIP_DIV_ID))};var i=function(e){i.superclass.Init.call(this,e.getCtx(),e.processEvent,e,e),this._chart=e,this._dragMode=null,this._dragButtonsVisible=t.Agent.isTouchDevice(),this.panButton=null,this.zoomButton=null,this.selectButton=null,this._dataCursorHandler=null,this._panZoomHandler=null,this._marqueeZoomHandler=null,this._marqueeSelectHandler=null};t.Obj.createSubclass(i,t.EventManager),i.DRAG_MODE_PAN="pan",i.DRAG_MODE_ZOOM="zoom",i.DRAG_MODE_SELECT="select",i.DRAG_MODE_OFF="off",i.prototype.addListeners=function(e){t.SvgDocumentUtils.addDragListeners(this._chart,this._onDragStart,this._onDragMove,this._onDragEnd,this),i.superclass.addListeners.call(this,e),t.Agent.isTouchDevice()||e.addEvtListener(t.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)},i.prototype.RemoveListeners=function(e){i.superclass.RemoveListeners.call(this,e),t.Agent.isTouchDevice()||e.removeEvtListener(t.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)},i.prototype.getLogicalObject=function(t){return this.GetLogicalObject(t,!0)},i.prototype._getDragHandler=function(t){return t&&"user"==this._chart.getOptions().dragMode&&at.isBLAC(this._chart)&&(this._dragMode==i.DRAG_MODE_PAN||this._dragMode==i.DRAG_MODE_ZOOM)&&(this._panZoomHandler&&this._panZoomHandler.isWithinBounds(t)?this._dragMode=i.DRAG_MODE_PAN:this._dragMode=i.DRAG_MODE_ZOOM),this._dragMode==i.DRAG_MODE_PAN?this._panZoomHandler:this._dragMode==i.DRAG_MODE_ZOOM?this._marqueeZoomHandler:this._dragMode==i.DRAG_MODE_SELECT?this._marqueeSelectHandler:null},i.prototype._onDragStart=function(e){return t.Agent.isTouchDevice()?this._onTouchDragStart(e):this._onMouseDragStart(e)},i.prototype._onDragMove=function(e){return t.Agent.isTouchDevice()?this._onTouchDragMove(e):this._onMouseDragMove(e)},i.prototype._onDragEnd=function(e){return t.Agent.isTouchDevice()?this._onTouchDragEnd(e):this._onMouseDragEnd(e)},i.prototype._onMouseDragStart=function(t){var e,i=this._context.pageToStageCoords(t.pageX,t.pageY),r=this._getDragHandler(i),a=this.GetLogicalObject(t.target);return!(a&&a.isSelectable&&a.isSelectable())&&0==t.button&&r&&((e=r.processDragStart(i,t.ctrlKey))&&this._callback.call(this._callbackObj,e),this._chart.setCursor(r.getCursor(i)),this.setDragButtonsVisible(!1),this._chart!=this.getCtx().getCurrentKeyboardFocus()&&this.getCtx().setCurrentKeyboardFocus(this._chart)),!!e&&(this._dataCursorHandler&&this._dataCursorHandler.processEnd(),!0)},i.prototype._onMouseDragMove=function(t){var e,i=this._context.pageToStageCoords(t.pageX,t.pageY),r=this._getDragHandler();r&&(e=r.processDragMove(i,t.ctrlKey))&&(this._callback.call(this._callbackObj,e),this.setDragButtonsVisible(!1)),e&&t.stopPropagation()},i.prototype._onMouseDragEnd=function(t){var e,i=this._context.pageToStageCoords(t.pageX,t.pageY),r=this._getDragHandler();if(r){(e=r.processDragEnd(i,t.ctrlKey))&&(this._callback.call(this._callbackObj,e),this.autoToggleZoomButton()),this._chart.setCursor(r.getCursor(i));var a=this._chart.__getAxisSpace();a&&this.setDragButtonsVisible(a.containsPoint(i.x,i.y))}},i.prototype.OnMouseMove=function(e){i.superclass.OnMouseMove.call(this,e);var r=this._context.pageToStageCoords(e.pageX,e.pageY);this._dataCursorHandler&&(this.GetLogicalObjectAndDisplayable(e.target).displayable instanceof t.Button?this._dataCursorHandler.processEnd():this._dataCursorHandler.processMove(r));var a=this._getDragHandler(r);a?this._chart.setCursor(a.getCursor(r)):this._chart.setCursor("default")},i.prototype.OnMouseOut=function(t){i.superclass.OnMouseOut.call(this,t);var e=this._context.pageToStageCoords(t.pageX,t.pageY),r=this._chart.__getAxisSpace();r&&this.setDragButtonsVisible(r.containsPoint(e.x,e.y)),this._dataCursorHandler&&this._dataCursorHandler.processOut(e);this.GetLogicalObject(t.target)},i.prototype.OnMouseWheel=function(t){if(J.isZoomable(this._chart)){var e=null!=t.wheelDelta?t.wheelDelta:0,i=this._context.pageToStageCoords(t.pageX,t.pageY);if(this._panZoomHandler){var r=this._panZoomHandler.processMouseWheel(i,e);r&&(t.preventDefault(),t.stopPropagation(),this._callback.call(this._callbackObj,r),this._dataCursorHandler&&this._dataCursorHandler.processMove(i))}}},i.prototype.ShowFocusEffect=function(e,r){if(this._dataCursorHandler){var a=r.getDataPosition();if(a){var n=this._chart.__getPlotAreaSpace();this._dataCursorHandler.processMove(new t.Point(a.x+n.x,a.y+n.y))}}i.superclass.ShowFocusEffect.call(this,e,r)},i.prototype.OnBlur=function(t){this._dataCursorHandler&&this._dataCursorHandler.processEnd(),i.superclass.OnBlur.call(this,t)},i.prototype.OnClickInternal=function(t){var e=this.GetLogicalObject(t.target),i=this._context.pageToStageCoords(t.pageX,t.pageY);this.SeriesFocusHandler&&this.SeriesFocusHandler.processSeriesFocus(i,e),e&&(e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},i.prototype.OnDblClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&e.isSelectable&&e.isSelectable()&&this.processDrillEvent(e)},i.prototype.HandleTouchHoverStartInternal=function(t){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var e=this._context.pageToStageCoords(t.touch.pageX,t.touch.pageY);return this._dataCursorHandler.processMove(e),!1}var i=this.GetLogicalObject(t.target);return this.TouchManager.setTooltipEnabled(t.touch.identifier,this.getTooltipsEnabled(i)),!1},i.prototype.HandleTouchHoverMoveInternal=function(t){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var e=this._context.pageToStageCoords(t.touch.pageX,t.touch.pageY);return this._dataCursorHandler.processMove(e),!1}var i=this.GetLogicalObject(t.target);return this.TouchManager.setTooltipEnabled(t.touch.identifier,this.getTooltipsEnabled(i)),!1},i.prototype.HandleTouchHoverEndInternal=function(t){this.endDrag();var e=this.GetLogicalObject(t.target);e&&(e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},i.prototype.HandleTouchClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&(e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},i.prototype.HandleTouchDblClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&e.isSelectable&&e.isSelectable()&&(t.preventDefault(),t.stopPropagation(),this.processDrillEvent(e))},i.prototype.processDrillEvent=function(e){if(e&&e.isDrillable&&e.isDrillable()){var i=e.getId();e instanceof a?this.FireEvent(t.EventFactory.newChartDrillEvent(null!=i.id?i.id:i,e.getSeries(),e.getGroup())):e instanceof F&&this.FireEvent(t.EventFactory.newChartDrillEvent(i.id,i.series,i.group))}},i.prototype.ProcessRolloverEvent=function(e,i,r){var a=this._chart.getOptions();if("dim"==J.getHoverBehavior(this._chart)){var n=i.getCategories?i.getCategories():[];a.highlightedCategories=r?n.slice():null;var s=t.EventFactory.newCategoryHighlightEvent(a.highlightedCategories,r),o=et.getHoverBehaviorDelay(this._chart),l=this._chart.getObjects();this._chart.pieChart&&(l=l.concat(this._chart.pieChart.__getSlices())),this.RolloverHandler.processEvent(s,l,o,"any"==a.highlightMatch)}},i.prototype._onTouchDragStart=function(t){var e,i,r=t.touches;if(1==r.length){var a=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),n=this._getDragHandler();n?e=n.processDragStart(a,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(a),i=!0)}else if(2==r.length&&this._panZoomHandler&&J.isZoomable(this._chart)){this.endDrag();var s=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);e=this._panZoomHandler.processPinchStart(s,o)}return e&&(this._callback.call(this._callbackObj,e),this.getCtx().getTooltipManager().hideTooltip()),!(!e&&!i)&&(t.preventDefault(),t.stopPropagation(),this.setDragButtonsVisible(!1),!0)},i.prototype._onTouchDragMove=function(t){var e,i,r=t.touches;if(1==r.length){var a=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),n=this._getDragHandler();n?e=n.processDragMove(a,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(a),i=!0)}else if(2==r.length&&this._panZoomHandler&&J.isZoomable(this._chart)){var s=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);e=this._panZoomHandler.processPinchMove(s,o)}(e||i)&&t.preventDefault(),e&&(this._callback.call(this._callbackObj,e),this.getCtx().getTooltipManager().hideTooltip())},i.prototype._onTouchDragEnd=function(t){var e,i=this.endDrag();if(this._panZoomHandler&&J.isZoomable(this._chart)&&(e=this._panZoomHandler.processPinchEnd())&&this._callback.call(this._callbackObj,e),i||e){t.preventDefault(),this.getCtx().getTooltipManager().hideTooltip();var r=this.getTouchManager(),a=1==t.changedTouches.length?t.changedTouches[0].identifier:null,n=null!=a?r.getTouchInfo(a):null;n&&!n.touchMoved||r.reset()}this.setDragButtonsVisible(!0)},i.prototype.endDrag=function(){var t,e=this._getDragHandler();return e&&(t=e.processDragEnd(null,!0)),this._dataCursorHandler&&this._dataCursorHandler.processEnd(),t&&this._callback.call(this._callbackObj,t),t},i.prototype.zoomBy=function(t){if(this._panZoomHandler&&J.isZoomable(this._chart)){var e=this._panZoomHandler.zoomBy(t);e&&this._callback.call(this._callbackObj,e)}},i.prototype.panBy=function(t,e){if(this._panZoomHandler&&J.isScrollable(this._chart)){var i=this._panZoomHandler.panBy(t,e);i&&this._callback.call(this._callbackObj,i)}},i.prototype.hideHoverFeedback=function(){this.hideTooltip(),this._dataCursorHandler&&this._dataCursorHandler.processEnd()},i.prototype.hideTooltip=function(){this._dataCursorHandler&&this._dataCursorHandler.isDataCursorShown()||i.superclass.hideTooltip.call(this)},i.prototype.getTooltipsEnabled=function(t){return(!this._dataCursorHandler||!(t instanceof a||t instanceof n||this._dataCursorHandler.isDataCursorShown()))&&i.superclass.getTooltipsEnabled.call(this)},i.prototype.getDataCursorHandler=function(){return this._dataCursorHandler},i.prototype.setDataCursorHandler=function(t){this._dataCursorHandler=t},i.prototype.setPanZoomHandler=function(t){this._panZoomHandler=t},i.prototype.setMarqueeZoomHandler=function(t){this._marqueeZoomHandler=t},i.prototype.setMarqueeSelectHandler=function(t){this._marqueeSelectHandler=t},i.prototype.getMarqueeGlassPane=function(){return this._dragMode==i.DRAG_MODE_ZOOM?this._marqueeZoomHandler.getGlassPane():this._dragMode==i.DRAG_MODE_SELECT?this._marqueeSelectHandler.getGlassPane():null},i.prototype.cancelMarquee=function(t){this._dragMode==i.DRAG_MODE_ZOOM?this._marqueeZoomHandler.cancelMarquee()&&t.preventDefault():this._dragMode==i.DRAG_MODE_SELECT&&this._marqueeSelectHandler&&this._marqueeSelectHandler.cancelMarquee()&&this._chart.render()},i.prototype.getDragMode=function(){return this._dragMode},i.prototype.setDragMode=function(t){this._dragMode=null==t?this._getDefaultDragMode():t,!this._chart.xAxis.isFullViewport()||this._chart.yAxis&&!this._chart.yAxis.isFullViewport()||this.autoToggleZoomButton()},i.prototype._getDefaultDragMode=function(){return t.Agent.isTouchDevice()?i.DRAG_MODE_OFF:J.isScrollable(this._chart)?i.DRAG_MODE_PAN:"multiple"==this._chart.getOptions().selectionMode?i.DRAG_MODE_SELECT:null},i.prototype.onZoomButtonClick=function(t){this.zoomButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(i.DRAG_MODE_ZOOM)):this.setDragMode(null)},i.prototype.onPanButtonClick=function(t){this.panButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(i.DRAG_MODE_PAN)):this.setDragMode(null)},i.prototype.onSelectButtonClick=function(t){this.selectButton.isToggled()?(this.zoomButton&&this.zoomButton.setToggled(!1),this.panButton&&this.panButton.setToggled(!1),this.setDragMode(i.DRAG_MODE_SELECT)):this.setDragMode(null)},i.prototype.setDragButtonsVisible=function(t){t&&!this._dragButtonsVisible?(this._chart.showDragButtons(),this._dragButtonsVisible=!0):!t&&this._dragButtonsVisible&&(this._chart.hideDragButtons(),this._dragButtonsVisible=!1)},i.prototype.areDragButtonsVisible=function(){return this._dragButtonsVisible},i.prototype.autoToggleZoomButton=function(){!t.Agent.isTouchDevice()&&this.zoomButton&&(this._chart.xAxis.isFullViewport()&&this._chart.yAxis.isFullViewport()?this._dragMode==i.DRAG_MODE_PAN&&(this.zoomButton.setToggled(!0),this.onZoomButtonClick(null)):this._dragMode==i.DRAG_MODE_ZOOM&&(this.zoomButton.setToggled(!1),this.onZoomButtonClick(null)))},i.prototype.GetTouchResponse=function(){return this._dragMode&&this._dragMode!=i.DRAG_MODE_OFF?t.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:this._chart.getOptions().touchResponse},i.prototype.isDndSupported=function(){return!0},i.prototype.GetDragSourceType=function(t){var e=this.DragSource.getDragObject();return e instanceof a&&e.getSeriesIndex()>=0&&e.getGroupIndex()>=0||e instanceof F?"items":null},i.prototype.GetDragDataContexts=function(){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var t=this._chart.getSelectionHandler().getSelection(),e=[],i=0;i<t.length;i++){var r=Q.getDataContext(this._chart,t[i].getSeriesIndex(),t[i].getGroupIndex(),t[i].getNestedDataItemIndex());e.push(r)}return e}var n=this.DragSource.getDragObject();return n instanceof a?[Q.getDataContext(this._chart,n.getSeriesIndex(),n.getGroupIndex(),n.getNestedDataItemIndex())]:n instanceof F?[Q.getDataContext(this._chart,n.getSeriesIndex(),0)]:null},i.prototype.GetDropOffset=function(e){var i=this.DragSource.getDragObject();if(i instanceof a){var r=i.getDataPosition();if(r){r=this._chart.getPlotArea().localToStage(r);var n=this._context.pageToStageCoords(e.pageX,e.pageY);return new t.Point(r.x-n.x,r.y-n.y)}}return null},i.prototype.GetDropTargetType=function(t){var e=this._context.pageToStageCoords(t.pageX,t.pageY),i=this._chart.getOptions().dnd.drop,r=this._chart.__getPlotAreaSpace();return Object.keys(i.plotArea).length>0&&r.containsPoint(e.x,e.y)?"plotArea":Object.keys(i.xAxis).length>0&&q.isAxisRendered(this._chart,"x")&&q.axisContainsPoint(this._chart.xAxis,e)?"xAxis":Object.keys(i.yAxis).length>0&&q.isAxisRendered(this._chart,"y")&&q.axisContainsPoint(this._chart.yAxis,e)?"yAxis":Object.keys(i.y2Axis).length>0&&q.isAxisRendered(this._chart,"y2")&&q.axisContainsPoint(this._chart.y2Axis,e)?"y2Axis":null},i.prototype.GetDropEventPayload=function(e){var i=e.getNativeEvent().dataTransfer,r=Number(i.getData(t.EventManager.DROP_OFFSET_X_DATA_TYPE))||0,a=Number(i.getData(t.EventManager.DROP_OFFSET_Y_DATA_TYPE))||0,n=this._context.pageToStageCoords(e.pageX,e.pageY);return this._chart.getValuesAt(n.x+r,n.y+a)},i.prototype.ShowDropEffect=function(t){var e=this._getDropObject(t);e&&(e.setClassName("oj-active-drop"),e.setSolidFill(this._chart.getOptions()._dropColor))},i.prototype.ClearDropEffect=function(){var e=this._chart.getCache().getFromCache("plotAreaBackground");if(e){var i=et.getBackgroundColor(this._chart);i?e.setSolidFill(i):e.setInvisibleFill(),t.ToolkitUtils.removeClassName(e.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(e.getElem(),"oj-active-drop")}var r=function(e){if(e){var i=e.getCache().getFromCache("background");i&&(i.setInvisibleFill(),t.ToolkitUtils.removeClassName(i.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(i.getElem(),"oj-active-drop"))}};r(this._chart.xAxis),r(this._chart.yAxis),r(this._chart.y2Axis)},i.prototype.ShowRejectedDropEffect=function(t){var e=this._getDropObject(t);e&&e.setClassName("oj-invalid-drop")},i.prototype._getDropObject=function(t){var e,i=this.GetDropTargetType(t);return"plotArea"==i?e=this._chart.getCache().getFromCache("plotAreaBackground"):"xAxis"==i?e=this._chart.xAxis.getCache().getFromCache("background"):"yAxis"==i?e=this._chart.yAxis.getCache().getFromCache("background"):"y2Axis"==i&&(e=this._chart.y2Axis.getCache().getFromCache("background")),e},i.prototype.isClearMenuAllowed=function(t){return t&&t.getParams&&"plotArea"==t.getParams().type};var r=function(t,e){this.Init(t,e)};t.Obj.createSubclass(r,t.KeyboardHandler),r.prototype.Init=function(t,e){r.superclass.Init.call(this,t),this._chart=e},r.prototype.isSelectionEvent=function(t){return this.isNavigationEvent(t)&&!t.ctrlKey},r.prototype.isMultiSelectEvent=function(e){return e.keyCode==t.KeyboardEvent.SPACE&&e.ctrlKey},r.prototype.processKeyDown=function(e){var i=e.keyCode;if(i==t.KeyboardEvent.TAB){if(n=this._eventManager.getFocus())return t.EventManager.consumeEvent(e),n;var a=J.getKeyboardNavigables(this._chart);if(a.length>0)return t.EventManager.consumeEvent(e),this.getDefaultNavigable(a)}else if(i==t.KeyboardEvent.ENTER){var n;if(n=this._eventManager.getFocus())return this._eventManager.processDrillEvent(n),t.EventManager.consumeEvent(e),n}else i==t.KeyboardEvent.ESCAPE?this._eventManager.cancelMarquee(e):i==t.KeyboardEvent.PAGE_UP?((e.ctrlKey||e.shiftKey||at.isBLAC(this._chart))&&at.isVertical(this._chart)?this._eventManager.panBy(-.25,0):this._eventManager.panBy(0,-.25),t.EventManager.consumeEvent(e)):i==t.KeyboardEvent.PAGE_DOWN?((e.ctrlKey||e.shiftKey||at.isBLAC(this._chart))&&at.isVertical(this._chart)?this._eventManager.panBy(.25,0):this._eventManager.panBy(0,.25),t.EventManager.consumeEvent(e)):t.KeyboardEvent.isEquals(e)||t.KeyboardEvent.isPlus(e)?this._eventManager.zoomBy(1.5):(t.KeyboardEvent.isMinus(e)||t.KeyboardEvent.isUnderscore(e))&&this._eventManager.zoomBy(1/1.5);return r.superclass.processKeyDown.call(this,e)},r.prototype.getDefaultNavigable=function(t){if(!t||t.length<=0)return null;for(var e,i,r,a,n=at.isPie(this._chart),s=0;s<t.length;s++)a=t[s],!e||a.getSeriesIndex()<i?(e=a,i=a.getSeriesIndex(),n||(r=a.getGroupIndex())):!n&&a.getGroupIndex()<r&&(e=a,i=a.getSeriesIndex(),r=a.getGroupIndex());return e};var a=function(t,e,i,r,a,n){this.Init(t,e,i,r,a,n)};t.Obj.createSubclass(a,t.Obj),a.prototype.Init=function(e,i,r,a,n,s){if(this._chart=e,this._displayables=i,this._seriesIndex=null!=r&&r>=0?r:-1,this._groupIndex=null!=a&&a>=0?a:-1,this._itemIndex=null!=n&&n>=0?n:-1,this._dataPos=s,this._isSelected=!1,this._isShowingKeyboardFocusEffect=!1,this._series=Q.getSeries(e,r),this._group=Q.getGroup(e,a),this._categories=Q.getCategories(e,r,a,n),-1!=this._itemIndex)this._dataItemId=Q.getNestedDataItemId(e,r,a,n),this._drillable=J.isDataItemDrillable(e,r,a,n);else if(-1!=this._groupIndex){Q.getDataItem(e,r,a)&&(this._dataItemId=Q.getDataItemId(e,r,a),this._drillable=J.isDataItemDrillable(e,r,a))}else{Q.getSeriesItem(e,r)&&(this._drillable=J.isSeriesDrillable(e,r))}if(this._drillable)for(var o=0;o<this._displayables.length;o++)this._displayables[o].setCursor(t.SelectionEffectUtils.getSelectingCursor());for(var l=0;l<i.length;l++){var h=i[l];h instanceof O||h.setAriaRole("img"),this._updateAriaLabel(h)}},a.associate=function(t,e,i,r,n,s){if(t&&!e.getOptions()._duringZoomAndScroll){var o=new a(e,[t],i,r,n,s);e.registerObject(o),e.getEventManager().associate(t,o)}},a.prototype.getId=function(){return this._seriesIndex>=0&&this._groupIndex>=0?new s(this._dataItemId,this.getSeries(),this.getGroup(),this._chart.getCtx()):this._seriesIndex>=0?this.getSeries():null},a.prototype.getDataItemId=function(){return this._dataItemId},a.prototype.getNestedDataItemIndex=function(){return this._itemIndex},a.prototype.getSeries=function(){return this._series},a.prototype.getSeriesIndex=function(){return this._seriesIndex},a.prototype.getGroup=function(){return this._group},a.prototype.getGroupIndex=function(){return this._groupIndex},a.prototype.isDrillable=function(){return this._drillable},a.prototype.isDoubleClickable=function(){return this.isSelectable()&&this.isDrillable()},a.prototype.getChart=function(){return this._chart},a.prototype.getDatatip=function(t){return rt.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!0)},a.prototype.getDatatipColor=function(){return rt.getDatatipColor(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex)},a.prototype.isSelectable=function(){return et.isSelectable(this.getChart(),this.getSeriesIndex(),this.getGroupIndex())},a.prototype.isSelected=function(){return this._isSelected},a.prototype.setSelected=function(t){this._isSelected=t;for(var e=0;e<this._displayables.length;e++)this._displayables[e].setSelected&&(this._displayables[e].setSelected(t),this._updateAriaLabel(this._displayables[e]))},a.prototype.showHoverEffect=function(){for(var t=0;t<this._displayables.length;t++)this._displayables[t].showHoverEffect&&this._displayables[t].showHoverEffect()},a.prototype.hideHoverEffect=function(){for(var t=0;t<this._displayables.length;t++)this._displayables[t].hideHoverEffect&&this._displayables[t].hideHoverEffect()},a.prototype.getDisplayables=function(){return this._displayables},a.prototype.getAriaLabel=function(){var e=[],i=this.getChart().getOptions().translations;this.isSelectable()&&e.push(i[this.isSelected()?"stateSelected":"stateUnselected"]),this.isDrillable()&&e.push(i.stateDrillable);var r=rt.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!1);return null==r&&this._groupIndex<0&&e.length>0&&(r=Q.getSeriesLabel(this._chart,this._seriesIndex)),t.Displayable.generateAriaLabel(r,e)},a.prototype._updateAriaLabel=function(e){t.Agent.deferAriaCreation()||e.setAriaProperty("label",this.getAriaLabel())},a.prototype.getCategories=function(t){return this._categories},a.prototype.getDataPosition=function(){return this._dataPos},a.prototype.getNextNavigable=function(e){var i,r;if(i=e.keyCode,e.type==t.MouseEvent.CLICK)return this;if(i==t.KeyboardEvent.SPACE&&e.ctrlKey)return this;for(var a=this._chart,n=a.getChartObjPeers(),s=[],o=0;o<n.length;o++)n[o].isNavigable()&&s.push(n[o]);var l=e.keyCode==t.KeyboardEvent.UP_ARROW||e.keyCode==t.KeyboardEvent.DOWN_ARROW,h=at.isHorizontal(a),u=t.Agent.isRightToLeft(a.getCtx());return at.isScatterBubble(a)||at.isBoxPlot(a)&&(l&&!h||!l&&h)?r=t.KeyboardHandler.getNextAdjacentNavigable(this,e,s):at.isLineArea(a)||at.isStacked(a)||at.isPolar(a)?r=this._findNextNavigable(e):at.isFunnel(a)&&l?(e.keyCode=u?e.keyCode==t.KeyboardEvent.UP_ARROW?t.KeyboardEvent.RIGHT_ARROW:t.KeyboardEvent.LEFT_ARROW:e.keyCode-1,r=t.KeyboardHandler.getNextNavigable(this,e,s)):at.isPyramid(a)&&!l?(e.keyCode=u?e.keyCode==t.KeyboardEvent.RIGHT_ARROW?t.KeyboardEvent.DOWN_ARROW:t.KeyboardEvent.UP_ARROW:e.keyCode==t.KeyboardEvent.RIGHT_ARROW?t.KeyboardEvent.UP_ARROW:t.KeyboardEvent.DOWN_ARROW,r=t.KeyboardHandler.getNextNavigable(this,e,s)):r=t.KeyboardHandler.getNextNavigable(this,e,s,!0),r},a.prototype.getKeyboardBoundingBox=function(e){return this._displayables[0]?this._displayables[0].getDimensions(e):new t.Rectangle(0,0,0,0)},a.prototype.getTargetElem=function(){return this._displayables[0]?this._displayables[0].getElem():null},a.prototype.showKeyboardFocusEffect=function(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect())},a.prototype.hideKeyboardFocusEffect=function(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect())},a.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},a.prototype.isNavigable=function(){return-1!=this.getGroupIndex()&&-1!=this.getSeriesIndex()},a.prototype._findNextNavigable=function(e){var i,r,a=e.keyCode,n=this._chart,s=n.getCtx(),o=this.getSeriesIndex(),l=this.getGroupIndex(),h=Q.getGroupCount(n),u=at.isHorizontal(n),g=at.isPolar(n),d=t.Agent.isRightToLeft(s),c=u?d?a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.UP_ARROW,p=u?d?a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.DOWN_ARROW,_=u?a==t.KeyboardEvent.UP_ARROW:d?a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.LEFT_ARROW,f=u?a==t.KeyboardEvent.DOWN_ARROW:d?a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.RIGHT_ARROW;if(c)r=l,i=this._findNextUpSeries(n,o,l);else if(p)r=l,i=this._findNextDownSeries(n,o,l);else if(f){i=o,r=l;do{r++,g&&r>=h&&(r=0)}while(null==n.getObject(i,r)&&r<h)}else if(_){i=o,r=l;do{r--,g&&r<0&&(r=h-1)}while(null==n.getObject(i,r)&&r>-1)}var v=n.getObject(i,r);return v&&v.isNavigable()?v:this},a.prototype._findNextUpSeries=function(t,e,i){for(var r=Q.getSeriesCount(t),a=Q.getCumulativeValue(t,e,i),n=null,s=null,o=0;o<r;o++)if(et.isSeriesRendered(t,o)){var l=Q.getCumulativeValue(t,o,i);(l>a||l==a&&o>e)&&(null!==n&&l<n||null==n)&&(n=l,s=o)}return s},a.prototype._findNextDownSeries=function(t,e,i){for(var r=Q.getSeriesCount(t),a=Q.getCumulativeValue(t,e,i),n=null,s=null,o=r-1;o>=0;o--)if(et.isSeriesRendered(t,o)){var l=Q.getCumulativeValue(t,o,i);(l<a||l==a&&o<e)&&(null!==n&&l>n||null==n)&&(n=l,s=o)}return s},a.prototype.isDragAvailable=function(t){return!0},a.prototype.getDragTransferable=function(t,e){return[this.getId()]},a.prototype.getDragFeedback=function(t,e){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],a=0;a<i.length;a++)r=r.concat(i[a].getDisplayables());return r}return this._displayables};var n=function(t,e,i,r,a){this.Init(t,e,i,r,a)};t.Obj.createSubclass(n,t.Obj),n.prototype.Init=function(t,e,i,r,a){this._chart=t,this._displayables=e,this._refObj=i,this._categories=$.getRefObjCategories(this._refObj),this._index=r,this._axisType=a;for(var n=0;n<e.length;n++){var s=e[n];s.setAriaRole("img"),s.setAriaProperty("label",i.shortDesc)}},n.prototype.getCategories=function(){return this._categories},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getIndex=function(){return this._index},n.prototype.getAxisType=function(){return this._axisType},n.prototype.getDatatip=function(t){return rt.getRefObjTooltip(this._chart,this._refObj,this._axisType,this._index)},n.prototype.getDatatipColor=function(){return $.getColor(this._refObj)};var s=function(t,e,i,r){this.id=t,this.series=e,this.group=i,this.context=r};t.Obj.createSubclass(s,t.Obj),s.prototype.equals=function(t){return t instanceof s&&(null!=this.id||null!=t.id?Q.isEqualId(this.id,t.id,this.context):Q.isEqualId(this.series,t.series,this.context)&&Q.isEqualId(this.group,t.group,this.context))},s.prototype.toString=function(){return null!=this.id&&"object"!=typeof this.id?this.id.toString():Q.createDataItemId(this.series,this.group)},s.prototype.valueOf=function(){return this.toString()};var o=function(t){this.Init({alta:o.SKIN_ALTA},t)};t.Obj.createSubclass(o,t.BaseComponentDefaults),o.SKIN_ALTA={skin:t.CSSStyle.SKIN_ALTA,emptyText:null,type:"bar",stack:"off",stackLabel:"off",orientation:"vertical",polarGridShape:"circle",selectionMode:"none",hideAndShowBehavior:"none",hoverBehavior:"none",zoomAndScroll:"off",zoomDirection:"auto",initialZooming:"none",dragMode:"user",sorting:"off",otherThreshold:0,animationOnDataChange:"none",animationOnDisplay:"none",__sparkBarSpacing:"subpixel",__spark:!1,dataCursor:"auto",dataCursorBehavior:"auto",drilling:"off",highlightMatch:"all",series:[],groups:[],title:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_13+"color: #252525;"),halign:"start"},subtitle:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #252525;")},footnote:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),halign:"start"},titleSeparator:{upperColor:"#74779A",lowerColor:"#FFFFFF",rendered:"off"},touchResponse:"auto",_statusMessageStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_13+"color: #252525;"),_dropColor:"#D9F4FA",xAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear"},yAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"auto"},scale:"linear"},y2Axis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"auto"},scale:"linear",alignTickMarks:"on"},zAxis:{},pieCenter:{labelStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA)},plotArea:{backgroundColor:null},legend:{position:"auto",rendered:"auto",layout:{gapRatio:1},seriesSection:{},referenceObjectSection:{},sections:[]},overview:{rendered:"off"},dnd:{drag:{items:{},series:{},groups:{}},drop:{plotArea:{},xAxis:{},yAxis:{},y2Axis:{},legend:{}}},styleDefaults:{colors:t.CSSStyle.COLORS_ALTA,borderColor:"auto",borderWidth:"auto",patterns:["smallDiagonalRight","smallChecker","smallDiagonalLeft","smallTriangle","smallCrosshatch","smallDiamond","largeDiagonalRight","largeChecker","largeDiagonalLeft","largeTriangle","largeCrosshatch","largeDiamond"],shapes:["square","circle","diamond","plus","triangleDown","triangleUp"],seriesEffect:"color",threeDEffect:"off",selectionEffect:"highlight",animationDuration:1e3,animationIndicators:"all",animationUpColor:"#0099FF",animationDownColor:"#FF3300",lineStyle:"solid",lineType:"auto",markerDisplayed:"auto",markerColor:null,markerShape:"auto",markerSize:10,marqueeColor:"rgba(255,255,255,0.4)",marqueeBorderColor:"#0572ce",pieFeelerColor:"#BAC5D6",pieInnerRadius:0,selectedInnerColor:"#ffffff",selectedOuterColor:"#5a5a5a",sliceLabelType:"percent",otherColor:"#4b4b4b",stockRisingColor:"#6b6f74",stockFallingColor:"#ED6647",stockRangeColor:"#B8B8B8",dataItemGaps:"auto",dataLabelStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11),dataLabelPosition:"auto",funnelBackgroundColor:"#EDEDED",x1Format:{},y1Format:{},y2Format:{},zFormat:{},_defaultSliceLabelColor:"#333333",_scrollbarHeight:3,_scrollbarTrackColor:"#F0F0F0",_scrollbarHandleColor:"#9E9E9E",hoverBehaviorDelay:200,dataCursor:{markerSize:8,markerDisplayed:"on",lineColor:"#5a5a5a",lineWidth:2,lineStyle:"solid"},groupSeparators:{rendered:"on",color:"rgba(138,141,172,0.4)"},padding:"auto",_tooltipStyle:new t.CSSStyle("border-collapse: separate; border-spacing: 2px; overflow: hidden; display: block;"),tooltipLabelStyle:new t.CSSStyle("color: #666666; padding: 0px 2px; white-space: nowrap;"),tooltipValueStyle:new t.CSSStyle("color: #333333; padding: 0px 2px;"),stackLabelStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_11),boxPlot:{whiskerSvgStyle:{},whiskerEndSvgStyle:{strokeWidth:2},whiskerEndLength:9,medianSvgStyle:{strokeWidth:3}}},layout:{gapWidthRatio:null,gapHeightRatio:null,outerGapWidth:10,outerGapHeight:8,titleSubtitleGapWidth:14,titleSubtitleGapHeight:4,titleSeparatorGap:6,titlePlotAreaGap:16,footnoteGap:10,verticalAxisGap:6,legendGapWidth:15,legendGapHeight:10,tickLabelGapHeight:8,tickLabelGapWidth:9},_locale:"en-us",_resources:{}},o.getGapWidth=function(t,e){return Math.ceil(e*t.getGapWidthRatio())},o.getGapHeight=function(t,e){return Math.ceil(e*t.getGapHeightRatio())},o.prototype.getNoCloneObject=function(t){return{}};var l=function(t,e){this.Init(t,e)};t.Obj.createSubclass(l,t.Obj),l.prototype.Init=function(t,e){this._context=t.getCtx(),this._dataCursorShown=!1,this._dataCursor=e,this._chart=t},l.prototype.processMove=function(t,e){var i=this._chart.__getPlotAreaSpace();return i&&i.containsPoint(t.x,t.y)&&!this._chart.getOptions()._duringZoomAndScroll?(this._showDataCursor(i,t.x,t.y,e),!0):(this._removeDataCursor(e),!1)},l.prototype.processEnd=function(t){this._removeDataCursor(t)},l.prototype.processOut=function(t,e){var i=this._chart.__getPlotAreaSpace();i&&!i.containsPoint(t.x,t.y)&&this._removeDataCursor(e)},l.prototype._showDataCursor=function(t,e,i,r){if(this._context.isOffscreen(!0))this._removeDataCursor(r);else{var a=this._dataCursor,n=this._getClosestMatch(e,i);if(null!=n){var s=n.matchRegion.getCenter(),o=e,l=i;a.getBehavior()==w.BEHAVIOR_SNAP&&(a.isHorizontal()?l=Math.min(Math.max(s.y,t.y),t.y+t.h):o=Math.min(Math.max(s.x,t.x),t.x+t.w));var h=n.logicalObject,u=rt.getDatatip(this._chart,h.getSeriesIndex(),h.getGroupIndex(),h.getNestedDataItemIndex(),!0);if(null!=u){a.setVisible(!0);var g=rt.getDatatipColor(this._chart,h.getSeriesIndex(),h.getGroupIndex(),h.getNestedDataItemIndex()),d=a.isHorizontal()?l:o;if(a.render(t,s.x,s.y,d,u,g),this._dataCursorShown=!0,!r){var c=this._chart.getValuesAt(e,i);this._chart.changeOption("dataCursorPosition",c)}}else a.setVisible(!1)}else this._removeDataCursor(r)}},l.prototype._removeDataCursor=function(t){this._dataCursor.getVisible()&&this._dataCursor.setVisible(!1),this._context.getTooltipManager(w.TOOLTIP_ID).hideTooltip(),this._dataCursorShown=!1,t||this._chart.changeOption("dataCursorPosition",null)},l.prototype.isDataCursorShown=function(){return this._dataCursorShown},l._getClosestMatchSecondDirection=function(t,e,i,r){for(var a=null,n=1/0,s=0;s<t.length;s++){var o=t[s],l=e?i:r,h=((e?o.matchRegion.x:o.matchRegion.y)+(e?o.matchRegion.x+o.matchRegion.w:o.matchRegion.y+o.matchRegion.h))/2,u=Math.round(Math.abs(h-l));u<n&&(n=u,a=o)}return a},l._getClosestMatchesFirstDirection=function(t,e,i,r,a){for(var n=1/0,s=new Array,o=0;o<t.length;o++){var l=t[o];if(a(l.logicalObject)){var h=l.matchRegion,u=e?r:i,g=((e?h.y:h.x)+(e?h.y+h.h:h.x+h.w))/2,d=Math.round(Math.abs(g-u));d<=n&&(d<n&&(s=new Array),s.push(l),n=d)}}return s},l.prototype._findMatches=function(){var t=this._context.getStage(),e=this._chart.getEventManager(),i=[];if(!this._chart._currentMarkers)return null;for(var r=0;r<this._chart._currentMarkers.length;r++)for(var a=this._chart._currentMarkers[r],n=a.length,s=0;s<n;s++){var o=a[s],l=e.GetLogicalObject(o),h={matchRegion:o.getDimensionsSelf?o.getDimensionsSelf(t):o.getDimensions(t),logicalObject:l};i.push(h)}return i},l.prototype._getClosestMatch=function(e,i){var r=at.isHorizontal(this._chart),a=at.isLineArea(this._chart)&&!q.isMixedFrequency(this._chart),n=this._findMatches(),s=et.getHighlightedCategories(this._chart),o="all"==this._chart.getOptions().highlightMatch,h=s.length>0?o?t.ArrayUtils.hasAllItems:t.ArrayUtils.hasAnyItem:null,u=function(t){return!h||h(t.getCategories(),s)},g=l._getClosestMatchesFirstDirection(n,r,e,i,u);if(!at.isScatterBubble(this._chart)){for(var d=1/0,c=-1/0,p=null,_=0;_<g.length;_++){var f=g[_];d=Math.min(d,r?f.matchRegion.y:f.matchRegion.x),c=Math.max(c,r?f.matchRegion.y+f.matchRegion.h:f.matchRegion.x+f.matchRegion.w),p=f.logicalObject.getGroupIndex()}for(_=0;_<n.length;_++){var v=n[_];if(u(v.logicalObject))if(a)v.logicalObject.getGroupIndex()==p&&g.push(v);else{var m=((r?v.matchRegion.y:v.matchRegion.x)+(r?v.matchRegion.y+v.matchRegion.h:v.matchRegion.x+v.matchRegion.w))/2;c>=m&&d<=m&&g.push(v)}}}return l._getClosestMatchSecondDirection(g,r,e,i)};var h=function(){};t.Obj.createSubclass(h,t.BaseComponent),h.newInstance=function(t,e,i){var r=new h;return r.Init(t,e,i),r},h.getDefaults=function(t){return(new d).getDefaults(t)},h.prototype.Init=function(e,i,r){h.superclass.Init.call(this,e,i,r),this.Defaults=new d(e),this.EventManager=new c(this),this.EventManager.addListeners(this),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new p(this.EventManager,this)),this._bounds=null},h.prototype.SetOptions=function(t){t?this.Options="off"==t.rendered?t:this.Defaults.calcOptions(t):this.Options||(this.Options=this.GetDefaults())},h.prototype.getPreferredSize=function(t,e,i){return this.SetOptions(t),_.getPreferredSize(this,e,i)},h.prototype.render=function(e,i,r,a,n){this.getCache().clearCache(),this.SetOptions(e),this._navigablePeers=[],this.Width=i,this.Height=r,this.removeChildren(),a||(a=0),n||(n=0);var s=new t.Rectangle(a,n,i,r);_.render(this,s)},h.prototype.__registerObject=function(t){(null!=t.getDatatip()||t.isDrillable())&&this._navigablePeers.push(t)},h.prototype.__getKeyboardObjects=function(){return this._navigablePeers},h.prototype.isNavigable=function(){return this._navigablePeers.length>0},h.prototype.getKeyboardFocus=function(){return null!=this.EventManager?this.EventManager.getFocus():null},h.prototype.setKeyboardFocus=function(e,i){if(null!=this.EventManager){for(var r=this.__getKeyboardObjects(),a=e.getId(),n=!1,s=0;s<r.length;s++){var o=r[s].getId();if(a instanceof Array&&o instanceof Array&&t.ArrayUtils.equals(a,o)||a===o){this.EventManager.setFocusObj(r[s]),n=!0,i&&r[s].showKeyboardFocusEffect();break}}n||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(r));var l=this.getKeyboardFocus();if(l){var h=l.getDisplayable();h.setAriaProperty("label",l.getAriaLabel()),this.getCtx().setActiveElement(h)}}},h.prototype.processEvent=function(t,e){this===e&&this.dispatchEvent(t)},h.prototype.getInfo=function(){return this.Info},h.prototype.__setInfo=function(t){this.Info=t},h.prototype.getWidth=function(){return this.Width},h.prototype.getHeight=function(){return this.Height},h.prototype.__setBounds=function(t){this._bounds=t},h.prototype.__getBounds=function(){return this._bounds},h.prototype.getAutomation=function(){return new g(this)};var u={};t.Obj.createSubclass(u,t.Obj),u.TICK_LABEL="tickLabel",u.TITLE="title";var g=function(t){this._axis=t,this._options=this._axis.getOptions(),this._axisInfo=this._axis.getInfo()};t.Obj.createSubclass(g,t.Automation),g.prototype.GetSubIdForDomElement=function(e){var i=this._axis.getEventManager().GetLogicalObject(e);if(i&&i instanceof t.SimpleObjPeer){if(i.getParams().type==u.TITLE)return"title";if(this._options.groups){for(var r=i.getParams().level,a=this._axisInfo.getStartIndex(i.getParams().index,r),n="",s=0;s<=r;s++)for(var o=this._axisInfo.getLabels(this._axis.getCtx(),s),l=0;l<o.length;l++){var h=this._axisInfo.getLabelIndex(o[l]);this._axisInfo.getStartIndex(h,s)<=a&&this._axisInfo.getEndIndex(h,s)>=a&&(n+="["+this._axisInfo.getPosition(h,s)+"]")}if(n.length>0)return"item"+n}}return null},g.prototype.getDomElementForSubId=function(t){if("title"==t){var e=this._axisInfo.getTitle();if(e)return e.getElem()}else if(this._axisInfo instanceof m)for(var i=t.split("[").length-1-1,r=0,a=0,n=0;n<=i;n++){var s=t.indexOf("["),o=t.indexOf("]"),l=t.substring(s+1,o);t=t.substring(o+1);for(var h,u=this._axisInfo.getLabels(this._axis.getCtx(),n),g=0;g<u.length;g++)if(h=this._axisInfo.getLabelIndex(u[g]),this._axisInfo.getStartIndex(h,n)==a){r=h;break}for(var d=r;d<u.length;d++)if(h=this._axisInfo.getLabelIndex(u[d]),this._axisInfo.getPosition(h,n)==l){if(0==t.length)return u[d].getElem();a=this._axisInfo.getStartIndex(h,n);break}}return null};var d=function(t){this.Init({alta:d.SKIN_ALTA},t)};t.Obj.createSubclass(d,t.BaseComponentDefaults),d.SKIN_ALTA={position:null,baselineScaling:"zero",axisLine:{lineColor:"#9E9E9E",lineWidth:1,rendered:"on"},majorTick:{lineColor:"rgba(196,206,215,0.4)",baselineColor:"auto",lineWidth:1,rendered:"auto",lineStyle:"solid"},minorTick:{lineColor:"rgba(196,206,215,0.2)",lineWidth:1,rendered:"off",lineStyle:"solid"},tickLabel:{scaling:"auto",style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),rotation:"auto",rendered:"on"},titleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #737373;"),startGroupOffset:0,endGroupOffset:0,layout:{titleGap:6,radialLabelGap:5,insideLabelGapWidth:4,insideLabelGapHeight:2,hierarchicalLabelGapHeight:8,hierarchicalLabelGapWidth:15},_locale:"en-us"},d.getGapSize=function(e,i,r){var a=Math.min(t.TextUtils.getTextStringHeight(e,i.tickLabel.style)/14,1);return Math.ceil(r*a)};var c=function(t){this.Init(t.getCtx(),t.processEvent,t,t),this._axis=t};t.Obj.createSubclass(c,t.EventManager),c.getUIParams=function(t,e,i,r){return{type:t,id:e,index:i,level:r}},c.prototype.OnClick=function(t){c.superclass.OnClick.call(this,t);var e=this.GetLogicalObject(t.target);e&&(this.processDrillEvent(e)&&t.stopPropagation())},c.prototype.HandleTouchClickInternal=function(t){var e=this.GetLogicalObject(t.target);if(e){var i=t.touchEvent;this.processDrillEvent(e)&&i&&i.preventDefault()}},c.prototype.processDrillEvent=function(e){return!!(e instanceof S&&e.isDrillable())&&(this.FireEvent(t.EventFactory.newChartDrillEvent(e.getId(),null,e.getGroup()),this._axis),!0)},c.prototype.isDndSupported=function(){return!0},c.prototype.GetDragSourceType=function(t){var e=this.DragSource.getDragObject();return e instanceof S&&null!=e.getGroup()?"groups":null},c.prototype.GetDragDataContexts=function(){var t=this.DragSource.getDragObject();return t instanceof S?[{id:t.getId(),group:t.getGroup(),label:t.getLabel().getTextString()}]:[]};var p=function(t,e){this.Init(t,e)};t.Obj.createSubclass(p,t.KeyboardHandler),p.prototype.Init=function(t,e){p.superclass.Init.call(this,t),this._axis=e},p.prototype.processKeyDown=function(e){var i=e.keyCode,r=this._eventManager.getFocus(),a=null;if(i==t.KeyboardEvent.TAB){r&&(t.EventManager.consumeEvent(e),a=r);var n=this._axis.__getKeyboardObjects();n.length>0&&(t.EventManager.consumeEvent(e),a=this.getDefaultNavigable(n))}else i==t.KeyboardEvent.ENTER?r&&(this._eventManager.processDrillEvent(r),t.EventManager.consumeEvent(e)):a=p.superclass.processKeyDown.call(this,e);return a};var _=new Object;t.Obj.createSubclass(_,t.Obj),_._MAX_TITLE_LINE_WRAP=3,_.getPreferredSize=function(e,i,r){var a=_._createAxisInfo(e,new t.Rectangle(0,0,i,r)),n=e.getCtx(),s=e.getOptions(),o="top"==s.position||"bottom"==s.position;if("off"==s.rendered||i<=0||r<=0)return o?new t.Dimension(i,0):new t.Dimension(0,r);var l=_.getTitleHeight(n,s,.8*(o?i:r),.8*(o?r:i)),h=0!=l?l+_._getTitleGap(e):0;if("on"==s.tickLabel.rendered&&"inside"!=s.tickLabel.position)if(o){var u=t.TextUtils.getTextStringHeight(n,s.tickLabel.style);a instanceof v?h+=u:a instanceof C?h+=null!=a.getLabels(n,1)?2*u:u:a instanceof m&&(h=_._getGroupAxisPreferredSize(e,a,h,r,o))}else if(a instanceof v)h+=t.TextUtils.getMaxTextStringWidth(n,a.getAllLabels(n,!0),a.Options.tickLabel.style);else if(a instanceof C){var g=a.getLabels(n),d=t.TextUtils.getMaxTextDimensions(g).w,c=a.getLabels(n,1),p=null!=c?t.TextUtils.getMaxTextDimensions(c).w:0;h+=Math.max(d,p)}else a instanceof m&&(h=_._getGroupAxisPreferredSize(e,a,h,i,o));return o?new t.Dimension(i,Math.min(h,r)):new t.Dimension(Math.min(h,i),r)},_.render=function(t,e){var i=_._createAxisInfo(t,e);"off"!=t.getOptions().rendered&&(t.__setBounds(e.clone()),_._renderBackground(t,e),_._renderTitle(t,i,e),_._renderLabels(t,i,e))},_._createAxisInfo=function(t,e){var i=f.newInstance(t.getCtx(),t.getOptions(),e);return t.__setInfo(i),i},_._getTitleGap=function(t){var e=t.getOptions();return d.getGapSize(t.getCtx(),e,e.layout.titleGap)},_._renderBackground=function(e,i){var r=e.getOptions();if(r.dnd){var a=r.dnd.drop,n=Object.keys(a.xAxis).length>0||Object.keys(a.yAxis).length>0||Object.keys(a.y2Axis).length>0,s=r.dnd.drag,o=Object.keys(s.groups).length>0&&e.getInfo()instanceof m;if(n||o){var l=r.position,h="top"==l||"bottom"==l,u=h?4:10,g=h?10:4,d=new t.Rect(e.getCtx(),i.x-g,i.y-u,i.w+2*g,i.h+2*u);o&&d.setClassName("oj-draggable"),d.setInvisibleFill(),e.getCache().putToCache("background",d),e.addChild(d)}}},_._renderTitle=function(e,i,r){var a=e.getOptions();if(a.title){var n=a.position;if("radial"!=n&&"tangential"!=n){var s="top"==a.position||"bottom"==a.position,o=s?r.w:r.h,l=s?r.h:r.w,h=a.titleStyle,g=_.isWrapEnabled(h),d=_._createText(e.getEventManager(),e,a.title,h,0,0,o,l,c.getUIParams(u.TITLE),g);if(d){var p=_._getTitleGap(e),f=(i.getStartOverflow()-i.getEndOverflow())/2,v=t.Agent.isRightToLeft(e.getCtx()),m=d.getDimensions().h;d.alignCenter(),"top"==n?(d.setX(r.x+f+r.w/2),d.setY(r.y),r.y+=m+p,r.h-=m+p):"bottom"==n?(d.setX(r.x+f+r.w/2),d.setY(r.y+r.h-m),r.h-=m+p):"left"==n?(d.alignMiddle(),d.setRotation(v?Math.PI/2:3*Math.PI/2),d.setTranslate(r.x+m/2,r.y+r.h/2),r.x+=m+p,r.w-=m+p):"right"==n&&(d.alignMiddle(),d.setRotation(v?Math.PI/2:3*Math.PI/2),d.setTranslate(r.x+r.w-m/2,r.y+r.h/2),r.w-=m+p),i.setTitle(d)}}}},_._renderLabels=function(t,e,i){var r=t.getOptions();if("on"==r.tickLabel.rendered){var a=r.position;"top"==a||"bottom"==a?_._renderLabelsHoriz(t,e,i):"tangential"==a?_._renderLabelsTangent(t,e,i):_._renderLabelsVert(t,e,i),_._renderGroupSeparators(t,e,i)}},_._renderLabelsHoriz=function(e,i,r){var a=e.getCtx(),n=e.getOptions(),s=n.position,o="inside"==n.tickLabel.position,l=t.Agent.isRightToLeft(a),h=i instanceof m,g=h&&i.getNumLevels()>1,p=g?0:null,_=i.getLabels(a,p);for(b=g?d.getGapSize(a,n,n.layout.hierarchicalLabelGapHeight):0;_;){for(var f=0,v=0,y=0;y<_.length;y++){var x=_[y];if(null!=x){var A=x instanceof t.MultilineText||x instanceof t.BackgroundMultilineText;if(i.isLabelRotated(p)){if((!A||A&&!x.isWrapEnabled())&&!t.TextUtils.fitText(x,r.h,r.w,e))continue;l?x.alignLeft():x.alignRight(),g?(f=x.getDimensions().w,x.setTranslateY(r.h-f),v=Math.max(v,f)):x.setTranslateY(r.y)}else{if(!o&&x.getDimensions().h-1>r.h)continue;if(g&&"bottom"==s?x.setY(r.h):"bottom"==s?x.setY(r.y):x.setY(r.y+r.h),!g&&("bottom"==s&&!o||"top"==s&&o)?x.alignTop():g&&"top"==s?x.alignTop():x.alignBottom(),g)v=Math.max(v,x.getDimensions().h);else if(o){var b=d.getGapSize(a,n,n.layout.insideLabelGapWidth);l?x.alignRight():x.alignLeft(),x.setX(x.getX()+b*(l?-1:1))}}var M=h?i.getLabelIndex(x):y,T=i.getDatatip(M,p),I=x.getUntruncatedTextString(),O=i.isDrillable(M,p),D=i.getGroup(M,p),E=c.getUIParams(u.TICK_LABEL,x.getTextString(),M,p);e.getEventManager().associate(x,new S(e,x,D,O,I,T,E)),g?i.setLastRenderedLevel(p):v=Math.max(v,x.getDimensions().h),e.addChild(x)}}if(g){for(y=0;y<_.length;y++)if(null!=(x=_[y])){var P=i.isLabelRotated(p),L=p<i.getNumLevels()-1;!P&&L?(x.setY(r.h-v/2),x.alignMiddle()):x.setTranslateY(r.h-v)}r.y+=v+b,r.h-=v+b,p++,_=i.getLabels(e.getCtx(),p)}else r.y+=v,r.h-=v,_=null}if(i instanceof C){_=i.getLabels(e.getCtx());var w=i.getLabels(e.getCtx(),1),R=0;if(null!=w)for(y=0;y<w.length;y++)if(null!=(x=w[y])&&!(x.getDimensions().h-1>r.h)){e.getEventManager().associate(x,new t.SimpleObjPeer(null,null,null,c.getUIParams(u.TICK_LABEL,x.getTextString())));var B=0,k=0,F=i.getOptions()._maxOverflowCoord,N=i.getOptions()._minOverflowCoord;if(null!=_[y]&&(R=_[y].getDimensions().w/2,B=i._level1Overflow[y],k=i._level2Overflow[y]),0==B&&0==k){var H,G=x.getX();l?(H=G+R<=F?G+R:F,x.setX(H)):(H=G-R>=N?G-R:N,x.setX(H))}else B<0?x.setX(N):B>0&&x.setX(F);x.alignTop(),x.setY(r.y),e.addChild(x)}}},_._renderLabelsVert=function(e,i,r){var a,n,s,o=e.getOptions(),l=o.position,h=e.getCtx(),g=t.Agent.isRightToLeft(h),p=i instanceof v,_="inside"==o.tickLabel.position,f=i instanceof m,y=f&&i.getNumLevels()>1,x=y?0:null;a=i.getLabels(e.getCtx(),x);var A=0;y?(n=d.getGapSize(h,o,o.layout.hierarchicalLabelGapWidth),s=t.TextUtils.getMaxTextDimensions(a).w):"radial"==l?(n=d.getGapSize(h,o,o.layout.radialLabelGap),A=r.x+r.w/2,g?A+=n+t.TextUtils.getMaxTextDimensions(a).w:A-=n):"left"==l?(A=r.x+r.w,p&&_&&(A+=t.TextUtils.getMaxTextDimensions(a).w)):(A=r.x,p&&!_&&(A+=t.TextUtils.getMaxTextDimensions(a).w));for(var b=function(n,v){var m=n instanceof t.MultilineText||n instanceof t.BackgroundMultilineText,C=!m||m&&!n.isWrapEnabled();if(!(y&&t.TextUtils.getMaxTextDimensions(a).w-1>r.w)&&(y||_||!C||t.TextUtils.fitText(n,r.w,r.h,e))){v=f?i.getLabelIndex(n):v;var b=i.getDatatip(v,x),M=n.getUntruncatedTextString(),T=i.isDrillable(v,x),I=i.getGroup(v,x),O=c.getUIParams(u.TICK_LABEL,n.getTextString(),v,x);if(e.getEventManager().associate(n,new S(e,n,I,T,M,b,O)),y)n.alignRight(),n.setX(g?r.w:r.x+s),i.setLastRenderedLevel(x);else if(n.setX(A),p||"right"!=l?n.alignRight():n.alignLeft(),_&&(n.alignBottom(),n.setY(n.getY()-d.getGapSize(h,o,o.layout.insideLabelGapHeight))),"radial"==l){var D=n.getY();n.setY(r.y+r.h/2-D);var E=n.getDimensions(),P=.15*E.h,L=t.PathUtils.roundedRectangle(E.x-P,E.y,E.w+2*P,E.h,2,2,2,2),w=new t.Path(e.getCtx(),L),R=n.getCSSStyle().getStyle(t.CSSStyle.BACKGROUND_COLOR),B=D+E.h/2>i.getEndCoord()&&"circle"==e.getOptions().polarGridShape?1:.3;R?w.setSolidFill(R):w.setSolidFill("#FFFFFF",B),e.addChild(w)}e.addChild(n)}};a;){for(var M=0;M<a.length;M++){var T=a[M];null!=T&&b(T,M)}if(!y)break;r.x+=s+n,r.w-=s+n,x++,a=i.getLabels(e.getCtx(),x),s=a?t.TextUtils.getMaxTextDimensions(a).w:null}if(i instanceof C){var I=i.getLabels(e.getCtx(),1);if(null!=I)for(M=0;M<I.length;M++)null!=(T=I[M])&&b(T,M)}},_._renderLabelsTangent=function(e,i,r){for(var a=i.getLabels(e.getCtx()),n=0;n<a.length;n++){var s=a[n];if(null!=s){var o=r.w/2-Math.abs(s.getX()),l=r.h/2-Math.abs(s.getY());if(t.TextUtils.fitText(s,o,l,e)){var h=i instanceof m?i.getLabelIndex(s):n,g=i.getDatatip(h),d=s.getUntruncatedTextString(),p=i.isDrillable(h),_=i.getGroup(h),f=c.getUIParams(u.TICK_LABEL,s.getTextString(),h);e.getEventManager().associate(s,new S(e,s,_,p,d,g,f)),s.setTranslateX(r.x+r.w/2),s.setTranslateY(r.y+r.h/2),e.addChild(s)}}}},_._createText=function(e,i,r,a,n,s,o,l,h,u){var g;return u?((g=new t.MultilineText(i.getCtx(),r,n,s)).setMaxLines(_._MAX_TITLE_LINE_WRAP),g.setCSSStyle(a),g.wrapText(o,l,1)):(g=new t.OutputText(i.getCtx(),r,n,s)).setCSSStyle(a),t.TextUtils.fitText(g,o,l,i)?(e.associate(g,new t.SimpleObjPeer(g.getUntruncatedTextString(),null,null,h)),g):null},_._renderGroupSeparators=function(e,i,r){if(i instanceof m&&i.areSeparatorsRendered()){var a=i.getNumLevels(),n=i.getSeparatorStartLevel();if(a<=1||n<=0)return;for(var s,o,l,h,u,g,c=e.getOptions(),p=c.position,f="top"==p||"bottom"==p,v=e.getCtx(),S=t.Agent.isRightToLeft(v),C=i.getSeparatorColor(),y=new t.Stroke(C,1,1),x=0,A=f?d.getGapSize(v,c,c.layout.hierarchicalLabelGapHeight):d.getGapSize(v,c,c.layout.hierarchicalLabelGapWidth),b=c.startGroupOffset,M=c.endGroupOffset,T=n;T>=0;T--){var I=i.getLabels(e.getCtx(),T),O=t.TextUtils.getMaxTextDimensions(I),D=i.isLabelRotated(T),E=D||!f?O.w:O.h;if(0!=E){var P=!1,L=null;if(T<n)for(var w=0;w<I.length;w++){var R=I[w];if(null!=R){var B=i.getLabelIndex(R),k=0==i.getLabelAt(B,T).length;if(!k){var F=k&&0==T&&(0==B||B==I.length-1),N=R&&null==I[B-1],H=R&&null==I[B+1],G=i.getStartIndex(B,T),U=i.getEndIndex(B,T);if(f){var V;if(R)V=R instanceof t.MultilineText||R instanceof t.BackgroundMultilineText?R.getYAlignCoord():R.getY(),s=i.getCoordAt(G-b),o=D?V+.5*x:V-E/2-.5*x-A,l=i.getCoordAt(U+M),h=D?V+E+x+2*A:V,k&&F||0!=P||null==s||_._addSeparatorLine(e,y,s,h,s,o),null==l||F||_._addSeparatorLine(e,y,l,h,l,o);if(!k){if(R)var j=D?R.getDimensions().h:R.getDimensions().w;s=N&&0==L?i.getStartCoord():i.getBoundedCoordAt(G-b),N&&(N=!1);var Y=i.getLabelAt(B+1,T);if(l=H&&Y&&Y.length>0?i.getEndCoord():i.getBoundedCoordAt(U+M),u=R?S?R.getX()+.5*j:R.getX()-.5*j:i.getBoundedCoordAt(U+M),g=R?S?R.getX()-.5*j:R.getX()+.5*j:i.getBoundedCoordAt(G-b),R)if(D)_._addSeparatorLine(e,y,s,h,l,h);else{var W=S?.5*-R.getDimensions().h:.5*R.getDimensions().h,z=S?g+W>l:g+W<l;(S?s>u-W:s<u-W)&&_._addSeparatorLine(e,y,s,h,u-W,h),z&&_._addSeparatorLine(e,y,g+W,h,l,h)}}}else R&&(s=S?R.getX()-E-.5*A:R.getX()+.5*A,o=i.getCoordAt(G-b),l=S?R.getX()+.5*A:R.getX()-E-.5*A,h=i.getCoordAt(U+M),(!k&&0==P||0==B&&k&&0!=T)&&null!=o&&_._addSeparatorLine(e,y,s,o,l,o),null==h||F||_._addSeparatorLine(e,y,l,h,s,h)),k||(o=N&&0==L?0:i.getBoundedCoordAt(G-b),N&&(N=!1),Y=i.getLabelAt(B+1,T),h=H&&Y&&Y.length>0?i.getEndCoord():i.getBoundedCoordAt(U+M),R&&_._addSeparatorLine(e,y,l,o,l,h));P=!k&&null!=R,L=null!=R||null==R&&k}}}x=E}else x=E}}},_._addSeparatorLine=function(e,i,r,a,n,s){var o=new t.Line(e.getCtx(),r,a,n,s);o.setStroke(i),o.setPixelHinting(!0),e.addChild(o)},_._getGroupAxisPreferredSize=function(e,i,r,a,n){for(var s=e.getCtx(),o=e.getOptions(),l=i.getNumLevels(),h=n?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",u=l>1?d.getGapSize(s,o,o.layout[h]):0,g=0;g<l;g++){var c;if(i.isAutoRotate()){for(var p=[],_=[],f=i.getSkipIncrement(),v=0;v<i.getGroupCount();v+=f){p.push(i.getLabelAt(v,0));var m=i.getLabelStyleAt(v,0);m||(m=i.Options.tickLabel.style),_.push(m)}c=t.TextUtils.getMaxTextStringWidth(s,p,_)}else{var S=i.getLabels(s,g);if(n){var C=t.TextUtils.getMaxTextDimensions(S);c=i.isLabelRotated(g)?C.w:C.h}else c=t.TextUtils.getMaxTextDimensions(S).w}if(!(r+c<=a)){0==g&&(r=a);break}r+=c+u}return 0!=g&&(r-=u),r},_.getTitleHeight=function(e,i,r,a){var n=0;if(i.title)if(_.isWrapEnabled(i.titleStyle)){var s=new t.MultilineText(e,i.title,0,0);s.setMaxLines(_._MAX_TITLE_LINE_WRAP),s.setCSSStyle(i.titleStyle),s.wrapText(r,a,1),n=t.TextUtils.getTextStringHeight(e,i.titleStyle)*s.getLineCount()}else n=t.TextUtils.getTextStringHeight(e,i.titleStyle);return n},_.isWrapEnabled=function(e){var i=e.getStyle(t.CSSStyle.WHITE_SPACE);return"nowrap"!=i&&"noWrap"!=i};var f=function(){};t.Obj.createSubclass(f,t.BaseAxisInfo),f.newInstance=function(t,e,i){return e.timeAxisType&&"disabled"!=e.timeAxisType?new C(t,e,i):e._isGroupAxis?new m(t,e,i):new v(t,e,i)},f.prototype.Init=function(t,e,i){f.superclass.Init.call(this,t,e,i),this._title=null},f.prototype.getLabels=function(t,e){return null},f.prototype.getTitle=function(){return this._title},f.prototype.setTitle=function(t){this._title=t},f.prototype.getMajorTickCoords=function(){return[]},f.prototype.getMinorTickCoords=function(){return[]},f.prototype.getBaselineCoord=function(){return null},f.prototype.getDatatip=function(t,e){return null},f.prototype.getLabelBackground=function(t,e){return null},f.prototype.isDrillable=function(t){return null},f.prototype.isLabelRotated=function(){return!1},f.prototype.CreateLabel=function(e,i,r,a,n){var s;if("tangential"==this.Position){var o=16/180*Math.PI,l=1/180*Math.PI,h=.5*this.getTickLabelHeight(),u=this._radius+h;(r<l||r>2*Math.PI-l)&&(u+=h);var g=Math.round(u*Math.sin(r)),d=Math.round(-u*Math.cos(r));s=a?new t.BackgroundOutputText(e,i,g,d,a):new t.OutputText(e,i,g,d),r<l||Math.abs(r-Math.PI)<l||r>2*Math.PI-l?s.alignCenter():r<Math.PI?s.alignLeft():s.alignRight(),Math.abs(r-Math.PI/2)<o||Math.abs(r-3*Math.PI/2)<o?s.alignMiddle():r<Math.PI/2||r>3*Math.PI/2?s.alignBottom():s.alignTop()}else n?s=a?new t.BackgroundMultilineText(e,i,r,r,a):new t.MultilineText(e,i,r,r):(s=a?new t.BackgroundOutputText(e,i,r,r,a):new t.OutputText(e,i,r,r)).alignMiddle(),s.alignCenter();return(s instanceof t.OutputText||s instanceof t.MultilineText)&&s.setCSSStyle(this.Options.tickLabel.style),s},f.prototype.IsOverlapping=function(e,i){if(!e||e.length<=0)return!1;for(var r,a,n,s,o="left"==this.Position||"right"==this.Position||"radial"==this.Position,l=t.Agent.isRightToLeft(this.getCtx()),h=this.GetTickLabelGapSize(),u=0;u<e.length;u+=i+1)if(null!=e[u])if(null!=r&&null!=a){if(o){if(n=e[u].y,s=e[u].y+e[u].h,n>=r&&n-h<a)return!0;if(n<r&&s+h>r)return!0}else{if(n=e[u].x,s=e[u].x+e[u].w,!l&&n-h<a)return!0;if(l&&s+h>r)return!0}r=n,a=s}else o?(r=e[u].y,a=e[u].y+e[u].h):(r=e[u].x,a=e[u].x+e[u].w);return!1},f.prototype.IsOverlappingDims=function(t,e){if(!t||!e)return!1;var i=t.y,r=t.y+t.h,a=t.x,n=t.x+t.w,s=e.y,o=e.y+e.h,l=e.x,h=e.x+e.w;return(a<=l&&l<=n||a<=h&&h<=n||l<=a&&a<=h||l<=n&&n<=h)&&(s>=i&&s<r||s<=i&&o>=i)},f.prototype.GetTickLabelGapSize=function(){var t=this.getTickLabelHeight(),e=this instanceof m?.24*t:.79*t,i=this instanceof m?.08*t:.28*t;return"left"==this.Position||"right"==this.Position||"radial"==this.Position||this.isLabelRotated()?i:e},f.prototype.getTickLabelHeight=function(){return t.TextUtils.getTextStringHeight(this.getCtx(),this.Options.tickLabel.style)},f.prototype.SkipLabels=function(t,e){for(var i=0,r=this.IsOverlapping(e,i);r;)i++,r=this.IsOverlapping(e,i);if(i>0){for(var a=[],n=0;n<t.length;n+=i+1)a.push(t[n]);return a}return t},f.prototype.SkipTangentialLabels=function(t,e){var i=[],r=t.length,a=null;if(r>1){for(var n,s=0;s<r;s++)e[s]&&(!n||n&&!this.IsOverlappingDims(n,e[s]))&&(a||(a=e[s]),i.push(t[s]),n=e[s]);return this.IsOverlappingDims(n,a)&&i.pop(),i}return t},f.prototype.GetLabelDims=function(t,e,i){for(var r=[],a=this.isLabelRotated(i),n=0;n<t.length;n++){var s=t[n];if(null!=s){var o=s.getDimensions(e);null!=i&&(o.x=(a?s.getTranslateX():s.getX())-o.w/2,o.y=(a?s.getTranslateY():s.getY())-o.h/2),o.w&&o.h?r.push(o):r.push(null)}else r.push(null)}return r},f.prototype.getMajorTickCount=function(){return null},f.prototype.getMinorTickCount=function(){return null},f.prototype.getMajorIncrement=function(){return null},f.prototype.getMinorIncrement=function(){return null},f.prototype.getGlobalMin=function(){return this.GlobalMin},f.prototype.getGlobalMax=function(){return this.GlobalMax},f.prototype.getViewportMin=function(){return this.MinValue},f.prototype.getViewportMax=function(){return this.MaxValue},f.prototype.getDataMin=function(){return this.DataMin},f.prototype.getDataMax=function(){return this.DataMax},f.prototype.getMinimumExtent=function(){return 0},f.prototype.getStartCoord=function(){return this.StartCoord},f.prototype.getEndCoord=function(){return this.EndCoord},f.prototype.getStartOverflow=function(){return this.StartOverflow},f.prototype.getEndOverflow=function(){return this.EndOverflow},f.prototype.getGroupWidth=function(){return 0},f.prototype.getGroup=function(t,e){return null},f.prototype.linearToActual=function(t){return t},f.prototype.actualToLinear=function(t){return t},f.prototype.alignLogScaleToTickCount=function(t,e){return t},f.prototype.getLogScaleUnit=function(){return null};var v=function(t,e,i){this.Init(t,e,i)};t.Obj.createSubclass(v,f),v.prototype.Init=function(t,e,i){v.superclass.Init.call(this,t,e,i),this.MixinInit.call(this,t,e,i)},v.MAX_ZOOM_FACTOR=64,v.prototype.getMinLabel=function(){return this.ZeroBaseline||"on"==this.Options._continuousExtent&&null==this.Options.min?Math.ceil(this.LinearMinValue/this.MajorIncrement)*this.MajorIncrement:Math.ceil((this.LinearMinValue-this.LinearGlobalMin)/this.MajorIncrement)*this.MajorIncrement+this.LinearGlobalMin},v.prototype.getLabels=function(t,e){if(e&&e>0)return null;var i=this.getAllLabels(t),r=[],a=t.getStage();return"tangential"!=this.Position&&(r=this.GetLabelDims(i,a),i=this.SkipLabels(i,r)),i},v.prototype.getAllLabels=function(e,i){var r=[];if(this.Options.tickLabel&&this.Options.tickLabel.scaling){var a=this.Options.tickLabel.autoPrecision?this.Options.tickLabel.autoPrecision:"on";this._axisValueFormatter=new t.LinearScaleAxisValueFormatter(e,this.LinearMinValue,this.LinearMaxValue,this.MajorIncrement,this.Options.tickLabel.scaling,a,this.Options.translations)}for(var n=0;n<=this.MajorTickCount;n++){var s=n*this.MajorIncrement+this.getMinLabel();if(s-this.LinearMaxValue>this.MAJOR_TICK_INCREMENT_BUFFER)break;var o,l=this.GetUnboundedCoordAt(s);if(this.Options._skipHighestTick){if(s==this.LinearMaxValue)continue;if("tangential"!=this.Position&&Math.abs(l-this.MaxCoord)<this.getTickLabelHeight())continue}this.IsLog?(s=this.linearToActual(s),this._axisValueFormatter=new t.LinearScaleAxisValueFormatter(e,s,s,s,this.Options.tickLabel.scaling,a,this.Options.translations),o=this._formatValue(s)):o=this._formatValue(s),i?r.push(o):r.push(this.CreateLabel(e,o,l))}return r},v.prototype.getMajorTickCoords=function(){for(var t=[],e=0;e<=this.MajorTickCount;e++){var i=e*this.MajorIncrement+this.getMinLabel();if(i-this.LinearMaxValue>this.MAJOR_TICK_INCREMENT_BUFFER)break;if(!this.Options._skipHighestTick||i!=this.LinearMaxValue){var r=this.GetUnboundedCoordAt(i);t.push(r)}}return t},v.prototype.getMinorTickCoords=function(){for(var e=[],i=-1;i<=this.MajorTickCount;i++){var r=i*this.MajorIncrement+this.getMinLabel();if(this.IsLog&&1==this.MajorIncrement&&1==this.MinorIncrement)for(var a=2;a<=9;a++){var n=r+t.Math.log10(a);if(n>this.LinearMaxValue)break;n<this.LinearMinValue||(o=this.GetUnboundedCoordAt(n),e.push(o))}else for(a=1;a<this.MinorTickCount;a++){var s=r+a*this.MinorIncrement;if(s>this.LinearMaxValue)break;if(!(s<this.LinearMinValue)){var o=this.GetUnboundedCoordAt(s);e.push(o)}}}return e},v.prototype._formatValue=function(e){if(!this.Converter||!this.Converter.getAsString&&!this.Converter.format){if(this._axisValueFormatter)return this._axisValueFormatter.format(e);var i=t.Math.log10(this.MajorIncrement),r=Math.max(Math.ceil(-i),0);return e.toFixed(r)}return this._axisValueFormatter?this._axisValueFormatter.format(e,this.Converter):this.Converter.getAsString?this.Converter.getAsString(e):this.Converter.format?this.Converter.format(e):void 0},v.prototype.getMajorTickCount=function(){return this.MajorTickCount},v.prototype.getMinorTickCount=function(){return this.MinorTickCount},v.prototype.getMajorIncrement=function(){return this.linearToActual(this.MajorIncrement)},v.prototype.getMinorIncrement=function(){return this.linearToActual(this.MinorIncrement)},v.prototype.getMinimumExtent=function(){return(this.LinearGlobalMax-this.LinearGlobalMin)/this.MAX_ZOOM_FACTOR},v.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow},v.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow},v.prototype.alignLogScaleToTickCount=function(t,e){if(this.IsLog)for(var i=this.getMajorTickCount();e<i;)this.MajorIncrement=null,this.MajorTickCount=null,this.MinorIncrement=null,this.MinorTickCount=null,t++,this.CalcMajorMinorIncr(t),i=this.getMajorTickCount();return t},v.prototype.getLogScaleUnit=function(){return this.LogScaleUnit},t.DataAxisInfoMixin.call(v.prototype);var m=function(t,e,i){this.Init(t,e,i)};t.Obj.createSubclass(m,f),m._MAX_LINE_WRAP=3,m._ROTATE_THRESHOLD=12,m.prototype.Init=function(e,i,r){m.superclass.Init.call(this,e,i,r);var a=t.Agent.isRightToLeft(e),n="top"==this.Position||"bottom"==this.Position;if(n&&a){var s=this.StartCoord;this.StartCoord=this.EndCoord,this.EndCoord=s}this._levelsArray=[],this._groupCount=this._generateLevelsArray(i.groups,0,this._levelsArray,0),this._numLevels=this._levelsArray.length,this._areSeparatorsRendered="off"!=i.groupSeparators.rendered,this._separatorColor=i.groupSeparators.color,this._lastRenderedLevel=null,this._drilling=i.drilling;var o=i.endGroupOffset>0?Number(i.endGroupOffset):0,l=i.startGroupOffset>0?Number(i.startGroupOffset):0;this.DataMin=0,this.DataMax=this._groupCount-1,this.GlobalMin=null==i.min?this.DataMin-l:i.min,this.GlobalMax=null==i.max?this.DataMax+o:i.max;var h=this.getGroupIndex(i.viewportStartGroup),u=this.getGroupIndex(i.viewportEndGroup);-1!=h&&(this.MinValue=h-l),-1!=u&&(this.MaxValue=u+o),null!=i.viewportMin&&(this.MinValue=i.viewportMin),null!=i.viewportMax&&(this.MaxValue=i.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._groupWidthRatios=i._groupWidthRatios,this._processGroupWidthRatios(),this._startBuffer=a?i.rightBuffer:i.leftBuffer,this._endBuffer=a?i.leftBuffer:i.rightBuffer,this._isLabelRotated=[];for(var g=0;g<this._numLevels;g++)this._isLabelRotated.push(!1);if(this._renderGridAtLabels=i._renderGridAtLabels,this._labels=null,this._maxSpace=n?r.h:r.w,"off"!=i.rendered){var c=_.getTitleHeight(e,i,n?r.w:r.h,n?r.h:r.w);this._maxSpace-=0!=c?c+d.getGapSize(e,i,i.layout.titleGap):0}this._maxLineWrap=m._MAX_LINE_WRAP},m.prototype._processGroupWidthRatios=function(){if(!this._groupWidthRatios||this._groupWidthRatios.length<2)this._groupWidthRatios=null;else{for(var t,e,i=0,r=0;r<this._groupCount;r++)t=0==r?this.MinValue:Math.max(r-.5,this.MinValue),(e=r==this._groupCount-1?this.MaxValue:Math.min(r+.5,this.MaxValue))>t&&(i+=(e-t)*this._groupWidthRatios[r]);var a=this.EndCoord-this.StartCoord;this._groupWidths=this._groupWidthRatios.map(function(t){return t*a/i}),this._borderValues=[];for(r=0;r<this._groupWidthRatios.length-1;r++)this._borderValues.push(r+.5);this._borderCoords=[];var n=Math.min(Math.max(Math.round(this.MinValue),0),this._borderValues.length-1);this._borderCoords[n]=this.StartCoord+(this._borderValues[n]-this.MinValue)*this._groupWidths[n];for(r=n+1;r<this._borderValues.length;r++)this._borderCoords[r]=this._borderCoords[r-1]+this._groupWidths[r];for(r=n-1;r>=0;r--)this._borderCoords[r]=this._borderCoords[r+1]-this._groupWidths[r+1]}},m.prototype._rotateLabels=function(e,i,r,a){var n,s,o=this.getCtx(),l=t.Agent.isRightToLeft(o),h=this._numLevels>1;null==a&&(a=this._numLevels-1),this._isLabelRotated[a]=!0,h||this._setOverflow(r,r,e);for(var u=0;u<e.length;u++)if(null!=(n=e[u])){if(s=n.getX(),n instanceof t.MultilineText||n instanceof t.BackgroundMultilineText){var g=this.getGroupWidth()*(this.getEndIndex(u,a)-this.getStartIndex(u,a)+1);2*n.getLineHeight()<g&&this._maxSpace>0?n.wrapText(this._maxSpace,n.getLineHeight()*m._MAX_LINE_WRAP,1):n.setWrapEnabled(!1)}n.setX(0),n.setY(0),l?n.setRotation(Math.PI/2):n.setRotation(3*Math.PI/2),n.setTranslateX(s)}var d=this.GetLabelDims(e,i,a);_.isWrapEnabled(this.Options.tickLabel.style)&&this._maxSpace>0&&(this._sanitizeWrappedText(o,d,e,!0,h)&&(d=this.GetLabelDims(e,i,a)));return this.SkipLabels(e,d)},m.prototype._sanitizeWrappedText=function(e,i,r,a,n){for(var s=this._calculateMaxWrap(i,r,a),o=0,l=0;l<r.length;l++){var h=r[l];if(h){var u=h instanceof t.MultilineText||h instanceof t.BackgroundMultilineText;s&&u&&h.isWrapEnabled()&&h.wrapText(this._maxSpace,h.getLineHeight()*this._maxLineWrap,1),n&&(o=Math.max(o,h.getDimensions().w)),h.alignMiddle()}}if(n){var g=a?this.Options.layout.hierarchicalLabelGapHeight:this.Options.layout.hierarchicalLabelGapWidth;this._maxSpace-=o+d.getGapSize(e,this.Options,g)}return s},m.prototype._calculateMaxWrap=function(e,i,r){for(var a=!1;this.IsOverlapping(e,0)&&this._maxLineWrap>1;){a=!0;for(var n=0;n<i.length;n++){var s=i[n];if((s instanceof t.MultilineText||s instanceof t.BackgroundMultilineText)&&s.getLineCount()==this._maxLineWrap){var o=s.getLineHeight();r?e[n].w-=o:(e[n].y+=.5*o,e[n].h-=o)}}this._maxLineWrap--}return a},m.prototype.isLabelRotated=function(t){return null==t&&(t=this._numLevels-1),this._isLabelRotated[t]},m.prototype._setOverflow=function(e,i,r){e=Math.max(e-this._startBuffer,0),i=Math.max(i-this._endBuffer,0);var a=t.Agent.isRightToLeft(this.getCtx());this.StartCoord+=(e-this.StartOverflow)*(a?-1:1),this.EndCoord-=(i-this.EndOverflow)*(a?-1:1),this._processGroupWidthRatios();for(var n=0;n<this._numLevels;n++){r=this._labels[n];for(var s=0;s<r.length;s++){var o=r[s];if(o){var l=this._getLabelCoord(n,this.getLabelIndex(o));o.setX(l)}}}this.StartOverflow=e,this.EndOverflow=i},m.prototype.getLabels=function(t,e){return null==e&&(e=this._numLevels-1),this._labels||this._generateLabels(t),this._labels[e]},m.prototype._getLabelCoord=function(t,e){var i=this.getStartIndex(e,t),r=this.getEndIndex(e,t);if(null==i||null==r)return null;i<this.MinValue&&r>this.MinValue&&(i=this.MinValue),r>this.MaxValue&&i<this.MaxValue&&(r=this.MaxValue);var a=r?i+(r-i)/2:i;return this.getCoordAt(a)},m.prototype._generateLabels=function(e){var i=[];this._labels=[];for(var r,a,n,s,o,l=e.getStage(),h="top"==this.Position||"bottom"==this.Position,u=t.Agent.isRightToLeft(e),g=this._numLevels>1,c=this.getGroupWidth(),p=this._maxSpace,f=h?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",v=g?d.getGapSize(e,this.Options,this.Options.layout[f]):0,m="auto"==this.Options.tickLabel.rotation&&h,S=this.isAutoRotate(),C=this.Options.tickLabel.style,y=_.isWrapEnabled(this.Options.tickLabel.style)&&"tangential"!=this.Position&&c>t.TextUtils.getTextStringHeight(e,C),x=0;x<this._numLevels;x++){for(var A=this._levelsArray[x],b=S?this.getSkipIncrement():1,M=0;M<A.length;M+=b)if(A[M]){if(""===(r=this.getLabelAt(M,x))||!r&&0!=r){i.push(null);continue}var T=this._getLabelCoord(x,M);if(null!=T){s=this.getLabelStyleAt(M,x);var I=!S&&y&&"number"!=typeof r&&r.indexOf(" ")>=0;o=this.CreateLabel(e,r,T,s,I);var O=c*(this.getEndIndex(M,x)-this.getStartIndex(M,x)+1);I&&this._isTextWrapNeeded(e,r,s,m,h?O:p)&&p>0?h?o.wrapText(O,p,1,!0):o.wrapText(p,o.getLineHeight()*this._maxLineWrap,1,!1):I&&(!h||p<0)&&o.setWrapEnabled(!1),o._index=M,i.push(o),a||0!=x||(a=o),0==x&&(n=o)}else i.push(null)}else i.push(null);if(y&&g){for(var D=0,E=0;E<i.length;E++)if(i[E]){var P=i[E].getDimensions();D=Math.max(D,h?P.h:P.w)}p-=D+v}this._labels.push(i),i=[]}i=this._labels[this._numLevels-1];var L=[];if(a){if("tangential"==this.Position)return L=this.GetLabelDims(i,l),void(this._labels[0]=this.SkipTangentialLabels(i,L));var w=a.getDimensions();if(h){var R,B;if(null!=this.Options._startOverflow&&null!=this.Options._endOverflow)R=this.Options._startOverflow,B=this.Options._endOverflow;else{var k=n.getDimensions();R=u?w.w+w.x-this.StartCoord:this.StartCoord-w.x,B=u?this.EndCoord-k.x:k.w+k.x-this.EndCoord}!S&&(R>this._startBuffer||B>this._endBuffer)&&this._setOverflow(R,B,i)}for(x=0;x<this._numLevels;x++)if(i=this._labels[x],S)this._labels[x]=this._rotateLabels(i,l,w.h/2,x);else{L=this.GetLabelDims(i,l,x);var F=this.IsOverlapping(L,0);if(F||(this._labels[x]=i),h)if(m){if(F)this._labels[x]=this._rotateLabels(i,l,w.h/2,x);else if(this._labels[x]=i,g){var N=0;for(E=0;E<L.length;E++)L[E]&&(N=Math.max(N,L[E].h));this._maxSpace-=N+v}}else L=this.GetLabelDims(i,l),this._labels[x]=this.SkipLabels(i,L);else{if(y)this._sanitizeWrappedText(e,L,i,!1,g)&&(L=this.GetLabelDims(i,l,x));this._labels[x]=this.SkipLabels(i,L)}}}},m.prototype.getMajorTickCoords=function(){for(var t,e=[],i="tangential"==this.Position?this.getGroupCount():this.getGroupCount()-1,r=0;r<this._levelsArray[0].length;r++)if(this._levelsArray[0][r]){var a=this.getStartIndex(r,0),n=this.getEndIndex(r,0);null!=(t=this._renderGridAtLabels?this.getCoordAt(a+.5*(n-a)):n+.5<i?this.getCoordAt(n+.5):null)&&e.push(t)}return e},m.prototype.getMinorTickCoords=function(){var t,e=[];if(!this._levelsArray[1])return e;for(var i=0;i<this._levelsArray[1].length;i++)if(this._levelsArray[1][i]){var r=this.getStartIndex(i,1),a=this.getEndIndex(i,1);null!=(t=this._renderGridAtLabels?this.getCoordAt(r+.5*(a-r)):a+.5<this.getGroupCount()-1?this.getCoordAt(a+.5):null)&&e.push(t)}return e},m.prototype.getUnboundedValueAt=function(t){if(null==t)return null;if(this._groupWidthRatios){for(var e=this._borderCoords.length,i=0;i<this._borderCoords.length;i++)if(t<=this._borderCoords[i]){e=i;break}return 0==e?this._borderValues[0]-(this._borderCoords[0]-t)/this._groupWidths[0]:this._borderValues[e-1]+(t-this._borderCoords[e-1])/this._groupWidths[e]}var r=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.MinValue+(t-this.StartCoord)/r},m.prototype.getUnboundedCoordAt=function(t){if(null==t)return null;if(this._groupWidthRatios){for(var e=this._borderValues.length,i=0;i<this._borderValues.length;i++)if(t<=this._borderValues[i]){e=i;break}return 0==e?this._borderCoords[0]-this._groupWidths[0]*(this._borderValues[0]-t):this._borderCoords[e-1]+this._groupWidths[e]*(t-this._borderValues[e-1])}var r=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.StartCoord+(t-this.MinValue)*r},m.prototype.getLabelAt=function(t,e){if(null==e&&(e=this._numLevels-1),(t=Math.round(t))<0)return null;var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;return i&&(i.name?i=i.name:null!=i.id&&(i="")),i},m.prototype.getGroupAt=function(t,e){if(null==e&&(e=this._numLevels-1),(t=Math.round(t))<0)return null;var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;if(i){if(i.id)return i.id;if(i.name||""===i.name)return i.name}return i},m.prototype.getLabelStyleAt=function(e,i){var r=this._getGroupAttribute(e,i,"labelStyle");if(r){var a=new t.CSSStyle(r);return a.getStyle("font-size")||a.setStyle("font-size",this.Options.tickLabel.style.getStyle("font-size")),a}return null},m.prototype.getDatatip=function(t,e){return this._getGroupAttribute(t,e,"shortDesc")},m.prototype.isDrillable=function(t,e){var i=this._getGroupAttribute(t,e,"drilling");return"on"==i||"off"!=i&&("on"==this._drilling||"groupsOnly"==this._drilling)},m.prototype.getGroup=function(t,e){if(t<0||t>this.getGroupCount()-1)return null;if(1==this._numLevels)return this.getGroupAt(t);var i=[];null==e&&(e=this._numLevels-1);for(var r=this.getStartIndex(t,e),a=0;a<=e;a++)for(var n=this._levelsArray[a],s=0;s<n.length;s++)this.getStartIndex(s,a)<=r&&this.getEndIndex(s,a)>=r&&i.push(this.getGroupAt(s,a));return i.length>0?1==i.length?i[0]:i:null},m.prototype.getLabelBackground=function(e,i,r){null==r&&(r=this._numLevels-1);var a=e.getCSSStyle();if(a){var n=a.getStyle(t.CSSStyle.BACKGROUND_COLOR),s=a.getStyle(t.CSSStyle.BORDER_COLOR),o=a.getStyle(t.CSSStyle.BORDER_WIDTH),l=a.getStyle(t.CSSStyle.BORDER_RADIUS);if(null!=n||null!=s||null!=o||null!=l){var h=e.getDimensions(),u=.15*h.h;"chrome"!==t.Agent.browser&&"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||e.getVertAlignment()!==t.OutputText.V_ALIGN_BOTTOM||(h.y+=h.h/2);var g=new t.Rect(i,h.x-u,h.y,h.w+2*u,h.h),d=new t.CSSStyle;return null!=n?d.setStyle(t.CSSStyle.BACKGROUND_COLOR,n):g.setInvisibleFill(),d.setStyle(t.CSSStyle.BORDER_COLOR,s),d.setStyle(t.CSSStyle.BORDER_WIDTH,o),d.setStyle(t.CSSStyle.BORDER_RADIUS,l),g.setCSSStyle(d),this._isLabelRotated[r]&&g.setMatrix(e.getMatrix()),g.setMouseEnabled(!1),g}return null}return null},m.prototype.getGroupIndex=function(e){if(null==e)return-1;for(var i=-1,r=0;r<this._groupCount;r++){var a=this.getGroup(r);if(e instanceof Array&&a instanceof Array?t.ArrayUtils.equals(e,a):e==a){i=r;break}}return i},m.prototype.getMinimumExtent=function(){return 1},m.prototype.getGroupWidth=function(){return Math.abs(this.EndCoord-this.StartCoord)/Math.abs(this.MaxValue-this.MinValue)},m.prototype.getGroupCount=function(){return this._groupCount},m.prototype.getNumLevels=function(){return this._numLevels},m.prototype._generateLevelsArray=function(t,e,i,r){for(var a=0;a<t.length;a++)if(i[e]||(i[e]=[]),i[e].push({item:t[a],start:r,end:r,position:a}),t[a]&&t[a].groups){var n=i[e].length-1,s=this._generateLevelsArray(t[a].groups,e+1,i,i[e][n].start);r!=s?(i[e][n].end=s-1,r=s):r++}else r++;return r},m.prototype._getGroupAttribute=function(t,e,i){null==e&&(e=this._numLevels-1);var r=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;return r?r[i]:null},m.prototype.areSeparatorsRendered=function(){return this._areSeparatorsRendered},m.prototype.getSeparatorColor=function(){return this._separatorColor},m.prototype.getStartIndex=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].start:null},m.prototype.getEndIndex=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].end:null},m.prototype.getPosition=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].position:null},m.prototype.isRenderGridAtLabels=function(){return this._renderGridAtLabels},m.prototype.setLastRenderedLevel=function(t){this._lastRenderedLevel=t},m.prototype.getLastRenderedLevel=function(){return this._lastRenderedLevel},m.prototype.getSeparatorStartLevel=function(){for(var t=this._lastRenderedLevel,e=this._lastRenderedLevel-1;e>=0;e--)this._labels[e].length!=this._levelsArray[e].length&&(t=e);return t},m.prototype.getLabelIndex=function(t){return t._index>=0?t._index:null},m.prototype.getMaxLineWrap=function(){return this._maxLineWrap},m.prototype._isTextWrapNeeded=function(e,i,r,a,n){var s=t.TextUtils.getTextStringWidth(e,i,r);return s>=n&&(s/this._maxLineWrap<n||!a)},m.prototype.isAutoRotate=function(){var t="top"==this.Position||"bottom"==this.Position,e=this._numLevels>1,i=this.getGroupWidth(),r="auto"==this.Options.tickLabel.rotation&&t;return!e&&r&&i<m._ROTATE_THRESHOLD},m.prototype.getSkipIncrement=function(){var t=1;return t=m._ROTATE_THRESHOLD/(2*this.getGroupWidth()),this.Options._duringZoomAndScroll&&(t*=4),Math.max(1,Math.floor(t))};var S=function(t,e,i,r,a,n,s){this.Init(t,e,i,r,a,n,s)};t.Obj.createSubclass(S,t.SimpleObjPeer),S.prototype.Init=function(e,i,r,a,n,s,o){S.superclass.Init.call(this,n,s,null,o),this._axis=e,this._label=i,this._group=r,this._drillable=a,this._drillable&&i.setCursor(t.SelectionEffectUtils.getSelectingCursor()),e.__registerObject(this)},S.prototype.getLabel=function(){return this._label},S.prototype.getId=function(){return this._group},S.prototype.isDrillable=function(){return this._drillable},S.prototype.getGroup=function(){return this._group},S.prototype.getNextNavigable=function(e){if(e.type==t.MouseEvent.CLICK)return this;var i=this._axis.__getKeyboardObjects();return t.KeyboardHandler.getNextNavigable(this,e,i,!1,this._axis.getCtx().getStage())},S.prototype.getKeyboardBoundingBox=function(e){return this._label?this._label.getDimensions(e):new t.Rectangle(0,0,0,0)},S.prototype.getDisplayable=function(){return this._label},S.prototype.getTargetElem=function(){return this._label?this._label.getElem():null},S.prototype.showKeyboardFocusEffect=function(){if(this._isShowingKeyboardFocusEffect=!0,this._label){var e=this.getKeyboardBoundingBox();this._overlayRect=new t.Rect(this._axis.getCtx(),e.x,e.y,e.w,e.h),this._overlayRect.setSolidStroke(t.Agent.getFocusColor()),this._overlayRect.setInvisibleFill(),this._overlayRect.setMatrix(this._label.getMatrix()),this._axis.addChild(this._overlayRect)}},S.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this._label&&(this._axis.removeChild(this._overlayRect),this._overlayRect=null)},S.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},S.prototype.getAriaLabel=function(){var e;return this.isDrillable()&&(e=[this._axis.getOptions().translations.stateDrillable]),null!=this.getDatatip()?t.Displayable.generateAriaLabel(this.getDatatip(),e):null!=e?t.Displayable.generateAriaLabel(this.getLabel().getTextString(),e):void 0},S.prototype.isDragAvailable=function(t){return!0},S.prototype.getDragTransferable=function(t,e){return[this.getId()]},S.prototype.getDragFeedback=function(t,e){return[this.getDisplayable()]};var C=function(t,e,i){this.Init(t,e,i)};t.Obj.createSubclass(C,f),C.TIME_SECOND=1e3,C.TIME_MINUTE=60*C.TIME_SECOND,C.TIME_HOUR=60*C.TIME_MINUTE,C.TIME_DAY=24*C.TIME_HOUR,C.TIME_MONTH_MIN=28*C.TIME_DAY,C.TIME_MONTH_MAX=31*C.TIME_DAY,C.TIME_YEAR_MIN=365*C.TIME_DAY,C.TIME_YEAR_MAX=366*C.TIME_DAY,C.prototype.Init=function(e,i,r){C.superclass.Init.call(this,e,i,r),"top"==this.Position||"bottom"==this.Position?(i._isOverview||"on"!=i.tickLabel.rendered||(this.StartOverflow=Math.max(t.BaseAxisInfo.MINIMUM_AXIS_BUFFER-i.leftBuffer,0),this.EndOverflow=Math.max(t.BaseAxisInfo.MINIMUM_AXIS_BUFFER-i.rightBuffer,0)),t.Agent.isRightToLeft(e)?(this._startCoord=this.EndCoord-this.EndOverflow,this._endCoord=this.StartCoord+this.StartOverflow):(this._startCoord=this.StartCoord+this.StartOverflow,this._endCoord=this.EndCoord-this.EndOverflow)):(this._startCoord=this.StartCoord,this._endCoord=this.EndCoord);var a=null!=i.tickLabel?i.tickLabel.converter:null;this._label1Converter=a&&a[0]?a[0]:a,this._label2Converter=a&&a[1]?a[1]:null,this._dateToIsoWithTimeZoneConverter=e.getLocaleHelpers().dateToIsoWithTimeZoneConverter,this._groups=i.groups;var n=i.timeAxisType;this._skipGaps="skipGaps"==n,this._mixedFrequency="mixedFrequency"==n,this.DataMin=i.dataMin,this.DataMax=i.dataMax,this._groups.length>1?this._averageInterval=(this.DataMax-this.DataMin)/(this._groups.length-1):this.DataMax-this.DataMin>0?this._averageInterval=this.DataMax-this.DataMin:this._averageInterval=6*C.TIME_MINUTE,this._step=i.step;var s=i.endGroupOffset>0?i.endGroupOffset*this._averageInterval:0,o=i.startGroupOffset>0?i.startGroupOffset*this._averageInterval:0;this.GlobalMin=null!=i.min?i.min:this.DataMin-o,this.GlobalMax=null!=i.max?i.max:this.DataMax+s,null!=i.viewportStartGroup&&(this.MinValue=i.viewportStartGroup-o),null!=i.viewportEndGroup&&(this.MaxValue=i.viewportEndGroup+s),null!=i.viewportMin&&(this.MinValue=i.viewportMin),null!=i.viewportMax&&(this.MaxValue=i.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._timeRange=this.MaxValue-this.MinValue,this._level1Labels=null,this._level2Labels=null,this._level1Coords=null,this._level2Coords=null,this._isOneLevel=!0,this._level1Overflow=[],this._level2Overflow=[],this._locale=i._locale.toLowerCase(),this._monthResources=e.LocaleData.getMonthNames("abbreviated")},C._getAMString=function(t){var e=t.substring(0,2);if("en-au"==t||"en-ie"==t||"en-ph"==t)return"am";if("en-gb"==t)return"";switch(e){case"en":return"AM";case"ar":return"";case"el":return"";case"ko":return"";case"zh":return"";default:return""}},C._getPMString=function(t){var e=t.substring(0,2);if("en-au"==t||"en-ie"==t||"en-ph"==t)return"pm";if("en-gb"==t)return"";switch(e){case"en":return"PM";case"ar":return"";case"el":return"";case"ko":return"";case"zh":return"";default:return""}},C._getAMPMBefore=function(t){var e=t.substring(0,2);return"ko"==e||"zh"==e},C._getDMYOrder=function(t){var e=t.substring(0,2);return"en-us"==t||"en-ph"==t?"MDY":"fa"==e||"hu"==e||"ja"==e||"ko"==e||"lt"==e||"mn"==e||"zh"==e?"YMD":"DMY"},C._getYearTrailingCharacters=function(t){return 0==t.indexOf("ja")||0==t.indexOf("zh")?"":0==t.indexOf("ko")?"":""},C._getDayTrailingCharacters=function(t){return 0==t.indexOf("ja")||0==t.indexOf("zh")?"":0==t.indexOf("ko")?"":""},C.prototype.formatLabel=function(t){var e=new Date(t),i=this._formatAxisLabel(e,null,!0);return null!=i[1]?"YMD"==C._getDMYOrder(this._locale)||this._timeRange<C.TIME_MONTH_MIN&&this._step<C.TIME_DAY?i[1]+" "+i[0]:i[0]+" "+i[1]:i[0]},C.prototype._formatAxisLabelWithConverter=function(t,e,i){if(i){var r=null,a=null;if(i.getAsString?(r=i.getAsString(t),a=i.getAsString(e)):i.format&&(r=i.format(this._dateToIsoWithTimeZoneConverter&&t?this._dateToIsoWithTimeZoneConverter(t):t),a=i.format(this._dateToIsoWithTimeZoneConverter&&e?this._dateToIsoWithTimeZoneConverter(e):e)),a!=r)return r}return null},C.prototype._formatAxisLabel=function(t,e,i){var r=null,a=null,n="left"==this.Position||"right"==this.Position;return this._label1Converter||this._label2Converter?(this._label1Converter&&(r=this._formatAxisLabelWithConverter(t,e,this._label1Converter)),this._label2Converter&&(a=this._formatAxisLabelWithConverter(t,e,this._label2Converter)),[r,a]):(this._step>=C.TIME_YEAR_MIN||this._timeRange>=6*C.TIME_YEAR_MIN?r=this._formatDate(t,!1,!1,!0):this._step>=C.TIME_MONTH_MIN||this._timeRange>=6*C.TIME_MONTH_MIN?(null!=e&&e.getMonth()==t.getMonth()||(r=this._formatDate(t,!1,!0,!1)),null!=e&&e.getYear()==t.getYear()||(a=this._formatDate(t,!1,!1,!0))):this._step>=C.TIME_DAY||this._timeRange>=6*C.TIME_DAY?i?r=this._formatDate(t,!0,!0,!0):(null!=e&&e.getDate()==t.getDate()||(r=this._formatDate(t,!0,!1,!1)),null==e||e.getYear()!=t.getYear()?a=this._formatDate(t,!1,!0,!0):e.getMonth()!=t.getMonth()&&(a=this._formatDate(t,!1,!0,!1))):(this._step>=C.TIME_HOUR||this._timeRange>=6*C.TIME_HOUR?null!=e&&e.getHours()==t.getHours()||(r=this._formatTime(t,!1,!1)):this._step>=C.TIME_MINUTE||this._timeRange>=6*C.TIME_MINUTE?null!=e&&e.getMinutes()==t.getMinutes()||(r=this._formatTime(t,!0,!1)):null!=e&&e.getSeconds()==t.getSeconds()||(r=this._formatTime(t,!0,!0)),n?null!=e&&e.getDate()==t.getDate()||(a=this._formatDate(t,!0,!0,!1)):null==e||e.getYear()!=t.getYear()?a=this._formatDate(t,!0,!0,!0):e.getMonth()!=t.getMonth()?a=this._formatDate(t,!0,!0,!1):e.getDate()!=t.getDate()&&(a=this._formatDate(t,!0,!1,!1))),[r,a])},C.prototype._formatDate=function(t,e,i,r){var a,n="th"==this._locale.substring(0,2)&&"jet"!=this.Options._environment?t.getFullYear()+543:t.getFullYear();a=this._monthResources&&this._monthResources.length>=12?this._monthResources[t.getMonth()]:t.toString().split(" ")[1];var s=t.getDate();n+=C._getYearTrailingCharacters(this._locale),s+=C._getDayTrailingCharacters(this._locale);for(var o=C._getDMYOrder(this._locale),l="",h=0;h<o.length;h++)e&&"D"==o[h]?l+=s+" ":i&&"M"==o[h]?l+=a+" ":r&&"Y"==o[h]&&(l+=n+" ");return l.length>0?l.slice(0,l.length-1):l},C.prototype._formatTime=function(e,i,r){var a,n=e.getHours(),s=e.getMinutes(),o=e.getSeconds(),l=C._getAMString(this._locale),h=C._getPMString(this._locale),u=C._getAMPMBefore(this._locale),g=""!=l&&""!=h,d="";return t.Agent.isRightToLeft(this.getCtx())&&(d=""),g?(n<12?(a=l,0==n&&(n=12)):(a=h,n>12&&(n-=12)),d+=n,(i||0!=s)&&(d+=":"+this._doubleDigit(s))):d+=this._doubleDigit(n)+":"+this._doubleDigit(s),r&&(d+=":"+this._doubleDigit(o)),g?u?a+" "+d:d+" "+a:d},C.prototype._doubleDigit=function(t){return t<10?"0"+t:""+t},C.prototype._getMixedFrequencyStep=function(){return this._timeRange>=6*C.TIME_YEAR_MIN?C.TIME_YEAR_MIN:this._timeRange>=6*C.TIME_MONTH_MIN?C.TIME_MONTH_MIN:this._timeRange>=6*C.TIME_DAY?C.TIME_DAY:this._timeRange>=C.TIME_DAY?3*C.TIME_HOUR:this._timeRange>=6*C.TIME_HOUR?C.TIME_HOUR:this._timeRange>=C.TIME_HOUR?15*C.TIME_MINUTE:this._timeRange>=30*C.TIME_MINUTE?5*C.TIME_MINUTE:this._timeRange>=6*C.TIME_MINUTE?C.TIME_MINUTE:this._timeRange>=C.TIME_MINUTE?15*C.TIME_SECOND:this._timeRange>=30*C.TIME_SECOND?5*C.TIME_SECOND:C.TIME_SECOND},C._getLabelPositions=function(t,e,i){var r=new Date(t),a=r.getTimezoneOffset();r.setMonth(0,1),r.setHours(0,0,0,0);var n=60*(a-r.getTimezoneOffset())*1e3,s=r.getTime()+n,o=[];if(i>=C.TIME_YEAR_MIN&&i<=C.TIME_YEAR_MAX){for(;s<t;)s=C._addOneYear(s);for(;s<=e;)o.push(s),s=C._addOneYear(s)}else if(i>=C.TIME_MONTH_MIN&&i<=C.TIME_MONTH_MAX){for(;s<t;)s=C._addOneMonth(s);for(;s<=e;)o.push(s),s=C._addOneMonth(s)}else for(s+=Math.ceil((t-s)/i)*i;s<=e;)o.push(s),s+=i;return o},C._addOneYear=function(t){var e=new Date(t);return e.setFullYear(e.getFullYear()+1),e.getTime()},C._addOneMonth=function(t){var e=new Date(t);return e.setMonth(e.getMonth()+1),e.getTime()},C.prototype._generateLabels=function(e){var i=[],r=[],a=[],n=[],s=[],o=null,l=0,h=0,u=e.getStage(e),g=t.Agent.isRightToLeft(e),d="left"==this.Position||"right"==this.Position,c="off"!=this.Options.zoomAndScroll,p=!0,_=0;d&&"chrome"===t.Agent.browser&&(_=.16*this.getTickLabelHeight());var f=[];if(null!=this._step)f=C._getLabelPositions(this.MinValue,this.MaxValue,this._step);else if(this._mixedFrequency)this._step=this._getMixedFrequencyStep(),f=C._getLabelPositions(this.MinValue,this.MaxValue,this._step);else{for(var v=0;v<this._groups.length;v++)this._groups[v]>=this.MinValue&&this._groups[v]<=this.MaxValue&&f.push(this._groups[v]);if(this._step=this._averageInterval,!this._skipGaps){var m;if(d)m=t.TextUtils.getTextStringHeight(e,this.Options.tickLabel.style);else{var S=this._formatAxisLabel(new Date(f[0]))[0];m=t.TextUtils.getTextStringWidth(e,S,this.Options.tickLabel.style)}(m+this.GetTickLabelGapSize())*(f.length-1)>Math.abs(this._endCoord-this._startCoord)&&(this._step=this._getMixedFrequencyStep(),f=C._getLabelPositions(this.MinValue,this.MaxValue,this._step))}}0==f.length&&(f=[this.MinValue]);for(v=0;v<f.length;v++){var y=f[v],x=this.getCoordAt(y);if(null!=x){var A=new Date(y),b=this._formatAxisLabel(A,o),M=b[0],T=b[1];if(null!=M?(a.push({text:M,coord:null!=T?x+_:x}),n.push(x),l++):(a.push(null),n.push(null)),i.push(null),c&&p&&(x=this.MinValue?this.getCoordAt(this.MinValue):x),p=!1,null!=T){var I=this.CreateLabel(e,T,null!=T?x-_:x);s.push(x),d||(g?I.alignRight():I.alignLeft()),r.push(I),this._isOneLevel=!1,h++}else r.push(null),s.push(null);o=A}}if(l=this._skipLabelsUniform(a,i,u,!1,g),!c&&h>1&&l<1.5*h){i=r,r=null;for(var O=0;O<i.length;O++)null!=i[O]&&i[O].alignCenter();l=this._skipLabelsGreedy(i,this.GetLabelDims(i,u),!1,g)}else 0==(h=this._skipLabelsGreedy(r,this.GetLabelDims(r,u),!0,g))&&(r=null);d&&null!=r&&this._skipVertLabels(i,r,u),this._level1Labels=i,this._level2Labels=r,this._level1Coords=n,this._level2Coords=s},C._isOverlapping=function(t,e,i,r,a){return i>=t&&i-a<e||i<t&&r+a>t},C.prototype._getLabelOverflow=function(t,e,i,r){var a=t-(i?r?e:0:.5*e);if(a<this.Options._minOverflowCoord)return Math.floor(a-this.Options._minOverflowCoord);var n=t+(i?r?0:e:.5*e);return n>this.Options._maxOverflowCoord?Math.ceil(n-this.Options._maxOverflowCoord):0},C.prototype._skipLabelsGreedy=function(t,e,i,r){if(!e||e.length<=0)return!1;for(var a,n,s,o,l,h="left"==this.Position||"right"==this.Position,u=this.getTickLabelHeight(),g=h?.08*u:.24*u,d=0,c=Math.abs(this._endCoord-this._startCoord),p=0;p<e.length;p++)if(this._level2Overflow.push(0),null!=t[p]){var _=(l=t[p]).getDimensions().w;if(e[p].w>c)t[p]=null;else{var f=this._getLabelOverflow(l.getX(),_,i,r);this._level2Overflow[p]=f,0!=f&&(l.setX(l.getX()-f),e[p].x-=f)}}for(p=0;p<e.length;p++)null!=e[p]&&(h?(s=e[p].y,o=e[p].y+e[p].h):(s=e[p].x,o=e[p].x+e[p].w),null!=a&&null!=n&&C._isOverlapping(a,n,s,o,g)&&(t[p]=null),null!=t[p]&&(a=s,n=o,d++));return d},C.prototype._skipLabelsUniform=function(t,e,i,r){for(var a=[],n=[],s=Math.abs(this._endCoord-this._startCoord),o=0;o<t.length;o++)null!=t[o]&&(a.push(t[o]),n.push(null),this._level1Overflow.push(0));for(var l="left"==this.Position||"right"==this.Position,h=this,u=function(t){if(null==n[t])if(a[t].label=h.CreateLabel(i.getCtx(),a[t].text,a[t].coord),n[t]=a[t].label.getDimensions(i),n[t].w>s)a[t].label=null,n[t].w=0,n[t].h=0;else{var e=h._getLabelOverflow(a[t].coord,n[t].w,!1,r);0!=e&&(a[t].coord-=e,n[t].x-=e,a[t].label.setX(a[t].label.getX()-e),h._level1Overflow[t]=e)}return l?n[t].h:n[t].w},g=(u(0)+this.GetTickLabelGapSize())*(a.length-1),d=s>0?Math.ceil(g/s)-1:0,c=!0;c;){for(o=0;o<a.length;o++)o%(d+1)==0?(u(o),a[o].skipped=!1):a[o].skipped=!0;c=this.IsOverlapping(n,d),d++}var p=0;for(o=0;o<t.length;o++)null==t[o]||t[o].skipped||(e[o]=t[o].label,p++);return p},C.prototype._skipVertLabels=function(t,e,i){for(var r=.08*this.getTickLabelHeight(),a=function(t,e){return C._isOverlapping(t.y,t.y+t.h,e.y,e.y+e.h,r)},n=null,s=!1,o=0;o<t.length;o++)if(t[o]&&e[o]){if(t[o].alignTop(),e[o].alignBottom(),n&&a(n,e[o].getDimensions())){s=!0;break}n=t[o].getDimensions()}else if(t[o]||e[o]){var l=t[o]?t[o]:e[o];if(n&&a(n,l.getDimensions())){s=!0;break}n=l.getDimensions()}if(s){var h,u=null,g=null,d=null;for(o=0;o<t.length;o++)e[o]?(t[o]=null,e[o].alignMiddle(),h=e[o].getDimensions(),g&&a(g,h)&&(t[u]=null),d=h):t[o]&&(h=t[o].getDimensions(),d&&a(d,h)?t[o]=null:(g=h,u=o))}},C.prototype.getLabels=function(t,e){return e&&e>1?null:(this._level1Labels||this._generateLabels(t),1==e?this._level2Labels:this._level1Labels)},C.prototype.getMajorTickCoords=function(){var t=[];if(this._isOneLevel)for(var e=0;e<this._level1Coords.length;e++)null!=this._level1Coords[e]&&null!=this._level1Labels[e]&&t.push(this._level1Coords[e]);else for(e=1;e<this._level2Coords.length;e++)null!=this._level2Coords[e]&&t.push(this._level2Coords[e]);return t},C.prototype.getMinorTickCoords=function(){if(this._isOneLevel)return[];for(var t=[],e=0;e<this._level1Coords.length;e++)null!=this._level1Coords[e]&&null!=this._level1Labels[e]&&t.push(this._level1Coords[e]);return t},C.prototype.getUnboundedValueAt=function(t){if(null==t)return null;var e=(t-this._startCoord)/(this._endCoord-this._startCoord);if(this._skipGaps){var i=this._timeToIndex(this.MinValue),r=this._timeToIndex(this.MaxValue);return this._indexToTime(i+e*(r-i))}return this.MinValue+e*(this.MaxValue-this.MinValue)},C.prototype.getUnboundedCoordAt=function(t){if(null==t)return null;var e;if(this._skipGaps){var i=this._timeToIndex(this.MinValue),r=this._timeToIndex(this.MaxValue);e=(this._timeToIndex(t)-i)/(r-i)}else e=(t-this.MinValue)/(this.MaxValue-this.MinValue);return this._startCoord+e*(this._endCoord-this._startCoord)},C.prototype.linearToActual=function(t){return null==t?null:this._skipGaps?this._indexToTime(t):t},C.prototype.actualToLinear=function(t){return null==t?null:this._skipGaps?this._timeToIndex(t):t},C.prototype._timeToIndex=function(t){for(var e=this._groups.length,i=0;i<this._groups.length;i++)if(t<=this._groups[i]){e=i;break}var r=e-1,a=void 0!==this._groups[r]?this._groups[r]:this._groups[0]-this._averageInterval;return r+(t-a)/((void 0!==this._groups[e]?this._groups[e]:this._groups[this._groups.length-1]+this._averageInterval)-a)},C.prototype._indexToTime=function(t){var e=Math.min(Math.max(Math.ceil(t),0),this._groups.length),i=e-1,r=void 0!==this._groups[i]?this._groups[i]:this._groups[0]-this._averageInterval;return r+(t-i)*((void 0!==this._groups[e]?this._groups[e]:this._groups[this._groups.length-1]+this._averageInterval)-r)},C.prototype.getGroupWidth=function(){return this._skipGaps?Math.abs(this.getUnboundedCoordAt(this._indexToTime(1))-this.getUnboundedCoordAt(this._indexToTime(0))):Math.abs(this.getUnboundedCoordAt(this.MinValue+this._averageInterval)-this.getUnboundedCoordAt(this.MinValue))},C.prototype.getMinimumExtent=function(){return this._skipGaps?1:this._mixedFrequency?Math.min((this.getGlobalMax()-this.getGlobalMin())/8,this._averageInterval):this._averageInterval},C.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow},C.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow};var y=function(t,e,i,r,a,n,s,o,l,h){this.Init(t,null,h),this.setWedgeParams(e,i,r,a,n,s,o,l)};t.Obj.createSubclass(y,t.Path),y._OUTER_BORDER_WIDTH=2,y._OUTER_BORDER_WIDTH_HOVER=1.25,y._INNER_BORDER_WIDTH=1,y.prototype.Init=function(t,e,i){y.superclass.Init.call(this,t,e,i)},y.prototype.setWedgeParams=function(t,e,i,r,a,n,s,o){this._cx=t,this._cy=e,this._rx=i,this._ry=r,this._sa=a,this._ae=n,this._gap=s,this._ir=o;var l=this._makeWedgePath(0);this.setCmds(l)},y.prototype._makeWedgePath=function(e){var i,r=Math.max(this._rx-e,0),a=Math.max(this._ry-e,0),n=360==this._ae||r<e?0:this._gap+2*e,s=this._ir?this._ir+e:0,o=360==this._ae?t.Math.degreesToRads(359.99):t.Math.degreesToRads(this._ae),l=t.Math.degreesToRads(this._sa),h=n/2,u=h<r?Math.asin(h/r):0,g=-o/2-l,d=Math.min(5*h,o>0?Math.abs(h/Math.sin(o/2)):0),c=0==r?d:d*a/r,p=this._cx+Math.cos(g)*d,_=this._cy+Math.sin(g)*c,f=this._cx+Math.cos(-u-l)*r,v=this._cy+Math.sin(-u-l)*a,m=this._cx+Math.cos(-l-o+u)*r,S=this._cy+Math.sin(-l-o+u)*a,C=t.Math.calculateAngleBetweenTwoVectors(m-this._cx,S-this._cy,f-this._cx,v-this._cy);if(C=Math.min(C,o),s>0){var y=h<s?Math.asin(h/s):0,x=this._cx+Math.cos(-y-l)*s,A=this._cy+Math.sin(-y-l)*s,b=this._cx+Math.cos(-l-o+y)*s,M=this._cy+Math.sin(-l-o+y)*s,T=t.Math.calculateAngleBetweenTwoVectors(b-this._cx,M-this._cy,x-this._cx,A-this._cy);T=Math.min(T,C,o),360==this._ae?(i=t.PathUtils.moveTo(m,S),i+=t.PathUtils.arcTo(r,a,o,1,f,v),i+=t.PathUtils.lineTo(m,S),i+=t.PathUtils.moveTo(x,A),i+=t.PathUtils.arcTo(s,s,o,0,b,M)):(i=t.PathUtils.moveTo(b,M),i+=t.PathUtils.lineTo(m,S),i+=t.PathUtils.arcTo(r,a,C,1,f,v),i+=t.PathUtils.lineTo(x,A),i+=t.PathUtils.arcTo(s,s,T,0,b,M))}else 360==this._ae?(i=t.PathUtils.moveTo(m,S),i+=t.PathUtils.arcTo(r,a,o,1,f,v)):(i=t.PathUtils.moveTo(p,_),i+=t.PathUtils.lineTo(m,S),i+=t.PathUtils.arcTo(r,a,C,1,f,v));return i+=t.PathUtils.closePath()},y.prototype._initializeSelectionEffects=function(){var e=this.isSelected()?y._OUTER_BORDER_WIDTH:y._OUTER_BORDER_WIDTH_HOVER,i=this._makeWedgePath(e),r=this._makeWedgePath(e+y._INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setCmds(i),void this.InnerChild.setCmds(r);this.OuterChild=new t.Path(this.getCtx(),i),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new t.Path(this.getCtx(),r),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)},y.prototype._showNestedBorders=function(t,e){this._initializeSelectionEffects(),e?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(e),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):t?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._shapeStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())},y.prototype.setStyleProperties=function(e,i,r,a,n,s,o){this._fill=e,this._shapeStroke=i,this._hoverColor=t.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=a,this._outerColor=n,this._shapeClassName=s,this._shapeStyle=o,this.setStyle(o).setClassName(s),this.setFill(e),i&&this.setStroke(i)},y.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this._showNestedBorders(this._hoverColor,this._innerColor)},y.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()},y.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},y.prototype.UpdateSelectionEffect=function(){};var x=function(t,e,i){this._x1=Math.min(e[0],e[4]),this._x2=Math.max(e[0],e[4]),this._y1=Math.min(e[1],e[5]),this._y2=Math.max(e[1],e[5]),this.Init(t,[this._x1,this._y1,this._x2,this._y1,this._x2,this._y2,this._x1,this._y2],i)};t.Obj.createSubclass(x,t.Polygon),x.OUTER_BORDER_WIDTH=2,x.OUTER_BORDER_WIDTH_HOVER=1.25,x.INNER_BORDER_WIDTH=1,x.prototype.setStyleProperties=function(e,i,r,a,n,s,o){this._fill=e,this._borderStroke=i,this._hoverColor=t.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=a,this._outerColor=n,this._shapeClassName=s,this._shapeStyle=o,this.setStyle(o).setClassName(s),this.setFill(e),i&&this.setStroke(i)},x.prototype.setAnimationParams=function(t){this._x1=Math.min(t[0],t[4]),this._x2=Math.max(t[0],t[4]),this._y1=Math.min(t[1],t[5]),this._y2=Math.max(t[1],t[5]),this.setPoints(t),this._initializeSelectionEffects()},x.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this._showNestedBorders(this._hoverColor,this._innerColor))},x.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},x.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},x.prototype.UpdateSelectionEffect=function(){},x.prototype.getPrimaryFill=function(){return this._fill},x.prototype._initializeSelectionEffects=function(){var e=this.isSelected()?x.OUTER_BORDER_WIDTH:x.OUTER_BORDER_WIDTH_HOVER,i=this._createPointsArray(e),r=this._createPointsArray(e+x.INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setPoints(i),void this.InnerChild.setPoints(r);this.OuterChild=new t.Polygon(this.getCtx(),i),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new t.Polygon(this.getCtx(),r),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)},x.prototype._showNestedBorders=function(t,e){this._initializeSelectionEffects(),e?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(e),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):t?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._borderStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())},x.prototype._createPointsArray=function(t){var e=this._x1+t,i=this._x2-t,r=this._y1+t,a=this._y2-t;return[e,r,i,r,i,a,e,a]};var A=function(t,e,i){this.Init(t,e,i)};t.Obj.createSubclass(A,h),A.prototype.axisToPlotArea=function(t){if("tangential"==this.getOptions().position)return t;if(null==t)return null;var e=t-this.getLeftOverflow();return Math.round(10*e)/10},A.prototype.plotAreaToAxis=function(t,e){if("tangential"==this.getOptions().position)return t;if(null==t)return null;var i=t+this.getLeftOverflow();return!1===e?i:Math.round(i)},A.prototype.linearToActual=function(t){return this.Info.linearToActual(t)},A.prototype.actualToLinear=function(t){return this.Info.actualToLinear(t)},A.prototype.getValueAt=function(t){return this.Info.getValueAt(this.plotAreaToAxis(t))},A.prototype.getCoordAt=function(t){return this.axisToPlotArea(this.Info.getCoordAt(t))},A.prototype.getBoundedCoordAt=function(t){return this.axisToPlotArea(this.Info.getBoundedCoordAt(t))},A.prototype.getUnboundedValueAt=function(t){return this.Info.getUnboundedValueAt(this.plotAreaToAxis(t))},A.prototype.getUnboundedCoordAt=function(t){return this.axisToPlotArea(this.Info.getUnboundedCoordAt(t))},A.prototype.getBaselineCoord=function(){return this.axisToPlotArea(this.Info.getBaselineCoord())},A.prototype.getPosition=function(){return this.getOptions().position},A.prototype.isGroupAxis=function(){return this.Info instanceof m},A.prototype.getMajorTickCoords=function(){for(var t=this.Info?this.Info.getMajorTickCoords():[],e=0;e<t.length;e++)t[e]=this.axisToPlotArea(t[e]);return t},A.prototype.getMinorTickCoords=function(){for(var t=this.Info?this.Info.getMinorTickCoords():[],e=0;e<t.length;e++)t[e]=this.axisToPlotArea(t[e]);return t},A.prototype.getBaselineCoord=function(){return this.axisToPlotArea(this.Info.getBaselineCoord())},A.prototype.getLinearGlobalMin=function(){return this.actualToLinear(this.Info.getGlobalMin())},A.prototype.getLinearGlobalMax=function(){return this.actualToLinear(this.Info.getGlobalMax())},A.prototype.getLinearViewportMin=function(){return this.actualToLinear(this.Info.getViewportMin())},A.prototype.getLinearViewportMax=function(){return this.actualToLinear(this.Info.getViewportMax())},A.prototype.getUnboundedLinearValueAt=function(t){return this.Info.actualToLinear(this.getUnboundedValueAt(t))},A.prototype.isFullViewport=function(){return this.Info.getViewportMin()==this.Info.getGlobalMin()&&this.Info.getViewportMax()==this.Info.getGlobalMax()},A.prototype.getLeftOverflow=function(){return t.Agent.isRightToLeft(this.getCtx())?this.Info.getEndOverflow():this.Info.getStartOverflow()},A.prototype.getRightOverflow=function(){return t.Agent.isRightToLeft(this.getCtx())?this.Info.getStartOverflow():this.Info.getEndOverflow()},A.prototype.getLength=function(){return Math.abs(this.Info.getStartCoord()-this.Info.getEndCoord())},A.prototype.getMinCoord=function(){return this.axisToPlotArea(Math.min(this.Info.getStartCoord(),this.Info.getEndCoord()))},A.prototype.getMaxCoord=function(){return this.axisToPlotArea(Math.max(this.Info.getStartCoord(),this.Info.getEndCoord()))};var b=function(t,e,i,r,a,n,s){s||this.Init(t.getCtx()),this._bHoriz=at.isHorizontal(t),this._bStacked=at.isStacked(t),this._barGapRatio=et.getBarGapRatio(t),this._dataItemGaps=et.getDataItemGaps(t),this._axisCoord=e,this._doNotRender=!!s,this._setBarCoords(i,r,a,n,!0)};t.Obj.createSubclass(b,x),b._INDICATOR_OFFSET=8,b._MIN_BAR_WIDTH_FOR_GAPS=5,b._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING=15,b._MIN_BAR_LENGTH_FOR_GAPS=5,b._MAX_GAP_SIZE=2,b.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isSelected()?(this._tempX1=this._x1,this._tempX2=this._x2,this._tempBaselineCoord=this._baselineCoord,this._x1=this._origX1,this._x2=this._origX2,this._baselineCoord=this._origBaselineCoord,this.setPoints(this._createPointsArray()),this._showNestedBorders(this.isHoverEffectShown()?this._hoverColor:this._outerColor,this._innerColor)):(this._x1=this._tempX1,this._x2=this._tempX2,this._baselineCoord=this._tempBaselineCoord,this.setPoints(this._createPointsArray()),this._showNestedBorders(this.isHoverEffectShown()?this._hoverColor:null)))},b.prototype.getAnimationParams=function(t){return t?this._bHoriz?[this._x2,this._x1,this._baselineCoord,this._endCoord]:[this._x1,this._x2,this._endCoord,this._baselineCoord]:[this._baselineCoord,this._endCoord,this._x1,this._x2]},b.prototype.setAnimationParams=function(t,e){if(this._setBarCoords(t[0],t[1],t[2],t[3],!1),e){var i=this.getIndicatorPosition();e.setTranslate(i.x,i.y),e.setAlpha(1),e.getParent().addChild(e)}},b.prototype.getDisplayAnimation=function(e){var i=this.getAnimationParams();this.setAnimationParams([this._axisCoord,this._axisCoord,this._x1,this._x2]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r},b.prototype.getDeleteAnimation=function(e){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r},b.prototype.getInsertAnimation=function(e){this.setAlpha(0);var i=this.getDisplayAnimation(e);return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},b.prototype.getIndicatorPosition=function(){var e,i,r=(this._x1+this._x2)/2;if(this._bStacked){var a=(this._endCoord+this._baselineCoord)/2;e=this._bHoriz?a:r,i=this._bHoriz?r:a}else{var n=this._endCoord>=this._baselineCoord?this._endCoord+b._INDICATOR_OFFSET:this._endCoord-b._INDICATOR_OFFSET;e=this._bHoriz?n:r,i=this._bHoriz?r:n}return new t.Point(e,i)},b.prototype._setBarCoords=function(e,i,r,a,n){this._baselineCoord=e,this._endCoord=i,this._x1=r,this._x2=a;var s=this._x2-this._x1;if(s<1&&(this._x1=Math.floor(this._x1),this._x2=this._x1+1,s=1),this._origX1=this._x1,this._origX2=this._x2,this._origBaselineCoord=this._baselineCoord,this._origSize=this._x2-this._x1,this._dataItemGaps>0&&n&&!this.isSelected()){var o=Math.ceil(b._MAX_GAP_SIZE*this._dataItemGaps),l=Math.abs(this._baselineCoord-this._endCoord),h=this._axisCoord==this._baselineCoord;l>=b._MIN_BAR_LENGTH_FOR_GAPS&&this._bStacked&&!h&&(this._baselineCoord+=this._endCoord>this._baselineCoord?o:-o),s>=b._MIN_BAR_WIDTH_FOR_GAPS&&(1==t.Agent.getDevicePixelRatio()&&this._barGapRatio>0&&s>b._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING?("firefox"===t.Agent.browser||this._doNotRender||this.setPixelHinting(!0),this._x1=Math.round(this._x1),this._x2=Math.round(this._x2),this._origX1=this._x1,this._origX2=this._x2,this._x2-=o):(this._x1+=o/2,this._x2-=o/2),this._origSize-=o)}if(!this._doNotRender){var u=this._createPointsArray();this.setPoints(u),this.OuterChild&&this.OuterChild.setPoints(this._createPointsArray(x.OUTER_BORDER_WIDTH)),this.InnerChild&&this.InnerChild.setPoints(this._createPointsArray(x.OUTER_BORDER_WIDTH+x.INNER_BORDER_WIDTH))}},b.prototype._createPointsArray=function(t){var e=this._baselineCoord,i=this._endCoord,r=this._x1,a=this._x2;if(t>0){if(Math.abs(r-a)<2*t||Math.abs(e-i)<2*t)return[];r+=t,a-=t,i<e?(e-=t,i+=t):(e+=t,i-=t)}return this._bHoriz?[i,r,i,a,e,a,e,r]:[r,i,a,i,a,e,r,e]},b.prototype.getBoundingBox=function(){var e=Math.min(this._x2,this._x1),i=Math.min(this._endCoord,this._baselineCoord),r=Math.abs(this._x2-this._x1),a=Math.abs(this._endCoord-this._baselineCoord);return this._bHoriz?new t.Rectangle(i,e,a,r):new t.Rectangle(e,i,r,a)},b.prototype.getOriginalBarSize=function(){return this._origSize},b.prototype.getDimensionsSelf=function(t){return this.ConvertCoordSpaceRect(this.getBoundingBox(),t)};var M=function(e,i,r,a,n,s,o,l,h){this.Init(e.getCtx()),this._chart=e,this._bHoriz=at.isHorizontal(e),this._styleOptions=h,this._innerColor=et.getSelectedInnerColor(this._chart),this._outerColor=et.getSelectedOuterColor(this._chart),this._hoverColor=t.SelectionEffectUtils.getHoverBorderColor(this._styleOptions._color);var u=i-r/2,g=i+r/2;et.getDataItemGaps(e)>0&&r>b._MIN_BAR_WIDTH_FOR_GAPS&&g--,this._render(u,g,a,n,s,o,l)};t.Obj.createSubclass(M,t.Shape),M.prototype._render=function(e,i,r,a,n,s,o){this._cleanUp();var l=this.getCtx();this._x1=Math.round(e),this._x2=Math.round(i),this._low=Math.round(r),this._q1=Math.round(a),this._q2=Math.round(n),this._q3=Math.round(s),this._high=Math.round(o);var h=i-e,u=et.getSizeInPixels(this._styleOptions.whiskerEndLength,h);u=Math.min(h,u),u=2*Math.floor((u-1)/2)+1;var g=Math.floor((e+i)/2)+.5,d=g-Math.floor(u/2)-.5,c=g+Math.floor(u/2)+.5;this._drawLine(g,this._low,g,this._high,"whisker"),this._drawLine(d,this._low,c,this._low,"whiskerEnd"),this._drawLine(d,this._high,c,this._high,"whiskerEnd"),this._q2Box=new t.Polygon(l,this._createQ2PointsArray(0));var p=tt.getRectangleFill(this._chart,this._styleOptions.q2Color,this._styleOptions._q2Pattern,h);this._q2Box.setFill(p),this._applyCustomStyle(this._q2Box,"q2"),this.addChild(this._q2Box),this._q3Box=new t.Polygon(l,this._createQ3PointsArray(0));var _=tt.getRectangleFill(this._chart,this._styleOptions.q3Color,this._styleOptions._q3Pattern,h);this._q3Box.setFill(_),this._applyCustomStyle(this._q3Box,"q3"),this.addChild(this._q3Box),this._drawMedianLine(0),this._borderColor=this._styleOptions.borderColor,this._borderColor&&(this._borderWidth=this._styleOptions.borderWidth,this._drawBorders(this._borderColor,this._borderWidth)),this.IsSelected&&(this.IsSelected=!1,this.setSelected(!0))},M.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this.isSelected()?this._drawBorders(this._hoverColor,x.OUTER_BORDER_WIDTH,this._innerColor,x.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,x.OUTER_BORDER_WIDTH_HOVER,this._innerColor,x.INNER_BORDER_WIDTH))},M.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?this._drawBorders(this._outerColor,x.OUTER_BORDER_WIDTH,this._innerColor,x.INNER_BORDER_WIDTH):this._drawBorders(this._borderColor,this._borderWidth))},M.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isHoverEffectShown()?t?this._drawBorders(this._hoverColor,x.OUTER_BORDER_WIDTH,this._innerColor,x.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,x.OUTER_BORDER_WIDTH_HOVER,this._innerColor,x.INNER_BORDER_WIDTH):t?this._drawBorders(this._outerColor,x.OUTER_BORDER_WIDTH,this._innerColor,x.INNER_BORDER_WIDTH):this._drawBorders(this._borderColor,this._borderWidth))},M.prototype.UpdateSelectionEffect=function(){},M.prototype.getDisplayAnimation=function(t){return this.getInsertAnimation(t)},M.prototype.getDeleteAnimation=function(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=[this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2];return i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,r),i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i},M.prototype.getInsertAnimation=function(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=this._getAnimationParams();return this._setAnimationParams([this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2]),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,r),this.setAlpha(0),i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},M.prototype.getUpdateAnimation=function(e,i){var r=new t.CustomAnimation(this.getCtx(),this,e),a=i._getQ2Fill(),n=this._getQ2Fill();a.equals(n)||(this._setQ2Fill(a),r.getAnimator().addProp(t.Animator.TYPE_FILL,this,this._getQ2Fill,this._setQ2Fill,n));var s=i._getQ3Fill(),o=this._getQ3Fill();s.equals(o)||(this._setQ3Fill(s),r.getAnimator().addProp(t.Animator.TYPE_FILL,this,this._getQ3Fill,this._setQ3Fill,o));var l=this._getAnimationParams();return this._setAnimationParams(i._getAnimationParams()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,l),r},M.prototype._getAnimationParams=function(){return[this._x1,this._x2,this._low,this._q1,this._q2,this._q3,this._high]},M.prototype._setAnimationParams=function(t){this._render(t[0],t[1],t[2],t[3],t[4],t[5],t[6])},M.prototype._getQ2Fill=function(){return new t.SolidFill(this._styleOptions.q2Color)},M.prototype._setQ2Fill=function(t){this._styleOptions.q2Color=t.getColor()},M.prototype._getQ3Fill=function(){return new t.SolidFill(this._styleOptions.q3Color)},M.prototype._setQ3Fill=function(t){this._styleOptions.q3Color=t.getColor()},M.prototype._drawLine=function(e,i,r,a,n){var s=this._bHoriz?new t.Line(this.getCtx(),i,e,a,r):new t.Line(this.getCtx(),e,i,r,a);return this._applyCustomStyle(s,n),s.setPixelHinting(!0),this.addChild(s),s},M.prototype._drawMedianLine=function(e){if(!this._medianLine){var i=new t.Line(this.getCtx(),0,0,0,0);this._applyCustomStyle(i,"median"),i.setPixelHinting(!0),this.addChild(i),this._medianLine=i}var r=this._x1+e,a=this._x2-e,n=this._q2;this._bHoriz?(this._medianLine.setX1(n),this._medianLine.setX2(n),this._medianLine.setY1(r),this._medianLine.setY2(a)):(this._medianLine.setY1(n),this._medianLine.setY2(n),this._medianLine.setX1(r),this._medianLine.setX2(a))},M.prototype._drawBorders=function(e,i,r,a){if(!this._outerBorderShape){var n=this.getChildIndex(this._q2Box);this._innerBorderShape=new t.Polygon(this.getCtx()),this._innerBorderShape.setInvisibleFill(),this.addChildAt(this._innerBorderShape,n),this._outerBorderShape=new t.Polygon(this.getCtx()),this._outerBorderShape.setInvisibleFill(),this.addChildAt(this._outerBorderShape,n)}var s=0;i?(this._outerBorderShape.setPoints(this._createBoxPointsArray(0)),this._outerBorderShape.setSolidFill(e),s+=i,a?(this._innerBorderShape.setPoints(this._createBoxPointsArray(i)),this._innerBorderShape.setSolidFill(r),s+=a):this._innerBorderShape.setInvisibleFill()):(this._outerBorderShape.setInvisibleFill(),this._innerBorderShape.setInvisibleFill()),this._q2Box.setPoints(this._createQ2PointsArray(s)),this._q3Box.setPoints(this._createQ3PointsArray(s)),this._drawMedianLine(s)},M.prototype._createBoxPointsArray=function(t){var e,i,r=this._x1+t,a=this._x2-t;return this._q1<this._q3?(e=this._q1+t,i=this._q3-t):(e=this._q1-t,i=this._q3+t),this._createPointsArray(r,a,e,i)},M.prototype._createQ3PointsArray=function(t){var e,i=this._x1+t,r=this._x2-t,a=this._q2;return e=this._q2<this._q3?this._q3-t:this._q3+t,this._createPointsArray(i,r,a,e)},M.prototype._createQ2PointsArray=function(t){var e,i=this._x1+t,r=this._x2-t,a=this._q2;return e=this._q2<this._q1?this._q1-t:this._q1+t,this._createPointsArray(i,r,e,a)},M.prototype._createPointsArray=function(t,e,i,r){return this._bHoriz?[i,t,i,e,r,e,r,t]:[t,i,e,i,e,r,t,r]},M.prototype._applyCustomStyle=function(t,e){t.setStyle(this._styleOptions[e+"Style"]||this._styleOptions[e+"SvgStyle"],!0),t.setClassName(this._styleOptions[e+"ClassName"]||this._styleOptions[e+"SvgClassName"],!0)},M.prototype._cleanUp=function(){this.removeChildren(),this._q2Box=null,this._q3Box=null,this._medianLine=null,this._outerBorderShape=null,this._innerBorderShape=null};var T=function(t,e,i,r,a,n,s){this.Init(t),i=Math.max(2*Math.round(i/2),1);var o=Math.min(2*Math.ceil(T._BAR_WIDTH*i/2),i),l=Math.round(e)-i/2,h=l+i;if(null!=n&&null!=s){var u=Math.round(e)-o/2,g=u+o;this._rangeShape=new x(t,[u,n,g,n,g,s,u,s]),this.addChild(this._rangeShape)}this._changeShape=new x(t,[l,r,h,r,h,a,l,a]),this.addChild(this._changeShape),this.setPixelHinting(!0)};t.Obj.createSubclass(T,t.Container),T._BAR_WIDTH=.3,T.prototype.setChangeStyle=function(t,e,i,r,a){this._changeShape.setStyleProperties(t,e,i,r,a)},T.prototype.setRangeStyle=function(t,e,i,r){this._rangeShape&&this._rangeShape.setStyleProperties(t,e,i,null,r)},T.prototype.setSelected=function(t){this._changeShape.setSelected(t),this._rangeShape&&this._rangeShape.setSelected(t)},T.prototype.showHoverEffect=function(){this._changeShape.showHoverEffect(),this._rangeShape&&this._rangeShape.showHoverEffect()},T.prototype.hideHoverEffect=function(){this._changeShape.hideHoverEffect(),this._rangeShape&&this._rangeShape.hideHoverEffect()},T.prototype.getDisplayAnimation=function(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=this._changeShape.getPoints();if(this._changeShape.setPoints(T._getInitialPoints(r)),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,r),this._rangeShape){var a=this._rangeShape.getPoints();this._rangeShape.setPoints(T._getInitialPoints(a)),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,a)}return i},T.prototype.getDeleteAnimation=function(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=T._getInitialPoints(this._changeShape.getPoints());if(i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,r),this._rangeShape){var a=T._getInitialPoints(this._rangeShape.getPoints());i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,a)}return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i},T.prototype.getInsertAnimation=function(e){this.setAlpha(0);var i=this.getDisplayAnimation(e);return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},T.prototype.getUpdateAnimation=function(e,i){var r=new t.CustomAnimation(this.getCtx(),this,e),a=this._changeShape.getPoints();this._changeShape.setPoints(i._changeShape.getPoints()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,a);var n=i._changeShape.getPrimaryFill(),s=this._changeShape.getPrimaryFill();if(i._changeShape.isSelected()||this._changeShape.isSelected()||n.equals(s)||(this._changeShape.setFill(n),r.getAnimator().addProp(t.Animator.TYPE_FILL,this._changeShape,this._changeShape.getFill,this._changeShape.setFill,s)),this._rangeShape&&i._rangeShape){var o=this._rangeShape.getPoints();this._rangeShape.setPoints(i._rangeShape.getPoints()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,o)}return r},T.prototype.UpdateSelectionEffect=function(){},T._getInitialPoints=function(t){var e=t[0],i=t[2],r=(t[1]+t[5])/2;return[e,r,i,r,i,r,e,r]};var I=function(t,e,i,r,a,n){this.x=t,this.y1=e,this.y2=i,this.groupIndex=r,this.group=a,this.filtered=n};t.Obj.createSubclass(I,t.Obj),I.prototype.isUpstep=function(t){return Math.abs(this.y2-t)>Math.abs(this.y1-t)},I.prototype.clone=function(){return new I(this.x,this.y1,this.y2,this.groupIndex,this.group,this.filtered)};var O=function(t,e,i,r,a,n,s,o,l,h,u,g){this.Init(t.getCtx()),this._chart=t,this._bArea=e,this._availSpace=i,this._baseline=r,this._style=a,this._className=n,this._fill=s,this._stroke=o,this._type=l,this._baseType=u||l,this._indicatorMap={},this.setCoords(h,g)};t.Obj.createSubclass(O,t.Container),O._INDICATOR_OFFSET=8,O.prototype.setCoords=function(t,e){this._arCoord=t,e&&(this._arBaseCoord=e),this.removeChildren(),this._bArea?this._renderAreas():this._renderLines(),this._positionIndicators()},O.prototype.getCoords=function(){return this._arCoord},O.prototype.getBaseCoords=function(){return this._arBaseCoord},O.prototype.getBaseline=function(){return this._baseline},O.prototype.isArea=function(){return this._bArea},O.prototype._getPointArrays=function(e,i){var r=[],a=[];r.push(a),e=O._convertToPointCoords(e);var n,s,o,l,h,u=at.isPolar(this._chart),g="centeredStepped"==i||"centeredSegmented"==i,d=g||"stepped"==i||"segmented"==i,c=et.getGroupWidth(this._chart),p=t.Agent.isRightToLeft(this.getCtx())&&at.isVertical(this._chart)?-1:1;u&&(n=e[e.length-1]);for(var _=!1,f=0;f<e.length;f++)null!=e[f]?(s=e[f],l=e[f]._isY2,o=g?s.x-c/2*p:s.x,l&&(_&&d&&(o+=c*p),_=!_),"curved"==i&&l&&a.push(null,null),n&&d&&this._pushCoord(a,o,n.y),this._bArea||"segmented"!=i&&"centeredSegmented"!=i||(a=[],r.push(a)),this._pushCoord(a,o,s.y),n=s):(q.isMixedFrequency(this._chart)||d&&!u&&n&&!l&&(h=g?n.x+.5*c*p:n.x+c*p,this._pushCoord(a,h,n.y)),"jet"!=this._chart.getOptions()._environment&&q.isMixedFrequency(this._chart)||(a=[],r.push(a),n=null));if(d&&!u&&n&&!l&&(h=g?n.x+.5*c*p:n.x+c*p,this._pushCoord(a,h,n.y)),u&&r.length>1){var v=r.pop();r[0]=v.concat(r[0])}return r},O.prototype._pushCoord=function(e,i,r){var a=ct.convertAxisCoord(this._chart,new t.Point(i,r),this._availSpace);e.push(Math.round(10*a.x)/10,Math.round(10*a.y)/10)},O.prototype._isRing=function(){if(!at.isPolar(this._chart)||!q.hasGroupAxis(this._chart)||this._arCoord.length<Q.getGroupCount(this._chart))return!1;for(var t=0;t<this._arCoord.length;t++)if(null==this._arCoord[t].x)return!1;return!0},O.prototype._getSplineType=function(){return at.isScatterBubble(this._chart)?t.PathUtils.SPLINE_TYPE_CARDINAL:at.isPolar(this._chart)?this._isRing()?t.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED:t.PathUtils.SPLINE_TYPE_CARDINAL:at.isHorizontal(this._chart)?t.PathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL:t.PathUtils.SPLINE_TYPE_MONOTONE_VERTICAL},O.prototype._renderLines=function(){for(var e,i=this._getPointArrays(this._arCoord,this._type),r=0;r<i.length;r++){var a=i[r];if(a&&a.length>1){if("curved"==this._type){var n=O._getCurvedPathCommands(a,!1,this._getSplineType());(e=new t.Path(this.getCtx(),n)).setFill(null)}else this._isRing()?(e=new t.Polygon(this.getCtx(),a)).setFill(null):e=new t.Polyline(this.getCtx(),a);e.setStroke(this._stroke),e.setClassName(this._className).setStyle(this._style),this.addChild(e)}}},O.prototype._renderAreas=function(){var e=this._arCoord,i=this._arBaseCoord;!at.isPolar(this._chart)&&e.length>0&&i.length>0&&(e=e.slice(0),i=i.slice(0),null!=e[0].x&&null!=i[0].x&&(O._removeAreaEdge(e,0,this._baseline),O._removeAreaEdge(i,0,this._baseline),i[0].x=e[0].x),null!=e[e.length-1].x&&null!=i[i.length-1].x&&(O._removeAreaEdge(e,e.length-1,this._baseline),O._removeAreaEdge(i,i.length-1,this._baseline),i[i.length-1].x=e[e.length-1].x));var r=this._getPointArrays(e,this._type),a=this._getPointArrays(i,this._baseType);if(r.length==a.length)for(var n,s=0;s<r.length;s++){var o=r[s],l=a[s];if(!(o.length<2)){var h="curved"==this._type,u="curved"==this._baseType;this._isRing()&&(h||o.push(o[0],o[1]),l.length>=2&&!u&&l.push(l[0],l[1]));for(var g=[],d=0;d<l.length;d+=2)g.unshift(l[d],l[d+1]);if(h||u){var c=this._getSplineType(),p=h?O._getCurvedPathCommands(o,!1,c):t.PathUtils.polyline(o,!1);p+=u?O._getCurvedPathCommands(g,!0,c):t.PathUtils.polyline(g,!0),p+=t.PathUtils.closePath(),n=new t.Path(this.getCtx(),p)}else{var _=g.concat(o);n=new t.Polygon(this.getCtx(),_)}n.setFill(this._fill),n.setClassName(this._className).setStyle(this._style),this._stroke&&n.setStroke(this._stroke),this.addChild(n)}}},O.prototype._positionIndicators=function(){for(var e,i,r,a,n,s=0;s<this._arCoord.length;s++)n=this._arCoord[s],(e=this._indicatorMap[n.groupIndex])&&e.indicator&&(a=(n.isUpstep(this._baseline)?n.y2:n.y1)+O._INDICATOR_OFFSET*(e.direction==X.DIR_UP?-1:1),r=ct.convertAxisCoord(this._chart,new t.Point(n.x,a),this._availSpace),(i=e.indicator).setTranslate(r.x,r.y),i.setAlpha(1),i.getParent().addChild(i))},O.prototype.getAnimationParams=function(t){return O._coordsToAnimationParams(this._arCoord,t?t._arCoord:null,this._baseline)},O.prototype.setAnimationParams=function(t){var e=O._animationParamsToCoords(t);this.setCoords(e)},O.prototype.getBaseAnimationParams=function(t){return O._coordsToAnimationParams(this._arBaseCoord,t?t._arBaseCoord:null,this._baseline)},O.prototype.setBaseAnimationParams=function(t){this._arBaseCoord=O._animationParamsToCoords(t)},O.prototype.getCommonGroupIndices=function(t){for(var e=[],i=0;i<this._arCoord.length;i++)if(!this._arCoord[i].filtered&&null!=this._arCoord[i].x)for(var r=0;r<t._arCoord.length;r++)if(!t._arCoord[r].filtered&&null!=t._arCoord[r].x&&this._arCoord[i].group==t._arCoord[r].group){e.push(this._arCoord[i].groupIndex);break}return e},O.prototype.addIndicator=function(t,e,i){i.setAlpha(0),this._indicatorMap[t]={direction:e,indicator:i}},O.prototype.removeIndicators=function(){for(var t in this._indicatorMap){var e=this._indicatorMap[t].indicator;e&&e.getParent().removeChild(e)}this._indicatorMap={}},O._convertToPointCoords=function(e){for(var i=[],r=0;r<e.length;r++)if(!e[r].filtered)if(null==e[r].x)i.push(null);else if(i.push(new t.Point(e[r].x,e[r].y1)),e[r].y1!=e[r].y2){var a=new t.Point(e[r].x,e[r].y2);a._isY2=!0,i.push(a)}return i},O._coordsToAnimationParams=function(t,e,i){if(e&&e.length>0)if(t&&t.length>0){t=t.slice(0);for(var r,a,n,s=O._coordsToGroups(e),o=O._coordsToGroups(t),l=t.length,h=s.length-1;h>=0;h--)r=s[h],-1==(a=o.indexOf(r))?(0==l?(n=t[0].clone(),t[0]=t[0].clone(),O._removeCoordJump(n,t[0],i)):(n=t[l-1].clone(),t[l-1]=t[l-1].clone(),O._removeCoordJump(t[l-1],n,i)),n.groupIndex=-1,t.splice(l,0,n)):l=a}else{t=[];for(h=0;h<e.length;h++)t.push(new I(e[h].x,i,i))}for(var u=[],g=0;g<t.length;g++)t[g].filtered||(null==t[g].x?(u.push(1/0),u.push(1/0),u.push(1/0)):(u.push(t[g].x),u.push(t[g].y1),u.push(t[g].y2)),u.push(t[g].groupIndex));return u},O._animationParamsToCoords=function(t){for(var e=[],i=0;i<t.length;i+=4)t[i]==1/0||isNaN(t[i])?e.push(new I(null,null,null,t[i+3])):e.push(new I(t[i],t[i+1],t[i+2],t[i+3]));return e},O._coordsToGroups=function(t){for(var e=[],i=0;i<t.length;i++)t[i].filtered||e.push(t[i].group);return e},O._removeCoordJump=function(t,e,i){t.isUpstep(i)?e.y1=e.y2:t.y2=t.y1},O._getCurvedPathCommands=function(e,i,r){var a=[],n=[];a.push(n);for(var s=0;s<e.length;s+=2)null==e[s]?(n=[],a.push(n)):n.push(e[s],e[s+1]);if(r==t.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED&&a.length>1){var o=a.pop();a[0]=o.concat(a[0]),r=t.PathUtils.SPLINE_TYPE_CARDINAL}var l="";for(s=0;s<a.length;s++)n=a[s],l+=t.PathUtils.curveThroughPoints(n,i,r),i=!0;return l},O._removeAreaEdge=function(t,e,i){var r=t[e].clone();r.isUpstep(i)?r.y1=r.y2:r.y2=r.y1,t[e]=r};var D=function(t,e,i,r,a,n){this.Init(t,e,i,r,a,a,null,null,!0),n&&this.setStroke(D.DEFAULT_STROKE)};t.Obj.createSubclass(D,t.SimpleMarker),D.DEFAULT_STROKE=new t.Stroke("none"),D.SELECTED_FILL=new t.SolidFill("#FFFFFF"),D.SELECTED_STROKE=new t.Stroke("#5A5A5A",1,1.5),D.prototype.setDataColor=function(e){this._dataColor=e,this._hoverStroke=new t.Stroke(e,1,1.5)},D.prototype.getDataColor=function(){return this._dataColor},D.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)},D.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?D.SELECTED_STROKE:D.DEFAULT_STROKE)},D.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isSelected()?(this.setFill(D.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:D.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:D.DEFAULT_STROKE)))},D.prototype.UpdateSelectionEffect=function(){};var E=function(t){this.Init(t.getCtx(),t.processEvent,t),this._parentChart=t,this._chart=t.overview?t.overview.getBackgroundChart():null,this._id=t.getId()+"_overview"};t.Obj.createSubclass(E,t.Overview),E.prototype._renderChart=function(e,i,r){this._chartContainer=new t.Container(this.getCtx()),this.addChild(this._chartContainer);e=t.JsonUtils.merge({legend:{rendered:"off",size:null},xAxis:{viewportMin:null,viewportMax:null,viewportStartGroup:null,viewportEndGroup:null,axisLine:{rendered:"off"},size:null,maxSize:.5,title:null},yAxis:{rendered:"off",size:null},y2Axis:{rendered:"off",size:null},splitDualY:"off",title:{text:null},subtitle:{text:null},footnote:{text:null},titleSeparator:{rendered:"off"},styleDefaults:{animationIndicators:"none"},layout:{outerGapWidth:0,outerGapHeight:0},_isOverview:!0},e),q.hasGroupAxis(this._parentChart)&&(e.xAxis.tickLabel.rendered="off"),at.isStock(this._parentChart)&&e.series&&e.series[0]&&(e.series=[e.series[0]],e.series[0].type="lineWithArea");var a=this._parentChart.getOptions().overview.content;(e=t.JsonUtils.merge(a,e)).zoomAndScroll="off",this._chart||(this._chart=t.Chart.newInstance(this.getCtx()),this._chart.setId(this._id)),this._chartContainer.addChild(this._chart),this._chart.render(e,i,r);var n=new t.Rect(this.getCtx(),0,0,i,r);return n.setInvisibleFill(),this._chartContainer.addChild(n),this._chart.getEventManager().setKeyboardHandler(null),this._chart.__getPlotAreaSpace().h},E.prototype.render=function(t,e,i){t.style={overviewBackgroundColor:"rgba(0,0,0,0)",windowBackgroundColor:"rgba(0,0,0,0)",windowBorderTopColor:"#333333",windowBorderRightColor:"#333333",windowBorderBottomColor:"#333333",windowBorderLeftColor:"#333333",leftFilterPanelColor:"rgba(5,65,135,0.1)",rightFilterPanelColor:"rgba(5,65,135,0.1)",handleBackgroundImage:t.chart._resources.overviewGrippy,handleWidth:3,handleHeight:15,handleFillColor:"rgba(0,0,0,0)"},t.animationOnClick="off";var r=this._renderChart(t.chart,e,i);E.superclass.render.call(this,t,e,r)},E.prototype.destroy=function(){E.superclass.destroy.call(this),this._parentChart=null,this._chart=null},E.prototype.getBackgroundChart=function(){return this._chart},E.prototype.isBackgroundRendered=function(){return!1},E.prototype.isLeftAndRightFilterRendered=function(){return!0},E.prototype.HandleKeyDown=function(t){},E.prototype.HandleKeyUp=function(t){};var P=function(t,e,i,r,a,n,s){this.Init(t.getCtx()),this._axisCoord=e,this._availSpace=s.clone(),this._bbox=null,this._dataItemGaps=et.getDataItemGaps(t)*P._MAX_DATA_ITEM_GAP,this._setBarCoords(i,r,a,n)};t.Obj.createSubclass(P,y),P._MIN_BAR_LENGTH_FOR_GAPS=4,P._MAX_DATA_ITEM_GAP=3,P.prototype.getAnimationParams=function(){return[this._baselineCoord,this._endCoord,this._x1,this._x2]},P.prototype.setAnimationParams=function(t,e){this._setBarCoords(t[0],t[1],t[2],t[3])},P.prototype.getPrimaryFill=function(){return this.getFill()},P.prototype.getDisplayAnimation=function(e){var i=this.getAnimationParams();this.setAnimationParams([this._axisCoord,this._axisCoord,0,0]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r},P.prototype.getDeleteAnimation=function(e){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r},P.prototype.getInsertAnimation=function(e){this.setAlpha(0);var i=this.getAnimationParams();this.setAnimationParams([this._baselineCoord,this._baselineCoord,this._x1,this._x2]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),r},P.prototype._setBarCoords=function(e,i,r,a){var n=this._availSpace.x+this._availSpace.w/2,s=this._availSpace.y+this._availSpace.h/2,o=Math.max(i,e),l=Math.abs(i-e)>=P._MIN_BAR_LENGTH_FOR_GAPS&&this._axisCoord!=e?Math.min(i,e)+this._dataItemGaps:Math.min(i,e),h=360-t.Math.radsToDegrees(Math.max(r,a))+90,u=t.Math.radsToDegrees(Math.abs(a-r));this.setWedgeParams(n,s,o,o,h,u,this._dataItemGaps,l);var g=ct.polarToCartesian(e,r,this._availSpace),d=ct.polarToCartesian(e,a,this._availSpace),c=ct.polarToCartesian(i,r,this._availSpace),p=ct.polarToCartesian(i,a,this._availSpace),_=Math.min(g.x,d.x,c.x,p.x),f=Math.max(g.x,d.x,c.x,p.x),v=Math.min(g.y,d.y,c.y,p.y),m=Math.max(g.y,d.y,c.y,p.y);this._bbox=new t.Rectangle(_,v,f-_,m-v),this._baselineCoord=e,this._endCoord=i,this._x1=r,this._x2=a},P.prototype.getBoundingBox=function(){return this._bbox},P.prototype.getOriginalBarSize=function(){return this._bbox.w};var L=function(t,e,i,r,a,n,s){this.Init(t),this._markerSize=n,this._isInvisible=s,this._drawPath(e,i,r,a)};t.Obj.createSubclass(L,t.Path),L.prototype._drawPath=function(e,i,r,a){var n=Math.atan2(a-i,r-e),s=this._markerSize/2,o=Math.PI/8,l=t.PathUtils.moveTo(e+s*Math.cos(n+o),i+s*Math.sin(n+o))+t.PathUtils.arcTo(s,s,2*(Math.PI-o),1,e+s*Math.cos(n-o),i+s*Math.sin(n-o))+t.PathUtils.lineTo(r-s*Math.cos(n+o),a-s*Math.sin(n+o))+t.PathUtils.arcTo(s,s,2*(Math.PI-o),1,r-s*Math.cos(n-o),a-s*Math.sin(n-o))+t.PathUtils.closePath();this.setCmds(l),this._x1=e,this._y1=i,this._x2=r,this._y2=a},L.prototype.setStyleProperties=function(e,i,r,a,n){this._dataColor=r;var s=t.SelectionEffectUtils.getHoverBorderColor(r);this._isInvisible?(this.setInvisibleFill(),this._hoverStroke=new t.Stroke(s,1,1.5)):(this.setFill(e),this.setStroke(i),this.setHoverStroke(new t.Stroke(a,1,1),new t.Stroke(s,1,3.5)),this.setSelectedStroke(new t.Stroke(a,1,1.5),new t.Stroke(n,1,4.5)),this.setSelectedHoverStroke(new t.Stroke(a,1,1.5),new t.Stroke(s,1,4.5)))},L.prototype.getDataColor=function(){return this._dataColor},L.prototype.showHoverEffect=function(){this._isInvisible?(this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)):L.superclass.showHoverEffect.call(this)},L.prototype.hideHoverEffect=function(){this._isInvisible?(this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?D.SELECTED_STROKE:D.DEFAULT_STROKE)):L.superclass.hideHoverEffect.call(this)},L.prototype.setSelected=function(t){if(this._isInvisible){if(this.IsSelected==t)return;this.IsSelected=t,this.isSelected()?(this.setFill(D.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:D.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:D.DEFAULT_STROKE))}else L.superclass.setSelected.call(this,t)},L.prototype.UpdateSelectionEffect=function(){this._isInvisible||L.superclass.UpdateSelectionEffect.call(this)},L.prototype.getAnimationParams=function(){return[this._x1,this._y1,this._x2,this._y2]},L.prototype.setAnimationParams=function(t){this._drawPath(t[0],t[1],t[2],t[3])},L.prototype.isInvisible=function(){return this._isInvisible},L.prototype.getBoundingBox=function(){return this.getBoundingBox1().getUnion(this.getBoundingBox2())},L.prototype.getBoundingBox1=function(){return new t.Rectangle(this._x1-this._markerSize/2,this._y1-this._markerSize/2,this._markerSize,this._markerSize)},L.prototype.getBoundingBox2=function(){return new t.Rectangle(this._x2-this._markerSize/2,this._y2-this._markerSize/2,this._markerSize,this._markerSize)};var w=function(t,e,i){this.Init(t,e,i)};t.Obj.createSubclass(w,t.Container),w.BEHAVIOR_SNAP="SNAP",w.BEHAVIOR_SMOOTH="SMOOTH",w.BEHAVIOR_AUTO="AUTO",w.TOOLTIP_ID="_dvtDataCursor",w.prototype.Init=function(e,i,r){w.superclass.Init.call(this,e),this._bHoriz=r,this._options=i,this.setMouseEnabled(!1),this.setVisible(!1);var a=i.lineWidth,n=i.lineColor,s=new t.Stroke(n,1,a,!1,t.Stroke.getDefaultDashProps(i.lineStyle,a));if(this._cursorLine=new t.Line(this.getCtx(),0,0,0,0,"dcLine"),this._cursorLine.setStroke(s),this.addChild(this._cursorLine),"off"!=i.markerDisplayed){this._marker=new t.Container(this._context),this._marker.setMouseEnabled(!1),this.addChild(this._marker);var o=i.markerSize,l=new t.SimpleMarker(this._context,t.SimpleMarker.CIRCLE,0,0,o+4*a,o+4*a);l.setSolidFill(n),this._marker.addChild(l);var h=new t.SimpleMarker(this._context,t.SimpleMarker.CIRCLE,0,0,o+2*a,o+2*a);h.setSolidFill("white"),this._marker.addChild(h),this._markerInnerCircle=new t.SimpleMarker(this._context,t.SimpleMarker.CIRCLE,0,0,o,o),this._marker.addChild(this._markerInnerCircle)}},w.prototype.render=function(e,i,r,a,n,s){var o,l=this.isHorizontal(),h=t.Agent.isRightToLeft(this.getCtx());if(null!=n&&""!=n){var u=this.getCtx().getStageAbsolutePosition(),g=this.getCtx().getTooltipManager(w.TOOLTIP_ID);g.showDatatip(i+u.x,r+u.y,n,s,!1),o=g.getTooltipBounds();var d,c,p=this._options.markerSize+4*this._options.lineWidth;l?(d=h?e.x-.75*o.w:e.x+e.w-o.w/4,c=a-o.h/2,!h&&d-i<p?d=i+p:h&&i-(d+o.w)<p&&(d=i-p-o.w)):(d=a-o.w/2,r-((c=e.y-.75*o.h)+o.h)<p&&(c=r-p-o.h)),g.positionTip(d+u.x,c+u.y),(o=g.getTooltipBounds()).x-=u.x,o.y-=u.y}if(l?(this._cursorLine.setTranslateY(a),h?(this._cursorLine.setX1(o?o.x+o.w-1:e.x),this._cursorLine.setX2(e.x+e.w)):(this._cursorLine.setX1(e.x),this._cursorLine.setX2(o?o.x+1:e.x+e.w))):(this._cursorLine.setTranslateX(a),this._cursorLine.setY1(o?o.y+o.h-1:e.y),this._cursorLine.setY2(e.y+e.h)),this._marker){this._marker.setTranslate(i,r);var _=this._options.markerColor;this._markerInnerCircle.setSolidFill(_||s),t.Agent.workaroundFirefoxRepaint(this._marker)}},w.prototype.isHorizontal=function(){return this._bHoriz},w.prototype.getBehavior=function(){return this._behavior?this._behavior:w.BEHAVIOR_AUTO},w.prototype.setBehavior=function(t){this._behavior=t};var R=function(t,e,i,r,a,n,s,o,l){this.Init(t,e,i,r,a,n,s,o,l)};t.Obj.createSubclass(R,t.Path),R.prototype.Init=function(e,i,r,a,n,s,o,l,h){R.superclass.Init.call(this,e.getCtx()),this._chart=e;var u=e.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._funnelWidth=a,this._funnelHeight=n,this._startPercent=s,this._valuePercent=o,this._fillPercent=l,this._3dRatio="on"==u.threeDEffect?1:0,this._gap=h;var g=this._getPath();this._dataColor=et.getColor(this._chart,this._seriesIndex,0),this._backgroundColor=u.backgroundColor?u.backgroundColor:u.funnelBackgroundColor,this.setCmds(g.slice),g.bar&&(this._bar=new t.Path(this.getCtx(),g.bar),this.addChild(this._bar),this._bar.setMouseEnabled(!1)),this._setColorProperties(g.sliceBounds),this._label=this._getSliceLabel(g.sliceBounds,g.barBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))},R._FUNNEL_3D_WIDTH_RATIO=.08,R._FUNNEL_ANGLE_2D=36,R._FUNNEL_RATIO=1/3,R._BORDER_COLOR="#FFFFFF",R._MIN_CHARS_DATA_LABEL=3,R._LINE_FRACTION=2/3,R._AREA_FRACTION=.41,R._HEIGHT_FRACTION=.28,R._LINE_FRACTION_2=.4,R._AREA_FRACTION_2=.8,R._HEIGHT_FRACTION_2=.7,R.prototype._getPath=function(){var e=t.Agent.isRightToLeft(this.getCtx()),i=Q.getSeriesCount(this._chart),r=(this._numDrawnSeries+1)*this._gap,a=t.Math.degreesToRads(R._FUNNEL_ANGLE_2D-2*this._3dRatio),n=this._funnelWidth-i*this._gap,s=n/Math.sin(t.Math.degreesToRads(R._FUNNEL_ANGLE_2D)),o=this._funnelHeight/Math.sin(a),l=this._3dRatio*this._funnelWidth/this._funnelHeight*R._FUNNEL_3D_WIDTH_RATIO;l<1e-5&&(l=0);var h,u,g,d,c,p,_,f,v,m,S,C,y=this._funnelHeight,x=this._funnelHeight*R._FUNNEL_RATIO;this._startPercent<R._AREA_FRACTION?(h=this._startPercent,g=y,c=this._funnelHeight*R._LINE_FRACTION,_=R._AREA_FRACTION,v=n*R._HEIGHT_FRACTION,S=n*(1-R._HEIGHT_FRACTION)):this._startPercent<R._AREA_FRACTION_2?(h=this._startPercent-R._AREA_FRACTION,g=this._funnelHeight*R._LINE_FRACTION,c=this._funnelHeight*R._LINE_FRACTION_2,_=R._AREA_FRACTION_2-R._AREA_FRACTION,v=n*(R._HEIGHT_FRACTION_2-R._HEIGHT_FRACTION),S=n*(1-R._HEIGHT_FRACTION_2)):(h=this._startPercent-R._AREA_FRACTION_2,g=this._funnelHeight*R._LINE_FRACTION_2,c=x,_=1-R._AREA_FRACTION_2,v=n*(1-R._HEIGHT_FRACTION_2),S=0),this._startPercent+this._valuePercent<R._AREA_FRACTION?(d=y,p=this._funnelHeight*R._LINE_FRACTION,u=this._startPercent+this._valuePercent,f=R._AREA_FRACTION,m=n*R._HEIGHT_FRACTION,C=n*(1-R._HEIGHT_FRACTION)):this._startPercent+this._valuePercent<R._AREA_FRACTION_2?(d=this._funnelHeight*R._LINE_FRACTION,p=this._funnelHeight*R._LINE_FRACTION_2,u=this._startPercent+this._valuePercent-R._AREA_FRACTION,f=R._AREA_FRACTION_2-R._AREA_FRACTION,m=n*(R._HEIGHT_FRACTION_2-R._HEIGHT_FRACTION),C=n*(1-R._HEIGHT_FRACTION_2)):(d=this._funnelHeight*R._LINE_FRACTION_2,p=x,u=this._startPercent+this._valuePercent-R._AREA_FRACTION_2,f=1-R._AREA_FRACTION_2,m=n*(1-R._HEIGHT_FRACTION_2),C=0);var A,b,M,T=Math.sqrt((_-h)/_*g*g+h/_*c*c),I=Math.sqrt((f-u)/f*d*d+u/f*p*p),O=.98*Math.asin(((T-c)*v/(g-c)+S)/s),D=.98*Math.asin(((I-p)*m/(d-p)+C)/s),E=(1+R._FUNNEL_RATIO)/2*this._funnelHeight+o,P=(1-R._FUNNEL_RATIO)/2*this._funnelHeight-o;e?(A=[s*Math.sin(O)+r,E-o*Math.cos(O),s*Math.sin(D)+r,E-o*Math.cos(D),s*Math.sin(D)+r,P+o*Math.cos(D),s*Math.sin(O)+r,P+o*Math.cos(O)],b=0,M=1):(A=[this._funnelWidth-r-s*Math.sin(O),E-o*Math.cos(O),this._funnelWidth-r-s*Math.sin(D),E-o*Math.cos(D),this._funnelWidth-r-s*Math.sin(D),P+o*Math.cos(D),this._funnelWidth-r-s*Math.sin(O),P+o*Math.cos(O)],b=1,M=0);var L=t.PathUtils.moveTo(A[0],A[1]),w=null;L+=t.PathUtils.arcTo(l*(A[1]-A[7])/2,(A[1]-A[7])/2,Math.PI,M,A[6],A[7]),L+=t.PathUtils.arcTo(l*(A[1]-A[7])/2,(A[1]-A[7])/2,Math.PI,M,A[0],A[1]),L+=t.PathUtils.arcTo(s,o,a,b,A[2],A[3]),L+=t.PathUtils.arcTo(l*(A[3]-A[5])/2,(A[3]-A[5])/2,Math.PI,M,A[4],A[5]),L+=t.PathUtils.arcTo(s,o,a,b,A[6],A[7]);var B=new t.Rectangle(Math.min(A[0],A[2]),A[5],Math.abs(A[0]-A[2]),Math.abs(A[3]-A[5]));if(null!=this._fillPercent){var k=Math.max(Math.min(this._fillPercent,1),0),F=e?-k*Math.PI:k*Math.PI;w=t.PathUtils.moveTo(A[0],A[1]),w+=t.PathUtils.arcTo(s,o,a,b,A[2],A[3]),w+=t.PathUtils.arcTo(l*(A[3]-A[5])/2,(A[3]-A[5])/2,F,M,A[2]+l*(A[3]-A[5])/2*Math.sin(F),(A[5]+A[3])/2+(A[3]-A[5])/2*Math.cos(F)),this._fillPercent>.95?w+=t.PathUtils.arcTo(s,o,a,b,A[6],A[1]+k*(A[7]-A[1])):this._fillPercent<.05?w+=t.PathUtils.arcTo(s,o,a,M,A[6],A[1]+k*(A[7]-A[1])):w+=t.PathUtils.lineTo(A[6]+l*(A[1]-A[7])/2*Math.sin(F),(A[7]+A[1])/2+(A[1]-A[7])/2*Math.cos(F)),w+=t.PathUtils.arcTo(l*(A[1]-A[7])/2,(A[1]-A[7])/2,F,b,A[0],A[1]),w+=t.PathUtils.closePath();var N=new t.Rectangle(Math.min(A[0],A[2]),A[5]+Math.abs(A[3]-A[5])*(1-k),Math.abs(A[0]-A[2]),Math.abs(A[3]-A[5])*k)}return{slice:L,bar:w,sliceBounds:B,barBounds:w?N:B}},R.prototype._getSliceLabel=function(e,i){var r=Q.getDataLabel(this._chart,this._seriesIndex,0);if(r||(r=Q.getSeriesLabel(this._chart,this._seriesIndex)),r&&"none"!=et.getDataLabelPosition(this._chart,this._seriesIndex,0)){var a=new t.MultilineText(this.getCtx(),r,0,0),n=null!=et.getPattern(this._chart,this._seriesIndex,0),s=[this._chart.getOptions().styleDefaults.dataLabelStyle,new t.CSSStyle(Q.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],o=t.CSSStyle.mergeStyles(s);if(a.setCSSStyle(o),t.TextUtils.fitText(a,e.h-this._3dRatio*(.8-this._valuePercent)*50,e.w,this,R._MIN_CHARS_DATA_LABEL)){var l=a.getDimensions(),h=this._getLabelPosition(e);if(n){var u=.15*l.h,g=t.Agent.isRightToLeft(this.getCtx())?.5:-.5,d=t.PathUtils.roundedRectangle(l.x-u,l.y,l.w+2*u,l.h,2,2,2,2),c=new t.Path(this.getCtx(),d);c.setSolidFill("#FFFFFF",.9),h=h.translate(g*l.h,-g*l.w),c.setMatrix(h),this.addChild(c)}var p=n?"#000000":i.containsPoint(e.x,e.y+(e.h-l.w)/2)?t.ColorUtils.getContrastingTextColor(this._dataColor):t.ColorUtils.getContrastingTextColor(this._backgroundColor);return o.getStyle("color")&&!t.Agent.isHighContrast()||a.setCSSStyle(o.setStyle("color",p)),a.setMatrix(this._getLabelPosition(e)),a.alignCenter(),a.alignMiddle(),a}}},R.prototype._getLabelPosition=function(e){var i=this._3dRatio*(e.h*this._funnelWidth/this._funnelHeight*R._FUNNEL_3D_WIDTH_RATIO/2),r=new t.Matrix;return r=t.Agent.isRightToLeft(this.getCtx())?(r=r.rotate(Math.PI/2)).translate(e.x+e.w/2-i,e.y+e.h/2):(r=r.rotate(3*Math.PI/2)).translate(e.x+e.w/2+i,e.y+e.h/2)},R.prototype._setColorProperties=function(e){var i=tt.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,e),r=et.getBorderColor(this._chart,this._seriesIndex,0);null==r&&this._3dRatio>0&&(r=R._BORDER_COLOR);var a=et.getBorderWidth(this._chart,this._seriesIndex,0),n=t.SelectionEffectUtils.getHoverBorderColor(this._dataColor),s=tt.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._backgroundColor,e,!0);this._bar?(this.setFill(s),this._bar.setFill(i),this._bar.setStyle(et.getStyle(this._chart,this._seriesIndex,0)),this._bar.setClassName(et.getClassName(this._chart,this._seriesIndex,0))):(this.setFill(i),this.setStyle(et.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(et.getClassName(this._chart,this._seriesIndex,0))),r&&this.setSolidStroke(r,null,a),this.OriginalStroke=this.getStroke();var o=null!=this._bar?this._bar:this;if(o.setHoverStroke(new t.Stroke(n,1,2)),this._chart.isSelectionSupported()){var l=et.getSelectedInnerColor(this._chart),h=et.getSelectedOuterColor(this._chart)?et.getSelectedOuterColor(this._chart):this._dataColor;o.setSelectedStroke(new t.Stroke(l,1,1.5),new t.Stroke(h,1,4.5)),o.setSelectedHoverStroke(new t.Stroke(l,1,1.5),new t.Stroke(n,1,4.5)),this.setCursor(t.SelectionEffectUtils.getSelectingCursor())}},R.prototype.getAnimationParams=function(){return[this._startPercent,this._valuePercent,this._fillPercent,this.getAlpha(),this._3dRatio]},R.prototype.setAnimationParams=function(t){this._startPercent=t[0],this._valuePercent=t[1],this._fillPercent=null!=this._fillPercent?t[2]:null,this.setAlpha(t[3]),this._3dRatio=t[4];var e=this._getPath();this.setCmds(e.slice),e.bar&&this._bar&&this._bar.setCmds(e.bar),this._label&&this._label.setMatrix(this._getLabelPosition(e.sliceBounds))},R.prototype.setSelected=function(t){if(null!=this._bar){if(this.IsSelected==t)return;this.IsSelected=t,this._bar.setSelected(t)}else R.superclass.setSelected.call(this,t);var e=this.getDimensions(),i=null!=this._bar?this._bar:this,r=e.w;t?(i.setScaleX((r-3)/r),i.setTranslateX(Math.ceil(1.5)+3/r*e.x)):(i.setScaleX(1),i.setTranslateX(0))},R.prototype.showHoverEffect=function(){null!=this._bar?this._bar.showHoverEffect():R.superclass.showHoverEffect.call(this)},R.prototype.hideHoverEffect=function(){null!=this._bar?this._bar.hideHoverEffect():R.superclass.hideHoverEffect.call(this)},R.prototype.copyShape=function(){return new R(this._chart,this._seriesIndex,this._numDrawnSeries,this._funnelWidth,this._funnelHeight,this._startPercent,this._valuePercent,this._fillPercent,this._gap)};var B=function(t,e,i,r,a,n,s,o){this.Init(t,e,i,r,a,n,s,o)};t.Obj.createSubclass(B,t.Path),B.prototype.Init=function(e,i,r,a,n,s,o,l){B.superclass.Init.call(this,e.getCtx()),this._chart=e;var h=e.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._pyramidWidth=a,this._pyramidHeight=n,this._startPercent=s,this._valuePercent=o,this._3dRatio="on"==h.threeDEffect?1:0,this._gap=l;var u=this._getPath();this._dataColor=et.getColor(this._chart,this._seriesIndex,0),this._3dRatio>0?(this.setCmds(u.threeDPathTop),this._threeDPathSide=new t.Path(this.getCtx(),u.threeDPathSide),this._mainFace=new t.Path(this.getCtx(),u.slice),this.addChild(this._threeDPathSide),this.addChild(this._mainFace)):this.setCmds(u.slice),this._setColorProperties(u.sliceBounds),this._label=this._getSliceLabel(u.sliceBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))},B._BORDER_COLOR="#FFFFFF",B._MIN_CHARS_DATA_LABEL=3,B._SLICE_LABEL_HORIZONTAL_PADDING=4,B._3D_WIDTH_FACTOR=.2,B.prototype._getPath=function(){var e,i,r,a,n,s,o=t.Agent.isRightToLeft(this.getCtx()),l=Q.getSeriesCount(this._chart),h=(l-this._numDrawnSeries-1)*this._gap,u=this._3dRatio*B._3D_WIDTH_FACTOR*.98*this._pyramidWidth,g=this._chart.getOptions(),d=Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent)),c=this._startPercent+this._valuePercent>=1?0:Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent-this._valuePercent)),p=.98*(1-this._3dRatio*B._3D_WIDTH_FACTOR)*this._pyramidWidth*(c/this._pyramidHeight),_=0==this._numDrawnSeries?d:d-this._gap,f=.98*(1-this._3dRatio*B._3D_WIDTH_FACTOR)*this._pyramidWidth*(_/this._pyramidHeight);if(o?(i=[this._pyramidWidth-.5*this._pyramidWidth+u/2-p/2,h+c],a=[this._pyramidWidth-.5*this._pyramidWidth+u/2-f/2,h+d],r=[this._pyramidWidth-.5*this._pyramidWidth+u/2+f/2,h+d],e=[this._pyramidWidth-.5*this._pyramidWidth+u/2+p/2,h+c]):(e=[.5*this._pyramidWidth-u/2-p/2,h+c],r=[.5*this._pyramidWidth-u/2-f/2,h+d],a=[.5*this._pyramidWidth-u/2+f/2,h+d],i=[.5*this._pyramidWidth-u/2+p/2,h+c]),"on"==g.styleDefaults.threeDEffect){var v=this._3dRatio*B._3D_WIDTH_FACTOR*f*Math.sqrt(2)/2,m=this._3dRatio*B._3D_WIDTH_FACTOR*p*Math.sqrt(2)/2;n=t.PathUtils.moveTo(i[0],i[1]),n+=t.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(m,1),i[1]-Math.max(m,.5)),n+=t.PathUtils.lineTo(e[0]+(o?-1:1)*Math.max(m,1),e[1]-Math.max(m,.5)),n+=t.PathUtils.lineTo(e[0],e[1]),n+=t.PathUtils.closePath(),s=t.PathUtils.moveTo(i[0],i[1]),s+=t.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(m,1),i[1]-Math.max(m,.5)),s+=t.PathUtils.lineTo(a[0]+(o?-1:1)*v,a[1]-v),s+=t.PathUtils.lineTo(a[0],a[1]),s+=t.PathUtils.closePath()}var S=t.PathUtils.moveTo(i[0],i[1]);S+=t.PathUtils.lineTo(a[0],a[1]),S+=t.PathUtils.lineTo(r[0],r[1]),S+=t.PathUtils.lineTo(e[0],e[1]),S+=t.PathUtils.closePath();var C=p/f,y=.5*Math.abs(e[1]-r[1])*(1+C),x=.5*Math.abs(a[0]-r[0])*(1+C)-B._SLICE_LABEL_HORIZONTAL_PADDING,A=r[1]-y,b=r[0]+(f-x)/2*(o?-1:1);return{slice:S,sliceBounds:new t.Rectangle(b,A,x,y),threeDPathTop:n,threeDPathSide:s}},B.prototype._getSliceLabel=function(e){var i=Q.getDataLabel(this._chart,this._seriesIndex,0);if(i||(i=Q.getSeriesLabel(this._chart,this._seriesIndex)),i&&"none"!=et.getDataLabelPosition(this._chart,this._seriesIndex,0)){var r=new t.MultilineText(this.getCtx(),i,0,0),a=null!=et.getPattern(this._chart,this._seriesIndex,0),n=[this._chart.getOptions().styleDefaults.dataLabelStyle,new t.CSSStyle(Q.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],s=t.CSSStyle.mergeStyles(n);if(r.setCSSStyle(s),t.TextUtils.fitText(r,e.w,e.h,this,B._MIN_CHARS_DATA_LABEL)){var o=r.getDimensions(),l=this._getLabelPosition(e);if(a){var h=.15*o.h,u=t.PathUtils.roundedRectangle(o.x-h,o.y,o.w+2*h,o.h,2,2,2,2),g=new t.Path(this.getCtx(),u);g.setSolidFill("#FFFFFF",.9),l=l.translate(-.5*o.w,-.5*o.h),g.setMatrix(l),this.addChild(g)}var d=a?"#000000":e.containsPoint(e.x+(e.w-o.w)/2,e.y)?t.ColorUtils.getContrastingTextColor(this._dataColor):t.ColorUtils.getContrastingTextColor(null);return s.getStyle("color")&&!t.Agent.isHighContrast()||r.setCSSStyle(s.setStyle("color",d)),r.setMatrix(this._getLabelPosition(e)),r.alignCenter(),r.alignMiddle(),r}}},B.prototype._getLabelPosition=function(e){var i=new t.Matrix;return i=t.Agent.isRightToLeft(this.getCtx())?i.translate(e.x-e.w/2,e.y+e.h/2):i.translate(e.x+e.w/2,e.y+e.h/2)},B.prototype._setColorProperties=function(e){var i=tt.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,e),r=et.getBorderColor(this._chart,this._seriesIndex,0);null==r&&this._3dRatio>0&&(r=B._BORDER_COLOR);var a=et.getBorderWidth(this._chart,this._seriesIndex,0),n=t.SelectionEffectUtils.getHoverBorderColor(this._dataColor);if(this._3dRatio>0){var s=!i.getPattern&&!i.getAlphas;this._mainFace.setFill(i),this._mainFace.setStyle(et.getStyle(this._chart,this._seriesIndex,0)),this._mainFace.setClassName(et.getClassName(this._chart,this._seriesIndex,0)),this._threeDPathSide.setFill(s?new t.SolidFill(t.ColorUtils.getDarker(i.getColor(),.3)):i),this._threeDPathSide.setStyle(et.getStyle(this._chart,this._seriesIndex,0)),this._threeDPathSide.setClassName(et.getClassName(this._chart,this._seriesIndex,0)),this.setFill(s?new t.SolidFill(t.ColorUtils.getDarker(i.getColor(),.3)):i),this.setStyle(et.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(et.getClassName(this._chart,this._seriesIndex,0))}else this.setFill(i),this.setStyle(et.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(et.getClassName(this._chart,this._seriesIndex,0));if(r&&(this.setSolidStroke(r,null,a),this._3dRatio>0&&(this._threeDPathSide.setSolidStroke(r,null,a),this._mainFace.setSolidStroke(r,null,a))),this.OriginalStroke=this.getStroke(),this.setHoverStroke(new t.Stroke(n,1,2)),this._3dRatio>0&&(this._threeDPathSide.setHoverStroke(new t.Stroke(n,1,2)),this._mainFace.setHoverStroke(new t.Stroke(n,1,2))),this._chart.isSelectionSupported()){var o=et.getSelectedInnerColor(this._chart),l=et.getSelectedOuterColor(this._chart)?et.getSelectedOuterColor(this._chart):this._dataColor;this._3dRatio>0?(this._mainFace.setSelectedStroke(new t.Stroke(o,1,1.5),new t.Stroke(l,1,4.5)),this._mainFace.setSelectedHoverStroke(new t.Stroke(o,1,1.5),new t.Stroke(n,1,4.5)),this._mainFace.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this._threeDPathSide.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this.setCursor(t.SelectionEffectUtils.getSelectingCursor())):(this.setSelectedStroke(new t.Stroke(o,1,1.5),new t.Stroke(l,1,4.5)),this.setSelectedHoverStroke(new t.Stroke(o,1,1.5),new t.Stroke(n,1,4.5)),this.setCursor(t.SelectionEffectUtils.getSelectingCursor()))}},B.prototype.getAnimationParams=function(){return[this._startPercent,this._valuePercent,this.getAlpha(),this._3dRatio]},B.prototype.setAnimationParams=function(t){this._startPercent=t[0],this._valuePercent=t[1],this.setAlpha(t[2]),this._3dRatio=t[3];var e=this._getPath();this._threeDPathSide&&this._mainFace?(this.setCmds(e.threeDPathTop),this._threeDPathSide.setCmds(e.threeDPathSide),this._mainFace.setCmds(e.slice)):this.setCmds(e.slice),this._label&&this._label.setMatrix(this._getLabelPosition(e.sliceBounds))},B.prototype.setSelected=function(t){if(this._3dRatio>0)if(this._mainFace.setSelected(t),t){var e=this.getDimensions(),i=e.w,r=e.h,a=(i-3)/i,n=(r-5)/r;this._mainFace.setScaleX(a),this._mainFace.setScaleY(n),this._mainFace.setTranslateX(Math.ceil(1.5)+3/i*e.x),this._mainFace.setTranslateY(Math.ceil(2.5)+5/r*e.y)}else this._mainFace.setScaleX(1),this._mainFace.setScaleY(1),this._mainFace.setTranslateX(0),this._mainFace.setTranslateY(0);else B.superclass.setSelected.call(this,t)},B.prototype.showHoverEffect=function(){B.superclass.showHoverEffect.call(this),this._3dRatio>0&&(this._threeDPathSide.showHoverEffect(),this._mainFace.showHoverEffect())},B.prototype.hideHoverEffect=function(){B.superclass.hideHoverEffect.call(this),this._3dRatio>0&&(this._threeDPathSide.hideHoverEffect(),this._mainFace.hideHoverEffect())},B.prototype.copyShape=function(){return new B(this._chart,this._seriesIndex,this._numDrawnSeries,this._pyramidWidth,this._pyramidHeight,this._startPercent,this._valuePercent,this._gap)},B.prototype.getPrimaryFill=function(){return this._mainFace?this._mainFace.getFill():this.getFill()};var k=function(t,e,i,r){this.Init(t,e,i,r)};k._THREED_TILT=.59,k._THREED_DEPTH=.1,k._RADIUS=.45,k._RADIUS_LABELS=.38,k._MIN_ARC_LENGTH=1.5,t.Obj.createSubclass(k,t.Container),k.prototype.Init=function(e,i,r,a){k.superclass.Init.call(this,e.getCtx()),this.chart=e,this._options=e.getOptions(),this._frame=i.clone(),e.pieChart=this;for(var n=this.getLabelPosition(),s=Q.getSeriesCount(e),o=0;o<s;o++){var l=Q.getDataItem(e,o,0);!l||"center"!=n&&"none"!=n||"outsideSlice"!=l.labelPosition||(n="outsideSlice")}this._center=new t.Point(i.x+Math.floor(i.w/2),i.y+Math.floor(i.h/2));var h="center"==n||"none"==n?k._RADIUS:k._RADIUS_LABELS;this._radiusX=Math.floor(Math.min(i.w,i.h)*h),this._radiusY=this._radiusX,this._depth=0,this._anchorOffset=90,this.is3D()&&(this._depth=i.h*k._THREED_DEPTH,this._center.y-=Math.floor(this._depth/2),this._radiusY*=k._THREED_TILT),this._slices=this._createSlices(),this._centerLabel=null,this._shapesContainer=new t.Container(this.getCtx()),this._numFrontObjs=0,this._numSelectedObjsInFront=0},k.prototype.getOptions=function(){return this._options},k.prototype.highlight=function(e){t.CategoryRolloverHandler.highlight(e,this._slices,"any"==this.getOptions().highlightMatch)},k.prototype._createSlices=function(){for(var e,i,r=[],a=st.getRenderedSeriesIndices(this.chart),n=st.getOtherValue(this.chart),s=0;s<a.length;s++)if(i=a[s],et.isDataItemRendered(this.chart,i)){var o=(e=new F(this,i)).getValue();null==o||o<=0||r.push(e)}var l=et.getHiddenCategories(this.chart).indexOf(st.OTHER_SLICE_SERIES_ID)>=0;if(n>0&&!l){var h=new F(this);"ascending"==this.chart.getOptions().sorting?r.unshift(h):r.push(h)}return t.Agent.isRightToLeft(this.getCtx())&&r.reverse(),r},k.prototype.setInitialSelection=function(){var t=this.chart.getSelectionHandler();if(t){for(var e=Q.getInitialSelection(this.chart),i=[],r=0;r<e.length;r++)for(var a=0;a<this._slices.length;a++){var n=this._slices[a].getId();null!=n&&(null!=e[r].id&&n.id==e[r].id||n.series==e[r].series&&n.group==e[r].group)&&i.push(n)}if(st.isOtherSliceSelected(this.chart,e)){var s=st.getOtherSliceId(this.chart);i.push(s)}t.processInitialSelections(i,this._slices)}},k.prototype.render=function(){J.addPlotAreaDnDBackground(this.chart,this,this._frame,!0),this.contains(this._shapesContainer)||(this._shapesContainer||(this._shapesContainer=new t.Container(this.getCtx())),this.addChild(this._shapesContainer)),k._layoutSlices(this._slices,this._anchorOffset);for(var e=2*Math.PI*this.getRadiusX(),i=0,r={},a=this.chart.getOptionsCache().getFromCache("hasLargeSeriesCount"),n=0;n<this._slices.length;n++){if(a){var s=this._slices[n].getAngleExtent(),o=s/360*e,l=(this._slices[n].getAngleStart()+s)/360*e;if(o<k._MIN_ARC_LENGTH&&Math.abs(i-l)<k._MIN_ARC_LENGTH){r[this._slices[n].getSeriesIndex()]=!0;continue}i=l}this._slices[n].preRender()}var h=k._orderSlicesForRendering(this._slices);this._duringDisplayAnim||(ht.createPieCenter(this),ht.layoutLabelsAndFeelers(this));for(n=0;n<h.length;n++)r[h[n].getSeriesIndex()]||h[n].render(this._duringDisplayAnim);"safari"!==t.Agent.browser&&t.Agent.browser,this.setInitialSelection(),this.highlight(et.getHighlightedCategories(this.chart))},k.prototype.getTotalValue=function(){for(var t=0,e=0;e<this._slices.length;e++){var i=this._slices[e].getValue();i>=0&&(t+=i)}return t},k._layoutSlices=function(t,e){var i,r,a=0,n=t?t.length:0;e>360&&(e-=360),e<0&&(e+=360);var s=0;n>0&&(s=t[0].getPieChart().getTotalValue());for(var o=0;o<n;o++){var l=(i=t[o]).getValue();(r=e-(a=3.6*(l==s?100:0==s?0:Math.min(l/s*100,99.99))))<0&&(r+=360),i.setAngleStart(r),i.setAngleExtent(a),e=i.getAngleStart()}},k._orderSlicesForRendering=function(t){for(var e,i,r,a,n=[],s=t?t.length:0,o=-1,l=0;l<s;l++)if((r=(i=(e=t[l]).getAngleStart())+e.getAngleExtent())>360&&(r-=360),r<0&&(r+=360),90==r||i<90&&r>90){o=l,a=r-90;break}var h=[];for(l=o;l<s;l++)h.push(t[l]);for(l=0;l<o;l++)h.push(t[l]);var u=0,g=0,d=180+a;for(l=0;l<s;l++)if(e=h[l]){if(u+e.getAngleExtent()>d){g=l;break}n.push(e),u+=e.getAngleExtent()}for(l=s-1;l>=g;l--)(e=h[l])&&n.push(e);return n},k.prototype.is3D=function(){return"on"==this._options.styleDefaults.threeDEffect},k.prototype.__calcMaxExplodeDistance=function(){var t=.5/k._RADIUS-1;return this._radiusX*t},k.prototype.getAnimationDuration=function(){return et.getAnimationDuration(this.chart)},k.prototype.getDisplayAnimation=function(){this._duringDisplayAnim=!0;var e=new t.DataAnimationHandler(this.getCtx(),this),i=this.getAnimationDuration(),r=F.createFillerSlice(this,this.getTotalValue());this._slices.push(r);var a=new t.CustomAnimation(this.getCtx(),r,i);a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.GetAnimationParams,r.SetAnimationParams,r.getDeletedAnimationParams()),a.setOnEnd(r._removeDeletedSlice,r),e.add(a,0);for(var n=0;n<this._slices.length-1;n++)this._slices[n].animateInsert(e);var s=new t.CustomAnimation(this.getCtx(),this,i);s.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,this._getAnimationParams()),e.add(s,0);var o=[];for(n=0;n<this._slices.length;n++)o=o.concat(this._slices[n].getLabelAndFeeler());var l=new t.AnimFadeIn(this._context,o,i);e.add(l,0),this._setAnimationParams();var h=e.getAnimation(!0);return h.setOnEnd(this._onEnd,this),h},k.prototype._onEnd=function(){this._duringDisplayAnim=!1,this._setAnimationParams()},k.prototype.getCenter=function(){return this._center},k.prototype.getId=function(){return"chart/pie"},k.prototype.getInnerRadius=function(){return this.is3D()?0:this._options.styleDefaults.pieInnerRadius*Math.min(this._radiusX,this._radiusY)*.95},k.prototype.__getFrame=function(){return this._frame},k.prototype.getRadiusX=function(){return this._radiusX},k.prototype.getRadiusY=function(){return this._radiusY},k.prototype.getDepth=function(){return this._depth},k.prototype.getSliceDisplayable=function(t){var e=st.getSliceBySeriesIndex(this.chart,t);return e?e.getTopDisplayable():null},k.prototype.__getShapesContainer=function(){return this._shapesContainer},k.prototype.__getSlices=function(){return this._slices},k.prototype.animateUpdate=function(e,i){var r=new t.DataAnimationHandler(this.getCtx(),this);r.constructAnimation(i.__getSlices(),this.__getSlices());var a=r.getAnimation(!0),n=new t.CustomAnimation(this.getCtx(),this,this.getAnimationDuration());n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,this._getAnimationParams());var s=new t.ParallelPlayable(this.getCtx(),a,n);s.setOnEnd(this._setAnimationParams,this),e.add(s,0),this._setAnimationParams([i.getDepth(),i.getRadiusY(),i.getCenter().y])},k.prototype.animateInsert=function(t){},k.prototype.animateDelete=function(t,e){},k.prototype._getAnimationParams=function(){return[this._depth,this._radiusY,this._center.y]},k.prototype._setAnimationParams=function(t){this.removeChildren(),this._shapesContainer&&this._shapesContainer.destroy(),this._shapesContainer=null,t&&(this._depth=t[0],this._radiusY=t[1],this._center.y=t[2]),this.render()},k.prototype.bringToFrontOfSelection=function(t){var e=t.getPieChart()._shapesContainer;if(e){var i=e.getNumChildren();if(i-this._numFrontObjs>1){e.removeChild(t._topSurface[0]);var r=i-this._numFrontObjs-1;e.addChildAt(t._topSurface[0],r)}}},k.prototype.pushToBackOfSelection=function(t){for(var e=this._slices.length,i=0,r=0;r<e;r++)this._slices[r].isSelected()&&i++;this._numSelectedObjsInFront=i;var a=t.getPieChart()._shapesContainer;if(a){var n=a.getNumChildren()-this._numFrontObjs-1-this._numSelectedObjsInFront;n>=0&&(a.removeChild(t._topSurface[0]),a.addChildAt(t._topSurface[0],n))}},k.prototype.getLabelPosition=function(){return k.parseLabelPosition(this._options.styleDefaults.dataLabelPosition)},k.prototype.getSeriesLabelPosition=function(t){var e=this.getLabelPosition(),i=Q.getDataItem(this.chart,t,0);return i&&i.labelPosition&&(e=i.labelPosition),k.parseLabelPosition(e)},k.parseLabelPosition=function(t){return"center"==t||"inside"==t?"center":"outsideSlice"==t||"outside"==t?"outsideSlice":"none"==t?"none":"auto"},k.prototype.getSkin=function(){return this._options.skin},k.prototype.setCenterLabel=function(t){this._centerLabel=t},k.prototype.getCenterLabel=function(){return this._centerLabel};var F=function(t,e){this.Init(t,e)};t.Obj.createSubclass(F,t.Obj),F.prototype.Init=function(t,e){this._pieChart=t,this._chart=t.chart,this._angleStart=0,this._angleExtent=0,this._topSurface=null,this._leftSurface=null,this._rightSurface=null,this._crustSurface=null,this._explodeOffsetX=0,this._explodeOffsetY=0,this._sliceLabel=null,this._sliceLabelString=null,this._hasFeeler=!1,this._feelerRad=null,this._feelerHoriz=null,this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._selected=!1,this._selecting=!1,this._centerX=this._pieChart.getCenter().x,this._centerY=this._pieChart.getCenter().y,this._radiusX=this._pieChart.getRadiusX(),this._radiusY=this._pieChart.getRadiusY(),this._depth=this._pieChart.getDepth();var i=this._chart.getOptions();if(null!=e){var r=Q.getDataItem(this._chart,e,0);this._value=Q.getValue(this._chart,e,0),this._explode=st.getSliceExplode(this._chart,e),this._fillColor=et.getColor(this._chart,e,0),this._fillPattern=et.getPattern(this._chart,e,0),this._strokeColor=et.getBorderColor(this._chart,e),this._borderWidth=et.getBorderWidth(this._chart,e),this._customLabel=r?r.label:null,this._seriesLabel=Q.getSeries(this._chart,e),this._drillable=J.isDataItemDrillable(this._chart,e,0),this._id=st.getSliceId(this._chart,e),this._seriesIndex=e,this._categories=Q.getCategories(this._chart,e,0)}else this._value=st.getOtherValue(this._chart),this._explode=0,this._fillColor=i.styleDefaults.otherColor,this._fillPattern=null,this._strokeColor=i.styleDefaults.borderColor,this._borderWidth=i.styleDefaults.borderWidth,this._customLabel=null,this._seriesLabel=i.translations.labelOther,this._drillable=!1,this._id=st.getOtherSliceId(this._chart)},F.prototype.getPieChart=function(){return this._pieChart},F.prototype.render=function(e){for(var i=F._sortPieSurfaces(this._topSurface,this._leftSurface,this._rightSurface,this._crustSurface,this._angleStart,this._angleExtent),r=i.length,a=0;a<r;a++)for(var n=i[a],s=n.length,o=0;o<s;o++){this._pieChart.__getShapesContainer().addChild(n[o]),n[o].render&&n[o].render()}if(this._sliceLabel&&(this._pieChart.addChild(this._sliceLabel),ot.associate(this,[this._sliceLabel]),e?(this._pieChart.addChild(this._feelerRad),this._pieChart.addChild(this._feelerHoriz)):this._renderOutsideFeeler()),this._explodeSlice(),this._drillable||this._pieChart.chart.isSelectionSupported()){var l=this.getDisplayables();for(a=0;a<l.length;a++)l[a].setCursor(t.SelectionEffectUtils.getSelectingCursor())}var h=this.getTopDisplayable();h&&(h.setAriaRole("img"),this._updateAriaLabel())},F.prototype._feelerFromPts=function(e,i){var r=new t.Line(this._pieChart.getCtx(),e.x,e.y,i.x,i.y),a=this._pieChart.getOptions().styleDefaults.pieFeelerColor,n=new t.Stroke(a);return r.setStroke(n),this._pieChart.addChild(r),r},F.prototype._renderOutsideFeeler=function(){if(this._hasFeeler){var t=this._feelerFromPts(this._outsideFeelerStart,this._outsideFeelerMid),e=this._feelerFromPts(this._outsideFeelerMid,this._outsideFeelerEnd);this._feelerRad=t,this._feelerHoriz=e}},F.prototype.preRender=function(){var e,i=this._bFillerSlice?"color":et.getSeriesEffect(this._chart),r=this.getFillColor(),a=this.getFillPattern();if("pattern"==i||null!=a)e=new t.PatternFill(a,r),i="pattern";else if("gradient"==i){var n=this._pieChart.is3D()?"3D":"2D",s=ot.getGradientColors(t.ColorUtils.getRGB(r),n),o=ot.getGradientAlphas(t.ColorUtils.getAlpha(r),n),l=[Math.floor(this._centerX-this._radiusX),Math.floor(this._centerY-this._radiusY),Math.ceil(2*this._radiusX),Math.ceil(2*this._radiusY)];e=new t.LinearGradientFill(270,s,o,[0,1],l)}else e=new t.SolidFill(r);if(this._topSurface=ot.createTopSurface(this,e),this._depth>0||this._radiusX!=this._radiusY){var h="gradient"==i,u=new t.SolidFill(t.ColorUtils.getDarker(r,.4)),g=h?ot.generateLateralGradientFill(this,ot.SIDE):u,d=h?ot.generateLateralGradientFill(this,ot.CRUST):u;this._leftSurface=ot.createLateralSurface(this,ot.SURFACE_LEFT,g),this._rightSurface=ot.createLateralSurface(this,ot.SURFACE_RIGHT,g),this._crustSurface=ot.createLateralSurface(this,ot.SURFACE_CRUST,d)}this.setSliceLabel(null),this.setNoOutsideFeeler()},F._sortPieSurfaces=function(t,e,i,r,a,n){var s=[];return e&&i&&r&&(a<=270&&a+n>270?(s.push(e),s.push(i),s.push(r)):a>270||a+n<=90?(s.push(e),s.push(r),s.push(i)):(s.push(i),s.push(r),s.push(e))),s.push(t),s},F.oppositeDirection=function(t,e,i){return t-e>0!=t-i>0},F.prototype._explodeSlice=function(){if(0!=this._explode){var e=this._angleExtent,i=(360-(this._angleStart+e/2))*t.Math.RADS_PER_DEGREE,r=this._pieChart.is3D()?k._THREED_TILT:1,a=this._explode*this._pieChart.__calcMaxExplodeDistance();this._explodeOffsetX=Math.cos(i)*a,this._explodeOffsetY=Math.sin(i)*r*a,"safari"!==t.Agent.browser&&"chrome"!==t.Agent.browser||(this._explodeOffsetX=Math.round(this._explodeOffsetX),this._explodeOffsetY=Math.round(this._explodeOffsetY))}else this._explodeOffsetX=0,this._explodeOffsetY=0;if(this._topSurface){var n=this._pieChart.is3D()&&this._topSurface[0].getSelectionOffset?this._topSurface[0].getSelectionOffset():[];F._translateShapes(this._topSurface,n[0]?n[0]+this._explodeOffsetX:this._explodeOffsetX,n[1]?n[1]+this._explodeOffsetY:this._explodeOffsetY)}if(this._rightSurface&&F._translateShapes(this._rightSurface,this._explodeOffsetX,this._explodeOffsetY),this._leftSurface&&F._translateShapes(this._leftSurface,this._explodeOffsetX,this._explodeOffsetY),this._crustSurface&&F._translateShapes(this._crustSurface,this._explodeOffsetX,this._explodeOffsetY),this._hasFeeler){var s=this._outsideFeelerStart.x,o=this._outsideFeelerStart.y,l=s+this._explodeOffsetX,h=o+this._explodeOffsetY;this._feelerRad.setX1(l),this._feelerRad.setY1(h);var u=this._outsideFeelerMid.x,g=this._outsideFeelerMid.y;F.oppositeDirection(u,s,l)?(this._feelerRad.setX2(l),this._feelerHoriz.setX1(l)):(this._feelerRad.setX2(u),this._feelerHoriz.setX1(u)),F.oppositeDirection(g,o,h)?(this._feelerRad.setY2(h),this._feelerHoriz.setY1(h)):(this._feelerRad.setY2(g),this._feelerHoriz.setY1(g))}this._sliceLabel&&!this._hasFeeler&&this._sliceLabel.setTranslate(this._explodeOffsetX,this._explodeOffsetY)},F._translateShapes=function(t,e,i){if(t)for(var r=t.length,a=0;a<r;a++){t[a].setTranslate(e,i)}},F.prototype.getRadiusX=function(){return this._radiusX},F.prototype.getRadiusY=function(){return this._radiusY},F.prototype.getCenter=function(){return new t.Point(this._centerX,this._centerY)},F.prototype.getDepth=function(){return this._depth},F.prototype.getAngleExtent=function(){return this._angleExtent},F.prototype.setAngleExtent=function(t){this._angleExtent=t},F.prototype.getAngleStart=function(){return this._angleStart},F.prototype.setAngleStart=function(t){this._angleStart=t},F.prototype.__getExplodeOffsetX=function(){return this._explodeOffsetX},F.prototype.__getExplodeOffsetY=function(){return this._explodeOffsetY},F.prototype.setOutsideFeelerPoints=function(t,e,i){this._outsideFeelerStart=t,this._outsideFeelerMid=e,this._outsideFeelerEnd=i,this._hasFeeler=!0},F.prototype.setNoOutsideFeeler=function(){this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._hasFeeler=!1},F.prototype.getLabelAndFeeler=function(){var t=[];return this._sliceLabel&&t.push(this._sliceLabel),this._feelerRad&&t.push(this._feelerRad),this._feelerHoriz&&t.push(this._feelerHoriz),t},F.prototype.getSliceLabel=function(){return this._sliceLabel},F.prototype.setSliceLabel=function(t){this._sliceLabel=t},F.prototype.getSliceLabelString=function(){return this._sliceLabelString},F.prototype.setSliceLabelString=function(t){this._sliceLabelString=t},F.prototype.getTopSurface=function(){return this._topSurface},F.prototype.getValue=function(){return this._value},F.prototype.getId=function(){return this._id},F.prototype.getSeriesIndex=function(){return this._seriesIndex},F._shapeIsSelectable=function(t){return t instanceof y},F.prototype.contains=function(t,e){for(var i=this._pieChart.getInnerRadius(),r=this._pieChart.getCenter(),a=(t-r.x)/this._radiusX,n=(e-r.y)/this._radiusY,s=-Math.atan2(n,a)*(180/Math.PI);s<this._angleStart;)s+=360;for(;s-this._angleStart>=360;)s-=360;var o=Math.pow(a,2)+Math.pow(n,2),l=Math.sqrt(o)>i/this._radiusX&&o<=1,h=s<=this._angleStart+this._angleExtent;return l&&h},F.prototype.GetAnimationParams=function(){var e=t.ColorUtils.getRed(this._fillColor),i=t.ColorUtils.getGreen(this._fillColor),r=t.ColorUtils.getBlue(this._fillColor),a=t.ColorUtils.getAlpha(this._fillColor);return[this._value,this._radiusX,this._radiusY,this._explode,this._centerX,this._centerY,this._depth,e,i,r,a]},F.prototype.SetAnimationParams=function(e){this._value=e[0],this._radiusX=e[1],this._radiusY=e[2],this._explode=e[3],this._centerX=e[4],this._centerY=e[5],this._depth=e[6];var i=Math.round(e[7]),r=Math.round(e[8]),a=Math.round(e[9]),n=Math.round(e[10]);this._fillColor=t.ColorUtils.makeRGBA(i,r,a,n)},F.prototype.getDeletedAnimationParams=function(){var t=this.GetAnimationParams();return t[0]=0,t[1]=this.getInnerRadius(),t[2]=this.getInnerRadius(),t[3]=0,t},F.prototype.animateUpdate=function(e,i){var r=i.GetAnimationParams(),a=this.GetAnimationParams();if(!t.ArrayUtils.equals(r,a)){var n=new t.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimationDuration());n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,a),e.add(n,0),this.SetAnimationParams(r)}},F.prototype.animateInsert=function(e){var i=new t.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimationDuration());i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,this.GetAnimationParams()),e.add(i,0),this.SetAnimationParams(this.getDeletedAnimationParams())},F.prototype.animateDelete=function(e,i){var r=i.__getSlices(),a=this.getPieChart().__getSlices(),n=a.indexOf(this)-1;if(n>=0){for(var s=a[n].getId(),o=0;o<r.length;o++)if(r[o].getId().equals(s)){r.splice(o+1,0,this);break}}else r.splice(0,0,this);this._pieChart=i;var l=new t.CustomAnimation(i.getCtx(),this,this.getPieChart().getAnimationDuration());l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,this.getDeletedAnimationParams()),l.setOnEnd(this._removeDeletedSlice,this),e.add(l,0)},F.prototype._removeDeletedSlice=function(){var t=this.getPieChart().__getSlices(),e=t.indexOf(this);e>=0&&t.splice(e,1)},F.prototype.getDisplayables=function(){var t=new Array;return this._topSurface&&(t=t.concat(this._topSurface)),this._leftSurface&&(t=t.concat(this._leftSurface)),this._rightSurface&&(t=t.concat(this._rightSurface)),this._crustSurface&&(t=t.concat(this._crustSurface)),this._sliceLabel&&t.push(this._sliceLabel),this._feelerRad&&t.push(this._feelerRad),this._feelerHoriz&&t.push(this._feelerHoriz),t},F.prototype.getAriaLabel=function(){var e,i=this._pieChart.getOptions().translations;e=null==this._seriesIndex?rt.getOtherSliceDatatip(this._chart,this._value,!1):rt.getDatatip(this._chart,this._seriesIndex,0,null,!1);var r=i.labelPercentage,a=ht.generateSlicePercentageString(this);e+="; "+t.ResourceUtils.format(i.labelAndValue,[r,a]);var n=[];return this.isSelectable()&&n.push(i[this.isSelected()?"stateSelected":"stateUnselected"]),J.isDataItemDrillable(this._chart,this._seriesIndex,this._groupIndex)&&n.push(i.stateDrillable),t.Displayable.generateAriaLabel(e,n)},F.prototype._updateAriaLabel=function(){var e=this.getTopDisplayable();e&&!t.Agent.deferAriaCreation()&&e.setAriaProperty("label",this.getAriaLabel())},F.prototype.getTopDisplayable=function(){return this._topSurface&&this._topSurface.length>0?this._topSurface[0]:null},F.prototype.isSelectable=function(){return this._chart.isSelectionSupported()},F.prototype.isSelected=function(){return this._selected},F.prototype.setSelected=function(e,i){if(this._selected=e,this.getTopSurface()){if(this._selected?this._pieChart.bringToFrontOfSelection(this):this._selecting||this._pieChart.pushToBackOfSelection(this),et.isSelectionHighlighted(this._chart))for(var r=this.getDisplayables(),a=0;a<r.length;a++)F._shapeIsSelectable(r[a])&&r[a].setSelected(e);if(et.isSelectionExploded(this._chart)){var n=e?1:0;if(i||"none"==et.getAnimationOnDataChange(this._chart))this.setExplode(n);else{var s=new t.CustomAnimation(this._pieChart.getCtx(),this,this._pieChart.getAnimationDuration()/2);s.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getExplode,this.setExplode,n),s.play()}}this._updateAriaLabel()}},F.prototype.showHoverEffect=function(){this._selecting=!0,this._pieChart.bringToFrontOfSelection(this);for(var t=this.getDisplayables(),e=0;e<t.length;e++)F._shapeIsSelectable(t[e])&&t[e].showHoverEffect()},F.prototype.hideHoverEffect=function(){this._selecting=!1,this._selected||this._pieChart.pushToBackOfSelection(this);for(var t=this.getDisplayables(),e=0;e<t.length;e++)F._shapeIsSelectable(t[e])&&t[e].hideHoverEffect()},F.prototype.getDatatip=function(t,e,i){return t==this._sliceLabel&&this._sliceLabel&&this._sliceLabel.isTruncated()?this.getSliceLabelString():this.getTooltip()},F.prototype.getDatatipColor=function(){return this.getFillColor()},F.prototype.getCategories=function(){return this._categories&&this._categories.length>0?this._categories:[this.getId().series]},F.prototype.getNextNavigable=function(e){var i=e.keyCode;if(e.type==t.MouseEvent.CLICK)return this;if(i==t.KeyboardEvent.SPACE&&e.ctrlKey)return this;var r=t.Agent.isRightToLeft(this._chart.getCtx()),a=this._pieChart.__getSlices(),n=a.indexOf(this),s=null;return i==t.KeyboardEvent.RIGHT_ARROW||i==t.KeyboardEvent.DOWN_ARROW&&!r||i==t.KeyboardEvent.UP_ARROW&&r?s=n<a.length-1?a[n+1]:a[0]:(i==t.KeyboardEvent.LEFT_ARROW||i==t.KeyboardEvent.DOWN_ARROW&&r||i==t.KeyboardEvent.UP_ARROW&&!r)&&(s=0==n?a[a.length-1]:a[n-1]),s},F.prototype.getKeyboardBoundingBox=function(e){var i=this.getDisplayables();return i[0]?i[0].getDimensions(e):new t.Rectangle(0,0,0,0)},F.prototype.getTargetElem=function(){var t=this.getDisplayables();return t[0]?t[0].getElem():null},F.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect()},F.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect()},F.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},F.prototype.isDragAvailable=function(t){return!0},F.prototype.getDragTransferable=function(t,e){return[this.getId()]},F.prototype.getDragFeedback=function(t,e){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],a=0;a<i.length;a++)r=r.concat(i[a].getDisplayables());return r}return this.getDisplayables()},F.prototype.getExplode=function(){return this._explode},F.prototype.setExplode=function(t){this._explode=t,this._explodeSlice()},F.prototype.getCustomLabel=function(){return this._customLabel},F.prototype.getSeriesLabel=function(){return this._seriesLabel},F.prototype.getFillColor=function(){return this._fillColor},F.prototype.getFillPattern=function(){return this._fillPattern},F.prototype.getStrokeColor=function(){return this._strokeColor},F.prototype.getBorderWidth=function(){return this._borderWidth},F.prototype.getSliceGaps=function(){return 0==this._depth?3*et.getDataItemGaps(this._chart):0},F.prototype.getInnerRadius=function(){return this._pieChart.getInnerRadius()},F.prototype.getTooltip=function(){return null==this._seriesIndex?rt.getOtherSliceDatatip(this._chart,this._value,!0):rt.getDatatip(this._chart,this._seriesIndex,0,null,!0)},F.prototype.isDrillable=function(){return this._drillable},F.createFillerSlice=function(t,e){var i=new F(t);return i._value=e,i._bFillerSlice=!0,i._centerX=t.getCenter().x,i._centerY=t.getCenter().y,i._fillColor="rgba(255,255,255,0)",i._strokeColor="rgba(255,255,255,0)",i._id=new s(null,null,null,null),i},F.prototype.getSeriesIndex=function(){return this._seriesIndex};var N=function(){};t.Obj.createSubclass(N,t.Obj),N.createAnimation=function(e,i,r){var a=[];if(at.isBLAC(e))N._animBarLineArea(e,r,a);else if(at.isScatterBubble(e)||at.isFunnel(e)||at.isPyramid(e))N._animBubbleScatterFunnelPyramid(e,r,a);else if(at.isPie(e)&&e.pieChart)return e.pieChart.getDisplayAnimation();return a.length>0?new t.ParallelPlayable(e.getCtx(),a):null},N._animBarLineArea=function(e,i,r){var a=e.getChartObjPeers(),n=a?a.length:0;if(n)for(var s,o,l,h=0;h<n;h++){s=(o=a[h]).getDisplayables()[0];var u=et.getSeriesType(o.getChart(),o.getSeriesIndex());if(l=null,s instanceof b||s instanceof P||s instanceof T||s instanceof M)l=s.getDisplayAnimation(i);else if(s instanceof O)l="line"==u?N._getLinePlayable(e,s,i):N._getAreaPlayable(e,s,i);else if(s instanceof t.SimpleMarker||s instanceof L){if(s instanceof D&&!s.isSelected())continue;l=new t.AnimFadeIn(e.getCtx(),s,i-.8,.8)}l&&r.push(l)}},N._animBubbleScatterFunnelPyramid=function(e,i,r){var a=e.getObjects(),n=a?a.length:0;if(n)for(var s,o,l=0;l<n;l++)(s=a[l].getDisplayables()[0])instanceof t.SimpleMarker?o=new t.AnimPopIn(e.getCtx(),s,!0,i):(s instanceof R||s instanceof B)&&(o=N._getFunnelPyramidPlayable(e,s,i)),o&&r.push(o)},N._getAreaPlayable=function(e,i,r){var a,n=e.getCtx(),s=i.getBaseline();if(i.isArea()){for(var o=i.getBaseCoords(),l=i.getBaseAnimationParams(),h=l.slice(0),u=0;u<l.length;u++)u%4!=1&&u%4!=2||(l[u]=s);i.setBaseAnimationParams(l),(a=new t.CustomAnimation(n,i,r)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getBaseAnimationParams,i.setBaseAnimationParams,h)}var g=i.getCoords(),d=i.getAnimationParams(),c=d.slice(0);for(u=0;u<d.length;u++)u%4!=1&&u%4!=2||(d[u]=s);i.setAnimationParams(d);var p=new t.CustomAnimation(n,i,r);p.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,c);var _=new t.ParallelPlayable(e.getCtx(),a,p);return _.setOnEnd(function(){i.setCoords(g,o)}),_},N._getFunnelPyramidPlayable=function(e,i,r){var a=e.getCtx(),n=i.getAnimationParams(),s=n.slice(0),o=n.slice(0);n[0]=0,at.isFunnel(e)&&(n[2]=0,s[2]=0),i.setAnimationParams(n);var l=new t.CustomAnimation(a,i,r/2);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,s);var h=new t.CustomAnimation(a,i,r/2);return h.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,o),new t.SequentialPlayable(a,[l,h])},N._getLinePlayable=function(e,i,r){var a=i.getCoords(),n=i.getAnimationParams(),s=n.slice(0);N._getMeanPoints(n),i.setAnimationParams(n);var o=new t.CustomAnimation(e.getCtx(),i,r);return o.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,s),o.setOnEnd(function(){i.setCoords(a)}),o},N._getMeanPoints=function(t){var e,i=0,r=Number.MAX_VALUE,a=Number.MIN_VALUE,n=t.length;for(e=0;e<n;e++){var s=t[e];e%4!=0&&e%4!=3&&s!=1/0&&(s<r&&(r=s),s>a&&(a=s),i+=s)}for(n>8?(i-=2*r,i-=2*a,i/=n/2-4):i/=n/2,e=0;e<n;e++)e%4!=1&&e%4!=2||(t[e]=i)};var H=function(){};t.Obj.createSubclass(H,t.Obj),H.createAnimation=function(e,i,r,a,n){if(!H._canAnimate(e,i))return null;var s,o=i.getCtx(),l=[],h=[];at.isPie(i)?(l.push(e.pieChart),h.push(i.pieChart)):H._buildAnimLists(o,l,e,h,i,a);var u=new t.DataAnimationHandler(o,n);u.constructAnimation(l,h),u.getNumPlayables()>0&&(s=u.getAnimation(!0));var g=i.getDataLabels();if(s&&g.length>0){for(var d=0;d<g.length;d++)g[d].setAlpha(0);s=new t.SequentialPlayable(o,s,new t.AnimFadeIn(o,g,a/4))}return s},H._buildAnimLists=function(e,i,r,a,n,s){var o,l,h,u,g,d=r.getChartObjPeers(),c=i,p=n.getCache().getFromCache("dataFiltered");for(o=0;o<2;o++){var _={},f={};for(l=0;l<d.length;l++){if(g=null,(u=(h=d[l]).getDisplayables()[0])instanceof R)g=new Z(h,s);else if(u instanceof B)g=new K(h,s);else if(u instanceof b||u instanceof P){if(g=new V(h,s),p){var v=h.getSeries();_[v]=_[v]?_[v]+1:1,g.setId(v+"/"+_[v]+"/bar")}}else if(u instanceof O){var m=(g=new Y(h,s)).getId();f[m]=f[m]?f[m]+1:1,g.setId(m+"/"+f[m])}else if(u instanceof t.SimpleMarker){if(u instanceof D&&!u.isSelected())continue;g=new W(h,s)}else if(u instanceof L){if(u.isInvisible()&&!u.isSelected())continue;g=new z(h,s)}else u instanceof T?g=new U(h,s):u instanceof M&&(g=new j(h,s));g&&(c.push(g),g.setOldChart(r))}c=a,d=n.getChartObjPeers()}},H._canAnimate=function(t,e){return at.isPie(t)&&at.isPie(e)?t&&e:at.isPolar(t)==at.isPolar(e)&&(!(!at.isBLAC(t)||!at.isBLAC(e))||(!(!at.isScatterBubble(t)||!at.isScatterBubble(e))||t.getType()==e.getType()))};var G=function(e){this.Options=e.Options,this.Peers=e.Peers,this.SeriesStyleArray=e.SeriesStyleArray,this.Cache=e.Cache,this.pieChart=e.pieChart,this._optionsCache=new t.BaseComponentCache,this._cache=new t.BaseComponentCache};t.Obj.createSubclass(G,t.Chart),G.prototype.getCache=function(){return this._cache},G.prototype.getOptionsCache=function(){return this._optionsCache};var U=function(t,e){this.Init(t,e)};t.Obj.createSubclass(U,t.Obj),U.prototype.animateUpdate=function(t,e){var i=e._shape;this._shape&&this._shape.getUpdateAnimation&&t.add(this._shape.getUpdateAnimation(this._updateDuration,i),1)},U.prototype.animateInsert=function(e){if(this._shape&&this._shape.getInsertAnimation)e.add(this._shape.getInsertAnimation(this._insertDuration),2);else{var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,0)}},U.prototype.animateDelete=function(e,i){if(i.addChild(this._shape),this._shape&&this._shape.getDeleteAnimation)e.add(this._shape.getDeleteAnimation(this._deleteDuration),0);else{var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)}},U.prototype.getId=function(){return this._animId},U.prototype.setId=function(t){this._animId=t},U.prototype.Init=function(t,e){this._peer=t,this._updateDuration=.75*e,this._insertDuration=.5*e,this._deleteDuration=.5*e,this._shape=t.getDisplayables()[0],this._animId=t.getDataItemId()||t.getSeries()+"/"+t.getGroup()},U.prototype.setOldChart=function(t){this._oldChart=t};var V=function(t,e){this.Init(t,e)};t.Obj.createSubclass(V,U),V.prototype.Init=function(t,e){V.superclass.Init.call(this,t,e),this._indicator=null,this._animId+="/bar"},V.prototype.animateInsert=function(t){var e=this._shape.getInsertAnimation(this._insertDuration);t.add(e,2)},V.prototype.animateDelete=function(t,e){e.addChild(this._shape);var i=this._shape.getDeleteAnimation(this._deleteDuration);t.add(i,0)},V.prototype.animateUpdate=function(e,i){var r=this._oldChart,a=this._peer.getChart(),n=at.isHorizontal(r)!=at.isHorizontal(a),s=i._getAnimationParams(n),o=this._getAnimationParams(),l=i._shape.getPrimaryFill(),h=this._shape.getPrimaryFill(),u=i._shape.isSelected()||this._shape.isSelected()||l.equals(h);if(!t.ArrayUtils.equals(s,o)||!l.equals(h)){var g=this._peer.getSeriesIndex(),d=i._peer.getSeriesIndex(),c=this._peer.getGroupIndex(),p=i._peer.getGroupIndex();"none"!==et.getAnimationIndicators(a)&&(this._indicator=X.makeIndicator(r,d,p,a,g,c)),this._setAnimationParams(s),u||this._shape.setFill(l);var _=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);_.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,o),u||_.getAnimator().addProp(t.Animator.TYPE_FILL,this._shape,this._shape.getFill,this._shape.setFill,h),this._indicator&&(_.setOnEnd(this._onEndAnimation,this),this._indicator.setAlpha(0)),e.add(_,1)}},V.prototype._getAnimationParams=function(t){return this._shape.getAnimationParams(t)},V.prototype._setAnimationParams=function(t){this._shape.setAnimationParams(t,this._indicator)},V.prototype._onEndAnimation=function(){this._indicator&&(this._indicator.getParent().removeChild(this._indicator),this._indicator=null)};var j=function(t,e){this.Init(t,e)};t.Obj.createSubclass(j,U),j.prototype.Init=function(t,e){j.superclass.Init.call(this,t,e),this._animId+="/boxAndWhisker"};var Y=function(t,e){this.Init(t,e)};t.Obj.createSubclass(Y,U),Y.prototype.animateUpdate=function(e,i){this._baseCoords=this._shape.getBaseCoords(),this._coords=this._shape.getCoords();var r,a,n=this._shape.isArea(),s=this._oldChart,o=this._chart,l=this._peer.getSeriesIndex(),h=i._peer.getSeriesIndex(),u=this._shape.getCommonGroupIndices(i._shape),g=i._shape.getCommonGroupIndices(this._shape);if(n){var d=i._getBaseAnimationParams(this._shape),c=this._getBaseAnimationParams(i._shape);Y._matchGroupIndices(d,c),t.ArrayUtils.equals(d,c)||(this._setBaseAnimationParams(d),(r=new t.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getBaseAnimationParams,this._setBaseAnimationParams,c))}var p=i._getAnimationParams(this._shape),_=this._getAnimationParams(i._shape);Y._matchGroupIndices(p,_),t.ArrayUtils.equals(p,_)||(this._setAnimationParams(p),(a=new t.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,_));var f=et.getSeriesType(this._peer.getChart(),l);if("none"!==et.getAnimationIndicators(o)&&(!n||"lineWithArea"!=f))for(var v,m,S=0;S<u.length;S++)v=X.getDirection(s,h,g[S],o,l,u[S]),(m=X.makeIndicator(s,h,g[S],o,l,u[S]))&&this._shape.addIndicator(u[S],v,m);if(r||a){var C=new t.ParallelPlayable(this._context,r,a);C.setOnEnd(this._onAnimationEnd,this),e.add(C,1)}},Y.prototype.animateInsert=function(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._context,this._shape,this._insertDuration);e.add(i,2)},Y.prototype.animateDelete=function(e,i){var r;if("area"==et.getSeriesType(this._oldChart,this._peer.getSeriesIndex())){var a=this._chart.__getAreaContainer();if(this._deletedAreas=this._shape.getParent().getParent(),!a)return;a.addChild(this._deletedAreas),(r=new t.AnimFadeOut(this._context,this._deletedAreas,this._deleteDuration)).setOnEnd(this._removeDeletedAreas,this),e.add(r,0)}else i.addChild(this._shape),r=new t.AnimFadeOut(this._context,this._shape,this._deleteDuration),e.add(r,0)},Y.prototype._removeDeletedAreas=function(){var t=this._chart.__getAreaContainer();t&&t.removeChild(this._deletedAreas)},Y.prototype._getAnimationParams=function(t){return this._shape.getAnimationParams(t)},Y.prototype._setAnimationParams=function(t){this._shape.setAnimationParams(t)},Y.prototype._getBaseAnimationParams=function(t){return this._shape.getBaseAnimationParams(t)},Y.prototype._setBaseAnimationParams=function(t){this._shape.setBaseAnimationParams(t)},Y.prototype._onAnimationEnd=function(){this._shape.removeIndicators(),this._shape.setCoords(this._coords,this._baseCoords)},Y._matchGroupIndices=function(t,e){for(var i=3;i<t.length;i+=4)t[i]=e[i]},Y.prototype.Init=function(t,e){Y.superclass.Init.call(this,t,e),this._context=this._shape.getCtx(),this._chart=this._peer.getChart(),this._animId+="/"+(this._shape.isArea()?"area":"line")};var W=function(t,e){this.Init(t,e)};t.Obj.createSubclass(W,U),W.prototype.animateUpdate=function(e,i){var r=i._shape.getCenterDimensions(),a=this._shape.getCenterDimensions();if(!a.equals(r)){this._shape.setCenterDimensions(r);var n=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);n.getAnimator().addProp(t.Animator.TYPE_RECTANGLE,this._shape,this._shape.getCenterDimensions,this._shape.setCenterDimensions,a);var s=this._peer.getChart();if(this.isValueChange(i)&&"none"!=et.getAnimationIndicators(s)&&at.isScatterBubble(s)){var o=i._shape;o.setSolidFill("#FFFF2B",.9),o.setCenterDimensions(r),this._peer.getChart().getPlotArea().addChild(o),n.getAnimator().addProp(t.Animator.TYPE_RECTANGLE,o,o.getCenterDimensions,o.setCenterDimensions,a),n.getAnimator().addProp(t.Animator.TYPE_NUMBER,o,o.getAlpha,o.setAlpha,0),this._overlay=o,n.setOnEnd(this._onEndAnimation,this)}e.add(n,1)}},W.prototype.animateInsert=function(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,2)},W.prototype.animateDelete=function(e,i){i.addChild(this._shape);var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)},W.prototype.isValueChange=function(t){var e=!1;if(t){var i=t._peer.getSeriesIndex(),r=t._peer.getGroupIndex(),a=this._peer.getSeriesIndex(),n=this._peer.getGroupIndex(),s=t._oldChart.getOptions(),o=this._peer.getChart().getOptions(),l=s.series[i].items[r].x,h=s.series[i].items[r].y,u=s.series[i].items[r].z,g=o.series[a].items[n].x,d=o.series[a].items[n].y,c=o.series[a].items[n].z;e=g!==l||d!==h||c!==u}return e},W.prototype._onEndAnimation=function(){this._overlay&&(this._peer.getChart().getPlotArea().removeChild(this._overlay),this._overlay=null)},W.prototype.Init=function(t,e){W.superclass.Init.call(this,t,e),this._animId+="/marker"};var z=function(t,e){this.Init(t,e)};t.Obj.createSubclass(z,U),z.prototype.Init=function(t,e){z.superclass.Init.call(this,t,e),this._animId+="/rangeMarker"},z.prototype.animateInsert=function(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,2)},z.prototype.animateDelete=function(e,i){i.addChild(this._shape);var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)},z.prototype.animateUpdate=function(e,i){var r=i._shape.getAnimationParams(),a=this._shape.getAnimationParams();this._shape.setAnimationParams(r);var n=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._shape,this._shape.getAnimationParams,this._shape.setAnimationParams,a),e.add(n,1)};var X=new Object;t.Obj.createSubclass(X,t.Obj),X.DIR_UP=0,X.DIR_DOWN=1,X.DIR_NOCHANGE=2,X.makeIndicator=function(t,e,i,r,a,n){if(at.isPolar(r))return null;var s=X.getDirection(t,e,i,r,a,n);if(s==X.DIR_NOCHANGE)return null;var o=s===X.DIR_DOWN,l=o?et.getAnimationDownColor(r):et.getAnimationUpColor(r),h=X._drawIndicator(r.getCtx(),o,at.isHorizontal(r),l);return r.getPlotArea().addChild(h),h},X.getDirection=function(t,e,i,r,a,n){var s=Q.getValue(t,e,i),o=Q.getValue(r,a,n);return null==o||null==s||o==s?X.DIR_NOCHANGE:o>s?X.DIR_UP:X.DIR_DOWN},X._drawIndicator=function(e,i,r,a){var n;r?n=(t.Agent.isRightToLeft(e)?!i:i)?"M3.5,-5L3.5,5L-3.5,0L3.5,-5":"M-3.5,-5L-3.5,5L3.5,0L-3.5,-5":n=i?"M-5,-3.5L5,-3.5L0,3.5L-5,-3.5Z":"M-5,3.5L5,3.5L0,-3.5L-5,3.5Z";var s=new t.Path(e,n);return s.setSolidFill(a),s};var Z=function(t,e){this.Init(t,e)};t.Obj.createSubclass(Z,U),Z.prototype.animateUpdate=function(e,i){var r=this._shape,a=i._shape.getAnimationParams(),n=r.getAnimationParams(),s=i._shape.getFill(),o=this._shape.getFill();if(!t.ArrayUtils.equals(a,n)||!s.equals(o)){r.setAnimationParams(a);var l=new t.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,n),s.equals(o)||(this._shape.setFill(s),l.getAnimator().addProp(t.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),this._indicator&&l.setOnEnd(this._onEndAnimation,this),e.add(l,1)}},Z.prototype.animateInsert=function(e){var i=this._shape,r=i.getAnimationParams(),a=r.slice(0);a[0]+=a[1]/2,a[1]=0,a[3]=0,i.setAnimationParams(a);var n=new t.CustomAnimation(i.getCtx(),this,this._insertDuration);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,r),e.add(n,2)},Z.prototype.animateDelete=function(e,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var a=r.getAnimationParams(),n=a.slice(0);n[0]+=a[1]/2,n[1]=0,n[3]=0;var s=new t.CustomAnimation(r.getCtx(),this,this._deleteDuration);s.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,n),e.add(s,0)},Z.prototype.Init=function(t,e){Z.superclass.Init.call(this,t,e),this._animId+="/funnel"};var K=function(t,e){this.Init(t,e)};t.Obj.createSubclass(K,U),K.prototype.animateUpdate=function(e,i){var r=this._shape,a=i._shape.getAnimationParams(),n=r.getAnimationParams(),s=i._shape.getPrimaryFill(),o=this._shape.getPrimaryFill();if(!t.ArrayUtils.equals(a,n)||!s.equals(o)){r.setAnimationParams(a);var l=new t.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,n),s.equals(o)||(this._shape.setFill(s),l.getAnimator().addProp(t.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),e.add(l,1)}},K.prototype.animateInsert=function(e){var i=this._shape,r=i.getAnimationParams(),a=r.slice(0);a[1]=0,a[2]=0,i.setAnimationParams(a);var n=new t.CustomAnimation(i.getCtx(),this,this._insertDuration);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,r),e.add(n,2)},K.prototype.animateDelete=function(e,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var a=r.getAnimationParams().slice(0);a[1]=0,a[2]=0;var n=new t.CustomAnimation(r.getCtx(),this,this._deleteDuration);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,a),e.add(n,0)},K.prototype.Init=function(t,e){K.superclass.Init.call(this,t,e),this._animId+="/pyramid"};var q=new Object;t.Obj.createSubclass(q,t.Obj),q.getXAxisPosition=function(e){return at.isPolar(e)?"tangential":at.isHorizontal(e)?t.Agent.isRightToLeft(e.getCtx())?"right":"left":"bottom"},q.getBaselineScaling=function(t,e){var i=e+"Axis",r=t.getOptions()[i].baselineScaling;return!r||"zero"!=r&&"min"!=r?at.isStock(t)?"min":"zero":r},q.getYAxisPosition=function(e){var i=e.getOptions().yAxis.position;return at.isPolar(e)?"radial":at.isHorizontal(e)?!i||"top"!=i&&"bottom"!=i?"bottom":i:(at.isStock(e)&&(i=i||"end"),t.Agent.isRightToLeft(e.getCtx())?i&&"end"==i?"left":"right":i&&"end"==i?"right":"left")},q.getY2AxisPosition=function(e){var i=e.getOptions().y2Axis.position;return at.isHorizontal(e)?!i||"top"!=i&&"bottom"!=i?"top":i:t.Agent.isRightToLeft(e.getCtx())?i&&"start"==i?"right":"left":i&&"start"==i?"left":"right"},q.hasTimeAxis=function(t){return at.isBLAC(t)&&"disabled"!=q.getTimeAxisType(t)},q.hasGroupAxis=function(t){return at.isBLAC(t)&&"disabled"==q.getTimeAxisType(t)},q.getTimeAxisType=function(t){var e=t.getOptions().timeAxisType;return e&&"auto"!=e&&at.isBLAC(t)&&!at.isPolar(t)?e:at.isStock(t)?"skipGaps":"disabled"},q.isMixedFrequency=function(t){return"mixedFrequency"==q.getTimeAxisType(t)},q.getAxisOffset=function(t){var e=t.getCache().getFromCache("axisOffset");if(null!=e)return e;var i=t.getOptions().styleDefaults.groupSeparators;if(q.hasGroupAxis(t)&&Q.getNumLevels(t)>1&&"on"==i.rendered)e=.5;else if(at.hasBarSeries(t)||at.hasCenteredSeries(t)||at.hasCandlestickSeries(t)||at.hasBoxPlotSeries(t)||at.isBLAC(t)&&1==Q.getGroupCount(t))e=.5;else if(at.isSpark(t)||J.isScrollable(t)||at.isOverview(t))e=0;else{var r=at.isHorizontal(t)?.2:.5;e=r-r/Math.sqrt(Q.getGroupCount(t))}return t.getCache().putToCache("axisOffset",e),e},q.isGridShifted=function(t){if(!at.isBLAC(t))return!1;if(Q.getNumLevels(t)>1)return!0;for(var e=Q.getSeriesCount(t),i=0;i<e;i++)if(et.isSeriesRendered(t,i)){var r=et.getSeriesType(t,i),a=et.getLineType(t,i);if("bar"!=r&&"centeredSegmented"!=a&&"centeredStepped"!=a)return!1}return!0},q.isGridPolygonal=function(t){return!(!at.isBLAC(t)||at.hasBarSeries(t))&&"polygon"==t.getOptions().polarGridShape},q.isAxisRendered=function(t,e){if("y"==e&&at.hasY2DataOnly(t))return!1;if("y2"==e&&!at.hasY2Data(t))return!1;var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&!("off"==i.tickLabel.rendered&&!i.title)},q.isAxisLineRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&"off"!=i.axisLine.rendered&&!("auto"==i.axisLine.rendered&&"x"!=e&&at.isBLAC(t)&&!at.isPolar(t))},q.isMajorTickRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&"off"!=i.majorTick.rendered&&!("auto"==i.majorTick.rendered&&"x"==e&&at.isBLAC(t)&&!at.isPolar(t))},q.isMinorTickRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&"off"!=i.minorTick.rendered&&("on"==i.minorTick.rendered||q.isLog(t,e))},q.isLog=function(t,e){return"log"==t.getOptions()[e+"Axis"].scale},q.getTickLabelHeight=function(e,i){var r=e.getOptions(),a=r[i+"Axis"].tickLabel.style;return a instanceof t.CSSStyle||(a=new t.CSSStyle(a)),a.mergeUnder(h.getDefaults(r.skin).tickLabel.style),t.TextUtils.getTextStringHeight(e.getCtx(),a)},q.getTickLabelGapSize=function(t,e){if(q.isTickLabelInside(t,e))return 0;var i=t.getOptions(),r=at.isHorizontal(t),a=q.getGapScalingFactor(t,e),n=Math.ceil(i.layout.tickLabelGapWidth*a),s=Math.ceil(i.layout.tickLabelGapHeight*a);return"x"==e?r?n:s:r?s:n},q.getGapScalingFactor=function(t,e){return q.isAxisRendered(t,e)?q.getTickLabelHeight(t,e)/14:0},q.isTickLabelInside=function(t,e){return!(at.isPolar(t)||at.isScatterBubble(t)||at.isBLAC(t)&&"x"==e)&&"inside"==t.getOptions()[e+"Axis"].tickLabel.position},q.getXAxisViewportMinMax=function(t,e){var i=e?"xAxisViewportMinMaxUG":"xAxisViewportMinMax",r=t.getCache().getFromCache(i);if(r)return r;var a=t.getOptions().xAxis,n=q.hasGroupAxis(t),s=q.getAxisOffset(t);if(e)var o=q.getXAxisGlobalMinMax(t);var l=null;null!=a.viewportMin?l=a.viewportMin:null!=a.viewportStartGroup?l=n?Q.getGroupIndex(t,a.viewportStartGroup)-s:a.viewportStartGroup:e&&(l=o.min);var h=null;return null!=a.viewportMax?h=a.viewportMax:null!=a.viewportEndGroup?h=n?Q.getGroupIndex(t,a.viewportEndGroup)+s:a.viewportEndGroup:e&&(h=o.max),r={min:l,max:h},t.getCache().putToCache(i,r),r},q.getXAxisGlobalMinMax=function(t){var e=t.getOptions().xAxis,i=q.hasGroupAxis(t),r=q.getAxisOffset(t);if(!i)var a=Q.getMinMaxValue(t,"x");return{min:null!=e.min?e.min:i?0-r:a.min,max:null!=e.max?e.max:i?Q.getGroupCount(t)-1+r:a.max}},q.applyInitialZooming=function(t,e){var i=t.getOptions(),r=i.xAxis,a=i.initialZooming;if(at.isBLAC(t)&&"off"!=i.zoomAndScroll&&"none"!=a){i._initialZoomed&&("last"==a?r.viewportMin=null:r.viewportMax=null);var n=q.getXAxisViewportMinMax(t,!1),s=n.min,o=n.max;if(!("last"==a&&null!=s||"first"==a&&null!=o)){var l=at.isHorizontal(t)?e.h:e.w,h=Math.floor(l/(2*q.getTickLabelHeight(t,"x")))+q.getAxisOffset(t),u=Q.getGroupCount(t)-1;if(!(u<=h)){var g,d;if(q.hasGroupAxis(t))g=0,d=u;else{var c=Q.getMinMaxValue(t,"x");g=c.min,d=c.max}var p=h/u*(d-g);"last"==i.initialZooming?(null==o&&(o=d),r.viewportMin=Math.max(o-p,g)):(null==s&&(s=g),r.viewportMax=Math.min(s+p,d)),i._initialZoomed=!0}}}},q.getGroupWidthRatios=function(t){if(!at.hasBarSeries(t)&&!at.hasCandlestickSeries(t)&&!at.hasBoxPlotSeries(t))return null;var e=t.getOptions(),i=et.getBarGapRatio(t);if(i>=1)return e._averageGroupZ=1/0,null;e._averageGroupZ=0;var r,a,n,s,o,l,h=Q.getGroupCount(t),u=at.isSplitDualY(t),g=Q.getStackCategories(t,"bar"),d=g.y.length,c=g.y2.length;if(t.getOptionsCache().getFromCache("hasConstantZValue")){var p=t.getOptionsCache().getFromCache("constantZValue")*(u?Math.max(d,c):d+c);l=(o=p*h)*i/(1-i),r=null}else{for(var _=[],f=0;f<h;f++){for(a=0,s=0;s<d;s++)a+=Q.getBarCategoryZ(t,g.y[s],f,!1);for(n=0,s=0;s<c;s++)n+=Q.getBarCategoryZ(t,g.y2[s],f,!0);_.push(u?Math.max(a,n):a+n)}o=_.reduce(function(t,e){return t+e}),l=o*i/(1-i),r=_.map(function(t){return t+l/h})}return e._averageGroupZ=(o+l)/h,r},q.isYAdjustmentNeeded=function(t){var e=t.getOptions().styleDefaults.dataLabelPosition,i=t.getOptionsCache().getFromCache("hasDataOutsideBarEdge"),r="outsideBarEdge"==e||i,a=et.isStackLabelRendered(t);return!(!at.hasBarSeries(t)||!r&&!a)},q.axisContainsPoint=function(t,e){if(!t)return!1;var i=t.getOptions().position,r="top"==i||"bottom"==i,a=r?4:10,n=r?10:4,s=t.__getBounds().clone();s.x-=n,s.y-=a,s.w+=2*n,s.h+=2*a;var o=t.stageToLocal(e);return s.containsPoint(o.x,o.y)};var Q=new Object;t.Obj.createSubclass(Q,t.Obj),Q.hasData=function(t){var e=t.getOptions();if(!e||!e.series||e.series.length<1)return!1;for(var i=Q.getSeriesCount(t),r=0;r<i;r++){var a=Q.getSeriesItem(t,r);if(a&&a.items&&a.items.length>=1)return!0}return!1},Q.hasInvalidData=function(t){return!Q.hasData(t)||Q.hasInvalidTimeData(t)},Q.hasInvalidTimeData=function(t){if(at.isFunnel(t)||at.isPie(t)||at.isPyramid(t))return!1;var e,i,r=t.getOptions(),a=Q.getGroupCount(t);if(!r||!r.series||r.series.length<1)return!0;if(a<1)return!0;var n=Q.getSeriesCount(t);if(q.isMixedFrequency(t))for(e=0;e<n;e++)for(i=0;i<a;i++){var s=Q.getDataItem(t,e,i);if(s&&(null==s.x||isNaN(s.x)))return!0}else if(q.hasTimeAxis(t))for(i=0;i<a;i++){var o=Q.getGroup(t,i);if(null==o||isNaN(o))return!0}return!1},Q.hasSeriesData=function(t,e){var i=Q.getSeriesItem(t,e).items;if(i)for(var r=0;r<i.length;r++)if(null!=i[r])return!0;return!1},Q.processDataObject=function(e){if(Q.hasData(e)){var i=e.getOptions(),r=e.getOptionsCache(),a=Q.getSeriesCount(e);at.isValidType(e)||(i.type="bar");var n=!1,s=!1,o=!0,l=null,h=!1,u=!1,g=!1,d=at.isStock(e);d&&a>1&&(i.series=i.series.slice(0,1),a=1);var c=q.isMixedFrequency(e),p=a>100;r.putToCache("hasLargeSeriesCount",p);for(var _=0,f=e.getSeriesStyleArray(),v=0;v<a;v++){var m=Q.getSeries(e,v);!p&&null!=m&&f.indexOf(m)<0&&f.push(m);var S=Q.getSeriesItem(e,v);if(S.items&&S.items.length>_&&(_=S.items.length),"hidden"==S.visibility){var C=et.getHiddenCategories(e);C.indexOf(m)<0&&C.push(m)}if(S.visibility=null,"on"==S.assignedToY2&&(n=!0),S&&S.items)for(var y=S.items,x=0;x<y.length;x++)null!=y[x]&&("object"!=typeof(O=y[x])&&(O={y:O},y[x]=O),c||null==O.x||(O.x=Number(O.x)),null!=O.y&&(O.y=Number(O.y),O.y<0&&(u=!0)),null!=O.z?(O.z=Number(O.z),null==l?l=O.z:l!=O.z&&(o=!1)):l=1,null!=O.value&&(O.value=Number(O.value),O.value<0&&(u=!0)),null!=O.targetValue&&(O.targetValue=Number(O.targetValue)),null!=O.open&&(O.open=Number(O.open),h=!0),null!=O.close&&(O.close=Number(O.close),h=!0,O.close<0&&(u=!0)),null!=O.low&&(O.low=Number(O.low),h=!0),null!=O.high&&(O.high=Number(O.high),h=!0),null!=O.volume&&(O.volume=Number(O.volume),s=!0),(O.color||O.borderColor||O.borderWidth||O.style||O.svgStyle||O.className||O.svgClassName)&&r.putToCachedMap("itemStyleSet",v,!0),"outsideBarEdge"==O.labelPosition&&(g=!0))}if(r.putToCache("hasVolume",s),r.putToCache("hasConstantZValue",o),r.putToCache("constantZValue",o?l:null),r.putToCache("hasLowHighSeries",h),r.putToCache("hasNegativeValues",u),r.putToCache("hasDataOutsideBarEdge",g),d&&Q.hasVolumeSeries(e)&&!at.isOverview(e)){var A=t.JsonUtils.clone(Q.getSeriesItem(e,0));A.assignedToY2="on",n=!0,A.type="bar",A.categories=Q.getCategories(e,0),A.id="_volume",A._selectable="off",A.items=[];for(var b=0;b<S.items.length;b++){var M={};M.color=et.getStockVolumeColor(e,0,b),M.x=S.items[b].x,M.value=S.items[b].volume,M.drilling="off",A.items.push(M)}i.series.push(A),r.putToCachedMap("itemStyleSet",i.series.length-1,!0)}r.putToCache("hasY2Assignment",n);for(var T=$.getRefObjs(e),I=0;I<T.length;I++){if(y=T[I].items)for(x=0;x<y.length;x++){var O;(O=y[x])&&("object"!=typeof O?y[x]=Number(O):(!q.isMixedFrequency(e)&&O.x&&(O.x=Number(O.x)),O.max&&(O.max=Number(O.max)),O.min&&(O.min=Number(O.min)),O.value&&(O.value=Number(O.value))))}}i.groups||(i.groups=new Array);var D=Q.getGroupCount(e);for(I=0;I<_-D;I++){var E=i.translations.labelDefaultGroupName||"Group {0}",P=t.ResourceUtils.format(E,[i.groups.length+1]);i.groups.push(P)}r.putToCache("groupsArray",null),Q._processTimeAxis(e);var L=i.sorting;if(L="on"==L?"descending":"ascending"!=L&&"descending"!=L?"off":L,at.isBLAC(e)&&q.hasGroupAxis(e)&&"off"!=L&&1==Q.getNumLevels(e)){var w=Q.getGroups(e),R={};for(x=0;x<w.length;x++){var B=0;for(I=0;I<=a;I++)if(et.isSeriesRendered(e,I)&&!Q.isAssignedToY2(e,I)){var k=Q.getValue(e,I,x);B+=null==k||isNaN(k)?0:k}R[w[x]]={index:x,total:B,group:i.groups[x]}}"ascending"==L?w.sort(function(t,e){return R[t].total-R[e].total}):w.sort(function(t,e){return R[e].total-R[t].total});for(I=0;I<a;I++){var F=[];for(x=0;x<w.length;x++)F.push(Q.getDataItem(e,I,R[w[x]].index));i.series[I].items=F}var N=[];for(x=0;x<w.length;x++)N.push(R[w[x]].group);i.groups=N,r.putToCache("groupsArray",null),r.putToCache("value",null)}Q._sanitizeAxis(i.xAxis),Q._sanitizeAxis(i.yAxis),Q._sanitizeAxis(i.y2Axis)}},Q._sanitizeAxis=function(t){t.min==t.max&&(t.min=null,t.max=null)},Q._sanitizeDateTime=function(t,e){var i=null,r=t.getLocaleHelpers().isoToDateConverter;if(r){try{i=r(e)}catch(t){i=null}i=null!=i&&i.getTime?i.getTime():null}return null==i&&(i=Date.parse(e)),isNaN(i)&&(i=Number(e)),i},Q._processTimeAxis=function(t){var e,i,r=t.getCtx(),a=t.getOptions(),n=Q.getSeriesCount(t),s=Q.getGroupCount(t);if(q.isMixedFrequency(t))for(e=0;e<n;e++)for(i=0;i<s;i++){var o=Q.getDataItem(t,e,i);null!=o&&"string"==typeof o.x&&null!=o.x&&(o.x=Q._sanitizeDateTime(r,o.x))}else if(q.hasTimeAxis(t)){for(i=0;i<s;i++){var l=Q.getGroup(t,i);null!=l&&(a.groups[i]=Q._sanitizeDateTime(r,l))}t.getOptionsCache().putToCache("groupsArray",null)}if(q.hasTimeAxis(t)){var h=a.xAxis;null!=h.dataMin&&(h.dataMin=Q._sanitizeDateTime(r,h.dataMin)),null!=h.dataMax&&(h.dataMax=Q._sanitizeDateTime(r,h.dataMax)),null!=h.min&&(h.min=Q._sanitizeDateTime(r,h.min)),null!=h.max&&(h.max=Q._sanitizeDateTime(r,h.max)),null!=h.viewportMin&&(h.viewportMin=Q._sanitizeDateTime(r,h.viewportMin)),null!=h.viewportMax&&(h.viewportMax=Q._sanitizeDateTime(r,h.viewportMax)),null!=h.viewportStartGroup&&(h.viewportStartGroup=Q._sanitizeDateTime(r,h.viewportStartGroup)),null!=h.viewportEndGroup&&(h.viewportEndGroup=Q._sanitizeDateTime(r,h.viewportEndGroup));for(var u=$.getRefObjs(t),g=0;g<u.length;g++){var d=u[g].items;if(d)for(var c=0;c<d.length;c++)d[c]&&null!=d[c].x&&(d[c].x=Q._sanitizeDateTime(r,d[c].x))}}},Q.isEqualId=function(e,i,r){return null!=e&&null!=i&&t.Obj.compareValues(r,e,i)},Q.getSeriesCount=function(t){var e=t.getOptions().series;return e?e.length:0},Q.getY2SeriesCount=function(t,e,i){for(var r=0,a=Q.getSeriesCount(t),n=0;n<a;n++)e&&et.getSeriesType(t,n)!=e||(i||et.isSeriesRendered(t,n))&&Q.isAssignedToY2(t,n)&&r++;return r},Q.getSeries=function(t,e){var i=Q.getSeriesItem(t,e);return i?i.id?i.id:i.name||""===i.name?i.name:String(e):null},Q.getSeriesLabel=function(t,e){var i=Q.getSeriesItem(t,e);return i&&(i.name||""===i.name)?i.name:null},Q.getSeriesIndex=function(t,e){for(var i=Q.getSeriesCount(t),r=0;r<i;r++){if(Q.getSeries(t,r)==e)return r}return-1},Q.getSeriesStyleIndex=function(t,e){if(t.getOptionsCache().getFromCache("hasLargeSeriesCount"))return e;var i=Q.getSeries(t,e);return null==i?e:t.getSeriesStyleArray().indexOf(i)},Q.getSeriesItem=function(t,e){if(isNaN(e)||null==e||e<0)return null;var i=t.getOptions();return i.series&&i.series.length>e?i.series[e]:void 0},Q.getDataItem=function(t,e,i){if(isNaN(i)||null==i||i<0)return null;var r=Q.getSeriesItem(t,e);return r&&r.items&&r.items.length>i?r.items[i]:null},Q.getDataItemId=function(t,e,i){var r=Q.getDataItem(t,e,i);return r?null!=r.id?r.id:Q.createDataItemId(Q.getSeries(t,e),Q.getGroup(t,i)):null},Q.createDataItemId=function(t,e){return t+"; "+e},Q.getNestedDataItem=function(t,e,i,r){if(isNaN(r)||null==r||r<0)return null;var a=Q.getDataItem(t,e,i);return a&&a.items&&a.items.length>r?a.items[r]:null},Q.getNestedDataItemCount=function(t,e,i){var r=Q.getDataItem(t,e,i);return r&&r.items?r.items.length:0},Q.getNestedDataItemId=function(t,e,i,r){var a=Q.getNestedDataItem(t,e,i,r);return a?null!=a.id?a.id:Q.getDataItemId(t,e,i)+"; "+String(r):null},Q.getNestedDataItemIndex=function(t,e,i,r){for(var a=Q.getNestedDataItemCount(t,e,i),n=0;n<a;n++){var s=Q.getNestedDataItemId(t,e,i,n);if(Q.isEqualId(s,r,t.getCtx()))return n}return-1},Q.getGroupCount=function(t){return Q._getGroupsArray(t).length},Q.getGroup=function(t,e){if(null!=e&&e>=0&&e<Q.getGroupCount(t)){var i=Q._getGroupsArray(t)[e];if(i)return null!=i.id?i.id:null!=i.name?i.name:String(e)}return null},Q.getGroupIndex=function(e,i){for(var r=Q.getGroups(e),a=0;a<r.length;a++)if(i instanceof Array&&r[a]instanceof Array?t.ArrayUtils.equals(i,r[a]):i===r[a])return a;return-1},Q.getGroupLabel=function(t,e){if(e>=0&&e<Q.getGroupCount(t)){var i=Q._getGroupsArray(t)[e];if(i)return null!=i.name?i.name:null!=i.id||"string"!=typeof i?"":i}return null},Q.getGroups=function(t){var e=t.getOptionsCache().getFromCache("groups");if(!e){var i=Q.getGroupCount(t);e=[];for(var r=0;r<i;r++)e.push(Q.getGroup(t,r));t.getOptionsCache().putToCache("groups",e)}return e},Q._getGroupsArray=function(t){var e=t.getOptions(),i=t.getOptionsCache().getFromCache("groupsArray");if(!i){i=[],e.groups&&(i=Q._getNestedGroups(e.groups,i));for(var r=0;r<i.length;r++)1==i[r].id.length&&(i[r].id=i[r].id[0],i[r].name=i[r].name[0]);t.getOptionsCache().putToCache("groupsArray",i)}return i},Q._getNestedGroups=function(t,e){if(!t||t&&0==t.length)return[];for(var i=0;i<t.length;i++){var r=t[i],a=null,n=null;if(null!=r&&(a=r.id?r.id:r.name?r.name:r,n=r.name?r.name:r),"object"==typeof a&&(a=null),"object"==typeof n&&(n=null),r&&r.groups){var s=Q._getNestedGroups(r.groups,[]);0==s.length&&s.push({id:[],name:[]});for(var o=0;o<s.length;o++)s[o].id.unshift(a),s[o].name.unshift(n);e=e.concat(s)}else e.push({id:[a],name:[n]})}return e},Q.getNumLevels=function(t){var e=t.getOptionsCache().getFromCache("groupsNumLevels");if(null!=e)return e;e=0;for(var i=Q._getGroupsArray(t),r=0;r<i.length;r++){var a=i[r];if(a&&a.id){var n=Array.isArray(a.id)?a.id.length:1;e=Math.max(e,n)}}return t.getOptionsCache().putToCache("groupsNumLevels",e),e},Q.getValue=function(t,e,i,r){var a,n="number"==typeof r&&r>=0;if(!n&&void 0!==(a=t.getOptionsCache().getFromCachedMap2D("value",e,i)))return a;var s=n?Q.getNestedDataItem(t,e,i,r):Q.getDataItem(t,e,i);return a=null,null!=s&&("object"!=typeof s?a=s:at.isStock(t)&&null!=s.close?a=s.close:null!=s.value?a=s.value:null!=s.y&&(a=s.y)),a=a||(0===a?0:null),n||t.getOptionsCache().putToCachedMap2D("value",e,i,a),a},Q.getCumulativeValue=function(t,e,i,r){if(!at.isStacked(t))return Q.getValue(t,e,i);var a=r?"cumValueH":"cumValue",n=t.getCache().getFromCachedMap2D(a,e,i);if(void 0!==n)return n;var s=et.getSeriesType(t,e),o=Q.isAssignedToY2(t,e),l=Q.getValue(t,e,i),h=Q.getStackCategory(t,e),u="bar"==s?l<0:Q.isSeriesNegative(t,e);n=0;for(var g=e;g>=0;g--)if((r||et.isDataItemRendered(t,g,i))&&s==et.getSeriesType(t,g)&&o==Q.isAssignedToY2(t,g)&&Q.getStackCategory(t,g)==h){var d=Q.getValue(t,g,i),c="bar"==s?d<0:Q.isSeriesNegative(t,g);if(u&&c||!u&&!c){var p=t.getCache().getFromCachedMap2D(a,g,i);if(void 0!==p){n=l+(p||0);break}n+=null==d||isNaN(d)?0:d}}return t.getCache().putToCachedMap2D(a,e,i,n),n},Q.getLowValue=function(t,e,i){var r=Q.getDataItem(t,e,i);return null==r?null:"candlestick"==et.getSeriesType(t,e)?null==r.low&&null!=r.close?null!=r.open?Math.min(r.close,r.open):r.close:r.low:null!=r.low&&null==r.close?r.low:null},Q.getHighValue=function(t,e,i){var r=Q.getDataItem(t,e,i);return null==r?null:"candlestick"==et.getSeriesType(t,e)?null==r.high?null!=r.open?Math.max(r.close,r.open):r.close:r.high:null!=r.high&&null==r.close?r.high:null},Q.getXValue=function(t,e,i){var r=Q.getDataItem(t,e,i);return Q.getXValueFromItem(t,r,i)},Q.getXValueFromItem=function(t,e,i){return null!=e&&null!=e.x?e.x:q.hasGroupAxis(t)?i:q.hasTimeAxis(t)&&!q.isMixedFrequency(t)?Q.getGroupLabel(t,i):null},Q.getTargetValue=function(t,e){var i=Q.getDataItem(t,e,0);return null==i||"object"!=typeof i?null:i.targetValue},Q.getZValue=function(t,e,i,r){var a=Q.getDataItem(t,e,i);return null==a||"object"!=typeof a?r:null!=a.z?Math.max(0,a.z):r},Q.isStockValueRising=function(t,e,i){var r=Q.getDataItem(t,e,i);return!r||r.open<=r.close},Q.getCategories=function(t,e,i,r){var a=Q.getNestedDataItem(t,e,i,r);if(a&&a.categories)return a.categories;var n=Q.getDataItem(t,e,i);if(n&&n.categories)return n.categories;var s=Q.getSeriesItem(t,e);if(s&&s.categories)return s.categories;var o=Q.getSeries(t,e);return null!=o?[o]:[]},Q.getViewportMinMaxGroupIndex=function(t,e){var i=q.getXAxisViewportMinMax(t,!0),r=q.hasGroupAxis(t),a=Q.getGroupCount(t),n=i.min,s=0;if(null!=n)if(r)s=Math.ceil(n);else for(var o=0;o<a;o++){if(Q.getXValue(t,e,o)>=n){s=o;break}}var l=i.max,h=a-1;if(null!=h)if(r)h=Math.floor(l);else for(o=a-1;o>=s;o--){if(Q.getXValue(t,e,o)<=l){h=o;break}}return{min:s,max:h}},Q.getViewportGroupCount=function(t){var e=q.getXAxisViewportMinMax(t,!0),i=q.getXAxisGlobalMinMax(t),r=(e.max-e.min)/(i.max-i.min);return isNaN(r)?1:r*Q.getGroupCount(t)},Q._computeYAlongLine=function(e,i,r,a,n,s){e&&(r=t.Math.log10(r),n=t.Math.log10(n));var o=r+(n-r)*(s-i)/(a-i);return e?Math.pow(10,o):o},Q.getMinMaxValue=function(t,e,i){var r=e+(i?"MinMaxDO":"MinMax"),a=t.getCache().getFromCache(r);if(a)return a;var n=t.getOptions()[e+"Axis"];if(null!=n.dataMax&&null!=n.dataMin&&i)return a={min:n.dataMin,max:n.dataMax},t.getCache().putToCache(r,a),a;var s=q.hasTimeAxis(t);if(null!=n.max&&null!=n.min&&!i&&!s)return a={min:n.min,max:n.max},t.getCache().putToCache(r,a),a;var o="z"!=e&&q.isLog(t,e),l="y2"==e;l&&(e="y");for(var h="y"==e,u=!i&&h&&at.isBLAC(t),g="withoutRescale"==J.getHideAndShowBehavior(t)||"x"==e&&q.hasTimeAxis(t),d=-1/0,c=1/0,p=Q.getSeriesCount(t),_=0;_<p;_++){var f=Q.getSeriesItem(t,_),v=et.getSeriesType(t,_),m=h&&(et.isRangeSeries(t,_)||"candlestick"==v||"boxPlot"==v);if(g||et.isSeriesRendered(t,_)){var S=Q.isAssignedToY2(t,_);if(!h||l==S){var C=f.items;if(C){var y=0,x=C.length-1;if(u){var A=Q.getViewportMinMaxGroupIndex(t,_);y=A.min,x=A.max}for(var b=y;b<=x;b++)if(g||et.isDataItemRendered(t,_,b)){var M=C[b],T=null;if(h?m||(T=Q.getCumulativeValue(t,_,b,g)):"x"==e&&s&&!q.isMixedFrequency(t)?(T=Q.getGroupLabel(t,b),null!=M&&(M.x=T)):null!=M&&(T=M[e]),!("z"==e&&T<=0)){if(!(m||null==T||"number"!=typeof T||o&&T<=0)){var I=0;at.isBubble(t)&&!i&&"z"!=e&&(I=nt.getBubbleAxisRadius(t,e,M.markerSize)),d=Math.max(d,o?T*Math.pow(10,I):T+I),c=Math.min(c,o?T/Math.pow(10,I):T-I)}if(m){var O=Q.getHighValue(t,_,b),D=Q.getLowValue(t,_,b);o&&(O<=0||D<=0)||(d=Math.max(d,O,D),c=Math.min(c,O,D))}if(u&&!m){var E=null,P=null;if(y>0&&b==y?(E=b-1,P=q.getXAxisViewportMinMax(t,!0).min):x<C.length-1&&b==x&&(E=b+1,P=q.getXAxisViewportMinMax(t,!0).max),null!=E){var L=Q.getXValue(t,_,b),w=Q.getXValue(t,_,E),R=Q.getCumulativeValue(t,_,E),B=Q._computeYAlongLine(o,L,T||0,w,R||0,P);d=Math.max(d,B),c=Math.min(c,B)}}}}}}}}var k=null;if("x"==e?k=$.getAxisRefObjs(t,"x"):l?k=$.getAxisRefObjs(t,"y2"):h&&(k=$.getAxisRefObjs(t,"y")),null!=k)for(var F=0;F<k.length;F++){var N=k[F],H=N.items,G="withRescale"==J.getHideAndShowBehavior(t)&&"hidden"==N.visibility;if(!G)if(H&&!G){var U=0,V=H.length-1;if(u){var j=$.getViewportMinMaxIndex(t,H);U=j.min,V=j.max}for(var Y=U;Y<=V;Y++)if(null!=H[Y]){D=$.getLowValue(H[Y]),O=$.getHighValue(H[Y]);var W=isNaN(H[Y])?H[Y].value:H[Y];null!=D&&isFinite(D)&&(c=Math.min(c,D),d=Math.max(d,D)),null!=O&&isFinite(O)&&(c=Math.min(c,O),d=Math.max(d,O)),null!=W&&isFinite(W)&&(c=Math.min(c,W),d=Math.max(d,W))}}else{D=$.getLowValue(N),O=$.getHighValue(N),W=N.value;null!=D&&isFinite(D)&&(c=Math.min(c,D),d=Math.max(d,D)),null!=O&&isFinite(O)&&(c=Math.min(c,O),d=Math.max(d,O)),null!=W&&isFinite(W)&&(c=Math.min(c,W),d=Math.max(d,W))}}return a={min:c,max:d},t.getCache().putToCache(r,a),a},Q.isAssignedToY2=function(t,e){if(!t.getOptionsCache().getFromCache("hasY2Assignment"))return!1;var i=Q.getSeriesItem(t,e);return!(!i||"on"!=i.assignedToY2||!at.isDualY(t))},Q.getInitialSelection=function(t){var e=t.getOptions().selection,i=null!=t.getOptions().data;e||(e=[]);for(var r=t.getChartObjPeers(),a=0;a<e.length;a++){var n=null==e[a].id||i?e[a]:e[a].id;if(null!=e[a].id||e[a].series||e[a].group||(e[a]={id:n}),!(null==n||e[a].series&&e[a].group))for(var s=0;s<r.length;s++){var o=r[s];if(Q.isEqualId(n,o.getDataItemId(),t.getCtx())){e[a].series=o.getSeries(),e[a].group=o.getGroup();break}}}return e},Q.getCurrentSelection=function(t){var e=[],i=t.getSelectionHandler();if(i)for(var r=i.getSelectedIds(),a=0;a<r.length;a++){var n=r[a];e.push({series:n.series,group:n.group,id:n.id})}return e},Q.hasVolumeSeries=function(t){var e=t.getOptionsCache().getFromCache("hasVolume");return e||!1},Q.isDataSelected=function(t,e,i,r){var a=!isNaN(r)&&null!=r&&r>=0?Q.getNestedDataItemId(t,e,i,r):Q.getDataItemId(t,e,i),n=Q.getSeries(t,e),s=Q.getGroup(t,i),o=t.getOptions().selection;o||(o=[]);for(var l=0;l<o.length;l++){if(Q.isEqualId(a,o[l],t.getCtx())||Q.isEqualId(a,o[l].id,t.getCtx()))return!0;if(null==o[l].id&&Q.isEqualId(n,o[l].series,t.getCtx())&&Q.isEqualId(s,o[l].group,t.getCtx()))return!0}return!1},Q.getDataLabel=function(t,e,i,r,a,n){var s,o=Q.getDefaultDataLabel(t,e,i,r,a,n),l=t.getOptions().dataLabel;if(l&&!n){var h=Q.getDataContext(t,e,i,r);if(h.label=o,"number"==typeof(s=l(h))){var u=rt.getValueFormat(t,"label");s=rt.formatValue(t,u,s)}}return s||o},Q.getDefaultDataLabel=function(t,e,i,r,a,n){var s;if(n)s=Q.getCumulativeValue(t,e,i);else{var o=!isNaN(r)&&null!=r&&r>=0?Q.getNestedDataItem(t,e,i,r):Q.getDataItem(t,e,i);if(!o)return null;s=o.label,"low"==a?s=s instanceof Array?s[0]:s:"high"==a&&(s=s instanceof Array?s[1]:null)}if(null!=s){if("number"==typeof s){var l,h,u,g=Q.isAssignedToY2(t,e)&&t.y2Axis?t.y2Axis:t.yAxis;if(g){var d=g.getInfo();l=d.getGlobalMin(),h=d.getGlobalMax(),u=d.getMajorIncrement()}var c=rt.getValueFormat(t,"label");return rt.formatValue(t,c,s,l,h,u)}return s}return null},Q.getStackCategory=function(t,e){var i=t.getCache().getFromCachedMap("stackCategory",e);return void 0!==i?i:(i=at.isStacked(t)?Q.getSeriesItem(t,e).stackCategory||null:Q.getSeries(t,e)||null,t.getCache().putToCachedMap("stackCategory",e,i),i)},Q.getStackCategories=function(t,e,i){var r=[],a=[],n={},s={},o=t.getCache().getFromCachedMap2D("stackCategories",e,i);if(o)return o;for(var l=Q.getSeriesCount(t),h=0;h<l;h++)if(et.isSeriesRendered(t,h)||i){if(e){var u=et.getSeriesType(t,h);if("candlestick"!=u&&"boxPlot"!=u||(u="bar"),e!=u)continue}var g=Q.getStackCategory(t,h);Q.isAssignedToY2(t,h)?s[g]||(a.push(g),s[g]=!0):n[g]||(r.push(g),n[g]=!0)}return o={y:r,y2:a},t.getCache().putToCachedMap2D("stackCategories",e,i,o),o},Q.getBarCategoryZ=function(t,e,i,r){for(var a=0,n=Q.getSeriesCount(t),s=0;s<n;s++){var o=et.getSeriesType(t,s);if(("bar"==o||"candlestick"==o||"boxPlot"==o)&&Q.getStackCategory(t,s)==e&&et.isSeriesRendered(t,s)){var l=Q.isAssignedToY2(t,s);(r&&l||!r&&!l)&&(a=Math.max(a,Q.getZValue(t,s,i,1)))}}return a},Q.getBarInfo=function(e,i,r,a){var n,s,o=at.isHorizontal(e),l=at.isStacked(e),h=t.Agent.isRightToLeft(e.getCtx()),u=e.xAxis,g=et.isRangeSeries(e,i),d=et.getBarCategoryOffsetMap(e,r),c=Q.getXValue(e,i,r),p=u.getUnboundedCoordAt(c),_=Q.isAssignedToY2(e,i),f=_?e.y2Axis:e.yAxis,v=f.getBaselineCoord();if(g){var m=Q.getLowValue(e,i,r),S=Q.getHighValue(e,i,r);if(null==m||isNaN(m)||null==S||isNaN(S))return null;if((n=f.getBoundedCoordAt(m))==(s=f.getBoundedCoordAt(S))&&null==f.getCoordAt(m))return null}else{var C=Q.getValue(e,i,r),y=Q.getCumulativeValue(e,i,r);if(null==C||isNaN(C))return null;if((n=f.getBoundedCoordAt(y))==(s=l?f.getBoundedCoordAt(y-C):v)&&null==f.getCoordAt(y))return null}var x=Q.getStackCategory(e,i),A=et.getBarWidth(e,i,r),b=l?et.getBarStackWidth(e,x,r,_):A;if("pixel"==et.getBarSpacing(e)&&"firefox"===t.Agent.browser){var M=A/(1-et.getBarGapRatio(e));A>1&&M-A<2&&(b=--A)}var T=d[_?"y2":"y"][x]+.5*(b-A),I=h&&!o?p-T-A:p+T,O=I+A,D=(I+O)/2,E=g?(n+s)/2:n;return{x1:I,x2:O,axisCoord:v,baseCoord:s,yCoord:n,dataPos:ct.convertAxisCoord(e,new t.Point(D,E),a),barWidth:A}},Q.getMarkerPosition=function(e,i,r,a,n){var s,o,l=e.xAxis,h=Q.isAssignedToY2(e,i)?e.y2Axis:e.yAxis,u=at.isPolar(e),g=et.isRangeSeries(e,i),d=!isNaN(a)&&null!=a&&a>=0,c=Q.getXValue(e,i,r),p=d?Q.getValue(e,i,r,a):Q.getCumulativeValue(e,i,r);if(at.isBubble(e)){if(u&&p<h.getInfo().getViewportMin())return null;s=u?l.getCoordAt(c):l.getUnboundedCoordAt(c),o=h.getUnboundedCoordAt(p)}else if(g){var _=h.getCoordAt(Q.getLowValue(e,i,r)),f=h.getCoordAt(Q.getHighValue(e,i,r));s=l.getCoordAt(Q.getXValue(e,i,r)),o=(_+f)/2}else s=l.getCoordAt(c),o=h.getCoordAt(p);return null==s||null==o?null:ct.convertAxisCoord(e,new t.Point(s,o),n)},Q.getScatterBubbleMarkerPosition=function(e,i,r){var a=e.xAxis,n=e.yAxis,s=Q.getXValue(e,i,r),o=Q.getValue(e,i,r),l=a.getCoordAt(s),h=n.getCoordAt(o);return null==l||null==h?null:new t.Point(l,h)},Q.isSeriesNegative=function(t,e){if(!t.getOptionsCache().getFromCache("hasNegativeValues"))return!1;var i=t.getOptionsCache().getFromCachedMap("isSeriesNegative",e);if(null!=i)return i;var r=Q.getGroupCount(t);i=!0;for(var a=0;a<r;a++){if(Q.getValue(t,e,a)>0){i=!1;break}}return t.getOptionsCache().putToCachedMap("isSeriesNegative",e,i),i},Q.getDataContext=function(t,e,i,r){var a,n=Q.getSeriesItem(t,e),s=Q.getDataItem(t,e,i),o=Q.getNestedDataItem(t,e,i,r),l=t.getRawOptions(),h=at.isPie(t)&&(null==e||e<0),u=t.getOptions();if(h){var g=u.translations.labelOther;a={id:g,series:g,value:st.getOtherValue(t),color:u.styleDefaults.otherColor}}else if(o){(d=l.series[e].items[i])._noTemplate?d=d._itemData:delete d._itemData,a={id:Q.getNestedDataItemId(t,e,i,r),data:[d,d.items[r]],value:Q.getValue(t,e,i,r),y:Q.getValue(t,e,i,r),color:et.getMarkerColor(t,e,i,r),itemData:u.series[e].items[i]._itemData}}else if(s){var d;(d=l.series[e].items[i])._noTemplate?d=d._itemData:delete d._itemData,a={id:Q.getDataItemId(t,e,i),data:d,value:Q.getValue(t,e,i),targetValue:Q.getTargetValue(t,e,i),x:Q.getXValue(t,e,i),y:Q.getValue(t,e,i),z:Q.getZValue(t,e,i),low:Q.getLowValue(t,e,i),high:Q.getHighValue(t,e,i),open:s.open,close:s.close,volume:s.volume,color:et.getColor(t,e,i),itemData:u.series[e].items[i]._itemData}}else n&&(a={id:Q.getSeries(t,e),color:et.getColor(t,e)});if(a){a.component=u._widgetConstructor,(h||o||s)&&(a.group=Q.getGroup(t,i),a.groupData=Q.getGroupsDataForContext(t)[i]),!h&&(o||s||n)&&(a.series=Q.getSeries(t,e),a.seriesData=l.series[e]),at.isPie(t)&&t.pieChart&&(a.totalValue=t.pieChart.getTotalValue());var c=t.getOptionsCache().getFromCachedMap2D("barDims",e,i);c&&(a.dimensions=c)}return a||{}},Q.getGroupsDataForContext=function(t){var e=t.getOptionsCache().getFromCache("groupsDataArray");if(!e){var i=t.getRawOptions();e=Q._getNestedGroupsData(i.groups),t.getOptionsCache().putToCache("groupsDataArray",e)}return e},Q._getNestedGroupsData=function(t){if(!t)return[];for(var e=[],i=0;i<t.length;i++){var r=t[i];if(r.groups){for(var a=Q._getNestedGroupsData(r.groups),n=0;n<a.length;n++)a[n].unshift(r);e=e.concat(a)}else e.push([r])}return e},Q._computeOutermostBarMap=function(t){if(!t.getOptionsCache().getFromCache("outermostBar")){for(var e={},i=Q.getSeriesCount(t),r=t.getOptionsCache().getFromCache("hasNegativeValues"),a=i-1;a>=0;a--)if(et.isSeriesRendered(t,a)&&"bar"==et.getSeriesType(t,a)){var n=(Q.getStackCategory(t,a)||"")+Q.isAssignedToY2(t,a);e[n]?e[n].push(a):e[n]=[a]}var s=Q.getGroupCount(t);for(var o in e)for(var l=e[o],h=0;h<s;h++)for(var u=!1,g=!1,d=0;d<l.length&&!(!r&&u||u&&g);d++)if(a=l[d],et.isDataItemRendered(t,a,h)){var c=Q.getValue(t,a,h);!u&&c>=0?(u=!0,t.getOptionsCache().putToCachedMap2D("outermostBar",a,h,!0)):!g&&c<0&&(g=!0,t.getOptionsCache().putToCachedMap2D("outermostBar",a,h,!0))}}},Q.isOutermostBar=function(t,e,i){return Q._computeOutermostBarMap(t),t.getOptionsCache().getFromCachedMap2D("outermostBar",e,i)||!1},Q.isDataItemFiltered=function(t,e,i){var r=Q.getDataItem(t,e,i);return!(!r||!r._filtered)},Q.getFilteredChartObjPeers=function(t){if(!t.getCache().getFromCache("dataFiltered"))return[];var e=t.getCache().getFromCache("filteredChartObjPeers");if(!e){e=[];for(var i=0;i<Q.getSeriesCount(t);i++)for(var r=0;r<Q.getGroupCount(t);r++){var n;if(Q.isDataItemFiltered(t,i,r))n="bar"==et.getSeriesType(t,i)?Q.getBarInfo(t,i,r).dataPos:Q.getMarkerPosition(t,i,r),e.push(new a(t,[],i,r,null,n))}t.getCache().putToCache("filteredChartObjPeers",e)}return e};var J=new Object;t.Obj.createSubclass(J,t.Obj),J.getHideAndShowBehavior=function(t){return t.getOptions().hideAndShowBehavior},J.getHoverBehavior=function(t){return t.getOptions().hoverBehavior},J.setVisibility=function(t,e,i){var r=$.getRefObj(t,e);null!=r&&(r.visibility=i);var a=et.getHiddenCategories(t),n=a.indexOf(e);"hidden"==i&&n<0?a.push(e):"visible"==i&&n>=0&&a.splice(n,1);var s=t.getOptions();if(s&&s.legend&&s.legend.sections){for(var o=0;o<s.legend.sections.length;o++){var l=s.legend.sections[o];if(l&&l.items)for(var h=0;h<l.items.length;h++)l.items[h].id==e&&(l.items[h].categoryVisibility=i)}return!0}return!1},J.isScrollable=function(t){return!!at.isScrollSupported(t)&&"off"!=t.getOptions().zoomAndScroll},J.isZoomable=function(t){if(!at.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"live"==e||"delayed"==e},J.getZoomDirection=function(t){return at.isScatterBubble(t)?t.getOptions().zoomDirection:"auto"},J.isLiveScroll=function(t){if(!at.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"live"==e||"liveScrollOnly"==e},J.isDelayedScroll=function(t){if(!at.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"delayed"==e||"delayedScrollOnly"==e},J.processIds=function(t,e){for(var i=[],r=0;r<e.length;r++){var a=e[r];if(a.series==st.OTHER_SLICE_SERIES_ID){var n=st.getOtherSliceIds(t);i=i.concat(n)}else i.push(a)}return i},J.adjustBounds=function(t){null!=t.x&&(t.x-=1),null!=t.w&&(t.w+=2),null!=t.y&&(t.y-=1),null!=t.h&&(t.h+=2)},J.getBoundedObjects=function(t,e){for(var i=t.getChartObjPeers().concat(Q.getFilteredChartObjPeers(t)),r=[],a=0;a<i.length;a++){var n=i[a],s=n.getDataPosition();if(s){s=t.getPlotArea().localToStage(s);var o=null==e.x||s.x>=e.x&&s.x<=e.x+e.w,l=null==e.y||s.y>=e.y&&s.y<=e.y+e.h;o&&l&&r.push(n)}}return r},J.getAxisBounds=function(e,i,r){var a=e.getPlotArea(),n=a.stageToLocal(new t.Point(i.x,i.y)),s=a.stageToLocal(new t.Point(i.x+i.w,i.y+i.h));null==i.x&&(n.x=null,s.x=null),null==i.y&&(n.y=null,s.y=null);var o=J._convertToAxisCoord(e,n.x,s.x,n.y,s.y),l={},h={},u={},g={};return e.xAxis&&(l=J._getAxisMinMax(e.xAxis,o.xMin,o.xMax,r),g=J.getAxisStartEndGroup(e.xAxis,l.min,l.max)),e.yAxis&&(h=J._getAxisMinMax(e.yAxis,o.yMin,o.yMax,r)),e.y2Axis&&(u=J._getAxisMinMax(e.y2Axis,o.yMin,o.yMax,r)),{xMin:l.min,xMax:l.max,unchanged:l.unchanged,yMin:h.min,yMax:h.max,y2Min:u.min,y2Max:u.max,startGroup:g.startGroup,endGroup:g.endGroup}},J._getAxisMinMax=function(t,e,i,r){if(null==e||null==i)return{min:null,max:null};var a=t.getUnboundedLinearValueAt(e),n=t.getUnboundedLinearValueAt(i);if(r){var s=t.getInfo().getMinimumExtent();if(n-a<s){var o=(n+a)/2;n=o+s/2,a=o-s/2}return J._limitToGlobal(t,a,n)}return J.getActualMinMax(t,a,n)},J.getAxisBoundsByDelta=function(t,e,i,r,a){var n=J._convertToAxisCoord(t,e,i,r,a),s=J.getZoomDirection(t),o={},l={},h={},u={};return t.xAxis&&"y"!=s&&(o=J._getAxisMinMaxByDelta(t.xAxis,n.xMin,n.xMax),u=J.getAxisStartEndGroup(t.xAxis,o.min,o.max)),t.yAxis&&"x"!=s&&(l=J._getAxisMinMaxByDelta(t.yAxis,n.yMin,n.yMax)),t.y2Axis&&(h=J._getAxisMinMaxByDelta(t.y2Axis,n.yMin,n.yMax)),{xMin:o.min,xMax:o.max,unchanged:o.unchanged,yMin:l.min,yMax:l.max,y2Min:h.min,y2Max:h.max,startGroup:u.startGroup,endGroup:u.endGroup}},J._getAxisMinMaxByDelta=function(t,e,i){var r=t.getLinearViewportMin(),a=t.getLinearViewportMax();if(i==e&&t.isFullViewport())return J.getActualMinMax(t,r,a);var n=t.getUnboundedLinearValueAt(e)-t.getUnboundedLinearValueAt(0),s=t.getUnboundedLinearValueAt(i)-t.getUnboundedLinearValueAt(0),o=1,l=a+s-(r+n),h=t.getInfo().getMinimumExtent();return e!=i&&l<h&&(o=(a-r-h)/(n-s)),r+=n*o,a+=s*o,J._limitToGlobal(t,r,a)},J._convertToAxisCoord=function(e,i,r,a,n){var s={},o=t.Agent.isRightToLeft(e.getCtx());return at.isHorizontal(e)?(s.xMin=a,s.xMax=n,s.yMin=o?r:i,s.yMax=o?i:r):(s.xMin=o?r:i,s.xMax=o?i:r,s.yMin=n,s.yMax=a),s},J._limitToGlobal=function(t,e,i){var r=t.getLinearGlobalMin(),a=t.getLinearGlobalMax();return i-e>=a-r?(e=r,i=a):e<r?(i+=r-e,e=r):i>a&&(e-=i-a,i=a),J.getActualMinMax(t,e,i)},J.getActualMinMax=function(t,e,i){var r={min:t.linearToActual(e),max:t.linearToActual(i)};if(t.isGroupAxis()){var a=t.getLinearViewportMin(),n=t.getLinearViewportMax();Math.abs(e-a)<1e-4&&Math.abs(i-n)<1e-4&&(r.unchanged=!0)}return r},J.getAxisStartEndGroup=function(t,e,i){if(t.isGroupAxis()&&null!=e&&null!=i){var r=Math.ceil(e),a=Math.floor(i);if(a>=r)return{startGroup:t.getInfo().getGroup(r),endGroup:t.getInfo().getGroup(a)}}return{startGroup:null,endGroup:null}},J.setInitialSelection=function(t,e){var i=t.getSelectionHandler();if(i)if(e&&0!=e.length){for(var r=[],a=0;a<e.length;a++)null!=e[a].id?r.push(e[a].id):null!=e[a].series&&null!=e[a].group&&r.push(Q.createDataItemId(e[a].series,e[a].group));for(var n=new(t.getCtx().KeySetImpl)(r),s=t.getChartObjPeers(),o=[],l=0;l<s.length;l++){var h=s[l];if(h.isSelectable()){var u=h.getDataItemId(),g=Q.createDataItemId(h.getSeries(),h.getGroup());(n.has(u)||n.has(g))&&o.push(h.getId())}}i.processInitialSelections(o,s)}else i.clearSelection()},J.getKeyboardNavigables=function(t){var e=[];if(at.isPie(t))for(var i=t.pieChart.__getSlices(),r=0;r<i.length;r++)et.isSeriesRendered(t,i[r].getSeriesIndex())&&e.push(i[r]);else{var a=t.getChartObjPeers();for(r=0;r<a.length;r++)a[r].isNavigable()&&e.push(a[r])}return e},J.isSeriesDrillable=function(t,e){var i=Q.getSeriesItem(t,e),r=null!=i?i.drilling:"inherit";return"on"==r||"off"!=r&&("on"==(r=t.getOptions().drilling)||"seriesOnly"==r)},J.isDataItemDrillable=function(t,e,i,r){var a=Q.getNestedDataItem(t,e,i,r);a||(a=Q.getDataItem(t,e,i));var n=null!=a?a.drilling:"inherit";return"on"==n||"off"!=n&&"on"==(n=t.getOptions().drilling)},J.addEventData=function(t,e){var i=Q.getSeriesIndex(t,e.series),r=Q.getGroupIndex(t,e.group),a=Q.getNestedDataItemIndex(t,i,r,e.id),n=Q.getDataContext(t,i,r,a);n&&(e.data=n.data,e.itemData=n.itemData,e.seriesData=n.seriesData,n.groupData?e.groupData=n.groupData:null!=r&&(e.groupData=Q.getGroupsDataForContext(t)[r]))},J.isPlotAreaDraggable=function(t){var e=t.getOptions(),i=e.dnd?e.dnd.drag.items:{};return Object.keys(i).length>0},J.isPlotAreaDropTarget=function(t){var e=t.getOptions(),i=e.dnd?e.dnd.drop.plotArea:{};return Object.keys(i).length>0},J.addPlotAreaDnDBackground=function(e,i,r,a){var n=J.isPlotAreaDraggable(e);(J.isPlotAreaDropTarget(e)||n)&&(background=new t.Rect(e.getCtx(),0,0,a?r.w:r.h,a?r.h:r.w),background.setInvisibleFill(),i.addChild(background),e.getCache().putToCache("plotAreaBackground",background),n&&background.setClassName("oj-draggable"))};var $=new Object;t.Obj.createSubclass($,t.Obj),$.getRefObjs=function(t){var e=$.getAxisRefObjs(t,"x"),i=$.getAxisRefObjs(t,"y"),r=$.getAxisRefObjs(t,"y2");return e.concat(i,r)},$.getAxisRefObjs=function(t,e){var i=t.getOptions();return i&&i[e+"Axis"]&&i[e+"Axis"].referenceObjects?i[e+"Axis"].referenceObjects:[]},$.getType=function(t){return"area"==t.type?"area":"line"},$.getLocation=function(t){return"front"==t.location?"front":"back"},$.getColor=function(t){return t.color?t.color:"#333333"},$.getLineWidth=function(t){return t.lineWidth?t.lineWidth:1},$.getLineType=function(t){return t.lineType?t.lineType:"straight"},$.isObjectRendered=function(e,i){var r=et.getHiddenCategories(e);if(r.length>0){var a=$.getRefObjCategories(i);if(a&&t.ArrayUtils.hasAnyItem(r,a))return!1}return!("hidden"==i.visibility)},$.getId=function(t){return null!=t.id?t.id:t.text},$.getRefObjCategories=function(t){return t.categories?t.categories:[$.getId(t)]},$.getRefObj=function(t,e){for(var i=$.getRefObjs(t),r=0;r<i.length;r++)if($.getId(i[r])==e)return i[r]},$.getLowValue=function(t){return null==t?null:t.low},$.getHighValue=function(t){return null==t?null:t.high},$.getXValue=function(t,e,i){return Q.getXValueFromItem(t,e[i],i)},$.getViewportMinMaxIndex=function(t,e){var i=q.getXAxisViewportMinMax(t,!0),r=q.hasGroupAxis(t),a=i.min,n=0;if(null!=a)if(r)n=Math.ceil(a);else for(var s=0;s<e.length;s++){if($.getXValue(t,e,s)>=a){n=s;break}}var o=i.max,l=e.length-1;if(null!=l)if(r)l=Math.floor(o);else for(s=e.length-1;s>=n;s--){if(Q.getXValue(t,e,s)<=o){l=s;break}}return{min:n,max:l}};var tt=new Object;t.Obj.createSubclass(tt,t.Obj),tt.getBarFill=function(t,e,i,r){var a=et.getColor(t,e,i),n=et.getPattern(t,e,i);return tt.getRectangleFill(t,a,n,r)},tt.getRectangleFill=function(e,i,r,a){var n=et.getSeriesEffect(e);if(r)return new t.PatternFill(r,i);if("gradient"==n&&a>3){var s,o,l=at.isHorizontal(e)?270:0;return s=[t.ColorUtils.adjustHSL(i,0,-.09,.04),t.ColorUtils.adjustHSL(i,0,-.04,-.05)],o=[0,1],new t.LinearGradientFill(l,s,null,o)}return new t.SolidFill(i)},tt.getAreaFill=function(e,i){var r,a="lineWithArea"==et.getSeriesType(e,i),n=Q.getSeriesItem(e,i);n&&n.areaColor?r=n.areaColor:(r=et.getColor(e,i),a&&(r=t.ColorUtils.setAlpha(r,.2)));var s=et.getPattern(e,i),o=et.getSeriesEffect(e);if(s)return new t.PatternFill(s,r);if("gradient"==o){var l,h,u=at.isHorizontal(e)?180:270;if(a){var g=t.ColorUtils.getAlpha(r);l=[t.ColorUtils.setAlpha(r,Math.min(g+.2,1)),t.ColorUtils.setAlpha(r,Math.max(g-.15,0))],h=[0,1]}else l=[t.ColorUtils.adjustHSL(r,0,-.09,.04),t.ColorUtils.adjustHSL(r,0,-.04,-.05)],h=[0,1];return new t.LinearGradientFill(u,l,null,h)}return new t.SolidFill(r)},tt.getMarkerFill=function(e,i,r,a){var n=et.getMarkerColor(e,i,r,a),s=et.getPattern(e,i,r,a);if(s)return new t.PatternFill(s,n);if(at.isBubble(e)&&"gradient"==et.getSeriesEffect(e)){var o=[t.ColorUtils.adjustHSL(n,0,-.09,.04),t.ColorUtils.adjustHSL(n,0,-.04,-.05)];return new t.LinearGradientFill(270,o,null,[0,1])}return new t.SolidFill(n)},tt.getFunnelPyramidSliceFill=function(e,i,r,a,n){var s,o=et.getPattern(e,i,0),l=et.getSeriesEffect(e);if(o&&!n)return("vertical"==e.getOptions().orientation||at.isPyramid(e))&&(s=t.Agent.isRightToLeft(e.getCtx())?new t.Matrix(0,-1,1,0):new t.Matrix(0,1,-1,0)),new t.PatternFill(o,r,null,s);if("gradient"==l){var h,u,g=at.isPyramid(e)?180:90;return"on"==e.getOptions().styleDefaults.threeDEffect?(h=[t.ColorUtils.adjustHSL(r,0,0,-.1),t.ColorUtils.adjustHSL(r,0,0,.12),r],u=[0,.65,1]):(h=[t.ColorUtils.adjustHSL(r,0,-.09,.04),t.ColorUtils.adjustHSL(r,0,-.04,-.05)],u=[0,1]),new t.LinearGradientFill(g,h,null,u,[a.x,a.y,a.w,a.h])}return new t.SolidFill(r)};var et=new Object;t.Obj.createSubclass(et,t.Obj),et._SERIES_TYPE_RAMP=["bar","line","area"],et.getSeriesType=function(t,e){var i=t.getOptionsCache().getFromCachedMap("seriesType",e);if(i)return i;if(!at.isBLAC(t))return t.getOptionsCache().putToCachedMap("seriesType",e,"auto"),"auto";var r=Q.getSeriesItem(t,e);if(i=r?r.type:null,at.isStock(t)||"candlestick"!=i||(i="auto"),!i||"auto"==i)if(at.isBar(t))i="bar";else if(at.isLine(t))i="line";else if(at.isArea(t))i="area";else if(at.isLineWithArea(t))i="lineWithArea";else if(at.isStock(t))i="candlestick";else if(at.isBoxPlot(t))i="boxPlot";else if(at.isCombo(t)){var a=Q.getSeriesStyleIndex(t,e)%et._SERIES_TYPE_RAMP.length;i=et._SERIES_TYPE_RAMP[a]}return t.getOptionsCache().putToCachedMap("seriesType",e,i),i},et.isRangeSeries=function(t,e){var i=t.getOptionsCache();if(!i.getFromCache("hasLowHighSeries"))return!1;var r=i.getFromCachedMap("isRange",e);if(null!=r)return r;r=!1;var a=et.getSeriesType(t,e);if("bar"==a||"area"==a)for(var n=0;n<Q.getGroupCount(t);n++)if(null!=Q.getLowValue(t,e,n)||null!=Q.getHighValue(t,e,n)){r=!0;break}return t.getOptionsCache().putToCachedMap("isRange",e,r),r},et.getSeriesEffect=function(t){return t.getOptions().styleDefaults.seriesEffect},et.getColor=function(t,e,i){var r=Q.getDataItem(t,e,i);if(r&&r.color)return r.color;var a=Q.getSeriesItem(t,e);if(a&&a.color)return a.color;if("candlestick"==et.getSeriesType(t,e))return et.getStockItemColor(t,e,i);var n=t.getOptions().styleDefaults.colors;return n[Q.getSeriesStyleIndex(t,e)%n.length]},et.getStockItemColor=function(t,e,i){var r=t.getOptions();return Q.isStockValueRising(t,e,i)?r.styleDefaults.stockRisingColor:r.styleDefaults.stockFallingColor},et.getStockVolumeColor=function(t,e,i){var r=Q.getDataItem(t,e,i);if(r&&r.color)return r.color;var a=t.getOptions();return a.styleDefaults.stockVolumeColor?a.styleDefaults.stockVolumeColor:et.getStockItemColor(t,e,i)},et.getSplitterPosition=function(t){var e=t.getOptions().splitterPosition;return null!=e?e:at.isStock(t)?.8:.5},et.getPattern=function(e,i,r,a){var n=Q.getNestedDataItem(e,i,r,a);if(n&&n.pattern&&"auto"!=n.pattern)return n.pattern;var s=Q.getDataItem(e,i,r);if(s&&s.pattern&&"auto"!=s.pattern)return s.pattern;var o=et.getSeriesType(e,i);if(("line"==o||"area"==o)&&null!=r)return null;var l=Q.getSeriesItem(e,i);if(l&&l.pattern&&"auto"!=l.pattern)return l.pattern;if("pattern"==et.getSeriesEffect(e)){if(at.isStock&&"candlestick"==et.getSeriesType(e,i)){var h=Q.isStockValueRising(e,i,r),u=t.Agent.isRightToLeft(e.getCtx());return h?u?"smallDiagonalLeft":"smallDiagonalRight":u?"smallDiagonalRight":"smallDiagonalLeft"}var g=e.getOptions().styleDefaults.patterns;return g[Q.getSeriesStyleIndex(e,i)%g.length]}return null},et.getMarkerBorderColor=function(e,i,r,a){var n=et.getBorderColor(e,i,r,a);if(n)return n;if(et.getDataItemGaps(e)>0&&"lineWithArea"!=et.getSeriesType(e,i))return et.getBackgroundColor(e,!0);if(at.isBubble(e)&&"gradient"!=et.getSeriesEffect(e)){var s=et.getMarkerColor(e,i,r);if(s)return t.ColorUtils.adjustHSL(s,0,.15,-.25)}return null},et.getBorderColor=function(t,e,i,r){var a=Q.getNestedDataItem(t,e,i,r);if(a&&a.borderColor)return a.borderColor;var n=Q.getDataItem(t,e,i);if(n&&n.borderColor)return n.borderColor;var s=Q.getSeriesItem(t,e);if(s&&s.borderColor)return s.borderColor;var o=t.getOptions().styleDefaults;return"auto"!=o.borderColor?o.borderColor:null},et.getBorderWidth=function(t,e,i,r){var a=Q.getNestedDataItem(t,e,i,r);if(a&&null!=a.borderWidth)return a.borderWidth;var n=Q.getDataItem(t,e,i);if(n&&null!=n.borderWidth)return n.borderWidth;var s=Q.getSeriesItem(t,e);if(s&&null!=s.borderWidth)return s.borderWidth;var o=t.getOptions().styleDefaults;return"auto"!=o.borderWidth?o.borderWidth:at.isScatterBubble(t)||at.isLineArea(t)?1.25:1},et.getMarkerColor=function(t,e,i,r){if(!et.isMarkerDisplayed(t,e,i,r))return et.getColor(t,e,i);var a=Q.getNestedDataItem(t,e,i,r);if(a&&a.color)return a.color;var n=Q.getDataItem(t,e,i);if(n&&n.color)return n.color;var s=Q.getSeriesItem(t,e);if(s&&s.markerColor)return s.markerColor;var o=t.getOptions().styleDefaults.markerColor;return o||et.getColor(t,e,i)},et.getMarkerShape=function(t,e,i,r){var a=t.getOptions(),n=a.styleDefaults.markerShape,s=Q.getSeriesItem(t,e);s&&s.markerShape&&(n=s.markerShape);var o=Q.getDataItem(t,e,i);o&&o.markerShape&&(n=o.markerShape);var l=Q.getNestedDataItem(t,e,i,r);if(l&&l.markerShape&&(n=l.markerShape),"auto"==n)if(at.isBubble(t)||"boxPlot"==et.getSeriesType(t,e)||et.isRangeSeries(t,e))n="circle";else{var h=Q.getSeriesStyleIndex(t,e),u=a.styleDefaults.shapes;n=u[h%u.length]}return n},et.getMarkerSize=function(t,e,i,r){var a,n=Q.getNestedDataItem(t,e,i,r);if(n&&null!=n.markerSize)a=Number(n.markerSize);else{var s=Q.getDataItem(t,e,i);if(s&&null!=s.markerSize)a=Number(s.markerSize);else{var o=Q.getSeriesItem(t,e);a=o&&null!=o.markerSize?Number(o.markerSize):Number(t.getOptions().styleDefaults.markerSize)}}return at.isOverview(t)&&(a=Math.ceil(.6*a)),a},et.isMarkerDisplayed=function(t,e,i,r){var a,n=Q.getNestedDataItem(t,e,i,r);if(n&&null!=n.markerDisplayed)a=n.markerDisplayed;else{var s=Q.getDataItem(t,e,i);if(s&&null!=s.markerDisplayed)a=s.markerDisplayed;else{var o=Q.getSeriesItem(t,e);a=o&&null!=o.markerDisplayed?o.markerDisplayed:t.getOptions().styleDefaults.markerDisplayed}}return"on"==a||"off"!=a&&(at.isScatterBubble(t)||"boxPlot"==et.getSeriesType(t,e)||"none"==et.getLineType(t,e))},et.getImageSource=function(t,e,i,r,a){var n=Q.getNestedDataItem(t,e,i,r);if(n&&n[a])return n[a];var s=Q.getDataItem(t,e,i);if(s&&s[a])return s[a];var o=Q.getSeriesItem(t,e);return o&&o[a]?o[a]:void 0},et.getLineWidth=function(t,e){var i,r=Q.getSeriesItem(t,e),a=t.getOptions();return i=r&&r.lineWidth?r.lineWidth:a.styleDefaults.lineWidth?a.styleDefaults.lineWidth:"lineWithArea"==et.getSeriesType(t,e)?2:3,at.isOverview(t)&&(i=Math.ceil(.6*i)),i},et.getLineStyle=function(t,e){var i=Q.getSeriesItem(t,e);return i&&i.lineStyle?i.lineStyle:t.getOptions().styleDefaults.lineStyle},et.getLineType=function(t,e){var i,r=Q.getSeriesItem(t,e);return"auto"==(i=r&&r.lineType?r.lineType:t.getOptions().styleDefaults.lineType)&&(i=at.isScatterBubble(t)?"none":"straight"),(at.isPolar(t)||at.isScatterBubble(t))&&("centeredSegmented"==i&&(i="segmented"),"centeredStepped"==i&&(i="stepped")),i},et.getBarSpacing=function(t){return t.getOptions().__sparkBarSpacing},et.getBarGapRatio=function(t){var e=t.getCache().getFromCache("barGapRatio");if(e)return e;if("string"==typeof(e=t.getOptions().styleDefaults.barGapRatio)&&"%"==e.slice(-1)&&(e=Number(e.slice(0,-1))/100),null!=e&&!isNaN(e))return e;var i=Q.getStackCategories(t,"bar"),r=i.y.length,a=i.y2.length,n=at.isSplitDualY(t)?Math.max(r,a):r+a;return e=at.isPolar(t)?1==n?0:.25:1==n?.37+.26/Q.getViewportGroupCount(t):.25,t.getCache().putToCache("barGapRatio",e),e},et.getMaxBarWidth=function(t){var e=t.getOptions().styleDefaults.maxBarWidth;return null==e||at.isPolar(t)?1/0:e},et.getBarWidth=function(t,e,i){t.getOptionsCache().getFromCache("hasConstantZValue")&&(e=0,i=0);var r=t.getCache().getFromCachedMap2D("barWidth",e,i);if(null!=r)return r;var a=Q.getZValue(t,e,i,1)/t.getOptions()._averageGroupZ;return r=Math.min(a*et.getGroupWidth(t),et.getMaxBarWidth(t)),t.getCache().putToCachedMap2D("barWidth",e,i,r),r},et.getBarStackWidth=function(t,e,i,r){t.getOptionsCache().getFromCache("hasConstantZValue")&&(i=0);var a=r?"y2BarStackWidth":"yBarStackWidth",n=t.getCache().getFromCachedMap2D(a,e,i);if(null!=n)return n;var s=Q.getBarCategoryZ(t,e,i,r)/t.getOptions()._averageGroupZ;return n=Math.min(s*et.getGroupWidth(t),et.getMaxBarWidth(t)),t.getCache().putToCachedMap2D(a,e,i,n),n},et.getBarCategoryOffsetMap=function(t,e){t.getOptionsCache().getFromCache("hasConstantZValue")&&(e=0);var i=t.getCache().getFromCachedMap("barCategoryOffsetMap",e);if(i)return i;var r,a=at.isStacked(t),n=Q.getStackCategories(t,"bar"),s=q.isMixedFrequency(t),o=at.isSplitDualY(t),l={},h={},u=0,g=0;if(a){for(c=0;c<n.y.length;c++)r=et.getBarStackWidth(t,n.y[c],e,!1),s?l[n.y[c]]=-.5*r:(l[n.y[c]]=u,u+=r);for(o||(g=u),c=0;c<n.y2.length;c++)r=et.getBarStackWidth(t,n.y2[c],e,!0),s?h[n.y2[c]]=-.5*r:(h[n.y2[c]]=g,g+=r);o||(u=g)}else for(var d=Q.getSeriesCount(t),c=0;c<d;c++){var p=et.getSeriesType(t,c);if(("bar"==p||"candlestick"==p||"boxPlot"==p)&&et.isSeriesRendered(t,c)){var _=Q.isAssignedToY2(t,c),f=Q.getStackCategory(t,c);r=et.getBarWidth(t,c,e),_?s?h[f]=-.5*r:(h[f]=g,g+=r):s?l[f]=-.5*r:(l[f]=u,u+=r)}}for(var f in l)l[f]-=o||a?u/2:(u+g)/2;for(var f in h)h[f]-=o||a?g/2:(u+g)/2-u;return i={y:l,y2:h},t.getCache().putToCachedMap("barCategoryOffsetMap",e,i),i},et.getDataItemGaps=function(t){var e=t.getOptionsCache().getFromCache("dataItemGaps");if(null!=e)return e;var i=t.getOptions();if(null!=i.styleDefaults.sliceGaps)e=i.styleDefaults.sliceGaps;else{var r=i.styleDefaults.dataItemGaps;"auto"==r&&(r="on"==i.styleDefaults.threeDEffect?"0%":"50%");var a=r&&r.indexOf?r.indexOf("%"):-1;e=a>=0?(r=r.substring(0,a))/100:0}return t.getOptionsCache().putToCache("dataItemGaps",e),e},et.isSelectable=function(t,e,i){var r=Q.getSeriesItem(t,e);return(!r||"off"!=r._selectable)&&(t.isSelectionSupported()&&null!=e&&e>=0&&null!=i&&i>=0)},et.isSeriesRendered=function(e,i){var r=et.getHiddenCategories(e);return!(r.length>0&&t.ArrayUtils.hasAnyItem(r,Q.getCategories(e,i)))},et.isDataItemRendered=function(e,i,r,a){var n,s=!isNaN(a)&&null!=a&&a>=0;if(!s&&void 0!==(n=e.getOptionsCache().getFromCachedMap2D("isDataItemRendered",i,r)))return n;if(n=!0,et.isSeriesRendered(e,i)){var o=et.getHiddenCategories(e);o.length>0&&((at.isPie(e)||at.isFunnel(e)||at.isPyramid(e))&&(r=0),t.ArrayUtils.hasAnyItem(o,Q.getCategories(e,i,r))&&(n=!1),t.ArrayUtils.hasAnyItem(o,Q.getCategories(e,i,r,a))&&(n=!1))}else n=!1;return s||e.getOptionsCache().putToCachedMap2D("isDataItemRendered",i,r,n),n},et.getAnimationOnDisplay=function(t){return t.getOptions().animationOnDisplay},et.getAnimationOnDataChange=function(t){return t.getOptions().animationOnDataChange},et.getAnimationDuration=function(e){return t.CSSStyle.getTimeMilliseconds(e.getOptions().styleDefaults.animationDuration)/1e3},et.getAnimationIndicators=function(t){return t.getOptions().styleDefaults.animationIndicators},et.getAnimationUpColor=function(t){return t.getOptions().styleDefaults.animationUpColor},et.getAnimationDownColor=function(t){return t.getOptions().styleDefaults.animationDownColor},et.getHiddenCategories=function(t){var e=t.getOptions();return e.hiddenCategories||(e.hiddenCategories=[]),e.hiddenCategories},et.getHighlightedCategories=function(t){var e=t.getOptions();return e.highlightedCategories||(e.highlightedCategories=[]),e.highlightedCategories},et.getSelectedInnerColor=function(t){return t.getOptions().styleDefaults.selectedInnerColor},et.getSelectedOuterColor=function(t){return t.getOptions().styleDefaults.selectedOuterColor},et.isSelectionHighlighted=function(t){var e=t.getOptions().styleDefaults.selectionEffect;return"highlight"==e||"highlightAndExplode"==e},et.isSelectionExploded=function(t){var e=t.getOptions().styleDefaults.selectionEffect;return"explode"==e||"highlightAndExplode"==e},et.getDataLabelStyle=function(e,i,r,a,n,s,o){var l,h=[];!n||"bar"!=et.getSeriesType(e,i)&&!at.isBubble(e)||"center"!=s&&"inBottom"!=s&&"inTop"!=s&&"inRight"!=s&&"inLeft"!=s?h.push(new t.CSSStyle("color: #333333;")):(l=null!=et.getPattern(e,i,r,a)?"#000000":t.ColorUtils.getContrastingTextColor(n),h.push(new t.CSSStyle("color: "+l+";"))),h.push(et._parseLowHighArray(e.getOptions().styleDefaults.dataLabelStyle,o));var u=Q.getDataItem(e,i,r);u&&h.push(new t.CSSStyle(et._parseLowHighArray(u.labelStyle,o)));var g=Q.getNestedDataItem(e,i,r,a);return g&&h.push(new t.CSSStyle(et._parseLowHighArray(g.labelStyle,o))),l&&t.Agent.isHighContrast()&&h.push(new t.CSSStyle("color: "+l+";")),t.CSSStyle.mergeStyles(h)},et.getDataLabelPosition=function(e,i,r,a,n,s){var o,l=Q.getNestedDataItem(e,i,r,a),h=Q.getDataItem(e,i,r);if(s)o="outsideBarEdge";else if((o=l&&l.labelPosition?l.labelPosition:h.labelPosition)||(o=e.getOptions().styleDefaults.dataLabelPosition),"none"==(o=et._parseLowHighArray(o,n)))return"none";var u=t.Agent.isRightToLeft(e.getCtx()),g=at.isHorizontal(e),d=at.isPolar(e);if(at.isFunnel(e)||at.isPyramid(e))return"center";if("bar"==et.getSeriesType(e,i)){if("center"==o||d)return"center";var c,p=at.isStacked(e);if("insideBarEdge"!=o){if(p&&!s)return"center";"outsideBarEdge"!=o&&(o="insideBarEdge")}if("insideBarEdge"==o&&!p){var _,f=e.getOptions().styleDefaults.dataLabelStyle,v=h.labelStyle?t.CSSStyle.mergeStyles([f,new t.CSSStyle(h.labelStyle)]):f;if(g){var m=Q.getDataLabel(e,i,r,a,n);_=t.TextUtils.getTextStringWidth(e.getCtx(),m,v)}else _=t.TextUtils.getTextStringHeight(e.getCtx(),v);var S=Q.getBarInfo(e,i,r);(S?Math.abs(S.baseCoord-S.yCoord):0)<=_&&(o="outsideBarEdge")}return c="low"==n?h.low<=h.high:"high"==n?h.high<h.low:Q.getValue(e,i,r,a)<0,"outsideBarEdge"==o?g?!c&&!u||c&&u?"right":"left":c?"bottom":"top":g?!c&&!u||c&&u?"inRight":"inLeft":c?"inBottom":"inTop"}if("center"==o)return"center";if("belowMarker"==o)return"bottom";if("aboveMarker"==o)return"top";if("afterMarker"!=o&&"beforeMarker"!=o){if(at.isBubble(e))return"center";if("low"!=n||d)if("high"!=n||d)o="afterMarker";else{if(!g)return"top";o="afterMarker"}else{if(!g)return"bottom";o="beforeMarker"}}return!u&&"afterMarker"==o||u&&"beforeMarker"==o?"right":"left"},et._parseLowHighArray=function(t,e){return t instanceof Array?"high"==e?t[1]:t[0]:t},et.isOverviewRendered=function(t){var e=t.getOptions();return at.isOverviewSupported(t)&&"off"!=e.overview.rendered},et.getOverviewHeight=function(t){var e=t.getOptions().overview.height;return null==e&&(e=q.hasTimeAxis(t)?.25:.2),et.getSizeInPixels(e,t.getHeight())},et.getSizeInPixels=function(t,e){if("string"==typeof t){if("%"==t.slice(-1))return e*Number(t.slice(0,-1))/100;if("px"==t.slice(-2))return Number(t.slice(0,-2));t=Number(t)}return"number"==typeof t?t<=1?e*t:t:0},et.getBackgroundColor=function(t,e){var i=t.getOptions();return i.plotArea.backgroundColor?i.plotArea.backgroundColor:e?"#FFFFFF":null},et.getHoverBehaviorDelay=function(e){var i=e.getOptions().styleDefaults.hoverBehaviorDelay;return i?(i=t.CSSStyle.getTimeMilliseconds(i),at.isScatterBubble(e)||at.isLine(e)?.75*i:1.25*i):0},et.optimizeMarkerStroke=function(t){return at.isScatterBubble(t)||at.isBoxPlot(t)},et.getGroupWidth=function(t){var e=t.getCache().getFromCache("groupWidth");return null==e&&(e=t.xAxis.getInfo().getGroupWidth(),t.getCache().putToCache("groupWidth",e)),e},et.isStackLabelRendered=function(t){var e=t.getOptions();return!(!at.isStacked(t)||"on"!=e.stackLabel)},et.optimizeMarkerFill=function(t){return at.isLineArea(t)},et.getClassName=function(t,e,i){var r=Q.getDataItem(t,e,i);if(r&&(r.className||r.svgClassName))return r.className||r.svgClassName;var a=Q.getSeriesItem(t,e);return a&&(a.className||a.svgClassName)?a.className||a.svgClassName:null},et.getAreaClassName=function(t,e){var i=Q.getSeriesItem(t,e);return i&&(i.areaClassName||i.areaSvgClassName)?i.areaClassName||i.areaSvgClassName:i&&(i.className||i.svgClassName)?i.className||i.svgClassName:null},et.getMarkerClassName=function(t,e,i,r){var a=Q.getNestedDataItem(t,e,i,r);if(a&&(a.className||a.svgClassName))return a.className||a.svgClassName;var n=Q.getDataItem(t,e,i);if(n&&(n.className||n.svgClassName))return n.className||n.svgClassName;var s=Q.getSeriesItem(t,e);return s&&(s.markerClassName||s.markerSvgClassName)?s.markerClassName||s.markerSvgClassName:at.isScatterBubble(t)&&s&&(s.className||s.svgClassName)?s.className||s.svgClassName:null},et.getStyle=function(t,e,i){var r=Q.getDataItem(t,e,i);if(r&&(r.style||r.svgStyle))return r.style||r.svgStyle;var a=Q.getSeriesItem(t,e);return a&&(a.style||a.svgStyle)?a.style||a.svgStyle:null},et.getAreaStyle=function(t,e){var i=Q.getSeriesItem(t,e);return i&&(i.areaStyle||i.areaSvgStyle)?i.areaStyle||i.areaSvgStyle:i&&(i.style||i.svgStyle)?i.style||i.svgStyle:null},et.getMarkerStyle=function(t,e,i,r){var a=Q.getNestedDataItem(t,e,i,r);if(a&&(a.style||a.svgStyle))return a.style||a.svgStyle;var n=Q.getDataItem(t,e,i);if(n&&(n.style||n.svgStyle))return n.style||n.svgStyle;var s=Q.getSeriesItem(t,e);return s&&(s.markerStyle||s.markerSvgStyle)?s.markerStyle||s.markerSvgStyle:at.isScatterBubble(t)&&s&&(s.style||s.svgStyle)?s.style||s.svgStyle:null},et.getBoxPlotStyleOptions=function(e,i,r){var a=Q.getDataItem(e,i,r),n=a&&a.boxPlot?a.boxPlot:{},s=Q.getSeriesItem(e,i),o=s&&s.boxPlot?s.boxPlot:{},l=e.getOptions().styleDefaults.boxPlot,h=t.JsonUtils.merge(n,t.JsonUtils.merge(o,l)),u=et.getColor(e,i,r);h._color=u;var g=t.ColorUtils.getBrighter(u,.8);if(h.q2Color||(h.q2Color=g),h.q3Color||(h.q3Color=g),"pattern"==et.getSeriesEffect(e)){var d=et.getPattern(e,i,r);h._q2Pattern=d,h._q3Pattern=d}var c=et.getBorderColor(e,i,r);h.borderColor=c||u,h.borderWidth=et.getBorderWidth(e,i,r);var p=t.ColorUtils.getDarker(u,.1);return et._setBoxPlotDefaultLineColor(h,"whisker",p),et._setBoxPlotDefaultLineColor(h,"whiskerEnd",p),et._setBoxPlotDefaultLineColor(h,"median",p),h},et._setBoxPlotDefaultLineColor=function(e,i,r){var a=t.JsonUtils.merge(e[i+"Style"],e[i+"SvgStyle"]);e[i+"SvgStyle"]=a,e[i+"Style"]=null,a.stroke||e[i+"ClassName"]||e[i+"SvgClassName"]||(e[i+"SvgStyle"].stroke=r)};var it=new Object;t.Obj.createSubclass(it,t.Obj),it.createText=function(e,i,r,a,n,s,o,l){var h=new t.OutputText(i.getCtx(),r,n,s);return h.setCSSStyle(a),t.TextUtils.fitText(h,o,l,i)?(e.associate(h,new t.SimpleObjPeer(h.getUntruncatedTextString())),h):null},it.areTitlesRendered=function(t){var e=t.getOptions();return e.title.text||e.subtitle.text||e.footnote.text};var rt=new Object;t.Obj.createSubclass(rt,t.Obj),rt.getDatatipColor=function(t,e,i,r){return at.isStock(t)?et.getColor(t,0,i):null!=r&&r>=0?et.getMarkerColor(t,e,i,r):et.getColor(t,e,i)},rt.getDatatip=function(t,e,i,r,a){if(at.isSpark(t)||at.isOverview(t))return null;if(e<0||i<0)return null;var n,s=Q.getDataItem(t,e,i),o=t.getOptions().tooltip,l=o?o.renderer:null;if(a&&l){var h=t.getCtx().getTooltipManager(rt.isDataCursorEnabled(t)?w.TOOLTIP_ID:null),u=Q.getDataContext(t,e,i,r);if(at.isPie(t)){var g=st.getSliceBySeriesIndex(t,e);u.label=g.getSliceLabelString()}else u.label=Q.getDataLabel(t,e,i,r);return h.getCustomTooltip(l,u)}return s&&null!=s.shortDesc?s.shortDesc:(at.isStock(t)?n=rt._getStockDatatip(t,0,i,a):(n=[],rt._addSeriesDatatip(n,t,e,i,a),rt._addGroupDatatip(n,t,e,i,a),rt._addValueDatatip(n,t,e,i,r,a)),rt._processDatatip(n,t,a))},rt.getOtherSliceDatatip=function(t,e,i){var r=t.getOptions().translations.labelOther,a=t.getOptions().tooltip,n=a?a.renderer:null;if(i&&n){var s=st.getSliceBySeriesIndex(t,null),o=Q.getDataContext(t,null,0);return o.label=s.getSliceLabelString(),t.getCtx().getTooltipManager().getCustomTooltip(n,o)}var l=[];return rt._addDatatipRow(l,t,"series","labelSeries",r,i),rt._addGroupDatatip(l,t,0,0,i),rt._addDatatipRow(l,t,"value","labelValue",e,i),rt._processDatatip(l,t,i)},rt._processDatatip=function(e,i,r){return 0===e.length?null:r?t.HtmlTooltipManager.createElement("table",i.getOptions().styleDefaults._tooltipStyle,e):e.join("")},rt.getRefObjTooltip=function(t,e,i,r){var a=t.getOptions().tooltip,n=a?a.renderer:null;if(n&&null!=e.id){var s=t.getCtx().getTooltipManager(rt.isDataCursorEnabled(t)?w.TOOLTIP_ID:null),o={id:$.getId(e),label:e.text,data:t.getRawOptions()[i].referenceObjects[r],value:e.value,low:$.getLowValue(e),high:$.getHighValue(e),color:$.getColor(e)};return s.getCustomTooltip(n,o)}return e.shortDesc},rt._getStockDatatip=function(t,e,i,r){var a=Q.getDataItem(t,e,i),n=[];return rt._addGroupDatatip(n,t,e,i,r),a&&(rt._addDatatipRow(n,t,"open","labelOpen",a.open,r),rt._addDatatipRow(n,t,"close","labelClose",a.close,r),rt._addDatatipRow(n,t,"high","labelHigh",a.high,r),rt._addDatatipRow(n,t,"low","labelLow",a.low,r),rt._addDatatipRow(n,t,"volume","labelVolume",a.volume,r)),n},rt._addSeriesDatatip=function(t,e,i,r,a){var n=Q.getSeriesLabel(e,i);rt._addDatatipRow(t,e,"series","labelSeries",n,a)},rt._addGroupDatatip=function(t,e,i,r,a){var n;if(q.hasTimeAxis(e)){var s=rt.getValueFormat(e,"group"),o=Q.getXValue(e,i,r);null==(n=rt.formatDateValue(s,new Date(o)))&&(n=e.xAxis.getInfo().formatLabel(o))}else n=Q.getGroupLabel(e,r);var l=Q.getNumLevels(e),h="labelGroup";if(1!=l&&Array.isArray(n))for(var u=l-1;u>=0;u--)rt._addDatatipRow(t,e,"group",h,n[u],a,u),n[u]&&(h=null);else rt._addDatatipRow(t,e,"group",h,n,a)},rt._addValueDatatip=function(t,e,i,r,a,n){var s=Q.getValue(e,i,r,a),o=Q.getXValue(e,i,r),l=Q.getZValue(e,i,r),h=Q.getLowValue(e,i,r),u=Q.getHighValue(e,i,r),g=null!=a&&a>=0;if(at.isScatterBubble(e))rt._addDatatipRow(t,e,"x","labelX",o,n),rt._addDatatipRow(t,e,"y","labelY",s,n),at.isBubble(e)&&rt._addDatatipRow(t,e,"z","labelZ",l,n);else if(at.isPie(e)||at.isPyramid(e))rt._addDatatipRow(t,e,"value","labelValue",s,n);else if(at.isFunnel(e)){rt._addDatatipRow(t,e,"value","labelValue",s,n);var d=Q.getTargetValue(e,i);null!=d&&rt._addDatatipRow(t,e,"targetValue","labelTargetValue",d,n)}else if("boxPlot"!=et.getSeriesType(e,i)||g){if(at.isBLAC(e)){var c=Q.isAssignedToY2(e,i)?"y2":"y";null==h&&null==u||g?null==l||g?rt._addDatatipRow(t,e,c,"labelValue",s,n):(rt._addDatatipRow(t,e,c,"labelY",s,n),rt._addDatatipRow(t,e,"z","labelZ",l,n)):(rt._addDatatipRow(t,e,"high","labelHigh",u,n),rt._addDatatipRow(t,e,"low","labelLow",h,n),null!=l&&rt._addDatatipRow(t,e,"z","labelZ",l,n))}}else{var p=Q.getDataItem(e,i,r);rt._addDatatipRow(t,e,"high","labelHigh",u,n),rt._addDatatipRow(t,e,"q3","labelQ3",p.q3,n),rt._addDatatipRow(t,e,"q2","labelQ2",p.q2,n),rt._addDatatipRow(t,e,"q1","labelQ1",p.q1,n),rt._addDatatipRow(t,e,"low","labelLow",h,n),null!=l&&rt._addDatatipRow(t,e,"z","labelZ",l,n)}},rt._addDatatipRow=function(e,i,r,a,n,s,o){if(null!=n&&""!==n){var l,h=i.getOptions().styleDefaults,u=rt.getValueFormat(i,r),g=u.tooltipDisplay,d=i.getOptions().translations;if(g&&"auto"!=g||"group"==r&&(at.isPie(i)||at.isFunnel(i))&&(g="off"),"off"!=g)if("string"==typeof u.tooltipLabel?l=u.tooltipLabel:Array.isArray(u.tooltipLabel)&&(l=u.tooltipLabel[o||0]),null==l&&(l=null==a?"":"labelGroup"==a&&q.hasTimeAxis(i)?d.labelDate:d[a]),"series"!=r&&"group"!=r&&(n=rt.formatValue(i,u,n)),s){var c=t.Agent.isRightToLeft(i.getCtx());h.tooltipLabelStyle.setStyle(t.CSSStyle.TEXT_ALIGN,c?"left":"right"),h.tooltipValueStyle.setStyle(t.CSSStyle.TEXT_ALIGN,c?"right":"left");var p=[t.HtmlTooltipManager.createElement("td",h.tooltipLabelStyle,l),t.HtmlTooltipManager.createElement("td",h.tooltipValueStyle,n)];e.push(t.HtmlTooltipManager.createElement("tr",null,p))}else e.push((e.length>0?"<br>":"")+t.ResourceUtils.format(d.labelAndValue,[l,n]))}},rt.getValueFormat=function(t,e){var i=t.getOptions().valueFormats;return i?i[e]?i[e]:"group"==e&&q.hasTimeAxis(t)?rt.getValueFormat(t,"x"):"y"!=e&&"y2"!=e&&"min"!=e&&"max"!=e||!at.isBLAC(t)?{}:rt.getValueFormat(t,"value"):{}},rt.formatValue=function(e,i,r,a,n,s){var o,l="auto",h="on";i.scaling&&(l=i.scaling),i.autoPrecision&&(h=i.autoPrecision),i.converter&&(o=i.converter),a=null!=a?a:r,n=null!=n?n:r,s=null!=s?s:0;var u=new t.LinearScaleAxisValueFormatter(e.getCtx(),a,n,s,l,h,e.getOptions().translations);return o&&(o.getAsString||o.format)?u.format(r,o):u.format(r)},rt.formatDateValue=function(t,e){var i=t.converter;return i?i.getAsString?i.getAsString(e):i.format?i.format(e):null:null},rt.isDataCursorEnabled=function(e){if(at.isPie(e)||at.isFunnel(e)||at.isPolar(e)||at.isPyramid(e))return!1;var i=e.getOptions();return"on"==i.dataCursor||"off"!=i.dataCursor&&(t.Agent.isTouchDevice()&&at.isLineArea(e))},rt.getDataCursorBehavior=function(t){var e=t.getOptions().dataCursorBehavior;return"snap"==e?w.BEHAVIOR_SNAP:"smooth"==e?w.BEHAVIOR_SMOOTH:at.isLineArea(t)?w.BEHAVIOR_SMOOTH:w.BEHAVIOR_SNAP};var at=new Object;t.Obj.createSubclass(at,t.Obj),at._SUPPORTED_TYPES=["bar","line","area","lineWithArea","combo","pie","bubble","scatter","funnel","pyramid","stock","boxPlot"],at.isValidType=function(t){return at._SUPPORTED_TYPES.indexOf(t.getType())>=0},at.isSpark=function(t){return t.getOptions().__spark},at.isOverview=function(t){return t.getOptions()._isOverview},at.isVertical=function(t){return!at.isHorizontal(t)&&!at.isPolar(t)},at.isHorizontal=function(t){return"horizontal"==t.getOptions().orientation&&!at.isPolar(t)&&!at.isStock(t)&&(at.isBLAC(t)||at.isFunnel(t))},at.isPolar=function(t){return"polar"==t.getOptions().coordinateSystem&&!at.isStock(t)&&!at.isBoxPlot(t)},at.isStacked=function(t){return!("on"!=t.getOptions().stack||q.isMixedFrequency(t)||Q.getSeriesCount(t)<2)&&at.isBLAC(t)},at.isCombo=function(t){return"combo"==t.getType()},at.isBar=function(t){return"bar"==t.getType()},at.isLine=function(t){return"line"==t.getType()},at.isLineWithArea=function(t){return"lineWithArea"==t.getType()},at.isArea=function(t){return"area"==t.getType()},at.isStock=function(t){return"stock"==t.getType()},at.isBoxPlot=function(t){return"boxPlot"==t.getType()},at.isScatter=function(t){return"scatter"==t.getType()},at.isBubble=function(t){return"bubble"==t.getType()},at.isPie=function(t){return"pie"==t.getType()},at.isFunnel=function(t){return"funnel"==t.getType()},at.isPyramid=function(t){return"pyramid"==t.getType()},at.isDualY=function(t){return!(!at.hasAxes(t)||at.isScatterBubble(t)||at.isPolar(t))},at.isSplitDualY=function(t){return!(!at.isStock(t)||!Q.hasVolumeSeries(t)||at.isOverview(t))||"on"==t.getOptions().splitDualY&&at.hasY2Data(t)&&!at.hasY2DataOnly(t)},at.isBLAC=function(t){var e=t.getType();return"bar"==e||"line"==e||"area"==e||"lineWithArea"==e||"combo"==e||"stock"==e||"boxPlot"==e},at.isScatterBubble=function(t){var e=t.getType();return"scatter"==e||"bubble"==e},at.isLineArea=function(t){var e=t.getType();return"line"==e||"area"==e||"lineWithArea"==e},at.isScrollSupported=function(t){return!(at.isPie(t)||at.isFunnel(t)||at.isPolar(t)||at.isPyramid(t))},at.isOverviewSupported=function(t){return at.isBLAC(t)&&at.isVertical(t)},at.isHorizScrollbarSupported=function(t){var e=J.getZoomDirection(t);return!at.isPolar(t)&&(at.isBLAC(t)&&at.isVertical(t)||at.isScatterBubble(t)&&"y"!=e)},at.isVertScrollbarSupported=function(t){var e=J.getZoomDirection(t);return!at.isPolar(t)&&(at.isBLAC(t)&&at.isHorizontal(t)||at.isScatterBubble(t)&&"x"!=e)},at.hasAxes=function(t){return!("pie"==t.getType()||"funnel"==t.getType()||"pyramid"==t.getType())},at.hasY2DataOnly=function(t){return!!at.isDualY(t)&&Q.getY2SeriesCount(t,null,!0)==Q.getSeriesCount(t)},at.hasY2Data=function(t,e){return!!at.isDualY(t)&&Q.getY2SeriesCount(t,null,!0)>0},at.hasY2BarData=function(t){return at.hasY2Data(t,"bar")},at.hasBarSeries=function(t){return at._hasSeriesType(t,"bar")},at.hasLineSeries=function(t){return at._hasSeriesType(t,"line")},at.hasAreaSeries=function(t){return at._hasSeriesType(t,"area")},at.hasLineWithAreaSeries=function(t){return at._hasSeriesType(t,"lineWithArea")},at.hasCandlestickSeries=function(t){return at._hasSeriesType(t,"candlestick")},at.hasBoxPlotSeries=function(t){return at._hasSeriesType(t,"boxPlot")},at._hasSeriesType=function(t,e){if(at.isBLAC(t))for(var i=Q.getSeriesCount(t),r=0;r<i;r++)if(et.isSeriesRendered(t,r)&&et.getSeriesType(t,r)==e)return!0;return!1},at.hasCenteredSeries=function(t){if(!at.isBLAC(t))return!1;for(var e=Q.getSeriesCount(t),i=0;i<e;i++)if(et.isSeriesRendered(t,i)&&"bar"!=et.getSeriesType(t,i)){var r=et.getLineType(t,i);if("centeredSegmented"==r||"centeredStepped"==r)return!0}return!1},at.hasUncenteredSeries=function(t){if(!at.isBLAC(t))return!1;for(var e=Q.getSeriesCount(t),i=0;i<e;i++)if(et.isSeriesRendered(t,i)&&"bar"!=et.getSeriesType(t,i)){var r=et.getLineType(t,i);if("segmented"==r||"stepped"==r)return!0}return!1},at.isStandalonePlotArea=function(t){var e=t.getOptions();return!it.areTitlesRendered(t)&&("off"==e.legend.rendered&&(!q.isAxisRendered(t,"x")&&(!q.isAxisRendered(t,"y")&&!q.isAxisRendered(t,"y2"))))},at.isStandaloneXAxis=function(t){var e=t.getOptions();return!it.areTitlesRendered(t)&&("off"==e.legend.rendered&&("off"==e.plotArea.rendered&&(!q.isAxisRendered(t,"y")&&!q.isAxisRendered(t,"y2"))))},at.isStandaloneYAxis=function(t){var e=t.getOptions();return!it.areTitlesRendered(t)&&("off"==e.legend.rendered&&(!q.isAxisRendered(t,"x")&&("off"==e.plotArea.rendered&&!q.isAxisRendered(t,"y2"))))},at.isStandaloneY2Axis=function(t){var e=t.getOptions();return!it.areTitlesRendered(t)&&("off"==e.legend.rendered&&(!q.isAxisRendered(t,"x")&&(!q.isAxisRendered(t,"y")&&"off"==e.plotArea.rendered)))};var nt=new Object;t.Obj.createSubclass(nt,t.Obj),nt._MIN_BUBBLE_SIZE=6,nt._MAX_BUBBLE_SIZE_RATIO=.5,nt.calcBubbleSizes=function(e,i){for(var r,a,n=Q.getMinMaxValue(e,"z"),s=n.min,o=n.max,l=nt._MIN_BUBBLE_SIZE,h=nt._MAX_BUBBLE_SIZE_RATIO*Math.min(i.w,i.h),u=Q.getSeriesCount(e),g="withoutRescale"==J.getHideAndShowBehavior(e),d=0;d<u;d++)if(g||et.isSeriesRendered(e,d))for(var c=Q.getSeriesItem(e,d),p=c.items?c.items.length:0,_=0;_<p;_++){var f=c.items[_];if(f){var v=t.LayoutUtils.getBubbleSize(f.z,s,o,l,h);f.markerSize=v}}at.isPolar(e)?(r=1/0,a=e.getRadius()):(r=i.w-2.4*q.getTickLabelHeight(e,"y"),a=i.h-1.6*q.getTickLabelHeight(e,"x")),r-=.5*h,a-=.5*h;var m=e.getCache(),S=nt._getAxisValueRange(e,"x");m.putToCache("_xAxisBubbleRatio",S/r);var C=nt._getAxisValueRange(e,"y");m.putToCache("_yAxisBubbleRatio",C/a)},nt.getBubbleAxisRadius=function(t,e,i){if(!i)return 0;var r="x"==e?"_xAxisBubbleRatio":"_yAxisBubbleRatio";return i/2*t.getCache().getFromCache(r)},nt._getAxisValueRange=function(e,i){var r=e.getOptions()[i+"Axis"],a=q.isLog(e,i),n=!a&&"zero"==q.getBaselineScaling(e,i),s=Q.getMinMaxValue(e,i,!0),o=r.min;null==o&&(o=n?Math.min(0,s.min):s.min);var l=r.max;return null==l&&(l=n?Math.max(0,s.max):s.max),a&&l>0&&o>0?l==o?6:t.Math.log10(l/o):l==o?60:l-o},nt.sortMarkers=function(t){t.sort(nt._compareSize)},nt.sortMarkerInfos=function(t){t.sort(nt._compareInfoSize)},nt._compareSize=function(t,e){return e.getSize()-t.getSize()},nt._compareInfoSize=function(t,e){return e.size-t.size},nt.checkPixelMap=function(t,e,i,r){var a=r/2,n=Math.max(Math.floor(e-a),0),s=Math.max(Math.floor(i-a),0),o=Math.max(Math.ceil(e+a),0),l=Math.max(Math.ceil(i+a),0);return t.isObscured(n,s,o,l)},nt.updatePixelMap=function(t,e,i,r,a){var n=.4*r,s=Math.max(Math.round(e-n),0),o=Math.max(Math.round(e+n),0),l=Math.max(Math.round(i-n),0),h=Math.max(Math.round(i+n),0);t.obscure(s,l,o,h,a)};var st=new Object;t.Obj.createSubclass(st,t.Obj),st.OTHER_SLICE_SERIES_ID="_dvtOther",st.getSliceId=function(t,e){var i=Q.getDataItem(t,e,0),r=i?i.id:null,a=Q.getSeries(t,e),n=Q.getGroup(t,0);return new s(r,a,n,t.getCtx())},st.getOtherSliceId=function(t){var e=Q.getGroup(t,0);return new s(null,st.OTHER_SLICE_SERIES_ID,e,t.getCtx())},st.getRenderedSeriesIndices=function(t){return st._getSeriesIndicesArrays(t).rendered},st.hasOtherSeries=function(t){return st._getSeriesIndicesArrays(t).other.length>0},st.getOtherValue=function(t){for(var e=st._getSeriesIndicesArrays(t).other,i=0,r=0;r<e.length;r++){var a=e[r];if(et.isSeriesRendered(t,a)){var n=Q.getValue(t,a,0);n>0&&(i+=n)}}return i},st.getOtherSliceIds=function(t){for(var e=st._getSeriesIndicesArrays(t).other,i=[],r=0;r<e.length;r++){var a=e[r];i.push(st.getSliceId(t,a))}return i},st.isOtherSliceSelected=function(t,e){for(var i=st.getOtherSliceIds(t),r=0;r<i.length;r++){for(var a=i[r],n=!1,s=0;s<e.length;s++)if(null!=e[s].id&&a.id===e[s].id||a.series===e[s].series&&a.group===e[s].group){n=!0;break}if(!n)return!1}return!0},st._getSeriesIndicesArrays=function(t){for(var e=[],i=[],r=Q.getSeriesCount(t),a=t.getOptions(),n=a.otherThreshold*st.getTotalValue(t),s=0;s<r;s++){var o=Q.getValue(t,s,0);n>0&&o<n?i.push(s):e.push(s)}return"ascending"==a.sorting?e.sort(function(e,i){return Q.getValue(t,e,0)-Q.getValue(t,i,0)}):"on"!=a.sorting&&"descending"!=a.sorting||e.sort(function(e,i){return Q.getValue(t,i,0)-Q.getValue(t,e,0)}),{rendered:e,other:i}},st.getTotalValue=function(t){for(var e=Q.getSeriesCount(t),i=0,r=0;r<e;r++){var a=Q.getValue(t,r,0);a>0&&(i+=a)}return i},st.getSliceExplode=function(t,e){var i=Q.getSeriesItem(t,e);return i&&i.pieSliceExplode?i.pieSliceExplode:0},st.getSliceBySeriesIndex=function(t,e){for(var i=t.pieChart.__getSlices(),r=0;r<i.length;r++)if(i[r].getSeriesIndex()==e)return i[r];return null};var ot=function(){};t.Obj.createSubclass(ot,t.Obj),ot.TWOD="2D",ot.THREED="3D",ot.CRUST="CRUST",ot.SIDE="SIDE",ot.BORDER="BORDER",ot.SURFACE_CRUST=0,ot.SURFACE_LEFT=1,ot.SURFACE_RIGHT=2,ot.SURFACE_TOP=3,ot.reflectAngleOverYAxis=function(e,i,r,a,n){var s=t.Math.degreesToRads(360-e);return{x:i+Math.cos(s)*a,y:r+Math.sin(s)*n}},ot.getGradientColors=function(e,i){return i==ot.TWOD||i==ot.THREED?[t.ColorUtils.adjustHSL(e,0,-.04,-.05),t.ColorUtils.adjustHSL(e,0,-.09,.04)]:i==ot.CRUST?[t.ColorUtils.adjustHSL(e,0,-.04,-.05),t.ColorUtils.adjustHSL(e,0,0,-.14)]:i==ot.SIDE?[t.ColorUtils.adjustHSL(e,0,-.1,.06),t.ColorUtils.adjustHSL(e,0,-.04,-.05)]:void 0},ot.getGradientAlphas=function(t,e){var i=null==t||isNaN(t)||0==t?1:t;return e==ot.TWOD?[i,i,i]:e==ot.BORDER?[i/1.59375,i/5.3125,i/(255/96)]:e==ot.THREED?[i,i,i,i,i]:e==ot.CRUST?[i,i,i,i]:e==ot.SIDE?[i,i]:void 0},ot.createTopSurface=function(e,i){var r=e.getPieChart(),a=r.getCtx(),n=e.getCenter(),s=e.getInnerRadius(),o=r.is3D()||e.getSliceGaps()>Math.sin(t.Math.degreesToRads(e.getAngleExtent()))*e._radiusX+1?null:e.getSliceGaps(),l=new y(a,n.x,n.y,e._radiusX,e._radiusY,e.getAngleStart(),e.getAngleExtent(),o,s),h=et.getSelectedInnerColor(r.chart),u=et.getSelectedOuterColor(r.chart),g=new t.Stroke(e.getStrokeColor(),1,e.getBorderWidth()),d=e.getSeriesIndex(),c=et.getClassName(r.chart,d,0),p=et.getStyle(r.chart,d,0);l.setStyleProperties(i,g,e.getFillColor(),h,u,c,p);var _=[l];return ot.associate(e,_),_},ot.associate=function(t,e){if(e)for(var i=0;i<e.length;i++)t.getPieChart().chart.getEventManager().associate(e[i],t)},ot.createLateralSurface=function(e,i,r){if(0==e.getAngleExtent())return[];var a=[];if(t.ColorUtils.getAlpha(e.getFillColor())>0)if(i==ot.SURFACE_LEFT||i==ot.SURFACE_RIGHT)a.push(ot._generateLateralShape(e,i,null,r));else if(i==ot.SURFACE_CRUST)for(var n=ot._createCrustPathCommands(e),s=n.length,o=0;o<s;o++)a.push(ot._generateLateralShape(e,i,n[o],r));return ot.associate(e,a),a},ot.generateLateralGradientFill=function(e,i){e.getPieChart(),i==ot.CRUST&&e.getDepth();var r=ot.getGradientColors(t.ColorUtils.getRGB(e.getFillColor()),i),a=ot.getGradientAlphas(t.ColorUtils.getAlpha(e.getFillColor()),i);return new t.LinearGradientFill(270,r,a,[0,1],null)},ot._generateLateralShape=function(e,i,r,a){var n=e.getPieChart().getCtx();if(i==ot.SURFACE_LEFT||i==ot.SURFACE_RIGHT){for(var s=e.getAngleStart(),o=e.getAngleExtent(),l=e.getCenter().x,h=e.getCenter().y,u=e._radiusX,g=e._radiusY,d=e.getDepth(),c=i==ot.SURFACE_LEFT?ot.reflectAngleOverYAxis(s+o,l,h,u,g):ot.reflectAngleOverYAxis(s,l,h,u,g),p=ot._generateInnerPoints(l,h,c.x,c.y,d),_=[],f=0;f<p.length;f++)_.push(p[f].x,p[f].y);var v=new t.Polygon(n,_);return v.setFill(a),e.getStrokeColor()&&v.setSolidStroke(e.getStrokeColor()),v}if(r){var m=new t.Path(n,null);return m.setCmds(r),m.setTranslate(e.__getExplodeOffsetX(),e.__getExplodeOffsetY()),m.setFill(a),e.getStrokeColor()&&m.setSolidStroke(e.getStrokeColor()),m}return null},ot._createCrustPathCommands=function(t){var e=t.getAngleStart(),i=t.getAngleExtent(),r=e+i,a=t.getCenter().x,n=t.getCenter().y,s=t._radiusX,o=t._radiusY,l=t.getDepth(),h=[];return e<180&&r>360?(h.push(ot._makeOuterPath(a,n,s,o,l,e,180-e)),h.push(ot._makeOuterPath(a,n,s,o,l,360,r-360)),h.push(ot._makeOuterPath(a,n,s,o,l,180,180))):r>360?(h.push(ot._makeOuterPath(a,n,s,o,l,e,360-e)),h.push(ot._makeOuterPath(a,n,s,o,l,360,r-360))):e<180&&r>180?(h.push(ot._makeOuterPath(a,n,s,o,l,e,180-e)),h.push(ot._makeOuterPath(a,n,s,o,l,180,r-180))):h.push(ot._makeOuterPath(a,n,s,o,l,e,i)),h},ot._makeOuterPath=function(e,i,r,a,n,s,o){var l=t.Math.degreesToRads(o),h=-(t.Math.degreesToRads(s)+l),u=ot.reflectAngleOverYAxis(s,e,i,r,a),g=e+Math.cos(h)*r,d=i+Math.sin(h)*a,c=t.PathUtils.moveTo(u.x,u.y);return c+=t.PathUtils.arcTo(r,a,l,0,g,d),c+=t.PathUtils.lineTo(g,d+n),c+=t.PathUtils.arcTo(r,a,l,1,u.x,u.y+n),c+=t.PathUtils.lineTo(u.x,u.y)},ot._generateInnerPoints=function(t,e,i,r,a){var n=[];return n.push({x:t,y:e}),n.push({x:i,y:r}),n.push({x:i,y:r+a}),n.push({x:t,y:e+a}),n};var lt=function(){this._init()};t.Obj.createSubclass(lt,t.Obj),lt.prototype._init=function(){this._sliceLabel=null,this._slice=null,this._angle=-1,this._position=-1,this._width=-1,this._height=-1,this._x=-1,this._y=-1,this._initialNumLines=-1,this._hasFeeler=!1,this._maxY=-1,this._minY=-1},lt.prototype.getAngle=function(){return this._angle},lt.prototype.setAngle=function(t){this._angle=t},lt.prototype.getHeight=function(){return this._height},lt.prototype.setHeight=function(t){this._height=t},lt.prototype.getInitialNumLines=function(){return this._initialNumLines},lt.prototype.setInitialNumLines=function(t){this._initialNumLines=t},lt.prototype.getMaxY=function(){return this._maxY},lt.prototype.setMaxY=function(t){this._maxY=t},lt.prototype.getMinY=function(){return this._minY},lt.prototype.setMinY=function(t){this._minY=t},lt.prototype.boundY=function(t){return this._minY<=this._maxY&&(t=Math.max(t,this._minY),t=Math.min(t,this._maxY)),t},lt.prototype.hasFeeler=function(){return this._hasFeeler},lt.prototype.setHasFeeler=function(t){this._hasFeeler=t},lt.prototype.getPosition=function(){return this._position},lt.prototype.setPosition=function(t){this._position=t},lt.prototype.getSlice=function(){return this._slice},lt.prototype.setSlice=function(t){this._slice=t},lt.prototype.getSliceLabel=function(){return this._sliceLabel},lt.prototype.setSliceLabel=function(t){this._sliceLabel=t},lt.prototype.getWidth=function(){return this._width},lt.prototype.setWidth=function(t){this._width=t},lt.prototype.getX=function(){return this._x},lt.prototype.setX=function(t){this._x=t},lt.prototype.getY=function(){return this._y},lt.prototype.setY=function(t){this._y=t};var ht=function(){};t.Obj.createSubclass(ht,t.Obj),ht._MAX_LINES_PER_LABEL=3,ht._COLLISION_MARGIN=1,ht._LEFT_SIDE_LABELS=1,ht._RIGHT_SIDE_LABELS=2,ht._OUTSIDE_LABEL_DISTANCE=1.04,ht._FEELER_RAD_MINSIZE=.1,ht._FEELER_HORIZ_MINSIZE=.1,ht._LABEL_TO_FEELER_OFFSET=.5,ht._LABEL_TO_FEELER_DISTANCE=3,ht._NO_COLLISION=0,ht._HALF_COLLISION=1,ht._ALL_COLLISION=2,ht.layoutLabelsAndFeelers=function(t){var e=t.getLabelPosition();ht._layoutInsideLabels(t,"auto"==e),ht._layoutOutsideLabelsAndFeelers(t)},ht._layoutInsideLabels=function(e,i){for(var r=e.__getSlices(),a=0;a<r.length;a++){var n=r[a],s=e.getSeriesLabelPosition(n.getSeriesIndex());if("none"!=s&&"outsideSlice"!=s&&!ht._skipSliceLabel(e,n)){var o=n.getAngleStart()+n.getAngleExtent()/2,l=n.getInnerRadius(),h=n.getCenter(),u=0,g=0,d=ht._createLabel(n,!0);if(1==r.length)u=h.x,g=h.y;else{var c=Math.max(.45,.65-.45*l/Math.max(n.getRadiusY(),.001)),p=ot.reflectAngleOverYAxis(o,h.x,h.y,l+(n.getRadiusX()-l)*c,l+(n.getRadiusY()-l)*c);u=p.x,g=p.y}d.setX(u),d.setY(g),d.alignMiddle(),d.alignCenter();for(var _=d.getDimensions(),f=u,v=u,m=g-_.h/2,S=g+_.h/2;n.contains(f,m)&&n.contains(f,S);)f--;for(;n.contains(v,m)&&n.contains(v,S);)v++;f=Math.ceil(f+3),v=Math.floor(v-3);var C=2*Math.min(u-f,v-u);if(C<_.w&&(d.setX((f+v)/2),C=v-f),i&&"center"!=s){d.getDimensions().w<C?n.setSliceLabel(d):n.setSliceLabel(null)}else{var y=e.getCtx().getStage(),x=ht._isTextLabel(e,n)?null:d.getTextString().length;t.TextUtils.fitText(d,C,_.h,y,x)&&(y.removeChild(d),n.setSliceLabel(d))}null!=n.getSliceLabel()&&n.setNoOutsideFeeler()}}},ht._layoutOutsideLabelsAndFeelers=function(t){var e,i,r=ht._generateInitialLayout(t);e=r[0],i=r[1];var a=ht._refineInitialLayout(t,e,ht._LEFT_SIDE_LABELS),n=ht._refineInitialLayout(t,i,ht._RIGHT_SIDE_LABELS);a==ht._HALF_COLLISION&&n!=ht._NO_COLLISION&&ht._columnLabels(t,e,!0,!0,!0),a!=ht._NO_COLLISION&&n==ht._HALF_COLLISION&&ht._columnLabels(t,i,!1,!0,!0),ht._setLabelsAndFeelers(t,e,ht._LEFT_SIDE_LABELS),ht._setLabelsAndFeelers(t,i,ht._RIGHT_SIDE_LABELS)},ht._createLabel=function(e,i){var r=e.getPieChart(),a=r.getCtx(),n=i?new t.OutputText(a):new t.MultilineText(a),s=r.getOptions().styleDefaults,o=[s.dataLabelStyle],l=Q.getDataItem(r.chart,e.getSeriesIndex(),0);l&&o.push(new t.CSSStyle(l.labelStyle));var h=t.CSSStyle.mergeStyles(o),u=null!=h.getStyle("color");if(!i||u&&!t.Agent.isHighContrast())u||h.setStyle("color",s._defaultSliceLabelColor);else{var g=t.ColorUtils.getContrastingTextColor(e.getFillColor());h.setStyle("color",g)}n.setCSSStyle(h);var d=ht.generateSliceLabelString(e,s.sliceLabelType);return n.setTextString(d),e.setSliceLabelString(d),n},ht.createPieCenter=function(e){var i=e.getOptions(),r=e.getCtx(),a=ht.getPieCenterOptions(i),n=a.label,s=a.renderer,o=e.getLabelPosition(),l=i.tooltip,h=l?l.renderer:null,u=e.getCenter(),g=e.getInnerRadius();if(n||s){var d=e.getRadiusX(),c=(g=g>0?g:"outsideSlice"==o?.9*d:.5*d)*Math.sqrt(2);if(n){var p=new t.MultilineText(r),_=a.labelStyle;if(p.setCSSStyle(_),"number"==typeof n&&(n=rt.formatValue(e,a,n,n,n,0)),p.setTextString(n),t.TextUtils.fitText(p,c,c,e)){var f=p.getDimensions();p.setY(u.y-f.h/2),p.setX(u.x),p.alignCenter(),h||e.chart.getEventManager().associate(p,new t.SimpleObjPeer(p.getTextString(),null,null,{type:"pieCenterLabel"})),e.addChild(p),e.setCenterLabel(p)}}if(h){var v=new t.Circle(r,u.x,u.y,g);v.setInvisibleFill(),e.addChild(v);var m=e.getCtx().getTooltipManager();e.chart.getEventManager().associate(v,new t.CustomDatatipPeer(m,h,"#4b4b4b",{component:i._widgetConstructor,label:n}))}if(s){var S={outerBounds:{x:u.x-g,y:u.y-g,width:2*g,height:2*g},innerBounds:{x:u.x-c/2,y:u.y-c/2,width:c,height:c},label:n,totalValue:e.getTotalValue(),component:i._widgetConstructor};S=r.fixRendererContext(S);var C=r.getContainer(),y=e.chart.pieCenterDiv;y&&C.removeChild(y);var x=s(S);if(!x)return;var A=r.createOverlayDiv();Array.isArray(x)?x.forEach(function(t){A.appendChild(t)}):A.appendChild(x),e.chart.pieCenterDiv=A,C.appendChild(A);var b=r.getOverlayAttachedCallback();b&&b(A)}}},ht.generateSliceLabelString=function(t,e){var i,r=ht.getDefaultSliceLabelString(t,e),a=t.getPieChart().getOptions().dataLabel;if(a){var n=Q.getDataContext(t._chart,t.getSeriesIndex(),0);if(n.label=r,"number"==typeof(i=a(n))){var s=rt.getValueFormat(t.getPieChart().chart,"label");i=rt.formatValue(t.getPieChart(),s,i)}}return i||r},ht.getDefaultSliceLabelString=function(t,e){var i=t.getPieChart(),r=t.getCustomLabel(),a=rt.getValueFormat(i.chart,"label");return null!=r?"number"==typeof r?rt.formatValue(i,a,r):r:"percent"==e?ht.generateSlicePercentageString(t):"number"==e?rt.formatValue(i,a,t.getValue()):"text"==e?t.getSeriesLabel():"textAndPercent"==e?t.getSeriesLabel()+", "+ht.generateSlicePercentageString(t):null},ht.generateSlicePercentageString=function(t){var e=t.getPieChart(),i=e.getTotalValue(),r=0==i?0:t.getValue()/i,a=r<.01?3:r<.1?2:r<1?1:0;2*e.getRadiusX()<150&&(a=Math.max(a-1,0));var n=e.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:a,minimumFractionDigits:a}),s="";return n&&n.getAsString?s=n.getAsString(r):n&&n.format?s=n.format(r):(r*=100,s=rt.formatValue(e,{},r,null,null,100==r?1:Math.pow(10,-1*a))+"%"),s},ht._refineInitialLayout=function(t,e,i){if(e&&e.length>0){for(var r,a=t.__getFrame().y,n=!1,s=!1,o=!1,l=0,h=!1,u=h,g=i==ht._LEFT_SIDE_LABELS,d=0;d<e.length;d++)u=h,(r=e[d]).getPosition()>90&&(h=!0),l=r.getY()+r.getHeight(),a-r.getY()>ht._COLLISION_MARGIN&&(h?h&&!u?s=!0:o=!0:n=!0),l>a&&(a=l);return n&&o||s?(ht._columnLabels(t,e,g,!0,!0),ht._ALL_COLLISION):n?(ht._columnLabels(t,e,g,!0,!1),ht._HALF_COLLISION):o?(ht._columnLabels(t,e,g,!1,!0),ht._HALF_COLLISION):ht._NO_COLLISION}},ht._setLabelsAndFeelers=function(e,i,r){if(!(null==i||i.length<=0)){var a,n,s,o,l,h=r==ht._LEFT_SIDE_LABELS,u=e.__getFrame(),g=1/0;for(a=0;a<i.length;a++)if(n=(o=i[a]).getSlice(),o.hasFeeler()){l=ht._calculateFeeler(o,n,h);var d=t.TextUtils.getTextStringHeight(e.getCtx(),o.getSliceLabel().getCSSStyle()),c=o.getWidth(),p=ht._isTextLabel(e,n)?Math.min(2*d,c):c;if(ht.getMaxLabelWidth(e,o.getX(),h)+l<p||0==o.getWidth()){o.setSliceLabel(null),n.setNoOutsideFeeler();continue}g=Math.min(g,l)}else n.setNoOutsideFeeler();for(a=0;a<i.length;a++)n=(o=i[a]).getSlice(),(s=o.getSliceLabel())&&(o.hasFeeler()&&(h?o.setX(o.getX()+g):o.setX(o.getX()-g),ht._calculateFeeler(o,n,h)),s.setY(o.getY()),s.setX(o.getX()),o.getY()<u.y||o.getY()+o.getHeight()>u.y+u.h?(n.setSliceLabel(null),n.setNoOutsideFeeler()):(ht._truncateSliceLabel(e,n,o,h),0==o.getWidth()||0==o.getHeight()?(n.setSliceLabel(null),n.setNoOutsideFeeler()):n.setSliceLabel(s)))}},ht._calculateFeeler=function(e,i,r){var a,n=e.getX(),s=e.getY()+e.getHeight()*ht._LABEL_TO_FEELER_OFFSET,o=ht._FEELER_HORIZ_MINSIZE*i.getRadiusX(),l={x:r?(n+=ht._LABEL_TO_FEELER_DISTANCE)+o:(n-=ht._LABEL_TO_FEELER_DISTANCE)-o,y:s},h={x:n,y:s},u=e.getAngle(),g=ht._adjustForDepth(u,i.getDepth());a=ot.reflectAngleOverYAxis(u,i.getCenter().x,i.getCenter().y+g,i.getRadiusX(),i.getRadiusY());var d=t.Math.degreesToRads(e.getPosition()),c=Math.abs(Math.atan2(l.x-a.x,a.y-l.y)),p=(a.y-l.y)*Math.tan(d);return(d>Math.PI/2&&c>Math.PI/2&&c<d||d<Math.PI/2&&c<Math.PI/2&&c>d)&&(l.x=r?a.x-p:a.x+p),i.setOutsideFeelerPoints(a,l,h),Math.abs(h.x-l.x)-o},ht._adjustForDepth=function(t,e){var i=0;return t>189&&t<351&&(i=e),i},ht._getMiddleLabel=function(t){for(var e=91,i=-1,r=0;r<t.length;r++){var a=t[r].getPosition();Math.abs(a-90)<e&&(e=Math.abs(a-90),i=r)}return i},ht._setOptimalLabelPosition=function(e,i,r,a){i.setX(r);var n=e.getRadiusY()*(1+ht._FEELER_RAD_MINSIZE),s=t.Math.degreesToRads(i.getPosition()),o=n*Math.cos(s),l=ht._adjustForDepth(i.getAngle(),e.getDepth()),h=e.getCenter().y-o-i.getHeight()*ht._LABEL_TO_FEELER_OFFSET+l;i.setY(i.boundY(h))},ht._getRadFeelerAngle=function(t,e,i){var r=t.getSlice(),a=r.getCenter(),n=t.getAngle(),s=ht._adjustForDepth(n,r.getDepth()),o=ot.reflectAngleOverYAxis(n,a.x,a.y+s,r.getRadiusX(),r.getRadiusY());return Math.atan2(Math.abs(e-o.x),o.y-i)},ht._columnLabels=function(e,i,r,a,n){var s,o,l,h=e.__getFrame(),u=h.y,g=h.y+h.h,d=0,c=e.getCenter().x,p=e.getRadiusX()*(1+ht._FEELER_RAD_MINSIZE+ht._FEELER_HORIZ_MINSIZE);for(l=r?(c-=p)+e.getRadiusX()*ht._FEELER_HORIZ_MINSIZE:(c+=p)-e.getRadiusX()*ht._FEELER_HORIZ_MINSIZE,s=0;s<i.length;s++)o=i[s],d=t.Math.degreesToRads(o.getPosition()),ht._getRadFeelerAngle(o,l,u)-d>.45*Math.PI||ht._skipSliceLabel(e,o.getSlice())?(i.splice(s,1),s--):(i[s].setMinY(u),u+=i[s].getHeight());for(s=i.length-1;s>=0;s--)o=i[s],(d=t.Math.degreesToRads(o.getPosition()))-ht._getRadFeelerAngle(o,l,g)>.45*Math.PI||ht._skipSliceLabel(e,o.getSlice())?i.splice(s,1):(g-=i[s].getHeight(),i[s].setMaxY(g));if(0!=i.length){var _=ht._getMiddleLabel(i),f=i[_];a&&!n&&f.getMinY()+f.getHeight()>e.getCenter().y&&(n=!0),n&&!a&&f.getMaxY()<e.getCenter().y&&(a=!0);var v=f.getPosition();(n&&a||v>90&&n||v<=90&&a)&&(ht._setOptimalLabelPosition(e,f,c,r),f.setHasFeeler(!0));var m,S,C=f.getY(),y=f.getY()+f.getHeight();if(a)for(s=_-1;s>=0;s--)S=(o=i[s]).getHeight(),ht._setOptimalLabelPosition(e,o,c,r),o.setHasFeeler(!0),(m=o.getY())+S<C?C=m:C-=S,o.setY(C);if(n)for(s=_+1;s<i.length;s++)S=(o=i[s]).getHeight(),ht._setOptimalLabelPosition(e,o,c,r),o.setHasFeeler(!0),(m=o.getY())>y?y=m+S:y+=S,o.setY(y-S)}},ht._truncateSliceLabel=function(t,e,i,r){var a,n,s=i.getSliceLabel(),o=s.getCSSStyle(),l=t.getNumChildren(),h=!1;t.contains(s)||(t.addChild(s),h=!0),s.setCSSStyle(o);var u=e.getSliceLabelString();return s.setTextString(u),h&&t.removeChildAt(l),a=ht.getMaxLabelWidth(t,i.getX(),r),n=ht._getTextDimension(t,e,s,a,i.getInitialNumLines()),i.setWidth(n.x),i.getHeight()!=n.y&&(i.setHeight(n.y),!0)},ht._generateInitialLayout=function(t){for(var e=new Array(2),i=[],r=[],a=t.__getSlices(),n=t.__getFrame(),s=0;s<a.length;s++){var o=a[s],l=t.getSeriesLabelPosition(o.getSeriesIndex());if(null==o.getSliceLabel()&&"none"!=l&&"center"!=l&&!ht._skipSliceLabel(t,o)){var h=ht._createLabel(o,!1),u=o.getAngleStart()+o.getAngleExtent()/2;u>360&&(u-=360),u<0&&(u+=360);var g=ot.reflectAngleOverYAxis(u,t.getCenter().x,t.getCenter().y,t.getRadiusX()*ht._OUTSIDE_LABEL_DISTANCE,t.getRadiusY()*ht._OUTSIDE_LABEL_DISTANCE),d=u>=90&&u<270,c=ht.getMaxLabelWidth(t,g.x,d),p=ht._getTextDimension(t,o,h,c,ht._MAX_LINES_PER_LABEL);u<165&&u>15?g.y-=1*p.y:u<15||u>345?(g.y-=.5*p.y,g.x+=.2*p.y):u>165&&u<195&&(g.y-=.5*p.y,g.x-=.2*p.y);var _,f=ht._adjustForDepth(u,t.getDepth());if(g.y+=f,1==a.length&&(g.x-=p.x/2),!(g.y<n.y||g.y+p.y>n.y+n.h))u>=90&&u<270?(h.alignRight(),_=u-90,ht._createLabelInfo(o,h,u,_,p,g,i)):(_=u<=90?Math.abs(90-u):180-(u-270),ht._createLabelInfo(o,h,u,_,p,g,r))}}return e[0]=i,e[1]=r,e},ht._createLabelInfo=function(t,e,i,r,a,n,s){for(var o,l=-1,h=e,u=0;u<s.length;u++)if((o=s[u]).getPosition()>r){l=u;break}-1==l&&(l=s.length),(o=new lt).setPosition(r),o.setAngle(i),o.setSliceLabel(h),o.setSlice(t),o.setWidth(a.x),o.setHeight(a.y),o.setX(n.x),o.setY(n.y),o.setInitialNumLines(h.getLineCount()),s.splice(l,0,o)},ht._getTextDimension=function(e,i,r,a,n){r.setMaxLines(n);var s=ht._isTextLabel(e,i)?null:r.getTextString().length;if(t.TextUtils.fitText(r,a,1/0,e,s)){e.addChild(r);var o=r.getDimensions();return e.removeChild(r),{x:o.w,y:o.h}}return{x:0,y:0}},ht._isTextLabel=function(t,e){var i=e.getCustomLabel(),r=null!=t.getOptions().dataLabel;return-1!=t.getOptions().styleDefaults.sliceLabelType.indexOf("text")||null!=i&&"number"!=typeof i||r},ht.getMaxLabelWidth=function(t,e,i){var r=t.__getFrame();return i?e-r.x:r.x+r.w-e},ht.getPieCenterOptions=function(e){var i=t.JsonUtils.clone(e.pieCenter),r=e.pieCenterLabel;if(r){var a=r.style,n=r.text;n&&(i.label=n),a&&(i.labelStyle=new t.CSSStyle(a))}return i},ht._skipSliceLabel=function(t,e){return e.getAngleExtent()<3&&Q.getSeriesCount(t.chart)>120};var ut=new Object;t.Obj.createSubclass(ut,t.Obj),ut._BUTTON_SIZE=16,ut._BUTTON_PADDING=5,ut._BUTTON_CORNER_DIST=4,ut._BUTTON_OPACITY=.8,ut._MOUSE_WHEEL_ZOOM_RATE_SLOW=.05,ut._MOUSE_WHEEL_ZOOM_RATE_FAST=.2,ut.render=function(t,e,i){if(ut._renderBackground(t,e,i),Q.hasInvalidData(t))ut.renderEmptyText(t,e,i);else{at.isOverview(t)||(t.getOptions()._maxOverflowCoord=i.x+i.w,t.getOptions()._minOverflowCoord=i.x),ut._addOuterGaps(t,i);var r=i.clone();ut._renderTitles(t,e,i),ut._adjustAvailSpace(i),dt.render(t,e,i),ut._adjustAvailSpace(i);var a=ut._prerenderHorizScrollbar(t,e,i),n=ut._prerenderVertScrollbar(t,e,i);ut._adjustAvailSpace(i),t.__setAxisSpace(i.clone()),gt.render(t,e,i),ut._adjustAvailSpace(i),ut._positionLegend(t.legend,i),t.__setPlotAreaSpace(i.clone()),ut._setEventHandlers(t),ut._renderScrollbars(t,a,n),ut._updateTitles(t,e,r,i),ut._renderPlotArea(t,e,i),at.isPolar(t)&&e.addChild(t.yAxis),ut._renderDragButtons(t,e)}},ut._setEventHandlers=function(e){var i=e.getOptions(),r=e.getEventManager();if(at.hasAxes(e)&&!at.isOverview(e)){var a,n,s=new t.Rectangle(0,0,e.getWidth(),e.getHeight()),o=e.__getPlotAreaSpace(),l=e.__getAxisSpace(),h=new t.Rectangle(o.x,l.y,o.w,l.h),u=new t.Rectangle(l.x,o.y,l.w,o.h),g=new t.SolidFill(i.styleDefaults.marqueeColor),d=new t.Stroke(i.styleDefaults.marqueeBorderColor);if(J.isScrollable(e)){var c=J.isDelayedScroll(e)?ut._MOUSE_WHEEL_ZOOM_RATE_FAST:ut._MOUSE_WHEEL_ZOOM_RATE_SLOW;if((n=new t.PanZoomHandler(e,o,s,c)).setPanCursor(i._resources.panCursorUp,i._resources.panCursorDown),r.setPanZoomHandler(n),J.isZoomable(e)){var p=J.getZoomDirection(e);a=at.isHorizontal(e)||"y"==p?new t.MarqueeHandler(e,o,s,g,d,!1,!0,null,u):at.isBLAC(e)||"x"==p?new t.MarqueeHandler(e,o,s,g,d,!0,!1,h,null):new t.MarqueeHandler(e,o,s,g,d,!0,!0,h,u),r.setMarqueeZoomHandler(a)}}"multiple"==i.selectionMode&&(a=new t.MarqueeHandler(e,o,s,g,d,!0,!0,h,u),r.setMarqueeSelectHandler(a))}},ut.rerenderAxisAndPlotArea=function(t,e){if(!Q.hasInvalidData(t)){var i=t.__getAxisSpace().clone(),r=t.getSelectionHandler();if(r)var a=r.getSelectedIds();var n=t.__cacheChartFocus();t.__cleanUpAxisAndPlotArea(),gt.render(t,e,i),ut._adjustAvailSpace(i),t.__setPlotAreaSpace(i.clone()),ut._renderPlotArea(t,e,i),r&&r.processInitialSelections(a,t.getChartObjPeers()),t.getEventManager().autoToggleZoomButton(),ut.positionDragButtons(t),t.highlight(et.getHighlightedCategories(t)),t.__restoreChartFocus(n)}},ut._renderBackground=function(e,i,r){var a=new t.Rect(e.getCtx(),r.x,r.y,r.w,r.h);a.setInvisibleFill(),i.addChild(a)},ut._addOuterGaps=function(t,e){var i=t.getOptions(),r=o.getGapWidth(t,i.layout.outerGapWidth),a=o.getGapHeight(t,i.layout.outerGapHeight);("none"==i.styleDefaults.padding||at.isStandalonePlotArea(t)||at.isStandaloneXAxis(t)||at.isStandaloneYAxis(t)||at.isStandaloneY2Axis(t))&&(r=Math.min(r,1),a=Math.min(a,1)),e.x+=r,e.w-=2*r,e.y+=a,e.h-=2*a},ut._renderTitles=function(e,i,r){var a=e.getOptions();if(a.title.text){var n,s,l=it.createText(e.getEventManager(),i,a.title.text,a.title.style,r.x,r.y,r.w,r.h),h=null!=a.title.hAlign?a.title.hAlign:a.title.halign,u="plotArea"==h.substring(0,8);if(l?(n=(s=l.getDimensions()).h,l.setAriaProperty("hidden",null)):(n=0,s=new t.Rectangle(0,0,0,0)),a.subtitle.text){var g=new t.OutputText(e.getCtx(),a.subtitle.text,r.x,r.y);if(g){g.setCSSStyle(a.subtitle.style),i.addChild(g);var d=g.getDimensions(),c=o.getGapWidth(e,a.layout.titleSubtitleGapWidth),p=s.w+c+d.w;if(p>r.w||u)c=o.getGapHeight(e,a.layout.titleSubtitleGapHeight),g.setY(r.y+n+c),t.TextUtils.fitText(g,r.w,r.h,i)&&(n+=(d=g.getDimensions()).h+c,t.Agent.isRightToLeft(e.getCtx())&&(g&&g.setX(r.w-d.w),l&&l.setX(r.w-s.w)));else{var _=s.h-d.h;g.setY(_+r.y),l&&(t.LayoutUtils.align(r,h,l,p),t.Agent.isRightToLeft(e.getCtx())?(g.setX(l.getX()),l&&l.setX(l.getX()+d.w+c)):g.setX(l.getX()+p-d.w))}g.setAriaProperty("hidden",null),e.getEventManager().associate(g,new t.SimpleObjPeer(g.getUntruncatedTextString()))}}else t.LayoutUtils.align(r,h,l,s.w);u&&(e.getCache().putToCache("title",l),e.getCache().putToCache("subtitle",g));var f="on"==a.titleSeparator.rendered?a.layout.titleSeparatorGap:a.layout.titlePlotAreaGap;if(r.y+=n+o.getGapHeight(e,f),r.h-=n+o.getGapHeight(e,f),"on"==a.titleSeparator.rendered){var v=new t.Line(e.getCtx(),r.x,r.y,r.x+r.w,r.y),m=new t.Line(e.getCtx(),r.x,r.y+1,r.x+r.w,r.y+1);v.setSolidStroke(a.titleSeparator.upperColor),m.setSolidStroke(a.titleSeparator.lowerColor),i.addChild(v),i.addChild(m);var S=2+o.getGapHeight(e,a.layout.titlePlotAreaGap);r.y+=S,r.h-=S}}if(a.footnote.text){var C=it.createText(e.getEventManager(),i,a.footnote.text,a.footnote.style,r.x,0,r.w,r.h),y=null!=a.footnote.hAlign?a.footnote.hAlign:a.footnote.halign,x="plotArea"==y.substring(0,8);if(C){var A=C.getDimensions();C.setY(r.y+r.h-A.h),r.h-=A.h+o.getGapHeight(e,a.layout.footnoteGap),t.LayoutUtils.align(r,y,C,A.w),C.setAriaProperty("hidden",null)}x&&e.getCache().putToCache("footnote",C)}},ut._updateTitles=function(t,e,i,r){var a=t.getOptions(),n=null!=a.title.hAlign?a.title.hAlign:a.title.halign,s=null!=a.footnote.hAlign?a.footnote.hAlign:a.footnote.halign,o=a.title.text&&"plotArea"==n.substring(0,8),l=a.footnote.text&&"plotArea"==s.substring(0,8);if(i.x=r.x,i.w=r.w,o){var h,u=t.getCache().getFromCache("title"),g=t.getCache().getFromCache("subtitle"),d=u.getDimensions();ut._alignTextToPlotArea(e,i,n,u,d.w),g&&(h=g.getDimensions(),ut._alignTextToPlotArea(e,i,n,g,h.w))}if(l){var c=t.getCache().getFromCache("footnote"),p=c.getDimensions();ut._alignTextToPlotArea(e,i,s,c,p.w)}},ut._alignTextToPlotArea=function(e,i,r,a,n){t.TextUtils.fitText(a,i.w,i.h,e)&&("plotAreaStart"==r?t.LayoutUtils.align(i,"start",a,n):"plotAreaCenter"==r?t.LayoutUtils.align(i,"center",a,n):"plotAreaEnd"==r&&t.LayoutUtils.align(i,"end",a,n))},ut._renderPlotArea=function(e,i,r){if(at.hasAxes(e)){var a=new t.Container(e.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),e.setPlotArea(a),e.getEventManager().associate(a,new t.SimpleObjPeer(null,null,null,{type:"plotArea"}));var n=new t.Rectangle(0,0,r.w,r.h);ct.render(e,a,n)}else if(at.isPie(e)){var s=new k(e,r);s.__getSlices().length>0?(i.addChild(s),e.setPlotArea(s),s.render()):ut.renderEmptyText(e,i,r)}else at.isFunnel(e)?pt.render(e,i,r):at.isPyramid(e)&&_t.render(e,i,r);r.w=0,r.h=0},ut.renderEmptyText=function(e,i,r){var a=e.getOptions();if(Q.hasInvalidTimeData(e)&&Q.hasData(e))var n=a.translations.labelInvalidData;else(n=a.emptyText)||(n=a.translations.labelNoData);t.TextUtils.renderEmptyText(i,n,new t.Rectangle(r.x,r.y,r.w,r.h),e.getEventManager(),a._statusMessageStyle)},ut._prerenderHorizScrollbar=function(e,i,r){var a=r.w,n=0;return J.isScrollable(e)&&at.isHorizScrollbarSupported(e)?et.isOverviewRendered(e)?(n=Math.min(et.getOverviewHeight(e),r.h))>0&&(e.overview=new E(e),i.addChild(e.overview),t.LayoutUtils.position(r,"bottom",e.overview,a,n,10)):(n=e.getOptions().styleDefaults._scrollbarHeight,e.xScrollbar=new t.SimpleScrollbar(e.getCtx(),e.processEvent,e),i.addChild(e.xScrollbar),t.LayoutUtils.position(r,"bottom",e.xScrollbar,a,n,8),e.overview=null):e.overview=null,new t.Dimension(a,n)},ut._prerenderVertScrollbar=function(e,i,r){var a=0,n=r.h;if(J.isScrollable(e)&&at.isVertScrollbarSupported(e)){a=e.getOptions().styleDefaults._scrollbarHeight;var s=new t.SimpleScrollbar(e.getCtx(),e.processEvent,e);i.addChild(s),t.LayoutUtils.position(r,t.Agent.isRightToLeft(e.getCtx())?"right":"left",s,a,n,8),at.isHorizontal(e)?e.xScrollbar=s:e.yScrollbar=s}return new t.Dimension(a,n)},ut._renderScrollbars=function(e,i,r){var a=e.getOptions(),n={color:a.styleDefaults._scrollbarHandleColor,backgroundColor:a.styleDefaults._scrollbarTrackColor},s=e.__getPlotAreaSpace();if(e.xScrollbar&&(n.min=e.xAxis.getLinearGlobalMin(),n.max=e.xAxis.getLinearGlobalMax(),at.isHorizontal(e)?(n.isHorizontal=!1,n.isReversed=!1,e.xScrollbar.setTranslateY(s.y),e.xScrollbar.render(n,r.w,s.h)):(n.isHorizontal=!0,n.isReversed=t.Agent.isRightToLeft(e.getCtx()),e.xScrollbar.setTranslateX(s.x),e.xScrollbar.render(n,s.w,i.h)),e.xScrollbar.setViewportRange(e.xAxis.getLinearViewportMin(),e.xAxis.getLinearViewportMax())),e.yScrollbar&&(n.min=e.yAxis.getLinearGlobalMin(),n.max=e.yAxis.getLinearGlobalMax(),n.isHorizontal=!1,n.isReversed=!0,e.yScrollbar.setTranslateY(s.y),e.yScrollbar.render(n,r.w,s.h),e.yScrollbar.setViewportRange(e.yAxis.getLinearViewportMin(),e.yAxis.getLinearViewportMax())),e.overview){var o={xMin:e.xAxis.getLinearGlobalMin(),xMax:e.xAxis.getLinearGlobalMax(),x1:e.xAxis.getLinearViewportMin(),x2:e.xAxis.getLinearViewportMax(),minimumWindowSize:e.xAxis.getInfo().getMinimumExtent(),chart:t.JsonUtils.clone(a)};J.isZoomable(e)||(o.featuresOff="zoom"),o.chart._minOverflowCoord=a._minOverflowCoord-s.x,o.chart._maxOverflowCoord=a._maxOverflowCoord-s.x,e.overview.setTranslateX(s.x),e.overview.render(o,s.w,i.h),e.overview.setViewportRange(e.xAxis.getLinearViewportMin(),e.xAxis.getLinearViewportMax())}},ut._positionLegend=function(t,e){if(t){var i=t.getDimensions(),r=t.getOptions().orientation;"vertical"==r&&i.h<=e.h?t.setTranslateY(Math.round(e.y+e.h/2-i.h/2)):"horizontal"==r&&i.w<=e.w&&t.setTranslateX(Math.round(e.x+e.w/2-i.w/2))}},ut._renderDragButtons=function(e,r){var a=ut._BUTTON_SIZE+2*(ut._BUTTON_PADDING+ut._BUTTON_CORNER_DIST),n=e.__getPlotAreaSpace();if(!(!at.hasAxes(e)||at.isOverview(e)||n.w<a||n.h<a)){var s=e.getOptions(),o=s.translations,l=e.getEventManager(),h=s.dragMode;if("user"==h){var u,g,d=t.Agent.isTouchDevice(),c=J.isScrollable(e);e.dragButtons=new t.Container(e.getCtx());var p="multiple"==s.selectionMode&&(d||c),_=c&&d,f=c&&!d&&J.isZoomable(e)&&at.isScatterBubble(e);p&&(g=_||f?"end":"solo",l.selectButton=ut._createDragButton(e,e.dragButtons,"select",l.onSelectButtonClick,l,g),u=o.tooltipSelect,l.selectButton.setTooltip(u),l.associate(l.selectButton,l.selectButton)),_&&(g=p?"start":"solo",l.panButton=ut._createDragButton(e,e.dragButtons,"pan",l.onPanButtonClick,l,g),u=o.tooltipPan,l.panButton.setTooltip(u),l.associate(l.panButton,l.panButton)),f&&(g=p?"start":"solo",l.zoomButton=ut._createDragButton(e,e.dragButtons,"zoom",l.onZoomButtonClick,l,g),u=o.tooltipZoom,l.zoomButton.setTooltip(u),l.associate(l.zoomButton,l.zoomButton)),ut.positionDragButtons(e),l.setDragMode(null),e.dragButtons.getNumChildren()>0&&(e.addChild(e.dragButtons),d?c&&(l.panButton.setToggled(!0),l.onPanButtonClick(null)):e.hideDragButtons(),e.dragButtons.setCursor("default"))}else"pan"==h?l.setDragMode(i.DRAG_MODE_PAN):"zoom"==h?l.setDragMode(i.DRAG_MODE_ZOOM):"select"==h?l.setDragMode(i.DRAG_MODE_SELECT):l.setDragMode(i.DRAG_MODE_OFF)}},ut._positionDragButton=function(e,i,r){var a;t.Agent.isRightToLeft(e.getCtx())?(a=r.x+ut._BUTTON_PADDING,r.x+=ut._BUTTON_SIZE+2*ut._BUTTON_PADDING):a=r.x+r.w-ut._BUTTON_SIZE-ut._BUTTON_PADDING,r.w-=ut._BUTTON_SIZE+2*ut._BUTTON_PADDING,i.setTranslate(a,r.y+ut._BUTTON_PADDING)},ut.positionDragButtons=function(t){var e=t.__getPlotAreaSpace().clone();e.x+=ut._BUTTON_CORNER_DIST,e.w-=2*ut._BUTTON_CORNER_DIST,e.y+=ut._BUTTON_CORNER_DIST;var i=t.getEventManager();i.selectButton&&ut._positionDragButton(t,i.selectButton,e),i.panButton&&ut._positionDragButton(t,i.panButton,e),i.zoomButton&&ut._positionDragButton(t,i.zoomButton,e)},ut._createDragButtonBackground=function(e,i,r){var a=2,n=2,s=t.Agent.isRightToLeft(e);"start"==i?s?a=0:n=0:"end"==i&&(s?n=0:a=0);var o=a,l=n,h=-ut._BUTTON_PADDING,u=ut._BUTTON_SIZE+2*ut._BUTTON_PADDING,g=t.PathUtils.roundedRectangle(h,h,u,u,o,n,l,a),d=new t.Path(e,g);return t.Agent.getDevicePixelRatio()>1?(d.setSolidStroke(r,ut._BUTTON_OPACITY,1),d.setPixelHinting(!0)):d.setSolidStroke(r,ut._BUTTON_OPACITY,1),d},ut._createDragButton=function(e,i,r,a,n,s){var o=e.getCtx(),l=e.getOptions()._resources,h=ut._createDragButtonBackground(o,s,"#C4CED7"),u=l[r+"Up"];h.setFill(new t.LinearGradientFill(270,["#FFFFFF","#F1F3F4","#E8EBED","#E4E8EA"],[ut._BUTTON_OPACITY,ut._BUTTON_OPACITY,ut._BUTTON_OPACITY,ut._BUTTON_OPACITY],[0,.0364,.5,1])),h.addChild(new t.Image(o,u,0,0,ut._BUTTON_SIZE,ut._BUTTON_SIZE));var g=ut._createDragButtonBackground(o,s,"#C4CED7"),d=l[r+"UpHover"]?l[r+"UpHover"]:u;g.setSolidFill("#F7F8F9",ut._BUTTON_OPACITY),g.addChild(new t.Image(o,d,0,0,ut._BUTTON_SIZE,ut._BUTTON_SIZE));var c=ut._createDragButtonBackground(o,s,"#0572CE"),p=l[r+"Down"];c.setSolidFill("#0572CE",ut._BUTTON_OPACITY),c.addChild(new t.Image(o,p,0,0,ut._BUTTON_SIZE,ut._BUTTON_SIZE));var _=ut._createDragButtonBackground(o,s,"#0572CE"),f=l[r+"DownHover"]?l[r+"DownHover"]:p;_.setSolidFill("#0572CE",ut._BUTTON_OPACITY),_.addChild(new t.Image(o,f,0,0,ut._BUTTON_SIZE,ut._BUTTON_SIZE));var v=new t.Button(o,h,g,c,null,null,a,n);if(v.setOverDownState(_),v.setToggleEnabled(!0),i.addChild(v),v.addEvtListener(t.MouseEvent.MOUSEDOWN,function(t){t.stopPropagation()}),t.Agent.isTouchDevice()){var m,S=t.Agent.isRightToLeft(o),C=2*ut._BUTTON_PADDING;(m="solo"==s?new t.Rect(o,-C,-C,ut._BUTTON_SIZE+2*C,ut._BUTTON_SIZE+2*C):"start"==s&&!S||"end"==s&&S?new t.Rect(o,-C,-C,ut._BUTTON_SIZE+1.5*C,ut._BUTTON_SIZE+2*C):new t.Rect(o,-.5*C,-C,ut._BUTTON_SIZE+1.5*C,ut._BUTTON_SIZE+2*C)).setInvisibleFill(),v.addChild(m)}return v},ut._adjustAvailSpace=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y),t.w=Math.round(t.w),t.h=Math.round(t.h)},ut.renderDataCursor=function(t){var e=null,i=t.getOptions(),r=t.getEventManager();if(rt.isDataCursorEnabled(t)){(e=new w(t.getCtx(),i.styleDefaults.dataCursor,at.isHorizontal(t))).setBehavior(rt.getDataCursorBehavior(t)),t.addChild(e);var a=new l(t,e);r.setDataCursorHandler(a),t.positionDataCursor(i.dataCursorPosition)}else r.setDataCursorHandler(null);return e};var gt=new Object;t.Obj.createSubclass(gt,t.Obj),gt._DEFAULT_AXIS_MAX_SIZE=.33,gt.render=function(t,e,i){at.hasAxes(t)&&(q.applyInitialZooming(t,i),at.isBubble(t)&&nt.calcBubbleSizes(t,i),at.isPolar(t)?gt._renderPolar(t,e,i):gt._renderCartesian(t,e,i))},gt._renderCartesian=function(e,i,r){var a=e.getOptions(),n=at.isHorizontal(e),s=at.isSplitDualY(e),o=r.clone(),l=q.getYAxisPosition(e),h=q.getY2AxisPosition(e);gt._addAxisGaps(e,r),s&&l==h&&(a.yAxis._skipHighestTick=n,a.y2Axis._skipHighestTick=!n);var u=gt._createYAxis(e,i,r,o),g=gt._createY2Axis(e,i,r,o),d=!s&&"on"==a.y2Axis.alignTickMarks&&null==a.y2Axis.step;d&&u&&g&&(gt._alignYAxes(e,u,g),n||(g.dim=gt._getPreferredSize(e,g.axis,e.y2Axis,g.options,"y2",r,o)));var c,p=q.getTickLabelGapSize(e,"y"),_=q.getTickLabelGapSize(e,"y2");s&&l==h?(n?(c=Math.max(u.dim.h+p,g.dim.h+_),u.dim.h=c-p,g.dim.h=c-_):(c=Math.max(u.dim.w+p,g.dim.w+_),u.dim.w=c-p,g.dim.w=c-_),gt._positionAxis(r.clone(),u,p),gt._positionAxis(r,g,_)):(gt._positionAxis(r,u,p),gt._positionAxis(r,g,_));var f=Q.getGroupCount(e);if("pixel"==et.getBarSpacing(e)&&at.isBar(e)&&r.w>f){var v=Math.floor(r.w/f)*f;r.x+=(r.w-v)/2,r.w=v}var m=gt._createXAxis(e,i,r,o);m.axis.render(m.options,m.dim.w,m.dim.h),gt._positionAxis(r,m,q.getTickLabelGapSize(e,"x"));var S=et.getSplitterPosition(e),C=t.Agent.isRightToLeft(e.getCtx()),y=gt._getSplitAvailSpace(r,S,n,n&&C),x=gt._getSplitAvailSpace(r,1-S,n,!n||!C);n?(u&&(u.axis.setTranslateX(r.x),s?u.axis.render(u.options,y.w,u.dim.h,y.x,0):u.axis.render(u.options,r.w,u.dim.h)),d&&u&&g&&gt._alignYAxes(e,u,g),g&&(g.axis.setTranslateX(r.x),s?g.axis.render(g.options,x.w,g.dim.h,x.x,0):g.axis.render(g.options,r.w,g.dim.h)),gt._setOverflow(r,u,m)):(u&&(s?u.axis.render(u.options,u.dim.w,y.h,0,y.y):u.axis.render(u.options,u.dim.w,r.h)),d&&u&&g&&gt._alignYAxes(e,u,g),g&&(s?g.axis.render(g.options,g.dim.w,x.h,0,x.y):g.axis.render(g.options,g.dim.w,r.h)),gt._setOverflow(r,m,u,g)),gt._storeAxes(e,m,u,g)},gt._renderPolar=function(t,e,i){var r=gt._createXAxis(t,e,i,i);r.axis.setTranslateX(i.x),r.axis.setTranslateY(i.y),r.axis.render(r.options,i.w,i.h);var a=gt._createYAxis(t,e,i,i);a.axis.setTranslateX(i.x),a.axis.setTranslateY(i.y),a.axis.render(a.options,i.w,i.h),gt._storeAxes(t,r,a)},gt._createXAxis=function(e,i,r,a){var n=e.getOptions(),s=q.getXAxisPosition(e),o=t.JsonUtils.clone(n.xAxis);o.position=s,o.isStandalone=at.isStandaloneXAxis(e),o.groupSeparators=n.styleDefaults.groupSeparators,gt._addCommonAxisAttributes(o,"x",e),o.groups=n.groups,o._groupWidthRatios=q.getGroupWidthRatios(e),o.timeAxisType=q.getTimeAxisType(e),o._environment=n._environment,o._locale=n._locale,o.drilling=n.drilling,o._isGroupAxis=q.hasGroupAxis(e);var l="top"==s||"bottom"==s,h=q.isGridShifted(e);if("tangential"==s&&q.hasGroupAxis(e))h?(o.startGroupOffset=.5,o.endGroupOffset=.5):o.endGroupOffset=1;else{var u=q.getAxisOffset(e);if(o.startGroupOffset=u,o.endGroupOffset=u,at.hasUncenteredSeries(e)&&(o.endGroupOffset+=1),!J.isScrollable(e)&&!at.isOverview(e)){var g=Q.getGroupCount(e);q.isAxisRendered(e,"y")&&q.isTickLabelInside(e,"y")&&(o[(l?"start":"end")+"GroupOffset"]+=.04*g),q.isAxisRendered(e,"y2")&&q.isTickLabelInside(e,"y2")&&(o[(l?"end":"start")+"GroupOffset"]+=.04*g)}}o.leftBuffer=l?r.x-a.x:0,o.rightBuffer=l?a.w+a.x-(r.w+r.x):0,o._renderGridAtLabels=!h||q.hasTimeAxis(e),o.translations=n.translations;var d=new A(e.getCtx(),e.processEvent,e);i.addChild(d);var c=gt._getPreferredSize(e,d,e.xAxis,o,"x",r,a);return o._minOverflowCoord=n._minOverflowCoord-r.x,o._maxOverflowCoord=n._maxOverflowCoord-r.x,{axis:d,options:o,dim:c}},gt._createYAxis=function(e,i,r,a){var n=e.getOptions();if(at.hasY2DataOnly(e))return null;var s=t.JsonUtils.clone(n.yAxis);s.position=q.getYAxisPosition(e),s.isStandalone=at.isStandaloneYAxis(e),gt._addCommonAxisAttributes(s,"y",e),gt._addCommonYAxisAttributes(s,e),s.translations=n.translations;var o=new A(e.getCtx(),e.processEvent,e);i.addChild(o);var l=gt._getPreferredSize(e,o,e.yAxis,s,"y",r,a);return gt._adjustYAxisForLabels(o,s,e,"y"),n.yAxis.min=s.min,n.yAxis.max=s.max,{axis:o,options:s,dim:l}},gt._createY2Axis=function(e,i,r,a){var n=e.getOptions();if(at.hasY2Data(e)){var s=t.JsonUtils.clone(n.y2Axis);s.position=q.getY2AxisPosition(e),s.isStandalone=at.isStandaloneY2Axis(e),gt._addCommonAxisAttributes(s,"y2",e),gt._addCommonYAxisAttributes(s,e),s.translations=n.translations;var o=new A(e.getCtx(),e.processEvent,e);i.addChild(o);var l=gt._getPreferredSize(e,o,e.y2Axis,s,"y2",r,a);return gt._adjustYAxisForLabels(o,s,e,"y2"),n.y2Axis.min=s.min,n.y2Axis.max=s.max,{axis:o,options:s,dim:l}}},gt._addCommonAxisAttributes=function(t,e,i){var r=i.getOptions();if(t.skin=r.skin,t.tickLabel.position=q.isTickLabelInside(i,e)?"inside":"outside",t.baselineScaling=q.getBaselineScaling(i,e),(q.isTickLabelInside(i,e)||"tangential"==t.position)&&(t._skipHighestTick=!0),t.zoomAndScroll=at.isPolar(i)?"off":r.zoomAndScroll,t._isOverview=at.isOverview(i),t._duringZoomAndScroll=r._duringZoomAndScroll,"x"!=e||!q.hasGroupAxis(i)){var a=Q.getMinMaxValue(i,e);t.dataMin=null!=t.dataMin?t.dataMin:a.min,t.dataMax=null!=t.dataMax?t.dataMax:a.max}at.isPolar(i)&&(t.polarGridShape=q.isGridPolygonal(i)?"polygon":"circle",t._radius=i.getRadius()),t.dnd=r.dnd},gt._addCommonYAxisAttributes=function(e,i){if(e.timeAxisType="disabled",J.isLiveScroll(i)&&at.isBLAC(i)&&!at.isPolar(i)&&(e._continuousExtent="on"),e.isStandalone)e.leftBuffer=0,e.rightBuffer=0;else if(at.isSplitDualY(i))e.leftBuffer=1/0,e.rightBuffer=1/0;else{var r=t.Agent.isRightToLeft(i.getCtx());e.leftBuffer=r?0:t.BaseAxisInfo.MINIMUM_AXIS_BUFFER,e.rightBuffer=r?t.BaseAxisInfo.MINIMUM_AXIS_BUFFER:0}},gt._adjustYAxisForLabels=function(e,i,r,a){var n=r.getOptions();if(q.isYAdjustmentNeeded(r)){var s=n.styleDefaults.dataLabelStyle,o=n.styleDefaults.stackLabelStyle,l=e.getInfo(),h=et.isStackLabelRendered(r),u=t.TextUtils.getTextStringHeight(r.getCtx(),h?o:s),g=0;if("log"==i.scale){g=e.getUnboundedValueAt(e.getUnboundedCoordAt(l.getDataMax())-u)-l.getDataMax()}else{var d=1;at.isSplitDualY(r)&&(d="y"==a?et.getSplitterPosition(r):1-et.getSplitterPosition(r));var c=Math.abs(l.getEndCoord()-l.getStartCoord())*d;g=Math.abs(l.getViewportMax()-l.getViewportMin())/c*u}at.isHorizontal(r)?g*=4:g*=2,l.getDataMin()-l.getGlobalMin()<=g&&l.getDataMin()<0&&(i.dataMin-=g),l.getGlobalMax()-l.getDataMax()<=g&&l.getDataMax()>0&&(i.dataMax+=g)}},gt._getPreferredSize=function(e,i,r,a,n,s,o){var l=a.isStandalone,h=a.position,u="top"==h||"bottom"==h,g=q.getTickLabelGapSize(e,n),d=a.maxSize,c=a.size,p=s.w,_=s.h;if("radial"==h||"tangential"==h)p=0,_=0;else if("off"==a.rendered)u?_=0:p=0;else if(l)u?_=s.h-g:p=s.w-g;else if(null!=c)u?(_=et.getSizeInPixels(c,o.h)-g,null!=d&&(_=Math.min(_,et.getSizeInPixels(d,o.h)-g))):(p=et.getSizeInPixels(c,o.w)-g,null!=d&&(p=Math.min(p,et.getSizeInPixels(d,o.w)-g)));else{if(!e.getOptions()._duringZoomAndScroll||!r)return d=null==d?gt._DEFAULT_AXIS_MAX_SIZE:d,u?i.getPreferredSize(a,s.w,et.getSizeInPixels(d,o.h)-g):i.getPreferredSize(a,et.getSizeInPixels(d,o.w)-g,s.h);if(u){var f=t.Agent.isRightToLeft(e.getCtx());a._startOverflow=f?r.getRightOverflow():r.getLeftOverflow(),a._endOverflow=f?r.getLeftOverflow():r.getRightOverflow(),_=r.getHeight()}else p=r.getWidth()}return q.isYAdjustmentNeeded(e)&&i.getPreferredSize(a,p,_),new t.Dimension(p,_)},gt._addAxisGaps=function(t,e){var i=at.isHorizontal(t),r=q.getYAxisPosition(t),a=q.getY2AxisPosition(t),n=q.isAxisRendered(t,"x"),s=q.isAxisRendered(t,"y"),o=q.isAxisRendered(t,"y2"),l=t.getOptions().layout.verticalAxisGap;l*=i?q.getGapScalingFactor(t,"x"):Math.max(q.getGapScalingFactor(t,"y"),q.getGapScalingFactor(t,"y2")),l=Math.ceil(l),(!i||"top"==r&&s||"top"==a&&o)&&i||(e.y+=l,e.h-=l),(!i||"bottom"==r&&s||"bottom"==a&&o)&&(i||n)||(e.h-=l)},gt._positionAxis=function(e,i,r){i&&t.LayoutUtils.position(e,i.options.position,i.axis,i.dim.w,i.dim.h,r)},gt._alignYAxes=function(t,e,i){var r=e.axis.getInfo();if(r){var a=r.getMajorTickCount(),n=r.getMinorTickCount(),s=i.options,o=i.axis.getInfo();o&&q.isLog(t,"y")&&q.isLog(t,"y2")&&a<o.getMajorTickCount()&&(s._logScaleUnit=o.alignLogScaleToTickCount(o.getLogScaleUnit(),a)),s._majorTickCount=a,s._minorTickCount=n}},gt._getSplitAvailSpace=function(t,e,i,r){var a=t.clone();return i?(a.w=t.w*e,a.x=r?t.w*(1-e):0):(a.h=t.h*e,a.y=r?t.h*(1-e):0),a},gt._setOverflow=function(t,e,i,r){if(e){var a=e.axis.getLeftOverflow(),n=e.axis.getRightOverflow();t.x+=a,t.w-=a+n,i&&i.axis.setTranslateX(i.axis.getTranslateX()+("left"==i.options.position?a:-n)),r&&r.axis.setTranslateX(r.axis.getTranslateX()+("left"==r.options.position?a:-n))}},gt._storeAxes=function(t,e,i,r){t.xAxis&&(t.xAxis.destroy(),t.removeChild(t.xAxis)),t.yAxis&&(t.yAxis.destroy(),t.removeChild(t.yAxis)),t.y2Axis&&(t.y2Axis.destroy(),t.removeChild(t.y2Axis)),t.xAxis=e.axis,t.yAxis=i?i.axis:null,t.y2Axis=r?r.axis:null};var dt=new Object;t.Obj.createSubclass(dt,t.Obj),dt._DEFAULT_LINE_WIDTH_WITH_MARKER=2,dt._DEFAULT_MAX_SIZE=.3,dt._PIE_SIZE_RATIO=1.2,dt.render=function(e,i,r){var a=e.getOptions(),n=a.legend.position;if(!("off"==a.legend.rendered||"auto"==a.legend.rendered&&e.getOptionsCache().getFromCache("hasLargeSeriesCount"))){var s=t.JsonUtils.clone(a.legend);delete s.position,s.skin=a.skin,s.hideAndShowBehavior=J.getHideAndShowBehavior(e),s.hoverBehavior=J.getHoverBehavior(e),s.hoverBehaviorDelay=et.getHoverBehaviorDelay(e),s.hiddenCategories=et.getHiddenCategories(e),s.highlightedCategories=et.getHighlightedCategories(e),s.dnd=a.dnd,s._dropColor=a._dropColor,s.translations=a.translations,"auto"==n&&(n=r.w>=r.h?"end":"bottom");var l="top"==n||"bottom"==n;if(s.orientation=l?"horizontal":"vertical","start"==n&&(s.halign="end"),"start"!=n&&"end"!=n||(s.valign="middle"),"top"==n&&(s.valign="bottom"),"top"!=n&&"bottom"!=n||(s.halign="center"),dt._addLegendData(e,s),0!=s.sections.length){var h,u=t.Legend.newInstance(e.getCtx(),e.processEvent,e);if(null!=e.getId()&&u.setId(e.getId()+"legend"),i.addChild(u),null!=s.size)h=l?new t.Dimension(r.w,et.getSizeInPixels(s.size,r.h)):new t.Dimension(et.getSizeInPixels(s.size,r.w),r.h);else{var g=s.maxSize;if(null==g&&(g=dt._DEFAULT_MAX_SIZE,at.isPie(e))){var d=1-dt._PIE_SIZE_RATIO*(l?r.w/r.h:r.h/r.w);g=Math.max(g,d)}var c=l?r.w:et.getSizeInPixels(g,r.w),p=l?et.getSizeInPixels(g,r.h):r.h;h=u.getPreferredSize(s,c,p)}u.render(s,h.w,h.h);var _=l?o.getGapHeight(e,a.layout.legendGapHeight):o.getGapWidth(e,a.layout.legendGapWidth);t.LayoutUtils.position(r,n,u,h.w,h.h,_);var f=Object.keys(s.dnd.drag.series).length>0,v=u.getCache().getFromCache("background");f&&v&&v.setClassName("oj-draggable");var m=u.__getBounds(),S=u.localToStage(new t.Point(m.x,m.y));if(!at.isOverview(e)){var C=t.Agent.isRightToLeft(e.getCtx());"end"==n?C?a._minOverflowCoord=S.x+m.w+_/2:a._maxOverflowCoord=S.x-_/2:"start"==n&&(C?a._maxOverflowCoord=S.x-_/2:a._minOverflowCoord=S.x+m.w+_/2)}e.legend&&(e.legend.destroy(),i.removeChild(e.legend)),e.legend=u}}},dt._addLegendData=function(t,e){var i=dt._getSeriesItems(t,"vertical"==e.orientation);if(i.length>0){var r=e.seriesSection;r.items=i,e.sections.unshift(r),delete e.seriesSection}var a=dt._getRefObjItems(t);if(a.length>0){var n=e.referenceObjectSection;n.items=a,e.sections.push(n),delete e.referenceObjectSection}},dt._getSeriesItems=function(t,e){var i,r,a=[];if("pie"==t.getType()||"pyramid"==t.getType()||"funnel"==t.getType()){var n=st.getRenderedSeriesIndices(t);"pyramid"==t.getType()&&e&&(n=n.reverse());for(var s=0;s<n.length;s++){r=n[s];var o=Q.getValue(t,r,0);o>=0&&null!=o&&(i=dt._createLegendItem(t,r))&&a.push(i)}st.hasOtherSeries(t)&&(i={id:st.OTHER_SLICE_SERIES_ID,text:t.getOptions().translations.labelOther,categoryVisibility:et.getHiddenCategories(t).indexOf(st.OTHER_SLICE_SERIES_ID)>=0?"hidden":"visible",symbolType:"marker",color:t.getOptions().styleDefaults.otherColor,borderColor:t.getOptions().styleDefaults.borderColor},a.push(i))}else{var l={},h={},u=Q.getSeriesCount(t);for(r=0;r<u;r++)if(i=dt._createLegendItem(t,r)){var g=Q.getStackCategory(t,r);Q.isAssignedToY2(t,r)?h[g]?h[g].push(i):h[g]=[i]:l[g]?l[g].push(i):l[g]=[i]}var d=Q.getStackCategories(t,null,!0),c=at.isStacked(t)&&at.isVertical(t)&&e;a=dt._getSeriesItemsForAxis(l,d.y,c,a),a=dt._getSeriesItemsForAxis(h,d.y2,c,a)}return a},dt._getSeriesItemsForAxis=function(t,e,i,r){for(var a,n=0;n<e.length;n++)(a=t[e[n]])&&(r=i?r.concat(a.reverse()):r.concat(a));return r},dt._createLegendItem=function(t,e){var i=Q.getSeriesItem(t,e),r=t.getType(),a=et.getSeriesType(t,e),n=et.getLineType(t,e),s=i.displayInLegend;if(!i||"off"==s)return null;if("on"!=s&&(at.isFunnel(t)||at.isPyramid(t)||at.isStock(t)))return null;if("on"!=s&&!Q.hasSeriesData(t,e))return null;var o=Q.getSeriesLabel(t,e);if("on"!=s&&(null==o||"string"==typeof o&&0===o.trim().length))return null;var l={id:Q.getSeries(t,e),text:o,categories:Q.getCategories(t,e),categoryVisibility:et.isSeriesRendered(t,e)?"visible":"hidden",_dataContext:Q.getDataContext(t,e,-1)};if("line"==a||"lineWithArea"==a||"scatter"==r||"bubble"==r)if(l.lineStyle=et.getLineStyle(t,e),l.lineWidth=et.getLineWidth(t,e),et.isMarkerDisplayed(t,e)){var h=et.getImageSource(t,e,null,null,"source");h?(l.symbolType="image",l.source=h):(l.symbolType="none"==n?"marker":"lineWithMarker","lineWithMarker"==l.symbolType&&(l.lineWidth=Math.min(dt._DEFAULT_LINE_WIDTH_WITH_MARKER,l.lineWidth)),l.markerShape=et.getMarkerShape(t,e),l.markerColor=et.getMarkerColor(t,e))}else l.symbolType="line";else if("boxPlot"==a){var u=et.getBoxPlotStyleOptions(t,e);u.q2Color!=u.q3Color?(l.symbolType=at.isHorizontal(t)?"_horizontalBoxPlot":"_verticalBoxPlot",l._boxPlot=u):l.symbolType="marker"}else l.symbolType="marker","none"==et.getLineType(t,e)&&(l.markerShape=et.getMarkerShape(t,e));return l.color=et.getColor(t,e),l.borderColor=et.getBorderColor(t,e),l.pattern=et.getPattern(t,e),l.svgStyle="area"==a?et.getAreaStyle(t,e):et.getStyle(t,e),l.svgClassName="area"==a?et.getAreaClassName(t,e):et.getClassName(t,e),l.markerSvgStyle=et.getMarkerStyle(t,e),l.markerSvgClassName=et.getMarkerClassName(t,e),l.drilling=J.isSeriesDrillable(t,e)?"on":"off",l.shortDesc=i.shortDesc,l},dt._getRefObjItems=function(t){var e=$.getRefObjs(t);if(e.length<=0)return[];for(var i=[],r=0;r<e.length;r++){var a=e[r];if(a&&"on"==a.displayInLegend&&a.text){var n=$.getType(a);i.push({symbolType:"area"==n?"square":"line",text:a.text,color:$.getColor(a),lineStyle:a.lineStyle,lineWidth:$.getLineWidth(a),categories:$.getRefObjCategories(a),categoryVisibility:$.isObjectRendered(t,a)?"visible":"hidden",shortDesc:a.shortDesc,svgStyle:a.style||a.svgStyle,svgClassName:a.className||a.svgClassName})}}return i};var ct=new Object;t.Obj.createSubclass(ct,t.Obj),ct._MIN_TOUCH_MARKER_SIZE=16,ct._MARKER_DATA_LABEL_GAP=4,ct._MIN_CHARS_DATA_LABEL=3,ct.FILTER_THRESHOLD_SCATTER_BUBBLE=1e4,ct.render=function(t,e,i){"off"==t.getOptions().plotArea.rendered?ct._renderAxisLines(t,e,i):i.w>0&&i.h>0&&(t._currentMarkers=new Array,t._currentAreas=new Array,ct._renderBackgroundObjects(t,e,i),ct._renderTicks(t,e,i),ct._renderForegroundObjects(t,e,i))},ct._renderBackgroundObjects=function(e,i,r){var a=e.getOptions(),n=ct._getBackgroundShape(e,r),s=et.getBackgroundColor(e);if(s?n.setSolidFill(s):n.setInvisibleFill(),i.addChild(n),e.getCache().putToCache("plotAreaBackground",n),J.isPlotAreaDraggable(e)&&n.setClassName("oj-draggable"),a.xAxis.referenceObjects||a.yAxis.referenceObjects||a.y2Axis.referenceObjects){var o=ct.createClippedGroup(e,i,r);ft.renderBackgroundObjects(e,o,r)}if(at.isBLAC(e)){var l=new t.Container(e.getCtx());i.addChild(l),e.__setAreaContainer(l),at.hasAreaSeries(e)&&ct._renderAreas(e,l,r,!1)}},ct._getBackgroundShape=function(e,i){var r,a=e.getCtx();if(at.isPolar(e)){var n=i.x+i.w/2,s=i.y+i.h/2;if(q.isGridPolygonal(e)){var o=t.PolygonUtils.getRegularPolygonPoints(n,s,Q.getGroupCount(e),e.getRadius(),0);r=new t.Polygon(a,o)}else r=new t.Circle(a,n,s,e.getRadius())}else r=new t.Rect(a,i.x,i.y,i.w,i.h);return r},ct._renderTicks=function(t,e,i){t.xAxis&&q.isMinorTickRendered(t,"x")&&ct._renderMinorTicks(t,e,t.xAxis,i),t.yAxis&&q.isMinorTickRendered(t,"y")&&ct._renderMinorTicks(t,e,t.yAxis,i),t.y2Axis&&q.isMinorTickRendered(t,"y2")&&ct._renderMinorTicks(t,e,t.y2Axis,i),t.xAxis&&q.isMajorTickRendered(t,"x")&&ct._renderMajorTicks(t,e,t.xAxis,i),t.yAxis&&q.isMajorTickRendered(t,"y")&&ct._renderMajorTicks(t,e,t.yAxis,i),t.y2Axis&&q.isMajorTickRendered(t,"y2")&&ct._renderMajorTicks(t,e,t.y2Axis,i)},ct._renderAxisLines=function(t,e,i){t.xAxis&&t.yAxis&&q.isAxisLineRendered(t,"x")&&ct._renderAxisLine(t,e,t.xAxis,t.yAxis,i),t.xAxis&&t.y2Axis&&q.isAxisLineRendered(t,"x")&&(t.yAxis&&!at.isSplitDualY(t)||ct._renderAxisLine(t,e,t.xAxis,t.y2Axis,i)),t.yAxis&&t.xAxis&&q.isAxisLineRendered(t,"y")&&ct._renderAxisLine(t,e,t.yAxis,t.xAxis,i),t.y2Axis&&t.xAxis&&q.isAxisLineRendered(t,"y2")&&ct._renderAxisLine(t,e,t.y2Axis,t.xAxis,i)},ct._renderMajorTicks=function(t,e,i,r){ct._renderGridlines(t,e,i.getOptions().majorTick,i.getPosition(),i.getMajorTickCoords(),i.getBaselineCoord(),r)},ct._renderMinorTicks=function(t,e,i,r){ct._renderGridlines(t,e,i.getOptions().minorTick,i.getPosition(),i.getMinorTickCoords(),null,r)},ct._renderAxisLine=function(t,e,i,r,a){var n=i.getOptions(),s=n.position,o="bottom"==s||"right"==s||"tangential"==s?r.getMaxCoord():r.getMinCoord();ct._renderGridlines(t,e,n.axisLine,r.getPosition(),[o],null,a)},ct._renderGridlines=function(e,i,r,a,n,s,o){var l=r.lineColor,h=r.lineStyle,u=new t.Stroke(l,1,r.lineWidth,!1,t.Stroke.getDefaultDashProps(h,r.lineWidth)),g=u.getColor();"inherit"!=r.baselineColor&&(g="auto"==r.baselineColor?t.ColorUtils.getDarker(l,.6):r.baselineColor);for(var d=null!=r.baselineWidth?r.baselineWidth:r.lineWidth,c=r.baselineStyle?r.baselineStyle:r.lineStyle,p=new t.Stroke(g,1,d,!1,t.Stroke.getDefaultDashProps(c,d)),_="",f=0;f<n.length;f++){var v=null!=s&&n[f]==s;"radial"==a||"tangential"==a||v?ct._renderGridline(e,i,a,n[f],v?p:u,o):_+="top"==a||"bottom"==a?t.PathUtils.moveTo(n[f],o.y)+t.PathUtils.verticalLineTo(o.y+o.h):t.PathUtils.moveTo(o.x,n[f])+t.PathUtils.horizontalLineTo(o.x+o.w)}if(""!=_){var m=new t.Path(e.getCtx(),_);(!t.Agent.isTouchDevice()||t.Agent.getDevicePixelRatio()>1)&&m.setPixelHinting(!0),m.setStroke(u),m.setMouseEnabled(!1),i.addChild(m)}},ct._renderGridline=function(e,i,r,a,n,s){var o,l=i.getCtx(),h=!t.Agent.isTouchDevice()||t.Agent.getDevicePixelRatio()>1;if("radial"==r){if(q.isGridPolygonal(e)){var u=t.PolygonUtils.getRegularPolygonPoints(0,0,Q.getGroupCount(e),a,0);o=new t.Polygon(l,u)}else o=new t.Circle(l,0,0,a);o.setInvisibleFill(),o.setTranslate(s.x+s.w/2,s.y+s.h/2)}else if("tangential"==r){o=new t.Line(l,0,0,e.getRadius()*Math.sin(a),-e.getRadius()*Math.cos(a));var g=a%(Math.PI/2);(g<.001||g>Math.PI/2-.001)&&h&&o.setPixelHinting(!0),o.setTranslate(s.x+s.w/2,s.y+s.h/2)}else o="top"==r||"bottom"==r?new t.Line(l,a,s.y,a,s.y+s.h):new t.Line(l,s.x,a,s.x+s.w,a),h&&o.setPixelHinting(!0);o.setStroke(n),o.setMouseEnabled(!1),i.addChild(o)},ct._renderForegroundObjects=function(t,e,i){var r=t.getOptions(),a=ct.createClippedGroup(t,e,i);ct._renderAxisLines(t,e,i);var n=r.plotArea.borderColor,s=r.plotArea.borderWidth;if(n&&0!=s){var o=ct._getBackgroundShape(t,i);o.setInvisibleFill(),o.setSolidStroke(n,null,s),o.setMouseEnabled(!1),e.addChild(o)}at.isBLAC(t)?(at.hasLineWithAreaSeries(t)&&ct._renderAreas(t,e,i,!0),at.hasBarSeries(t)&&ct._renderBars(t,a,i),at.hasCandlestickSeries(t)&&ct._renderStock(t,a,i),at.hasBoxPlotSeries(t)&&ct._renderBoxPlot(t,a,i),at.hasLineSeries(t)&&ct._renderLines(t,e,a,i)):at.isScatterBubble(t)&&ct._renderScatterBubble(t,e,a,!0,i),(r.xAxis.referenceObjects||r.yAxis.referenceObjects||r.y2Axis.referenceObjects)&&(a=ct.createClippedGroup(t,e,i),ft.renderForegroundObjects(t,a,i));var l=Q.getInitialSelection(t);J.setInitialSelection(t,l),t.highlight(et.getHighlightedCategories(t))},ct._renderDataLabel=function(e,i,r,a,n,s,o,l,h,u){if(!at.isOverview(e)){var g="bar"==et.getSeriesType(e,a),d=at.isHorizontal(e),c={width:d?r.w:u,height:d?u:r.h};g&&e.getOptionsCache().putToCachedMap2D("barDims",a,n,c);var p=Q.getDataLabel(e,a,n,s,l,h);if(null!=p){var _=et.getDataLabelPosition(e,a,n,s,l,h);if("none"!=_){var f=new t.OutputText(e.getCtx(),p,0,0);f.setMouseEnabled(!1);var v=h?e.getOptions().styleDefaults.stackLabelStyle:et.getDataLabelStyle(e,a,n,s,o,_,l);f.setCSSStyle(v),f.setY(r.y+r.h/2),f.setX(r.x+r.w/2),f.alignCenter(),f.alignMiddle();var m=f.getDimensions();if("left"==_)f.setX(r.x-m.w/2-ct._MARKER_DATA_LABEL_GAP);else if("right"==_)f.setX(r.x+r.w+m.w/2+ct._MARKER_DATA_LABEL_GAP);else if("top"==_)f.setY(r.y-m.h/2);else if("bottom"==_)f.setY(r.y+r.h+m.h/2+ct._MARKER_DATA_LABEL_GAP/2);else{if(g){if(m.w>c.width||m.h>c.height)return;"inLeft"==_?f.setX(r.x+m.w/2+ct._MARKER_DATA_LABEL_GAP):"inRight"==_?f.setX(r.x+r.w-m.w/2-ct._MARKER_DATA_LABEL_GAP):"inTop"==_?f.setY(r.y+m.h/2+ct._MARKER_DATA_LABEL_GAP):"inBottom"==_&&f.setY(r.y+r.h-m.h/2-ct._MARKER_DATA_LABEL_GAP/2)}else if(at.isBubble(e)){r.x+=ct._MARKER_DATA_LABEL_GAP,r.y+=ct._MARKER_DATA_LABEL_GAP,r.h-=2*ct._MARKER_DATA_LABEL_GAP,r.w-=2*ct._MARKER_DATA_LABEL_GAP;var S=t.TextUtils.getOptimalFontSize(f.getCtx(),f.getTextString(),f.getCSSStyle(),r);if(f.setFontSize(S),!t.TextUtils.fitText(f,r.w,r.h,i,ct._MIN_CHARS_DATA_LABEL))return}if(null!=et.getPattern(e,a,n)){var C=.15*(m=f.getDimensions()).h,y=t.PathUtils.roundedRectangle(m.x-C,m.y,m.w+2*C,m.h,2,2,2,2),x=new t.Path(e.getCtx(),y);x.setSolidFill("#FFFFFF",.9),i.addChild(x)}}if(at.isBar(e)){var A=e.getCache().getFromCache("plotAreaDims");A||(A=e.getPlotArea().getDimensions(),e.getCache().putToCache("plotAreaDims",A));var b,M=f.getDimensions(),T=!1;if("left"==_&&M.x<0)T=!0,b=r.x-ct._MARKER_DATA_LABEL_GAP;else if("right"==_&&M.x+M.w>A.w+ct._MARKER_DATA_LABEL_GAP)T=!0,b=A.w-r.w-ct._MARKER_DATA_LABEL_GAP;else{if("top"==_&&M.y<0)return;if("bottom"==_&&M.y+M.h>A.y+A.h+ct._MARKER_DATA_LABEL_GAP)return}if(T){if(!isNaN(p))return;if(!t.TextUtils.fitText(f,b,r.h,i,1))return;m=f.getDimensions(),"left"==_?f.setX(r.x-m.w/2-ct._MARKER_DATA_LABEL_GAP):"right"==_&&f.setX(r.x+r.w+m.w/2+ct._MARKER_DATA_LABEL_GAP)}}et.optimizeMarkerStroke(e)&&f.setSolidStroke("none"),i.addChild(f),e.addDataLabel(f)}}}},ct._renderDataLabelForMarker=function(e,i,r){var a=e.getEventManager().getLogicalObject(r);if(a){var n=a.getSeriesIndex(),s=a.getGroupIndex(),o=a.getNestedDataItemIndex();if(r instanceof t.SimpleMarker){var l=new t.Rectangle(r.getCx()-r.getWidth()/2,r.getCy()-r.getHeight()/2,r.getWidth(),r.getHeight());ct._renderDataLabel(e,i,l,n,s,o,r.getDataColor())}else r instanceof L&&(ct._renderDataLabel(e,i,r.getBoundingBox1(),n,s,o,r.getDataColor(),"low"),ct._renderDataLabel(e,i,r.getBoundingBox2(),n,s,o,r.getDataColor(),"high"))}},ct._renderScatterBubble=function(e,i,r,a,n){var s,o=ct._filterScatterBubble(e,a,n),l=Q.getSeriesCount(e);for(s=0;s<l;s++)"none"!=et.getLineType(e,s)&&ct._renderLinesForSeries(e,r,s,n);var h=et.getMarkerBorderColor(e),u=et.getBorderWidth(e),g=new t.Stroke(h,1,u),d=[];if(o)for(var c=et.optimizeMarkerStroke(e),p=c?g.getColor():null,_=c?g.getWidth():null,f=0;f<o.length;f++){var v=o[f],m=ct._createMarker(e,v,p,_);d.push(m)}else{for(s=0;s<l;s++){var S=ct._getMarkersForSeries(e,s,n,g);d=d.concat(S)}a&&nt.sortMarkers(d)}at.isBubble(e)?ct._addMarkersToContainer(e,r,d,g):ct._addMarkersToContainer(e,i,d,g)},ct._renderMarkersForSeries=function(e,i,r,a){var n,s=et.getMarkerBorderColor(e,r),o=et.getBorderWidth(e,r),l=new t.Stroke(s,1,o);n=et.isRangeSeries(e,r)?ct._getRangeMarkersForSeries(e,r,a):ct._getMarkersForSeries(e,r,a,l),ct._addMarkersToContainer(e,i,n,l)},ct._addMarkersToContainer=function(e,i,r,a){var n=i,s=et.optimizeMarkerStroke(e),o=et.optimizeMarkerFill(e);(s||o)&&(n=new t.Container(e.getCtx()),s?n.setStroke(a):n.setInvisibleFill(),i.addChild(n));for(var l=0;l<r.length;l++)n.addChild(r[l]),ct._renderDataLabelForMarker(e,n,r[l]);e._currentMarkers.push(r)},ct._getMarkerInfo=function(e,i,r,a,n){var s=e.getOptions(),o=Q.getValue(e,i,r,a);if(null==o||isNaN(o))return null;if(Q.isDataItemFiltered(e,i,r))return null;var l=Q.getGroupCount(e),h=et.isMarkerDisplayed(e,i,r,a);if(!h&&(null==a||a<0))if("jet"!=s._environment&&q.isMixedFrequency(e))l<2&&(h=!0);else{var u=l-1,g=at.isPolar(e),d=g&&u>0&&0==r?u:r-1,c=g&&u>0&&r==u?0:r+1,p=Q.getValue(e,i,d),_=Q.getValue(e,i,c);null!=p&&!isNaN(p)||null!=_&&!isNaN(_)||(h=!0)}if(!h){if(at.isSpark(e))return null;if((s._duringZoomAndScroll||at.isOverview(e))&&!Q.isDataSelected(e,i,r,a))return null}if(!et.isDataItemRendered(e,i,r,a))return!1;var f=!0,v=Q.getMarkerPosition(e,i,r,a,n),m=et.getMarkerSize(e,i,r,a);return n&&v&&m&&(f=n.intersects(new t.Rectangle(v.x-m/2,v.y-m/2,m,m))),v&&f?{seriesIndex:i,groupIndex:r,itemIndex:a,x:v.x,y:v.y,size:m,markerDisplayed:h}:null},ct._getScatterBubbleMarkerInfo=function(t,e,i,r){if(!et.isDataItemRendered(t,e,i))return!1;var a=Q.getScatterBubbleMarkerPosition(t,e,i);if(!a)return null;var n=et.getMarkerSize(t,e,i);return n?{seriesIndex:e,groupIndex:i,x:a.x,y:a.y,size:n}:null},ct._getMarkersForSeries=function(t,e,i,r){if(!et.isSeriesRendered(t,e))return[];for(var a=et.optimizeMarkerStroke(t),n=a?r.getColor():null,s=a?r.getWidth():null,o=[],l=Q.getGroupCount(t),h=0;h<l;h++){var u=ct._getMarkerInfo(t,e,h,null,i);if(u){var g=ct._createMarker(t,u,n,s);null!=g&&o.push(g)}}return o},ct._createMarker=function(e,i,r,n){var s,o=t.Agent.isTouchDevice(),l=e.getCtx(),h=et.optimizeMarkerStroke(e),u=et.optimizeMarkerFill(e),g=i.seriesIndex,d=i.groupIndex,c=i.itemIndex,p=et.getMarkerColor(e,g,d,c),_=et.getMarkerShape(e,g,d,c),f=i.markerDisplayed;if(null==f&&(f=et.isMarkerDisplayed(e,g,d,c)),f){var v=et.getImageSource(e,g,d,c,"source");if(v){var m=et.getImageSource(e,g,d,c,"sourceSelected"),S=et.getImageSource(e,g,d,c,"sourceHover"),C=et.getImageSource(e,g,d,c,"sourceHoverSelected");s=new t.ImageMarker(l,i.x,i.y,i.size,i.size,null,v,m,S,C)}else{(s=new t.SimpleMarker(l,_,i.x,i.y,i.size,i.size,null,null,!0)).setFill(tt.getMarkerFill(e,g,d,c));var y=et.getMarkerBorderColor(e,g,d,c),x=et.getBorderWidth(e,g,d,c);y==r&&x==n||s.setSolidStroke(y,null,x),s.setDataColor(p,!0);var A=t.SelectionEffectUtils.getHoverBorderColor(p),b=et.getSelectedInnerColor(e),M=et.getSelectedOuterColor(e);s.setHoverStroke(new t.Stroke(b,1,1),new t.Stroke(A,1,3.5)),s.setSelectedStroke(new t.Stroke(b,1,1.5),new t.Stroke(M,1,4.5)),s.setSelectedHoverStroke(new t.Stroke(b,1,1.5),new t.Stroke(A,1,4.5)),s.setClassName(et.getMarkerClassName(e,g,d,c)),s.setStyle(et.getMarkerStyle(e,g,d,c))}et.isSelectable(e,g,d)&&s.setCursor(t.SelectionEffectUtils.getSelectingCursor()),o&&i.size<ct._MIN_TOUCH_MARKER_SIZE&&ct._addMarkerHitArea(s,i.x,i.y,h)}else et.isSelectable(e,g,d)?((s=new D(l,_,i.x,i.y,i.size,h)).setCursor(t.SelectionEffectUtils.getSelectingCursor()),o&&ct._addMarkerHitArea(s,i.x,i.y,h)):(o&&(i.size=ct._MIN_TOUCH_MARKER_SIZE),s=new D(l,t.SimpleMarker.SQUARE,i.x,i.y,i.size,h)),null!=s&&(u||s.setInvisibleFill(),s.setDataColor(p));return null!=s&&a.associate(s,e,g,d,c,i),s},ct._addMarkerHitArea=function(e,i,r,a){var n=new t.Rect(e.getCtx(),i-ct._MIN_TOUCH_MARKER_SIZE/2,r-ct._MIN_TOUCH_MARKER_SIZE/2,ct._MIN_TOUCH_MARKER_SIZE,ct._MIN_TOUCH_MARKER_SIZE);a&&n.setSolidStroke("none"),n.setInvisibleFill(),e.addChild(n)},ct._getRangeMarkersForSeries=function(e,i,r){if(!et.isSeriesRendered(e,i))return[];for(var n=t.Agent.isTouchDevice(),s=e.getCtx(),o=e.xAxis,l=Q.isAssignedToY2(e,i)?e.y2Axis:e.yAxis,h=e.getOptions(),u=Q.getGroupCount(e),g=[],d=0;d<u;d++)if(!Q.isDataItemFiltered(e,i,d)&&et.isDataItemRendered(e,i,d)){var c=o.getCoordAt(Q.getXValue(e,i,d)),p=l.getUnboundedCoordAt(Q.getLowValue(e,i,d)),_=l.getUnboundedCoordAt(Q.getHighValue(e,i,d));if(null!=c&&null!=p&&null!=_){var f=et.isMarkerDisplayed(e,i,d);if(!f){var v=u-1,m=at.isPolar(e),S=m&&v>0&&0==d?v:d-1,C=m&&v>0&&d==v?0:d+1,y=Q.getLowValue(e,i,S),x=Q.getHighValue(e,i,S),A=Q.getLowValue(e,i,C),b=Q.getHighValue(e,i,S);null==y&&null==x&&null==A&&null==b&&(f=!0)}if(!(h._duringZoomAndScroll||at.isOverview(e)||at.isSpark(e))||f||Q.isDataSelected(e,i,d)){var M=ct.convertAxisCoord(e,new t.Point(c,p),r),T=ct.convertAxisCoord(e,new t.Point(c,_),r),I=new t.Point((M.x+T.x)/2,(M.y+T.y)/2),O=et.getMarkerSize(e,i,d),D=new L(s,M.x,M.y,T.x,T.y,O,!f),E=tt.getMarkerFill(e,i,d),P=et.getMarkerBorderColor(e,i,d),w=et.getBorderWidth(e,i,d),R=new t.Stroke(P,1,w),B=et.getMarkerColor(e,i,d),k=et.getSelectedInnerColor(e),F=et.getSelectedOuterColor(e);D.setStyleProperties(E,R,B,k,F),et.isSelectable(e,i,d)&&D.setCursor(t.SelectionEffectUtils.getSelectingCursor());var N=new t.Line(s,M.x,M.y,T.x,T.y);N.setSolidStroke("rgba(0,0,0,0)",null,n?Math.max(O,ct._MIN_TOUCH_MARKER_SIZE):O),D.addChild(N),g.push(D),a.associate(D,e,i,d,null,I)}}}return g},ct._renderBars=function(e,i,r){for(var n=at.isHorizontal(e),s=at.isPolar(e),o=at.isStock(e),l="pixel"==et.getBarSpacing(e),h=t.Agent.isRightToLeft(e.getCtx()),u=et.isStackLabelRendered(e),g=at.isStacked(e),d=et.getSelectedInnerColor(e),c=et.getSelectedOuterColor(e),p=e.getOptions()._duringZoomAndScroll,_=et.getGroupWidth(e),f={},v=0;v<Q.getSeriesCount(e);v++)if("bar"==et.getSeriesType(e,v)){ct._filterPointsForSeries(e,v);for(var m="",S=e.getOptionsCache().getFromCachedMap("itemStyleSet",v),C=Q.getStackCategory(e,v)||"",y=Q.isAssignedToY2(e,v),x=Q.getViewportMinMaxGroupIndex(e,v),A=x.min-1;A<=x.max+1;A++)if(!Q.isDataItemFiltered(e,v,A)&&et.isDataItemRendered(e,v,A)&&0!=Q.getZValue(e,v,A)){var M=Q.getBarInfo(e,v,A,r);if(null!=M){var T=M.yCoord,I=M.baseCoord,O=M.axisCoord,D=M.x1,E=M.x2,L=M.barWidth;if(g){var w=""+A+C+y+(Q.getValue(e,v,A)<0);if(Math.abs(I-T)<.5&&Math.abs(T-f[w])<.5&&!Q.isOutermostBar(e,v,A))continue;f[w]&&(I=f[w]),f[w]=T}var R,B=!1;if(Math.abs(T-I)<1&&(et.isRangeSeries(e,v)?T--:g&&!Q.isOutermostBar(e,v,A)||(B=!0,T=T>I||n&&!h&&T==I?I+3:I-3)),s)R=new P(e,O,I,T,D,E,r);else{var k=p&&_<5&&!S;if(R=new b(e,O,I,T,D,E,k),k){var F=R.getBoundingBox();m+=t.PathUtils.moveTo(F.x,F.y)+t.PathUtils.horizontalLineTo(F.x+F.w)+t.PathUtils.verticalLineTo(F.y+F.h)+t.PathUtils.horizontalLineTo(F.x)+t.PathUtils.closePath();continue}}i.addChild(R),et.isSelectable(e,v,A)&&R.setCursor(t.SelectionEffectUtils.getSelectingCursor());var N,H=null;if(B)N=t.SolidFill.invisibleFill();else{N=tt.getBarFill(e,v,A,L);var G=et.getBorderColor(e,v,A),U=et.getBorderWidth(e,v,A);G&&(H=new t.Stroke(G,1,U))}var V=et.getColor(e,v,A),j=et.getClassName(e,v,A),Y=et.getStyle(e,v,A);R.setStyleProperties(N,H,V,d,c,j,Y),l&&R.setPixelHinting(!0),a.associate(R,e,v,A,null,M.dataPos),et.isRangeSeries(e,v)?(ct._renderDataLabel(e,i,R.getBoundingBox(),v,A,null,V,"low",!1,R.getOriginalBarSize()),ct._renderDataLabel(e,i,R.getBoundingBox(),v,A,null,V,"high",!1,R.getOriginalBarSize())):ct._renderDataLabel(e,i,R.getBoundingBox(),v,A,null,V,null,!1,R.getOriginalBarSize());var W=new Array;W.push(R),o&&0!=v||e._currentMarkers.push(W),u&&Q.isOutermostBar(e,v,A)&&ct._renderDataLabel(e,i,R.getBoundingBox(),v,A,null,null,null,!0,R.getOriginalBarSize())}}if(m){var z=new t.Path(e.getCtx(),m),X=et.getColor(e,v);z.setSolidFill(X);var Z=et.getBorderColor(e,v);if(Z){var K=et.getBorderWidth(e,v);z.setSolidStroke(Z,null,K)}var q=et.getClassName(e,v),J=et.getStyle(e,v);z.setClassName(q).setStyle(J),l&&z.setPixelHinting(!0),i.addChild(z)}}},ct._renderStock=function(e,i,r){var n=e.getOptions(),s=e.xAxis,o=e.yAxis;if("candlestick"==et.getSeriesType(e,0))for(var l=Q.getViewportMinMaxGroupIndex(e,0),h=l.min-1;h<=l.max+1;h++)if(et.isDataItemRendered(e,0,h)){var u=Q.getDataItem(e,0,h);if(u){var g=u.open,d=u.close,c=u.low,p=u.high,_=null!=c&&null!=p;if(null!=g&&null!=d){var f,v=Q.getXValue(e,0,h),m=s.getUnboundedCoordAt(v),S=et.getBarWidth(e,0,h),C=o.getBoundedCoordAt(g),y=o.getBoundedCoordAt(d),x=null;_&&(f=o.getBoundedCoordAt(c),x=o.getBoundedCoordAt(p));var A=new T(e.getCtx(),m,S,C,y,f,x);i.addChild(A),et.isSelectable(e,0,h)&&A.setCursor(t.SelectionEffectUtils.getSelectingCursor());var b=tt.getBarFill(e,0,h,S),M=null,I=et.getBorderColor(e,0,h),O=et.getBorderWidth(e,0,h);I?M=new t.Stroke(I,1,O):b instanceof t.PatternFill&&(M=new t.Stroke(b.getColor(),1,O));var D=et.getColor(e,0,h),E=et.getSelectedInnerColor(e),P=et.getSelectedOuterColor(e),L=n.styleDefaults.stockRangeColor;A.setChangeStyle(b,M,D,E,P),A.setRangeStyle(new t.SolidFill(L),M,L,P);var w=new t.Point(m,(C+y)/2);a.associate(A,e,0,h,null,w);var R=new Array;R.push(A._changeShape),e._currentMarkers.push(R)}}}},ct._renderBoxPlot=function(e,i,r){for(var n=e.xAxis,s=0;s<Q.getSeriesCount(e);s++)for(var o=Q.getViewportMinMaxGroupIndex(e,s),l=o.min-1;l<=o.max+1;l++)if(et.isDataItemRendered(e,s,l)&&"boxPlot"==et.getSeriesType(e,s)){var h=Q.getDataItem(e,s,l);if(h){var u=h.low,g=h.q1,d=h.q2,c=h.q3,p=h.high;if(null!=u&&null!=g&&null!=d&&null!=c&&null!=p){var _=et.getBarWidth(e,s,l),f=et.getBarCategoryOffsetMap(e,l),v=Q.isAssignedToY2(e,s),m=Q.getStackCategory(e,s),S=f[v?"y2":"y"][m]+_/2;t.Agent.isRightToLeft(e.getCtx())&&at.isVertical(e)&&(S*=-1);var C=Q.getXValue(e,s,l),y=n.getUnboundedCoordAt(C)+S,x=v?e.y2Axis:e.yAxis,A=x.getBoundedCoordAt(u),b=x.getBoundedCoordAt(g),T=x.getBoundedCoordAt(d),I=x.getBoundedCoordAt(c),O=x.getBoundedCoordAt(p),D=et.getBoxPlotStyleOptions(e,s,l),E=new M(e,y,_,A,b,T,I,O,D);i.addChild(E),et.isSelectable(e,s,l)&&E.setCursor(t.SelectionEffectUtils.getSelectingCursor());var P=ct.convertAxisCoord(e,new t.Point(y,T),r);a.associate(E,e,s,l,null,P),ct._renderBoxPlotMarkers(e,i,s,l,r,y),e._currentMarkers.push([E._medianLine])}}}},ct._renderBoxPlotMarkers=function(e,i,r,a,n,s){for(var o=et.getMarkerBorderColor(e,r,a),l=et.getBorderWidth(e,r,a),h=new t.Stroke(o,1,l),u=[],g=Q.getNestedDataItemCount(e,r,a),d=0;d<g;d++){var c=ct._getMarkerInfo(e,r,a,d,n);if(c){at.isHorizontal(e)?c.y=s:c.x=s;var p=ct._createMarker(e,c,o,l);null!=p&&u.push(p)}}ct._addMarkersToContainer(e,i,u,h)},ct._renderLines=function(t,e,i,r){var a,n=[],s=Q.getSeriesCount(t);for(a=0;a<s;a++)et.isSeriesRendered(t,a)&&"line"==et.getSeriesType(t,a)&&n.push(a);for(var o=0;o<n.length;o++)a=n[o],"none"!=et.getLineType(t,a)&&(ct._filterPointsForSeries(t,a),ct._renderLinesForSeries(t,i,a,r));for(o=0;o<n.length;o++)ct._renderMarkersForSeries(t,e,n[o],r)},ct._renderAreas=function(t,e,i,r){for(var a=Q.getSeriesCount(t),n=r?"lineWithArea":"area",s=[],o=[],l=0;l<a;l++)et.isSeriesRendered(t,l)&&et.getSeriesType(t,l)==n&&(Q.isAssignedToY2(t,l)?o.push(l):s.push(l));s.length>0&&ct._renderAreasForAxis(t,e,s,t.yAxis.getBaselineCoord(),i,r),o.length>0&&ct._renderAreasForAxis(t,e,o,t.y2Axis.getBaselineCoord(),i,r)},ct._renderAreasForAxis=function(e,i,r,n,s,o){for(var l=at.isStacked(e),h=ct.createClippedGroup(e,i,s),u={},g={},d={},c={},p=[],_=Q.getGroupCount(e),f=0;f<_;f++)p.push(new I(null,n,n,f,Q.getGroup(e,f),!0));for(var v=0;v<r.length;v++){var m=r[v],S=Q.getStackCategory(e,m),C=Q.isSeriesNegative(e,m),y=u[S],x=g[S],A=d[S],b=c[S];if("none"!=et.getLineType(e,m)){var M,T,D,E=tt.getAreaFill(e,m),P=et.getBorderColor(e,m),L=et.getBorderWidth(e,m),w=et.getAreaClassName(e,m),R=et.getAreaStyle(e,m),B=P?new t.Stroke(P,1,L):null,k=et.getLineType(e,m);ct._filterPointsForSeries(e,m),et.isRangeSeries(e,m)?(M=ct._getCoordsForSeries(e,m,s,"high"),T=ct._getCoordsForSeries(e,m,s,"low"),D=k):C?(M=ct._getAreaCoordsForSeries(e,m,s,A||p),T=A||[],D=b):(M=ct._getAreaCoordsForSeries(e,m,s,y||p),T=y||[],D=x);var F=new O(e,!0,s,n,R,w,E,B,k,M,D,T);h.addChild(F),e._currentAreas.push(F),a.associate(F,e,m),C?(d[S]=M,c[S]=k):(u[S]=M,g[S]=k),l||((o||et.getDataItemGaps(e)>0&&!P)&&ct._renderLinesForSeries(e,h,m,s,!o),o||ct._renderMarkersForSeries(e,i,m,s),v+1<r.length&&(h=ct.createClippedGroup(e,i,s)))}else ct._renderMarkersForSeries(e,i,m,s)}for(v=0;v<r.length;v++)if(m=r[v],"none"!=et.getLineType(e,m)){var N=et.getBorderColor(e,m)||et.getBorderColor(e,m+1);l&&(o||et.getDataItemGaps(e)>0&&!N)&&ct._renderLinesForSeries(e,h,m,s,!o),(l||o)&&ct._renderMarkersForSeries(e,i,m,s)}},ct._getAreaCoordsForSeries=function(t,e,i,r){for(var a=ct._getCoordsForSeries(t,e,i),n=[],s=0;s<r.length;s++)n.push(r[s].clone());var o=a.length-1,l=at.isPolar(t);for(s=0;s<a.length;s++)if(null!=a[s].x){var h=n[a[s].groupIndex],u=l&&0==s?o:s-1,g=l&&s==o?0:s+1;u>=0&&null!=a[u].x&&(h.y1=a[s].y1),g<=o&&null!=a[g].x&&(h.y2=a[s].y2),h.x=a[s].x,h.filtered=h.y1==h.y2&&a[s].filtered}return n},ct._renderLinesForSeries=function(e,i,r,n,s){var o;if(s){var l=2.5*et.getDataItemGaps(e);o=new t.Stroke(et.getBackgroundColor(e,!0),1,l)}else{var h=et.getColor(e,r),u=et.getLineWidth(e,r),g=et.getLineStyle(e,r);o=new t.Stroke(h,1,u,!1,t.Stroke.getDefaultDashProps(g,u))}var d=Q.isAssignedToY2(e,r)?e.y2Axis.getBaselineCoord():e.yAxis.getBaselineCoord(),c=et.getLineType(e,r),p=et.getClassName(e,r),_=et.getStyle(e,r),f=function(t){var s=ct._getCoordsForSeries(e,r,n,t),l=new O(e,!1,n,d,_,p,null,o,c,s);i.addChild(l),a.associate(l,e,r)};et.isRangeSeries(e,r)?(f("high"),f("low")):f("value")},ct._filterScatterBubble=function(e,i,r){var a,n=Q.getSeriesCount(e),s=Q.getGroupCount(e);if(n*s<ct.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;for(var o=[],l=0;l<n;l++)if(et.isSeriesRendered(e,l))for(var h=0;h<s;h++)null!=(a=ct._getScatterBubbleMarkerInfo(e,l,h,r))&&o.push(a);if(o.length<ct.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;i&&nt.sortMarkerInfos(o);for(var u=new t.PixelMap(25,new t.PixelMap(5,new t.PixelMap)),g=[],d=o.length-1;d>=0;d--){if(a=o[d],!nt.checkPixelMap(u,a.x,a.y,a.size)){var c=et.getColor(e,a.seriesIndex,a.groupIndex),p=et.isMarkerDisplayed(e,l,h)?t.ColorUtils.getAlpha(c):0;p>0&&(nt.updatePixelMap(u,a.x,a.y,a.size,p),g.push(a))}}return e.getCache().putToCache("dataFiltered",!0),g.reverse(),g},ct._filterPointsForSeries=function(t,e){if(!at.isPolar(t)&&!et.isRangeSeries(t,e)){var i=t.__getPlotAreaSpace().w,r=Q.getSeriesItem(t,e).items,a="bar"==et.getSeriesType(t,e),n=t.xAxis.getInfo(),s=(n.getDataMax()-n.getDataMin())/(n.getViewportMax()-n.getViewportMin()),o=a?.5:2,l=s?Math.round(o*(r.length/s)/i):1;if(l<(a?2:3))for(var h=0;h<r.length;h++)(p=r[h])&&(p._filtered=!1);else{var u,g,d,c,p,_,f=!1;for(h=0;h<r.length;h+=l){u=-1,g=-1/0,d=-1,c=1/0;for(var v=h;v<Math.min(h+l,r.length);v++)_=Q.getCumulativeValue(t,e,v),p=r[v],null!=_&&null!=p&&((!a||_>0)&&_>g&&(u=v,g=_),(!a||_<0)&&_<c&&(d=v,c=_),p._filtered=!0,f=!0);for(v=h;v<Math.min(h+l,r.length);v++)null!=(p=r[v])&&(v!=u&&v!=d||(p._filtered=!1))}t.getCache().putToCache("dataFiltered",f)}}},ct._getCoordsForSeries=function(t,e,i,r){var a=t.xAxis,n=t.yAxis;Q.isAssignedToY2(t,e)&&(n=t.y2Axis);for(var s=[],o=Q.getViewportMinMaxGroupIndex(t,e),l=o.min-1;l<=o.max+1;l++){var h=Q.getGroup(t,l);if(null!=h){var u=Q.getXValue(t,e,l),g=null;if("low"==r?g=Q.getLowValue(t,e,l):"high"==r?g=Q.getHighValue(t,e,l):null!=Q.getValue(t,e,l)&&(g=Q.getCumulativeValue(t,e,l)),null!=g&&!isNaN(g)&&et.isDataItemRendered(t,e,l)){at.isPolar(t)&&(g=Math.max(g,n.getInfo().getViewportMin()));var d=a.getUnboundedCoordAt(u),c=n.getUnboundedCoordAt(g);if(null!=d&&null!=c){var p=new I(d,c,c,l,h,Q.isDataItemFiltered(t,e,l));s.push(p)}else s.push(new I(null,null,null,l,h,!1))}else s.push(new I(null,null,null,l,h,!1))}}return s},ct.createClippedGroup=function(e,i,r){var a=new t.Container(i.getCtx());i.addChild(a);var n=new t.ClipPath(e.getId()),s=ct._extendClipGroup(e);if(at.isPolar(e)){var o=r.x+r.w/2,l=r.y+r.h/2;if(q.isGridPolygonal(e)){var h=t.PolygonUtils.getRegularPolygonPoints(o,l,Q.getGroupCount(e),e.getRadius(),0);n.addPolygon(h)}else n.addCircle(o,l,e.getRadius())}else at.isHorizontal(e)?n.addRect(r.x-s,r.y,r.w+2*s,r.h):n.addRect(r.x,r.y-s,r.w,r.h+2*s);return a.setClipPath(n),a},ct.polarToCartesian=function(e,i,r){var a=r.x+r.w/2+e*Math.sin(i),n=r.y+r.h/2-e*Math.cos(i);return new t.Point(a,n)},ct.convertAxisCoord=function(e,i,r){if(at.isPolar(e)){var a=ct.polarToCartesian(i.y,i.x,r);return new t.Point(a.x,a.y)}return at.isHorizontal(e)?new t.Point(i.y,i.x):new t.Point(i.x,i.y)},ct._extendClipGroup=function(t){if((at.hasLineSeries(t)||at.hasLineWithAreaSeries(t))&&!at.isSpark(t)){var e=et.getLineWidth(t),i=function(t){var i=t.getInfo(),r=i.getCoordAt(i.getGlobalMax()),a=i.getCoordAt(i.getDataMax()),n=i.getCoordAt(i.getGlobalMin()),s=i.getCoordAt(i.getDataMin());return null!=r&&null!=a&&a-r<=e/2||null!=n&&null!=s&&n-s<=e/2};if(t.yAxis&&i(t.yAxis)||t.y2Axis&&i(t.y2Axis))return Math.ceil(e/2)}return 0};var pt=new Object;t.Obj.createSubclass(pt,t.Obj),pt._DEFAULT_3D_GAP_RATIO=1/36,pt._DEFAULT_2D_GAP_RATIO=1/70,pt._MAX_WIDTH_FOR_GAPS=.25,pt._GROUP_INDEX=0,pt._SLICE_VALUE_THRESHOLD=1e-4,pt.render=function(e,i,r){var a=new t.Container(e.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),e.setPlotArea(a);var n,s=at.isHorizontal(e);if(s)n=new t.Rectangle(0,0,r.w,r.h);else{var o=new t.Matrix,l=t.Agent.isRightToLeft(e.getCtx())?-1:1;o=(o=(o=o.translate(-r.h/2,-r.w/2)).rotate(l*Math.PI/2)).translate(r.x+r.w/2,r.y+r.h/2),n=new t.Rectangle(0,0,r.h,r.w),a.setMatrix(o)}J.addPlotAreaDnDBackground(e,a,r,s),pt._renderFunnelSlices(e,a,n)||ut.renderEmptyText(e,i,r);var h=Q.getInitialSelection(e);J.setInitialSelection(e,h),e.highlight(et.getHighlightedCategories(e))},pt._renderFunnelSlices=function(t,e,i){for(var r=t.getOptions(),n=Q.getSeriesCount(t),s=et.getDataItemGaps(t),o=("on"==r.styleDefaults.threeDEffect?pt._DEFAULT_3D_GAP_RATIO:pt._DEFAULT_2D_GAP_RATIO)*i.w,l=s*Math.min(pt._MAX_WIDTH_FOR_GAPS*i.w/(n-1),o),h=0,u=0,g=0,d=0;d<n;d++){if(et.isDataItemRendered(t,d))null==(p=Q.getTargetValue(t,d))&&(p=Q.getValue(t,d,pt._GROUP_INDEX)),p<=0||(h+=p)}if(0==h)return!1;for(d=n-1;d>=0;d--)if(et.isDataItemRendered(t,d)){var c,p=Q.getValue(t,d,pt._GROUP_INDEX),_=Q.getTargetValue(t,d);if(!(p<=0&&null==_||null!=_&&_<=0))if(!((null!=_?_:p)<pt._SLICE_VALUE_THRESHOLD*h))null!=_?(g+=_/h,c=new R(t,d,u,i.w,i.h,1-g,_/h,p/_,l)):(g+=p/h,c=new R(t,d,u,i.w,i.h,1-g,p/h,null,l)),u++,e.addChild(c),a.associate(c,t,d,pt._GROUP_INDEX)}return!0};var _t=new Object;t.Obj.createSubclass(_t,t.Obj),_t._DEFAULT_GAP_RATIO=1/70,_t._MAX_HEIGHT_FOR_GAPS=.25,_t._GROUP_INDEX=0,_t.render=function(e,i,r){var a=new t.Container(e.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),e.setPlotArea(a);var n=new t.Rectangle(0,0,r.w,r.h);J.addPlotAreaDnDBackground(e,a,r,!0),_t._renderPyramidSlices(e,a,n)||ut.renderEmptyText(e,i,r);var s=Q.getInitialSelection(e);J.setInitialSelection(e,s),e.highlight(et.getHighlightedCategories(e))},_t._renderPyramidSlices=function(t,e,i){for(var r=Q.getSeriesCount(t),n=et.getDataItemGaps(t),s=_t._DEFAULT_GAP_RATIO*i.h,o=n*Math.min(_t._MAX_HEIGHT_FOR_GAPS*i.h/(r-1),s),l=0,h=0,u=0,g=0;g<r;g++){if(et.isDataItemRendered(t,g))(d=Q.getValue(t,g,_t._GROUP_INDEX))<=0||(l+=d)}if(0==l)return!1;for(g=0;g<r;g++){var d;if(et.isDataItemRendered(t,g))if(!((d=Q.getValue(t,g,_t._GROUP_INDEX))<=0)){var c=new B(t,g,h,i.w,i.h,u,d/l,o);u+=d/l,h++,e.addChild(c),a.associate(c,t,g,_t._GROUP_INDEX)}}return!0};var ft=new Object;t.Obj.createSubclass(ft,t.Obj),ft.renderBackgroundObjects=function(t,e,i){ft._renderObjects(t,e,i,"back")},ft.renderForegroundObjects=function(t,e,i){ft._renderObjects(t,e,i,"front")},ft._renderObjects=function(t,e,i,r){ft._renderObjectsForAxis(t,e,i,r,t.xAxis,$.getAxisRefObjs(t,"x")),ft._renderObjectsForAxis(t,e,i,r,t.yAxis,$.getAxisRefObjs(t,"y")),ft._renderObjectsForAxis(t,e,i,r,t.y2Axis,$.getAxisRefObjs(t,"y2"))},ft._renderObjectsForAxis=function(t,e,i,r,a,s){if(s&&a)for(var o=0;o<s.length;o++){var l=s[o];if($.isObjectRendered(t,l)&&(l&&$.getLocation(l)==r)){var h,u=$.getType(l);if("area"==u?h=ft._createReferenceArea(l,t,i,a):"line"==u&&(h=ft._createReferenceLine(l,t,i,a)),null!=h){var g=a==t.xAxis?"xAxis":a==t.yAxis?"yAxis":"y2Axis",d=new n(t,[h],l,o,g);t.registerObject(d),t.getEventManager().associate(h,d),e.addChild(h)}}}},ft._createReferenceArea=function(e,i,r,a){var n,s=i.getCtx(),o=a.getPosition(),l="top"==o||"bottom"==o,h="radial"==o,u=$.getColor(e),g=$.getLineType(e),d=e.style||e.svgStyle,c=e.className||e.svgClassName;if(null==e.items||a!=i.yAxis&&a!=i.y2Axis){var p=$.getLowValue(e),_=$.getHighValue(e);null!=p&&p!=-1/0||(p=a.getInfo().getGlobalMin()),null!=_&&_!=1/0||(_=a.getInfo().getGlobalMax());var f=ft._getAxisCoord(i,a,p),v=ft._getAxisCoord(i,a,_);if(at.isPolar(i)){var m,S=r.x+r.w/2,C=r.y+r.h/2;if(h)if(q.isGridPolygonal(i)){var y=Q.getGroupCount(i),x=t.PolygonUtils.getRegularPolygonPoints(S,C,y,v,0,1),A=t.PolygonUtils.getRegularPolygonPoints(S,C,y,f,0,0);m=t.PathUtils.polyline(x)+t.PathUtils.polyline(A)+t.PathUtils.closePath()}else m=t.PathUtils.moveTo(S,C-v)+t.PathUtils.arcTo(v,v,Math.PI,1,S,C+v)+t.PathUtils.arcTo(v,v,Math.PI,1,S,C-v)+t.PathUtils.moveTo(S,C-f)+t.PathUtils.arcTo(f,f,Math.PI,0,S,C+f)+t.PathUtils.arcTo(f,f,Math.PI,0,S,C-f)+t.PathUtils.closePath();else{var b=i.getRadius(),M=ct.polarToCartesian(b,f,r),T=ct.polarToCartesian(b,v,r);m=t.PathUtils.moveTo(S,C)+t.PathUtils.lineTo(M.x,M.y)+t.PathUtils.arcTo(b,b,v-f,t.Agent.isRightToLeft(s)?0:1,T.x,T.y)+t.PathUtils.lineTo(T.x,T.y)+t.PathUtils.closePath()}n=new t.Path(s,m)}else{var D;D=l?[f,0,v,0,v,r.h,f,r.h]:[0,f,0,v,r.w,v,r.w,f],n=new t.Polygon(s,D)}n.setSolidFill(u),n.setStyle(d).setClassName(c)}else{var E=e.items,P=[],L=[];if(i.xAxis.isGroupAxis())for(;E.length<Q.getGroupCount(i);)E.push(null);for(var w=0;w<E.length;w++){var R=E[w],B=$.getLowValue(R),k=$.getHighValue(R);if(null!=B&&null!=k){var F=a.getUnboundedCoordAt(B),N=a.getUnboundedCoordAt(k),H=i.xAxis.getUnboundedCoordAt($.getXValue(i,E,w));P.push(new I(H,N,N)),L.push(new I(H,F,F))}else P.push(new I),L.push(new I)}n=new O(i,!0,r,null,d,c,new t.SolidFill(u),null,g,P,g,L)}return n},ft._createReferenceLine=function(e,i,r,a){var n,s=a.getPosition(),o="top"==s||"bottom"==s,l="radial"==s,h="tangential"==s,u=$.getLineWidth(e),g=$.getLineType(e),d=$.getColor(e),c=e.style||e.svgStyle,p=e.className||e.svgClassName,_=new t.Stroke(d,1,u,!1,t.Stroke.getDefaultDashProps(e.lineStyle,u)),f=i.getCtx();if(null==e.items||a!=i.yAxis&&a!=i.y2Axis){if(!e.value)return null;var v=ft._getAxisCoord(i,a,e.value);if(null==v||v==1/0||v==-1/0)return null;var m=r.x+r.w/2,S=r.y+r.h/2;if(l){if(q.isGridPolygonal(i)){y=t.PolygonUtils.getRegularPolygonPoints(m,S,Q.getGroupCount(i),v,0);n=new t.Polygon(f,y)}else n=new t.Circle(f,m,S,v);n.setFill(null)}else if(h){var C=ct.polarToCartesian(i.getRadius(),v,r);n=new t.Line(f,m,S,C.x,C.y)}else(n=o?new t.Line(f,v,0,v,r.h):new t.Line(f,0,v,r.w,v)).setPixelHinting(!0);n.setStroke(_),n.setStyle(c).setClassName(p)}else{var y,x=e.items;if([].push(y=[]),i.xAxis.isGroupAxis())for(;x.length<Q.getGroupCount(i);)x.push(null);for(var A=[],b=0;b<x.length;b++){var M=x[b],T=null;if(null!=M&&("object"!=typeof M?T=M:null!=M.value&&(T=M.value)),null!=T){var D=a.getUnboundedCoordAt(T),E=i.xAxis.getUnboundedCoordAt($.getXValue(i,x,b));A.push(new I(E,D,D))}else A.push(new I)}n=new O(i,!1,r,null,c,p,null,_,g,A)}return n},ft._getAxisCoord=function(t,e,i){if(e.isGroupAxis()){var r=Q.getGroupIndex(t,i);if(r>=0)return e.getUnboundedCoordAt(r)}return isNaN(i)?null:e.getUnboundedCoordAt(i)},t.SparkChart=function(){},t.Obj.createSubclass(t.SparkChart,t.BaseComponent),t.SparkChart.newInstance=function(e,i,r){var a=new t.SparkChart;return e.getStage().setCursor(""),a.Init(e,i,r),a},t.SparkChart.getDefaults=function(t){return(new mt).getDefaults(t)},t.SparkChart.prototype.Init=function(e,i,r){t.SparkChart.superclass.Init.call(this,e,i,r),this.Defaults=new mt(e),this.EventManager=new St(this),this.EventManager.addListeners(this),this._chart=t.Chart.newInstance(e,this._onRenderEnd,this),this.addChild(this._chart),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new t.KeyboardHandler(this.EventManager,this)),this._tooltipMask=new t.Rect(e),this.addChild(this._tooltipMask),this.setId("sparkChart1000"+Math.floor(1e9*Math.random()))},t.SparkChart.prototype.SetOptions=function(e){e?(this.Options=this.Defaults.calcOptions(e),t.Agent.isEnvironmentTest()&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults())},t.SparkChart.prototype.setId=function(e){t.SparkChart.superclass.setId.call(this,e),this._chart&&this._chart.setId(e+"chart")},t.SparkChart.prototype.render=function(e,i,r){this.SetOptions(e),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r),this._eventReceived=!1,this._isDoneRendering=!1,Ct.render(this,this.Width,this.Height);var a=this.Options.shortDesc;this._tooltipMask.setWidth(this.Width),this._tooltipMask.setHeight(this.Height),this._tooltipMask.setInvisibleFill();var n=this.Options.tooltip,s=n?n.renderer:null,o=this.Options.color;if(s){var l={component:this.Options._widgetConstructor,color:o};this._peer=new t.CustomDatatipPeer(this.getCtx().getTooltipManager(),s,o,l),this.EventManager.associate(this._tooltipMask,this._peer)}else a?(this._peer=new t.SimpleObjPeer(null,a,o),this.EventManager.associate(this._tooltipMask,this._peer)):this._peer=null;this.Options._selectingCursor&&this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this.UpdateAriaAttributes(),this._eventReceived&&this.RenderComplete(),this._isDoneRendering=!0},t.SparkChart.prototype._onRenderEnd=function(t){this._eventReceived=!0,"ready"==t.type&&this._isDoneRendering&&this.RenderComplete()},t.SparkChart.prototype.__getChart=function(){return this._chart},t.SparkChart.prototype.getAutomation=function(){return new vt(this)},t.SparkChart.prototype.UpdateAriaAttributes=function(){var e=t.Displayable.generateAriaLabel(t.TextUtils.processAriaLabel(this.GetComponentDescription()),this.Options.shortDesc?[this.Options.shortDesc]:null),i=this.Options.translations;this.IsParentRoot()?(this.getCtx().setAriaRole("img"),this.getCtx().setAriaLabel(t.ResourceUtils.format(i.labelAndValue,[i.labelDataVisualization,e]))):(this.setAriaRole("img"),this.setAriaProperty("label",e))},t.SparkChart.prototype.__getLogicalObject=function(){return this._peer};var vt=function(t){this._sparkChart=t};t.Obj.createSubclass(vt,t.Automation),vt.prototype.getDataItem=function(t){var e=this._sparkChart.__getChart().getAutomation().getDataItem(0,t);return e?{borderColor:e.borderColor,color:e.color,date:e.x,low:e.low,high:e.high,value:null==e.low||null==e.high?e.value:e.high-e.low}:null};var mt=function(t){this.Init({alta:mt.SKIN_ALTA},t)};t.Obj.createSubclass(mt,t.BaseComponentDefaults),mt.SKIN_ALTA={skin:t.CSSStyle.SKIN_ALTA,type:"line",animationOnDisplay:"none",animationOnDataChange:"none",areaSvgClassName:"",emptyText:null,color:"#267db3",firstColor:"",lastColor:"",highColor:"",lowColor:"",visualEffects:"auto",baselineScaling:"min",barSpacing:"auto",lineWidth:1,lineStyle:"solid",lineType:"straight",markerSize:5,markerShape:"auto",barGapRatio:.25,referenceObjects:[],svgClassName:"",_statusMessageStyle:new t.CSSStyle("font-size: 12px; color: #404259;")},mt.prototype.getAnimationDuration=function(t){return t.animationDuration};var St=function(t){this.Init(t.getCtx(),t.dispatchEvent,t,t),this._sparkChart=t};t.Obj.createSubclass(St,t.EventManager),St.prototype.ProcessKeyboardEvent=function(e){if(!this.KeyboardHandler)return!1;if(e.keyCode==t.KeyboardEvent.TAB){var i=this._sparkChart.getCtx().getStageAbsolutePosition();this.ProcessObjectTooltip(e,i.x,i.y,this._sparkChart.__getLogicalObject(),this._sparkChart)}return!1},St.prototype.OnBlur=function(t){St.superclass.OnBlur.call(this,t),this.hideTooltip()};var Ct=new Object;t.Obj.createSubclass(Ct,t.Obj),Ct.render=function(t,e,i){var r=t.__getChart(),a=Ct._convertOptionsObj(t),n=t.getOptions();if("area"==n.type||"line"==n.type||"lineWithArea"==n.type){var s=Ct._getDataItems(t),o=!1;if(n.firstColor||n.lastColor||n.highColor||n.lowColor)o=!0;else for(var l=0;l<s.length;l++)if(s[l]&&"on"==s[l].markerDisplayed){o=!0;break}if(o&&s.length>0||"none"==n.lineType){var h=n.markerSize/2;e-=2*h,i-=2*h,r.setTranslate(h,h)}}r.render(a,e,i)},Ct._getDataItems=function(t){var e=t.getOptions();return e&&e.items?e.items:[]},Ct._convertOptionsObj=function(e){var i=e.getOptions(),r={styleDefaults:{},xAxis:{},yAxis:{},groups:[]};r.translations=i.translations;for(var a=[],n=-1,s=-1,o=-1/0,l=1/0,h=Ct._getDataItems(e),u=0;u<h.length;u++){var g=h[u],d={};g instanceof Object?(d.value=g.value,d.low=g.low,d.high=g.high,g.date&&(r.timeAxisType="enabled",r.groups.push(g.date)),"on"==g.markerDisplayed&&(d.markerDisplayed="on"),g.color&&(d.color=g.color),g.borderColor&&(d.borderColor=g.borderColor),g.markerShape&&(d.markerShape=g.markerShape),g.markerSize&&(d.markerSize=g.markerSize),(g.className||g.svgClassName)&&(d.svgClassName=g.className||g.svgClassName),(g.style||g.svgStyle)&&(d.svgStyle=g.style||g.svgStyle)):d.value=g,a.push(d);var c=null!=d.value?d.value:Math.max(d.low,d.high);o<c&&(o=c,n=u);var p=null!=d.value?d.value:Math.min(d.low,d.high);l>p&&(l=p,s=u)}i.highColor&&n>=0&&(a[n].markerDisplayed="on",a[n].color||(a[n].color=i.highColor)),i.lowColor&&s>=0&&(a[s].markerDisplayed="on",a[s].color||(a[s].color=i.lowColor)),i.firstColor&&a.length>0&&(a[0].markerDisplayed="on",a[0].color||(a[0].color=i.firstColor)),i.lastColor&&a.length>0&&(a[a.length-1].markerDisplayed="on",a[a.length-1].color||(a[a.length-1].color=i.lastColor)),r.series=[{items:a,areaColor:i.areaColor,svgClassName:i.className||i.svgClassName,svgStyle:i.style||i.svgStyle,areaSvgClassName:i.areaClassName||i.areaSvgClassName,areaStyle:i.areaStyle||i.areaSvgStyle}],i.referenceObjects&&i.referenceObjects.length>0&&(r.yAxis.referenceObjects=i.referenceObjects),r.__spark=!0;var _=i.barSpacing;"auto"==_&&(_=t.Agent.getDevicePixelRatio()>1?"subpixel":"pixel"),r.__sparkBarSpacing=_,r.type=i.type,r.animationOnDataChange=i.animationOnDataChange,r.animationOnDisplay=i.animationOnDisplay,r.emptyText=i.emptyText,i.color&&(r.styleDefaults.colors=[i.color]),r.styleDefaults.animationDuration=i.animationDuration,r.styleDefaults.animationIndicators="none",r.styleDefaults.lineWidth=i.lineWidth,r.styleDefaults.lineStyle=i.lineStyle,r.styleDefaults.lineType=i.lineType,r.styleDefaults.markerSize=i.markerSize,r.styleDefaults.markerShape=i.markerShape,r.styleDefaults.barGapRatio=i.barGapRatio,r.styleDefaults.dataItemGaps="0%",r.xAxis.rendered="off",r.yAxis.rendered="off";var f="zero"==i.baselineScaling,v=o!=l?.1*(o-l):.1*Math.abs(o);return r.yAxis.min=f&&l>=0?0:l-v,r.yAxis.max=f&&o<=0?0:o+v,"none"==i.visualEffects||"area"!=i.type&&"lineWithArea"!=i.type?r.styleDefaults.seriesEffect="color":r.styleDefaults.seriesEffect="gradient",r.layout={gapWidthRatio:0,gapHeightRatio:0},r.legend={rendered:"off"},r._statusMessageStyle=i._statusMessageStyle,r}}(dvt);
  return dvt;
});

/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojkeyset',["ojs/ojcore","ojs/ojkeysetimpl"],function(t,e){"use strict";var n=function(){};t.Object.createSubclass(n,t.Object,"KeySet"),t.KeySet=n,n.prototype.SetInternal=function(t){this._keys=t},n.prototype.AddOrDeleteInternal=function(t,e){var n,r;return null==(n=t?this._add(e):this._remove(e))?this:((r=Object.create(Object.getPrototypeOf(this))).SetInternal(n),r)},n.prototype._add=function(t){var e=this,n=null;return t.forEach(function(t){t!==e.NOT_A_KEY&&e.get(t)===e.NOT_A_KEY&&(null==n&&(n=e.Clone()),n.add(t))}),n},n.prototype._remove=function(t){var e,n=this,r=null;return 0===this._keys.size?null:(t.forEach(function(t){(e=n.get(t))!==n.NOT_A_KEY&&(null==r&&(r=n.Clone()),r.delete(e))}),r)},n.prototype.GetInternalSize=function(){return this._keys.size},n.prototype.Clone=function(){return new Set(this._keys)},e.call(n.prototype);var r=function(t){this.InitializeWithKeys(t)};t.Object.createSubclass(r,n,"ExpandedKeySet"),t.ExpandedKeySet=r,r.prototype.add=function(t){return this.AddOrDeleteInternal(!0,t)},r.prototype.addAll=function(){return new o},r.prototype.isAddAll=function(){return!1},r.prototype.delete=function(t){return this.AddOrDeleteInternal(!1,t)},r.prototype.clear=function(){return 0===this.GetInternalSize()?this:new r},r.prototype.has=function(t){return this.get(t)!==this.NOT_A_KEY},r.prototype.values=function(){return this.Clone()};var o=function(){this.InitializeWithKeys(null)};t.Object.createSubclass(o,n,"ExpandAllKeySet"),t.ExpandAllKeySet=o,o.prototype.add=function(t){return this.AddOrDeleteInternal(!1,t)},o.prototype.addAll=function(){return 0===this.GetInternalSize()?this:new o},o.prototype.isAddAll=function(){return!0},o.prototype.delete=function(t){return this.AddOrDeleteInternal(!0,t)},o.prototype.clear=function(){return new r},o.prototype.has=function(t){return this.get(t)===this.NOT_A_KEY},o.prototype.deletedValues=function(){return this.Clone()};e=function(t){this.InitializeWithKeys(t)};t.Object.createSubclass(e,n,"KeySetImpl"),t.KeySetImpl=e,e.prototype.add=function(t){return this.AddOrDeleteInternal(!0,t)},e.prototype.addAll=function(){return new i},e.prototype.isAddAll=function(){return!1},e.prototype.delete=function(t){return this.AddOrDeleteInternal(!1,t)},e.prototype.clear=function(){return 0===this.GetInternalSize()?this:new e},e.prototype.has=function(t){return this.get(t)!==this.NOT_A_KEY},e.prototype.values=function(){return this.Clone()};var i=function(){this.InitializeWithKeys(null)};t.Object.createSubclass(i,n,"AllKeySetImpl"),t.AllKeySetImpl=i,i.prototype.add=function(t){return this.AddOrDeleteInternal(!1,t)},i.prototype.addAll=function(){return 0===this.GetInternalSize()?this:new i},i.prototype.isAddAll=function(){return!0},i.prototype.delete=function(t){return this.AddOrDeleteInternal(!0,t)},i.prototype.clear=function(){return new e},i.prototype.has=function(t){return this.get(t)===this.NOT_A_KEY},i.prototype.deletedValues=function(){return this.Clone()};var l={toArray:function(t){var e,n=t.isAddAll()?t.deletedValues():t.values();return Array.from?e=Array.from(n):(e=[],n.forEach(function(t){e.push(t)})),e.inverted=t.isAddAll(),e},toKeySet:function(t){return(t.inverted?new i:new e).add(t)}};return{KeySet:n,ExpandedKeySet:r,ExpandAllKeySet:o,KeySetImpl:e,AllKeySetImpl:i,KeySetUtils:l}});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojvalidation-base',["ojs/ojcore","jquery","ojs/ojtranslation","ojs/ojmessaging","ojs/ojlocaledata","ojs/ojlogger"],function(t,r,e,a,n,o){"use strict";t.OraI18nUtils={},t.OraI18nUtils.numeringSystems={latn:"0123456789",arab:"",thai:""},t.OraI18nUtils.regexTrim=/^\s+|\s+$|\u200f|\u200e/g,t.OraI18nUtils.regexTrimNumber=/\s+|\u200f|\u200e/g,t.OraI18nUtils.regexTrimRightZeros=/0+$/g,t.OraI18nUtils.zeros=["0","00","000"],t.OraI18nUtils._ISO_DATE_REGEXP=/^[+-]?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?)?$|^T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}(?::?\d{2})?)?$/,t.OraI18nUtils.getLocalTimeZoneOffset=function(){var r=(new Date).getTimezoneOffset();return t.OraI18nUtils.getTimeStringFromOffset("Etc/GMT",r,!1,!1)},t.OraI18nUtils.dateToLocalIso=function(r){var e=r;"number"==typeof e&&(e=new Date(e));var a=t.OraI18nUtils.padZeros(e.getFullYear(),4)+"-"+t.OraI18nUtils.padZeros(e.getMonth()+1,2)+"-"+t.OraI18nUtils.padZeros(e.getDate(),2)+"T"+t.OraI18nUtils.padZeros(e.getHours(),2)+":"+t.OraI18nUtils.padZeros(e.getMinutes(),2)+":"+t.OraI18nUtils.padZeros(e.getSeconds(),2);return e.getMilliseconds()>0&&(a+="."+t.OraI18nUtils.trimRightZeros(t.OraI18nUtils.padZeros(e.getMilliseconds(),3))),a},t.OraI18nUtils.partsToIsoString=function(r){var e=t.OraI18nUtils.padZeros(r[0],4)+"-"+t.OraI18nUtils.padZeros(r[1],2)+"-"+t.OraI18nUtils.padZeros(r[2],2)+"T"+t.OraI18nUtils.padZeros(r[3],2)+":"+t.OraI18nUtils.padZeros(r[4],2)+":"+t.OraI18nUtils.padZeros(r[5],2);return r[6]>0&&(e+="."+t.OraI18nUtils.trimRightZeros(t.OraI18nUtils.padZeros(r[6],3))),e},t.OraI18nUtils.isoToLocalDate=function(t){return t&&"string"==typeof t?this._isoToLocalDateIgnoreTimezone(t):null},t.OraI18nUtils._isoToLocalDateIgnoreTimezone=function(r){var e=t.OraI18nUtils._IsoStrParts(r);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5],e[6])},t.OraI18nUtils._IsoStrParts=function(r){!1===t.OraI18nUtils._ISO_DATE_REGEXP.test(r)&&t.OraI18nUtils._throwInvalidISOStringSyntax(r);var e,a=r.split("T"),n=r.indexOf("T"),o=new Date,i=!1,s=[o.getFullYear(),o.getMonth()+1,o.getDate(),0,0,0,0];if(""!==a[0]){t.OraI18nUtils.startsWith(a[0],"-")&&(a[0]=a[0].substr(1),i=!0);var l=a[0].split("-");for(e=0;e<l.length;e++){var u=parseInt(l[e],10);if(1===e&&(u<1||u>12)&&t.OraI18nUtils._throwInvalidISOStringRange(r,"month",u,1,12),2===e){var d=t.OraI18nUtils._getDaysInMonth(s[0],s[1]-1);(u<1||u>d)&&t.OraI18nUtils._throwInvalidISOStringRange(r,"day",u,1,d)}s[e]=u}i&&(s[0]=-s[0])}if(-1!==n){var c=a[1].split("."),g=c[0].split(":");for(e=0;e<g.length;e++){var p=parseInt(g[e],10);0===e&&(p<0||p>24)&&t.OraI18nUtils._throwInvalidISOStringRange(r,"hour",p,0,24),1===e&&(p<0||p>59)&&t.OraI18nUtils._throwInvalidISOStringRange(r,"minute",p,0,59),2===e&&(p<0||p>59)&&t.OraI18nUtils._throwInvalidISOStringRange(r,"second",p,0,59),s[3+e]=p}2===c.length&&c[1]&&(s[6]=parseInt(t.OraI18nUtils.zeroPad(c[1],3,!1),10))}return s},t.OraI18nUtils.getISOStrFormatInfo=function(r){var e={format:null,dateTime:null,timeZone:"",isoStrParts:null},a=t.OraI18nUtils._ISO_DATE_REGEXP.exec(r);if(null===a&&t.OraI18nUtils._throwInvalidISOStringSyntax(r),void 0===a[1]&&void 0===a[2])return e.format="local",e.dateTime=r,e.isoStrParts=t.OraI18nUtils._IsoStrParts(e.dateTime),e;e.timeZone=void 0!==a[1]?a[1]:a[2],"Z"===e.timeZone?e.format="zulu":e.format="offset";var n=r.length,o=e.timeZone.length;return e.dateTime=r.substring(0,n-o),e.isoStrParts=t.OraI18nUtils._IsoStrParts(e.dateTime),e},t.OraI18nUtils._isLeapYear=function(t){return t%400==0||t%100!=0&&t%4==0},t.OraI18nUtils._getDaysInMonth=function(r,e){switch(e){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return t.OraI18nUtils._isLeapYear(r)?29:28;default:return 30}},t.OraI18nUtils._throwInvalidISOStringRange=function(t,r,e,a,n){var o=new RangeError("The string "+t+" is not a valid ISO 8601 string: "+e+" is out of range.  Enter a value between "+a+" and "+n+" for "+r),i={errorCode:"isoStringOutOfRange",parameterMap:{isoString:t,value:e,minValue:a,maxValue:n,propertyName:r}};throw o.errorInfo=i,o},t.OraI18nUtils._throwInvalidISOStringSyntax=function(t){var r=new Error("The string "+t+" is not a valid ISO 8601 string syntax."),e={errorCode:"invalidISOString",parameterMap:{isoStr:t}};throw r.errorInfo=e,r},t.OraI18nUtils.trim=function(r){return(r+"").replace(t.OraI18nUtils.regexTrim,"")},t.OraI18nUtils.trimRightZeros=function(r){return(r+"").replace(t.OraI18nUtils.regexTrimRightZeros,"")},t.OraI18nUtils.trimNumber=function(r){return(r+"").replace(t.OraI18nUtils.regexTrimNumber,"")},t.OraI18nUtils.startsWith=function(t,r){return 0===t.indexOf(r)},t.OraI18nUtils.toUpper=function(t){return t.split("").join(" ").toUpperCase()},t.OraI18nUtils.padZeros=function(r,e){var a=r+"",n=!1;return r<0&&(a=a.substr(1),n=!0),e>1&&a.length<e&&(a=(a=t.OraI18nUtils.zeros[e-2]+a).substr(a.length-e,e)),n&&(a="-"+a),a},t.OraI18nUtils.zeroPad=function(t,r,e){for(var a=""+t,n=a.length;n<r;n+=1)a=e?"0"+a:a+"0";return a},t.OraI18nUtils.getTimeStringFromOffset=function(r,e,a,n){var o=a?e>=0:e<0,i=Math.abs(e),s=Math.floor(i/60),l=i%60,u=o?"-":"+";n&&(s=t.OraI18nUtils.zeroPad(s,2,!0));var d=r+u+s;return(l>0||n)&&(d+=":"+t.OraI18nUtils.zeroPad(l,2,!0)),d},t.OraI18nUtils.getNumberingSystemKey=function(r,e){if(void 0===e)return"latn";var a=t.OraI18nUtils.getNumberingExtension(e),n="symbols-numberSystem-"+a;return void 0===r.numbers[n]&&(a="latn"),a},t.OraI18nUtils.getBCP47Lang=function(t){return t.split("-")[0]},t.OraI18nUtils.getBCP47Region=function(t){var r=t.split("-");return 3===r.length?r[2]:2===r.length&&2===r[1].length?r[1]:"001"},t.OraI18nUtils.getNumberingExtension=function(t){var r=t||"en-US",e=r.indexOf("-u-nu-"),a="latn";return-1!==e&&(a=r.substr(e+6,4)),a},t.OraI18nUtils.haveSamePropertiesLength=function(t){return Object.keys(t).length},t.OraI18nUtils.getLocaleElementsMainNode=function(t){var r=t.main;return r[Object.keys(r)[0]]},t.OraI18nUtils.getLocaleElementsMainNodeKey=function(t){var r=t.main;return Object.keys(r)[0]},t.OraI18nUtils._toBoolean=function(t){if("string"==typeof t)switch(t.toLowerCase().trim()){case"true":case"1":return!0;case"false":case"0":return!1;default:return t}return t},t.OraI18nUtils.getGetOption=function(r,e){if(void 0===r)throw new Error("Internal "+e+" error. Default options missing.");return function(a,n,o,i){if(void 0!==r[a]){var s=r[a];switch(n){case"boolean":s=t.OraI18nUtils._toBoolean(s);break;case"string":s=String(s);break;case"number":s=Number(s);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==o&&-1===o.indexOf(s)){for(var l=[],u=0;u<o.length;u++)l.push(o[u]);var d="The value '"+r[a]+"' is out of range for '"+e+"' options property '"+a+"'. Valid values: "+l,c=new RangeError(d),g={errorCode:"optionOutOfRange",parameterMap:{propertyName:a,propertyValue:r[a],propertyValueValid:l,caller:e}};throw c.errorInfo=g,c}return s}return i}},t.OraI18nUtils.matchString=function(r,e,a,n){void 0===n&&(n={sensitivity:"base",usage:"sort"});var o=t.OraI18nUtils.getGetOption(n,"oj.OraI18nUtils.matchString");n.usage=o("usage","string",["sort","search"],"sort"),n.sensitivity=o("sensitivity","string",["base","accent","case","variant"],"base");for(var i=r.length,s=e.length-1,l=0;l<i;l++)for(var u=0;u<3;u++){var d=i-l;if(d=Math.min(d,s+u),0===r.substr(l,d).localeCompare(e,a,n))return[l,l+(d-1)]}return null};var i={fullYear:{pos:0,pad:4},month:{pos:1,pad:2},date:{pos:2,pad:2},hours:{pos:3,pad:2},minutes:{pos:4,pad:2},seconds:{pos:5,pad:2},milliseconds:{pos:6,pad:3},timeZone:{pos:7}};t.OraI18nUtils.isoToDate=function(t){return new Date(this._normalizeIsoString(t))},t.OraI18nUtils._copyTimeOver=function(t,r){if(!t||!r)throw new Error("Provided invalid arguments");var e=this._normalizeIsoString(r),a=t.indexOf("T"),n=e.indexOf("T");return e.substring(0,n)+(-1!==a?t.substring(a):"T00:00:00.000")},t.OraI18nUtils._clearTime=function(t){return this._dateTime(t,{hours:0,minutes:0,seconds:0,milliseconds:0})},t.OraI18nUtils._dateTime=function(t,e,a){if(!t||!e)throw new Error("Invalid argument invocation");var n,o,s=null,l=i,u=this.padZeros,d=this._normalizeIsoString(t),c=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):?(\d{2})?\.?(\d{3})?(.*)?/.exec(d);if(!c)throw new Error("Unable to capture anything");if(c=c.slice(1),Array.isArray(e)){s={};for(var g=0,p=e.length;g<p;g++){var h=e[g];if(h in l){if(o=c[n=l[h].pos],a&&"timeZone"===h)throw new Error("Dude you tried to ask timezone to be parsed");if(a){var f=parseInt(o,10);s[h]=1===n?f-1:f}else s[h]=o}}}else if(r.isPlainObject(e)){for(var m=Object.keys(e),v=0;v<m.length;v++){var _=m[v],I=l[_];n=I.pos,o=e[_],1===n&&"number"==typeof o&&(o+=1),c[n]=I.pad?u(o,I.pad):o}s=c[0]+"-"+c[1]+"-"+c[2]+"T"+c[3]+":"+c[4]+":"+c[5]+(c.length>6&&c[6]?"."+c[6]+(8===c.length&&c[7]?c[7]:""):"")}return s},t.OraI18nUtils._normalizeIsoString=function(t){if(!t)throw new Error("Provided invalid arguments");var r,e=(new Date).toISOString(),a=e.substring(0,e.indexOf("T")),n=t.indexOf("T"),o=-1===n?t:t.substring(0,n);return(o=o||a)+(-1!==n?(r=t.substring(n)).split(":").length>1?r:r+":00":"T00:00:00.000")},t.OraI18nUtils.formatString=function(t,r){for(var e=r.length,a=t,n=0;n<e;n++){var o="{"+n+"}";a=a.replace(o,r[n])}return a},t.OraI18nUtils.getInitials=function(t,r){var e,a=0,n=0;if(void 0!==t&&t.length>0&&(a=t.charCodeAt(0)),a>=1536&&a<=1791)return"";if(a>=2304&&a<=2431)return t.charAt(0);if(a>=3584&&a<=3711)return t.charAt(0);if(a>=4352&&a<=4607||a>=12592&&a<=12687||a>=43360&&a<=43391||a>=44032&&a<=55295)return t;if(void 0!==r&&r.length>0&&(a=r.charCodeAt(0)),a>=11904&&a<=12255||a>=12288&&a<=12591||a>=12688&&a<=12799||a>=13056&&a<=19903||a>=19968&&a<=40959||a>=63744&&a<=64255)return r;if(a>=55296&&a<=56319){if(r.length<2)return"";if((n=r.charCodeAt(1))<56320||n>57343)return"";if((e=1024*(a-55296)+(n-56320)+65536)>=110592&&e<=110847||e>=127488&&e<=127743||e>=131072&&e<=173791||e>=173824&&e<=177983||e>=177984&&e<=178207||e>=178208&&e<=183983||e>=194560&&e<=195103)return r}return a="",n="",void 0!==t&&t.length>0&&(a=t.charAt(0).toUpperCase()),void 0!==r&&r.length>0&&(n=r.charAt(0).toUpperCase()),a+n},t.Validation={},t.Validation._converterFactories={},t.Validation._validatorFactories={},t.Validation._defaultConverterFactories={},t.Validation._defaultValidatorFactories={},t.Validation._CONTRACTS={converter:{name:"oj.ConverterFactory",type:t.ConverterFactory},validator:{name:"oj.ValidatorFactory",type:t.ValidatorFactory}},t.Validation.converterFactory=function(r,e){var a;return r&&!e?a=t.Validation._getFactory(r,t.Validation._converterFactories):r&&e&&(a=t.Validation._registerFactory(r,e,t.Validation._converterFactories,t.Validation._CONTRACTS.converter)),a},t.Validation.validatorFactory=function(r,e){var a;return r&&!e?a=t.Validation._getFactory(r,t.Validation._validatorFactories):r&&e&&(a=t.Validation._registerFactory(r,e,t.Validation._validatorFactories,t.Validation._CONTRACTS.validator)),a},t.Validation.getDefaultConverterFactory=function(r){return t.Validation._getFactory(r,t.Validation._defaultConverterFactories)},t.Validation.getDefaultValidatorFactory=function(r){return t.Validation._getFactory(r,t.Validation._defaultValidatorFactories)},t.Validation.__registerDefaultConverterFactory=function(r,e){var a=t.Validation._CONTRACTS.converter;t.Validation._registerFactory(r,e,t.Validation._defaultConverterFactories,a),t.Validation._registerFactory(r,e,t.Validation._converterFactories,a)},t.Validation.__registerDefaultValidatorFactory=function(r,e){var a=t.Validation._CONTRACTS.validator;t.Validation._registerFactory(r,e,t.Validation._defaultValidatorFactories,a),t.Validation._registerFactory(r,e,t.Validation._validatorFactories,a)},t.Validation._doImplementsCheck=function(r,e,a){if(e&&!t.Validation._quacksLike(r,e))throw new Error("Factory instance does not implement the methods expected by the factory of type "+a)},t.Validation._getFactory=function(r,e){t.Assert.assertString(r);return(e[r.toLowerCase()]||{}).instance||null},t.Validation._quacksLike=function(r,e){var a=!0;t.Assert.assertObject(r),t.Assert.assertObject(e);for(var n=Object.keys(e),o=0;o<n.length;o++){var i=n[o];if("function"==typeof e[i]&&(!r[i]||"function"!=typeof r[i])){a=!1;break}}return a},t.Validation._registerFactory=function(r,e,a,n){t.Assert.assertString(r),t.Assert.assertObject(e);var o={};o.instance=e,t.Validation._doImplementsCheck(e,n.type,n.name),a[r.toLowerCase()]=o},t.ConverterFactory={CONVERTER_TYPE_NUMBER:"number",CONVERTER_TYPE_DATETIME:"datetime",CONVERTER_TYPE_COLOR:"color",createConverter:function(t){}},t.ValidatorFactory={VALIDATOR_TYPE_REQUIRED:"required",VALIDATOR_TYPE_REGEXP:"regexp",VALIDATOR_TYPE_NUMBERRANGE:"numberRange",VALIDATOR_TYPE_LENGTH:"length",VALIDATOR_TYPE_DATETIMERANGE:"dateTimeRange",VALIDATOR_TYPE_DATERESTRICTION:"dateRestriction",createValidator:function(t){}},t.Converter=function(t){this.Init(t)},t.Object.createSubclass(t.Converter,t.Object,"oj.Converter"),t.Converter.prototype.Init=function(r){t.Converter.superclass.Init.call(this),this._options=r},t.Converter.prototype.getOptions=function(){return this._options||{}},t.Converter.prototype.resolvedOptions=function(){var t={};return r.extend(t,this._options),t},t.ConverterError=function(t,r){var e={summary:t,detail:r,severity:a.SEVERITY_LEVEL.ERROR};this.Init(e)},t.ConverterError.prototype=new Error,t.ConverterError.prototype.Init=function(t){var r=t.detail,e=t.summary;this._message=t,this.name="Converter Error",this.message=r||e},t.ConverterError.prototype.getMessage=function(){return this._message},t.Validator=function(t){this.Init(t)},t.Object.createSubclass(t.Validator,t.Object,"oj.Validator"),t.Validator.prototype.Init=function(r){t.Validator.superclass.Init.call(this)},t.ValidatorError=function(t,r){var e={summary:t,detail:r,severity:a.SEVERITY_LEVEL.ERROR};this.Init(e)},t.ValidatorError.prototype=new Error,t.ValidatorError.prototype.Init=function(t){var r=t.detail,e=t.summary;this._message=t,this.name="Validator Error",this.message=r||e},t.ValidatorError.prototype.getMessage=function(){return this._message},t.RegExpValidator=function(t){this.Init(t)},t.Object.createSubclass(t.RegExpValidator,t.Validator,"oj.RegExpValidator"),t.RegExpValidator._BUNDLE_KEY_DETAIL="oj-validator.regExp.detail",t.RegExpValidator._BUNDLE_KEY_SUMMARY="oj-validator.regExp.summary",t.RegExpValidator.prototype.Init=function(r){t.RegExpValidator.superclass.Init.call(this),this._options=r},t.RegExpValidator.prototype.validate=function(r){var a,n,o,i=this._options&&this._options.pattern||"";if(null==r||""===r)return!0;var s=r.toString(),l="^("+i+")$",u=s.match(l);if(null===u||u[0]!==s){this._options&&(o=this._options.messageSummary||null,a=this._options.messageDetail||null,n=this._options&&this._options.label||"");var d={label:n,pattern:i,value:s},c=o?e.applyParameters(o,d):e.getTranslatedString(this._getSummaryKey(),d),g=a?e.applyParameters(a,d):e.getTranslatedString(this._getDetailKey(),d);throw new t.ValidatorError(c,g)}return!0},t.RegExpValidator.prototype.getHint=function(){var t=null,r={};return this._options&&this._options.hint&&(r={pattern:this._options.pattern},t=e.applyParameters(this._options.hint,r)),t},t.RegExpValidator.prototype._getSummaryKey=function(){return t.RegExpValidator._BUNDLE_KEY_SUMMARY},t.RegExpValidator.prototype._getDetailKey=function(){return t.RegExpValidator._BUNDLE_KEY_DETAIL},t.RequiredValidator=function(t){this.Init(t)},t.Object.createSubclass(t.RequiredValidator,t.Validator,"oj.RequiredValidator"),t.RequiredValidator._BUNDLE_KEY_DETAIL="oj-validator.required.detail",t.RequiredValidator._BUNDLE_KEY_SUMMARY="oj-validator.required.summary",t.RequiredValidator.prototype.Init=function(r){t.RequiredValidator.superclass.Init.call(this),this._options=r},t.RequiredValidator.prototype.validate=function(r){var a,n,o,i,s,l="";if("number"==typeof r&&0===r||r&&0!==r.length)return!0;throw this._options&&(a=this._options.messageDetail||this._options.message||null,i=this._options.messageSummary||null,l=this._options.label||""),s={label:l},o=i?e.applyParameters(i,s):e.getTranslatedString(this._getSummaryKey(),s),n=a?e.applyParameters(a,s):e.getTranslatedString(this._getDetailKey(),s),new t.ValidatorError(o,n)},t.RequiredValidator.prototype.getHint=function(){var t="";return this._options&&this._options.hint&&(t=e.getTranslatedString(this._options.hint)),t},t.RequiredValidator.prototype._getSummaryKey=function(){return t.RequiredValidator._BUNDLE_KEY_SUMMARY},t.RequiredValidator.prototype._getDetailKey=function(){return t.RequiredValidator._BUNDLE_KEY_DETAIL},function(){function r(t,r){return"#"+function(t,r){return function(t,r,e,a){var o=[n(Math.round(t).toString(16)),n(Math.round(r).toString(16)),n(Math.round(e).toString(16))];if(a&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0);return o.join("")}(t._r,t._g,t._b,r)}(t,r)}function a(t,r){(function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var e=function(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=Math.min(r,Math.max(0,parseFloat(t))),e&&(t=parseInt(t*r,10)/100),Math.abs(t-r)<1e-6?1:t%r/parseFloat(r)}function n(t){return 1===t.length?"0"+t:""+t}t.ColorConverter=function(t){this.Init(t)},t.Object.createSubclass(t.ColorConverter,t.Converter,"oj.ColorConverter"),t.ColorConverter.prototype.Init=function(r){(r=r||{}).format=r.format||"rgb",t.ColorConverter.superclass.Init.call(this,r)},t.ColorConverter.prototype.format=function(n){var o=this._getFormat(),i=null;return"rgb"===o?i=n.toString():"hsl"===o?i=function(t){var r=function(t,r,e){t=a(t,255),r=a(r,255),e=a(e,255);var n,o,i=Math.max(t,r,e),s=Math.min(t,r,e),l=(i+s)/2;if(i===s)n=0,o=0;else{var u=i-s;switch(o=l>.5?u/(2-i-s):u/(i+s),i){case t:n=(r-e)/u+(r<e?6:0);break;case r:n=(e-t)/u+2;break;case e:n=(t-r)/u+4}n/=6}return{h:n,s:o,l:l}}(t._r,t._g,t._b),e=Math.round(360*r.h),n=Math.round(100*r.s),o=Math.round(100*r.l);return 1===t._a?"hsl("+e+", "+n+"%, "+o+"%)":"hsla("+e+", "+n+"%, "+o+"%, "+t._a+")"}(n):"hex"===o?i=r(n):"hex3"===o?i=r(n,!0):"hsv"===o?i=function(t){var r=function(t,r,e){t=a(t,255),r=a(r,255),e=a(e,255);var n,o=Math.max(t,r,e),i=Math.min(t,r,e),s=o,l=o-i,u=0===o?0:l/o;if(o===i)n=0;else{switch(o){case t:n=(r-e)/l+(r<e?6:0);break;case r:n=(e-t)/l+2;break;case e:n=(t-r)/l+4}n/=6}return{h:n,s:u,v:s}}(t._r,t._g,t._b),e=Math.round(360*r.h),n=Math.round(100*r.s),o=Math.round(100*r.v);return 1===t._a?"hsv("+e+", "+n+"%, "+o+"%)":"hsva("+e+", "+n+"%, "+o+"%, "+t._a+")"}(n):function(){var r=e.getTranslatedString("oj-converter.color.invalidFormat.summary"),a=e.getTranslatedString("oj-converter.color.invalidFormat.detail");throw new t.ConverterError(r,a)}(),i||t.ColorConverter.superclass.format.call(this,n)},t.ColorConverter.prototype.parse=function(r){try{return new t.Color(r)}catch(r){throw function(){var r=e.getTranslatedString("oj-converter.color.invalidSyntax.summary"),a=e.getTranslatedString("oj-converter.color.invalidSyntax.detail");throw new t.ConverterError(r,a)}()}},t.ColorConverter.prototype.getHint=function(){return this._getFormat()},t.ColorConverter.prototype.resolvedOptions=function(){return{format:this._getFormat()}},t.ColorConverter.prototype._getFormat=function(){return t.ColorConverter.superclass.getOptions.call(this).format}}(),t.IntlConverterUtils={},t.IntlConverterUtils.isoToDate=function(r){return t.OraI18nUtils.isoToDate(r)},t.IntlConverterUtils.isoToLocalDate=function(r){return t.OraI18nUtils.isoToLocalDate(r)},t.IntlConverterUtils.dateToLocalIso=function(r){return t.OraI18nUtils.dateToLocalIso(r)},t.IntlConverterUtils.getLocalTimeZoneOffset=function(){return t.OraI18nUtils.getLocalTimeZoneOffset()},t.IntlConverterUtils.getConverterInstance=function(r){var e="",a={},n=null;if(r&&("object"==typeof r&&(r instanceof t.Converter||r.parse&&"function"==typeof r.parse||r.format&&"function"==typeof r.format?n=r:(e=r.type,a=r.options||{})),!n&&(e=e||r)&&"string"==typeof e)){var i=t.Validation.converterFactory(e);return null===i&&o.error("Converter of type "+e+" cannot be found. Make sure the correct converter/validation module is included."),i.createConverter(a)}return n},t.IntlConverterUtils._minMaxIsoString=function(t,r){if(t){var e=(r=r||this.dateToLocalIso(new Date)).indexOf("T");0===t.indexOf("T")&&e>0&&(t=r.substring(0,e)+t)}return t},t.IntlConverterUtils.__getConverterOptionError=function(r,a){t.Assert.assertObject(a);var n,o="",i="",s=a.propertyName;if("optionTypesMismatch"===r){var l=a.requiredPropertyName;n=a.requiredPropertyValueValid,o=e.getTranslatedString("oj-converter.optionTypesMismatch.summary",{propertyName:s,propertyValue:a.propertyValue,requiredPropertyName:l}),i=t.IntlConverterUtils._getOptionValueDetailMessage(l,n)}else"optionTypeInvalid"===r?(s=a.propertyName,n=a.propertyValueValid,o=e.getTranslatedString("oj-converter.optionTypeInvalid.summary",{propertyName:s}),i=t.IntlConverterUtils._getOptionValueDetailMessage(s,n)):"optionOutOfRange"===r?(o=e.getTranslatedString("oj-converter.optionOutOfRange.summary",{propertyName:s,propertyValue:a.propertyValue}),n=a.propertyValueValid,i=t.IntlConverterUtils._getOptionValueDetailMessage(s,n)):"optionValueInvalid"===r&&(o=e.getTranslatedString("oj-converter.optionValueInvalid.summary",{propertyName:s,propertyValue:a.propertyValue}),n=a.propertyValueHint,i=t.IntlConverterUtils._getOptionValueDetailMessage(s,n));return new t.ConverterError(o,i)},t.IntlConverterUtils._getOptionValueDetailMessage=function(t,r){var a;return r?("string"==typeof r?a="oj-converter.optionHint.detail":(a="oj-converter.optionHint.detail-plural",r=r.join(e.getTranslatedString("oj-converter.plural-separator"))),e.getTranslatedString(a,{propertyName:t,propertyValueValid:r})):""},t.IntlConverterUtils.__getNullFormattedValue=function(){return""},t.IntlConverterUtils._copyTimeOver=function(r,e){return t.OraI18nUtils._copyTimeOver(r,e)},t.IntlConverterUtils._clearTime=function(r){return t.OraI18nUtils._clearTime(r)},t.IntlConverterUtils._dateTime=function(r,e,a){return t.OraI18nUtils._dateTime(r,e,a)},t.IntlConverterUtils._normalizeIsoString=function(r){return t.OraI18nUtils._normalizeIsoString(r)},t.IntlConverterUtils.getInitials=function(r,e){return t.OraI18nUtils.getInitials(r,e)},t.LengthValidator=function(t){this.Init(t)},t.LengthValidator.defaults={countBy:"codeUnit"},t.Object.createSubclass(t.LengthValidator,t.Validator,"oj.LengthValidator"),t.LengthValidator.prototype.Init=function(r){var e=r.countBy;if(t.LengthValidator.superclass.Init.call(this),this._min=void 0!==r.min?parseInt(r.min,10):null,this._max=void 0!==r.max?parseInt(r.max,10):null,isNaN(this._min))throw new Error("length validator's min option is not a number. min option is "+r.min);if(isNaN(this._max))throw new Error("length validator's max option is not a number. max option is "+r.min);if(null!==this._min&&this._min<0)throw new Error("length validator's min option cannot be less than 0. min option is "+r.min);if(null!==this._max&&this._max<1)throw new Error("length validator's max option cannot be less than 1. max option is "+r.max);this._countBy=void 0===e?t.LengthValidator.defaults.countBy:e,r&&(this._hint=r.hint||{},this._customMessageSummary=r.messageSummary||{},this._customMessageDetail=r.messageDetail||{})},t.LengthValidator.prototype.getHint=function(){var t,r=null,a=this._hint,n=a.exact,o=a.inRange,i=a.max,s=a.min,l=this._max,u=this._min,d=e;return null!==u&&null!==l?u!==l?(t={min:u,max:l},r=o?d.applyParameters(o,t):d.getTranslatedString("oj-validator.length.hint.inRange",t)):(t={length:u},r=n?d.applyParameters(n,t):d.getTranslatedString("oj-validator.length.hint.exact",t)):null!==u?(t={min:u},r=s?d.applyParameters(s,t):d.getTranslatedString("oj-validator.length.hint.min",t)):null!==l&&(t={max:l},r=i?d.applyParameters(i,t):d.getTranslatedString("oj-validator.length.hint.max",t)),r},t.LengthValidator.prototype.validate=function(r){var a,n=this._customMessageDetail,o=this._customMessageSummary,i="",s=this._max,l=o.tooLong,u=o.tooShort,d=n.tooLong,c=n.tooShort,g=this._min,p="",h=e,f=""+r,m=this._getLength(f);if((null===g||m>=this._min)&&(null===s||m<=this._max))return f;throw m<this._min?(a={value:r,min:g},p=u?h.applyParameters(u,a):h.getTranslatedString("oj-validator.length.messageSummary.tooShort"),i=c?h.applyParameters(c,a):h.getTranslatedString("oj-validator.length.messageDetail.tooShort",a)):(a={value:r,max:s},p=l?h.applyParameters(l,a):h.getTranslatedString("oj-validator.length.messageSummary.tooLong"),i=d?h.applyParameters(d,a):h.getTranslatedString("oj-validator.length.messageDetail.tooLong",a)),new t.ValidatorError(p,i)},t.LengthValidator.prototype._getLength=function(r){var e,a=this._countBy.toLowerCase(),n=r.length,o=0;switch(a){case"codepoint":for(var i=0;i<n;i++)55296==(63488&r.charCodeAt(i))&&(o+=1);t.Assert.assert(o%2==0,"the number of surrogate chars must be an even number."),e=n-o/2;break;case"codeunit":default:e=n}return e},t.ColorConverterFactory=function(){return{createConverter:function(r){return function(r){return new t.ColorConverter(r)}(r)}}}(),t.Validation.__registerDefaultConverterFactory(t.ConverterFactory.CONVERTER_TYPE_COLOR,t.ColorConverterFactory),t.RequiredValidatorFactory=function(){return{createValidator:function(r){return function(r){return new t.RequiredValidator(r)}(r)}}}(),t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_REQUIRED,t.RequiredValidatorFactory),t.RegExpValidatorFactory=function(){return{createValidator:function(r){return function(r){return new t.RegExpValidator(r)}(r)}}}(),t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_REGEXP,t.RegExpValidatorFactory),t.LengthValidatorFactory=function(){return{createValidator:function(r){return function(r){return new t.LengthValidator(r)}(r)}}}(),t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_LENGTH,t.LengthValidatorFactory),t.LocaleData=n;var s={};return s.ColorConverter=t.ColorConverter,s.IntlConverterUtils=t.IntlConverterUtils,s.LengthValidator=t.LengthValidator,s.RegExpValidator=t.RegExpValidator,s.RequiredValidator=t.RequiredValidator,s.Validation=t.Validation,s});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojvalidation-number',["ojs/ojcore","jquery","ojs/ojconfig","ojs/ojtranslation","ojL10n!ojtranslations/nls/localeElements","ojs/ojlocaledata","ojs/ojvalidation-base","ojs/ojlogger"],function(e,r,t,n,i,a,o,s){"use strict";e.NumberConverter=function(){this.Init()},e.Object.createSubclass(e.NumberConverter,e.Converter,"oj.NumberConverter"),e.NumberConverter.prototype.Init=function(r){e.NumberConverter.superclass.Init.call(this,r)},e.NumberConverter.prototype.format=function(r){return e.NumberConverter.superclass.format.call(this,r)},e.NumberConverter.prototype.parse=function(r){return e.NumberConverter.superclass.parse.call(this,r)},e.NumberRangeValidator=function(e){this.Init(e)},e.Object.createSubclass(e.NumberRangeValidator,e.Validator,"oj.NumberRangeValidator"),e.NumberRangeValidator.prototype.Init=function(r){e.NumberRangeValidator.superclass.Init.call(this),r&&(this._min=r.min,this._max=r.max,this._converter=o.IntlConverterUtils.getConverterInstance(r.converter),this._hint=r.hint||{},this._customMessageSummary=r.messageSummary||{},this._customMessageDetail=r.messageDetail||{})},e.NumberRangeValidator.prototype.validate=function(r){var t=r?r.toString():r,i=parseFloat(t),a=this._customMessageSummary,o=this._customMessageDetail,s=o.rangeOverflow,u=o.rangeUnderflow,l=o.exact,m=a.rangeOverflow,c=a.rangeUnderflow,g=void 0!==this._min?parseFloat(this._min):null,p=void 0!==this._max?parseFloat(this._max):null,v=g&&this._converter?this._converter.format(g):g,d=p&&this._converter?this._converter.format(p):p,f="",y="",h=null,b=n;if(null===r)return r;if(null!==g&&null!==p){if(i>=g&&i<=p||g>p)return t}else if(null!==g){if(i>=g)return t}else if(null===p||i<=p)return t;throw null!==p&&null!==g&&g===p?(h={value:r,num:d},y=l?b.applyParameters(l,h):b.getTranslatedString("oj-validator.range.number.messageDetail.exact",h),i>p?f=m||b.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"):i<g&&(f=m?c:b.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"))):null!==p&&i>p?(h={value:r,max:d},f=m||b.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"),y=s?b.applyParameters(s,h):b.getTranslatedString("oj-validator.range.number.messageDetail.rangeOverflow",h)):(h={value:r,min:v},f=c||b.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"),y=u?b.applyParameters(u,h):b.getTranslatedString("oj-validator.range.number.messageDetail.rangeUnderflow",h)),new e.ValidatorError(f,y)},e.NumberRangeValidator.prototype.getHint=function(){var e=null,r=this._hint,t=r.inRange,i=r.exact,a=r.min,o=r.max,s=n,u=void 0!==this._min?parseFloat(this._min):null,l=void 0!==this._max?parseFloat(this._max):null,m=u&&this._converter?this._converter.format(u):u,c=l&&this._converter?this._converter.format(l):l;return null!==u&&null!==l?e=u!==l?t?s.applyParameters(t,{min:m,max:c}):s.getTranslatedString("oj-validator.range.number.hint.inRange",{min:m,max:c}):i?s.applyParameters(i,{num:m}):s.getTranslatedString("oj-validator.range.number.hint.exact",{num:m}):null!==u?e=a?s.applyParameters(a,{min:m}):s.getTranslatedString("oj-validator.range.number.hint.min",{min:m}):null!==l&&(e=o?s.applyParameters(o,{max:c}):s.getTranslatedString("oj-validator.range.number.hint.max",{max:c})),e},e.NumberConverterFactory=function(){return{createConverter:function(r){return function(r){return new e.IntlNumberConverter(r)}(r)}}}(),o.Validation.__registerDefaultConverterFactory(e.ConverterFactory.CONVERTER_TYPE_NUMBER,e.NumberConverterFactory),e.NumberRangeValidatorFactory=function(){return{createValidator:function(r){return function(r){return new e.NumberRangeValidator(r)}(r)}}}(),o.Validation.__registerDefaultValidatorFactory(e.ValidatorFactory.VALIDATOR_TYPE_NUMBERRANGE,e.NumberRangeValidatorFactory);var u={};u.NumberConverter=e.NumberConverter,u.NumberRangeValidator=e.NumberRangeValidator,u.IntlNumberConverter=e.IntlNumberConverter,e.IntlNumberConverter=function(e){this.Init(e)},e.Object.createSubclass(e.IntlNumberConverter,e.NumberConverter,"oj.IntlNumberConverter"),e.IntlNumberConverter.prototype.Init=function(r){e.IntlNumberConverter.superclass.Init.call(this,r)},e.IntlNumberConverter.prototype._getWrapped=function(){return this._wrapped||(this._wrapped=l.getInstance()),this._wrapped},e.IntlNumberConverter.prototype.format=function(r){if(null==r||"string"==typeof r&&0===e.StringUtils.trim(""+r).length||"number"==typeof r&&isNaN(r))return o.IntlConverterUtils.__getNullFormattedValue();var n=t.getLocale(),i=a.__getBundle(),s=this.resolvedOptions();try{return this._getWrapped().format(r,i,s,n)}catch(e){throw this._processConverterError(e,r)}},e.IntlNumberConverter.prototype.getHint=function(){return null},e.IntlNumberConverter.prototype.getOptions=function(){return e.IntlNumberConverter.superclass.getOptions.call(this)},e.IntlNumberConverter.prototype.parse=function(r){var n,i,o;if(null==r||""===r)return null;n=t.getLocale(),i=a.__getBundle(),o=this.resolvedOptions();try{return this._getWrapped().parse(e.StringUtils.trim(r),i,o,n)}catch(e){throw this._processConverterError(e,r)}},e.IntlNumberConverter.prototype.resolvedOptions=function(){var r,n=t.getLocale();if(n!==this._locale||!this._resolvedOptions){r=e.LocaleData.__getBundle();try{if(!r)return s.error("locale bundle for the current locale %s is unavailable",n),{};this._resolvedOptions=this._getWrapped().resolvedOptions(r,this.getOptions(),n),this._locale=n}catch(e){throw this._processConverterError(e)}}return this._resolvedOptions},e.IntlNumberConverter.prototype._processConverterError=function(r,t){var i,a,s,u,l=r.errorInfo;if(l){var m=l.errorCode,c=l.parameterMap;switch(e.Assert.assertObject(c),m){case"optionTypesMismatch":case"optionTypeInvalid":case"optionOutOfRange":case"optionValueInvalid":i=o.IntlConverterUtils.__getConverterOptionError(m,c);break;case"decimalFormatMismatch":s="oj-converter.number.decimalFormatMismatch.summary";break;case"currencyFormatMismatch":s="oj-converter.number.currencyFormatMismatch.summary";break;case"percentFormatMismatch":s="oj-converter.number.percentFormatMismatch.summary";break;case"unsupportedParseFormat":u=n.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.summary"),a=n.getTranslatedString("oj-converter.number.shortLongUnsupportedParse.detail"),i=new e.ConverterError(u,a)}s&&(u=n.getTranslatedString(s,{value:t||c.value,format:c.format}),a=n.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),i=new e.ConverterError(u,a))}return i||(u=r.message,a=r.message,i=new e.ConverterError(u,a)),i},e.IntlNumberConverter.prototype._getHintValue=function(){var r="";try{r=this.format(12345.98765)}catch(t){t instanceof e.ConverterError&&(r="",s.error("error retrieving hint value in format"))}return r};var l=function(){var r,t=/^[+-]?infinity$/i,n=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,i=/([^+-.0-9]*)([+-]?\d*\.?\d*(E[+-]?\d+)?).*$/,a=/([\^$.*+?|\[\](){}])/g,o=/(^0\.0*)([^0].*$)/,u=/^0+$/,l={trillion:[1e14,1e13,1e12],billion:[1e11,1e10,1e9],million:[1e8,1e7,1e6],thousand:[1e5,1e4,1e3]},m={trillion:1e12,billion:1e9,million:1e6,thousand:1e3},c={HALF_UP:"ceil",HALF_DOWN:"floor",DEFAULT:"round"},g=1024,p=1048576,v=1073741824,d=1099511627776;function f(e,r,t){var n;for(n=e.length;n<r;n+=1)e=t?"0"+e:e+"0";return e}function y(e,r,t,n,i){var a=e[r];return void 0!==a?(a=Number(a),(isNaN(a)||a<t||a>n)&&function(e,r,t,n){var i=new RangeError(e+" is out of range.  Enter a value between "+r+" and "+t+" for "+n),a={errorCode:"numberOptionOutOfRange",parameterMap:{value:e,minValue:r,maxValue:t,propertyName:n}};throw i.errorInfo=a,i}(a,t,n,r),Math.floor(a)):i}function h(e){var r=e||"en-US",t=r.indexOf("-u-nu-"),n="latn";return-1!==t&&(n=r.substr(t+6,4)),n}function b(r,t,n,i){var a,o=t,u=e.OraI18nUtils.getLocaleElementsMainNode(r),l=function(e,r){if(void 0===r)return"latn";var t=h(r),n="symbols-numberSystem-"+t;return void 0===e.numbers[n]&&(t="latn"),t}(u,i);o.numberingSystemKey=l,o.numberingSystem="symbols-numberSystem-"+l;var m=n.lenientParse;if(o.lenientParse=m||"full",o.style=n.style,void 0!==n.pattern&&n.pattern.length>0)a=n.pattern;else{var c;switch(o.style){case"decimal":c="decimalFormats-numberSystem-";break;case"currency":c="currencyFormats-numberSystem-";break;case"percent":c="percentFormats-numberSystem-";break;default:c="decimalFormats-numberSystem-"}c+=o.numberingSystemKey,a=u.numbers[c].standard;var g=n.decimalFormat;void 0===g&&(g=n.currencyFormat),void 0===g||"decimal"!==o.style&&"currency"!==o.style||(o.shortDecimalFormat=u.numbers["decimalFormats-numberSystem-latn"][g].decimalFormat)}var p=u.numbers[o.numberingSystem].decimal,v=u.numbers[o.numberingSystem].group,d=n.separators;if(void 0!==d){o.separators=d;var f=d.decimal,b=d.group;void 0!==f&&""!==f&&(p=d.decimal),void 0!==b&&(v=d.group)}var F=e.OraI18nUtils.getLocaleElementsMainNodeKey(r),x=F.split("-")[0];if(o.plurals=r.supplemental.plurals,o.lang=x,o.pat=a,o.minusSign=u.numbers[o.numberingSystem].minusSign,o.decimalSeparator=p,o.exponential=u.numbers[o.numberingSystem].exponential,o.groupingSeparator=v,o.currencyDisplay=n.currencyDisplay,void 0!==n.currency&&(o.currencyCode=n.currency.toUpperCase()),void 0!==n.unit&&(o.unit=n.unit.toLowerCase()),function(e,r,t,n){for(var i,a=n,o=!1,s=!1,u=0,l=0,m=!0,c=1;c>=0&&l<r.length;--c){var g=!1,p="",v="",d=-1,f=1,y=0,h=0,b=0,F=-1,x=-1,I=0;m=!0;for(var D=l;D<r.length;++D){var N=r.charAt(D);switch(I){case 0:case 2:if(g){if(N===H){D+1<r.length&&r.charAt(D+1)===H?(D+=1,m?p=p.concat("''"):v=v.concat("''")):g=!1;continue}}else{if(N===A||N===j||N===P||N===V){I=1,D-=1;continue}if(N===G){void 0===e.currency&&S("style"),a.style="currency";var O=D+1<r.length&&r.charAt(D+1)===G;O&&(D+=1),m?p=p.concat(O?"'":"'"):v=v.concat(O?"'":"'");continue}if(N===H){if(N===H){D+1<r.length&&r.charAt(D+1)===H?(D+=1,m?p=p.concat("''"):v=v.concat("''")):g=!0;continue}}else{if(N===L){0!==I&&0!==c||q(r),l=D+1,D=r.length;continue}if(N===R){a.style="percent",1!==f&&q(r),a.isPercent=!0,f=100,m?p=p.concat("'%"):v=v.concat("'%");continue}if(N===T){1!==f&&q(r),a.style="perMill",a.isPerMill=!0,f=1e3,m?p=p.concat("'"):v=v.concat("'");continue}if(N===k){m?p=p.concat("'-"):v=v.concat("'-");continue}}}m?p=p.concat(N):v=v.concat(N);break;case 1:if(1!==c){0===(u-=1)&&(I=2,m=!1);continue}if(u+=1,N===A)h>0?b+=1:y+=1,F>=0&&d<0&&(F+=1);else if(N===j)b>0&&q(r),h+=1,F>=0&&d<0&&(F+=1);else if(N===P)x=F,F=0;else{if(N!==V){if(Y=D,J=$,void 0,void 0,Q=r.substr(Y,J.length),null!==new RegExp(J,"i").exec(Q)){for(s&&q(r),s=!0,i=0,D+=$.length;D<r.length&&r.charAt(D)===j;)i+=1,u+=1,D+=1;(y+h<1||i<1)&&q(r),I=2,m=!1,D-=1;continue}I=2,m=!1,D-=1,u-=1;continue}d>=0&&q(r),d=y+h+b}}}if(0===h&&y>0&&d>=0){var _=d;0===_&&(_+=1),b=y-_,y=_-1,h=1}if((d<0&&b>0||d>=0&&(d<y||d>y+h)||0===F||g)&&q(r),1===c){E=w=p,M=U=v;var C=y+h+b,z=d>=0?d:C;a.minimumIntegerDigits=z-y,a.maximumIntegerDigits=s?y+a.minimumIntegerDigits:W,a.maximumFractionDigits=d>=0?C-d:0,a.minimumFractionDigits=d>=0?y+h-d:0,a.groupingSize=F>0?F:0,a.groupingSize0=x}else E=p,M=v,o=!0}var Y,J,Q;0===r.length&&(w="",U="",a.minimumIntegerDigits=0,a.maximumIntegerDigits=W,a.minimumFractionDigits=0,a.maximumFractionDigits=K);a.useExponentialNotation=s,a.minExponentDigits=i,(!o||0===E.localeCompare(w)&&0===M.localeCompare(U))&&("currency"===a.style&&"ar"===a.lang?(M=U+"'-",E=w):(M=U,E="'-"+w));!function(e,r){var t=r,n={};null!==w&&(t.positivePrefix=B(w,e,t,n));null!==U&&(t.positiveSuffix=B(U,e,t,n));null!==E&&(t.negativePrefix=B(E,e,t,n));null!==M&&(t.negativeSuffix=B(M,e,t,n));void 0!==n.name&&(t.positiveSuffix=""+n.name,t.positivePrefix="","ar"===t.lang?(t.negativeSuffix=e.numbers[t.numberingSystem].minusSign+""+n.name,t.negativePrefix=""):(t.negativeSuffix=""+n.name,t.negativePrefix=e.numbers[t.numberingSystem].minusSign))}(t,a)}(n,a,u,o),void 0===n.pattern&&(o.minimumIntegerDigits=y(n,"minimumIntegerDigits",1,21,o.minimumIntegerDigits),void 0!==n.maximumFractionDigits&&(o.maximumFractionDigits=y(n,"maximumFractionDigits",0,20,o.maximumFractionDigits),o.maximumFractionDigits<o.minimumFractionDigits&&(o.minimumFractionDigits=o.maximumFractionDigits)),void 0!==n.minimumFractionDigits&&(o.minimumFractionDigits=y(n,"minimumFractionDigits",0,20,o.minimumFractionDigits)),o.maximumFractionDigits<o.minimumFractionDigits&&(o.maximumFractionDigits=o.minimumFractionDigits,s.info("maximumFractionDigits is less than minimumFractionDigits, so maximumFractionDigits will be set to minimumFractionDigits")),"currency"===o.style&&void 0===n.minimumFractionDigits)){var I=r.supplemental.currencyData.fractions[n.currency];if(void 0!==I){var D=parseInt(I._digits,10);o.minimumFractionDigits=D,o.maximumFractionDigits=D}}}function S(e){var r=new TypeError('The property "currency" is required when the property "'+e+'" is "currency". An accepted value is a three-letter ISO 4217 currency code.'),t={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"currency",requiredPropertyName:"currency",requiredPropertyValueValid:"a three-letter ISO 4217 currency code"}};throw r.errorInfo=t,r}function F(r,t){var n=e.OraI18nUtils.getGetOption(r,t),i=n("style","string",["currency","decimal","percent","unit","perMill"],"decimal");if("decimal"===i||"currency"===i){var a="decimal"===i?"decimalFormat":"currencyFormat";i=n(a,"string",["standard","short","long"]),"OraNumberConverter.parse"===t&&void 0!==i&&"standard"!==i&&function(e){var r=new Error("long and short "+e+" are not supported for parsing"),t={errorCode:"unsupportedParseFormat",parameterMap:{shortFormats:e}};throw r.errorInfo=t,r}(a)}var o=n("currency","string");"currency"===i&&void 0===o&&S("style"),o=n("unit","string"),"unit"===i&&void 0===o&&function(e){var r=new TypeError('The property "unit" is required when the property "'+e+'" is "unit". An accepted value is "byte" or "bit".'),t={errorCode:"optionTypesMismatch",parameterMap:{propertyName:e,propertyValue:"unit",requiredPropertyName:"unit",requiredPropertyValueValid:"byte or bit"}};throw r.errorInfo=t,r}("style")}function x(e,r,t){var n=t.groupingSize,i=t.groupingSize0,a=t.decimalSeparator,o=e+"",s=o.split(/e/i),l=s.length>1?parseInt(s[1],10):0,m=(s=(o=s[0]).split(".")).length>1?s[1]:"",c=Math.min(t.maximumFractionDigits,m.length-l);s.length>1&&m.length>l&&(e=I(e,c,r.roundingMode||"DEFAULT"));l=(s=(o=e+"").split(/e/i)).length>1?parseInt(s[1],10):0,o=(s=(o=s[0]).split("."))[0],m=s.length>1?s[1]:"",l>0?(o+=(m=f(m,l,!1)).slice(0,l),m=m.substr(l)):l<0&&(m=(o=f(o,(l=-l)+1,!0)).slice(-l,o.length)+m,o=o.slice(0,-l)),c>0&&m.length>0?(m=m.length>c?m.slice(0,c):f(m,c,!1),!0===u.test(m)&&(m=m.slice(0,t.minimumFractionDigits)),m=a+m):m=t.minimumFractionDigits>0?a:"",m=f(m,a.length+t.minimumFractionDigits,!1);var g=t.groupingSeparator,p="";!1===r.useGrouping&&void 0===r.pattern&&(g="");var v=(o=f(o,t.minimumIntegerDigits,!0)).length-1;for(m=m.length>1?m:"";v>=0;){if(0===n||n>v)return o.slice(0,v+1)+(p.length?g+p+m:m);p=o.slice(v-n+1,v+1)+(p.length?g+p:""),v-=n,i>0&&(n=i)}return o.slice(0,v+1)+g+p+m}function I(e,r,t){var n=e.toString().split(".");if(void 0===n[1])return e;if("5"===n[1][r]&&"DEFAULT"!==t){var i=function(e,r,t){if("HALF_DOWN"===t||"HALF_EVEN"===t){var n=e.substr(r);(n=parseInt(n,10))>5&&(t="HALF_UP")}return t}(n[1],r,t);return function(e,r,t,n){if(0===r)return"5"===n[1][0]?Math[t](e):Math.round(e);var i=e.toString().split("e"),a=i[0],o=i[1],s=a+"e"+(o?parseInt(o,10)-r:-r),u=parseFloat(s),l=Math[t](u);return i=l.toString().split("e"),a=i[0],o=i[1],s=a+"e"+(o?parseInt(o,10)+r:r),u=parseFloat(s)}(e,-r,i=function(e,r,t){var n=c[r];if("HALF_EVEN"===r){var i;if(0===t){var a=e[0].length;i=parseInt(e[0][a-1],10)}else i=parseInt(e[1][t-1],10);n=i%2==0?c.HALF_DOWN:c.HALF_UP}return n}(n,i,r),n)}var a=Math.pow(10,r),o=Math.round(e*a)/a;return isFinite(o)?o:e}function D(r,t,n,i,a){var s=e.OraI18nUtils.getLocaleElementsMainNode(n);if(!isFinite(r))return r===1/0?s.numbers[i.numberingSystem].infinity:r===-1/0?s.numbers[i.numberingSystem].infinity:s.numbers[i.numberingSystem].nan;var u=Math.abs(r);!0===i.isPercent||"percent"===i.style?u*=100:!0===i.isPerMill&&(u*=1e3);var c=t.decimalFormat;void 0===c&&(c=t.currencyFormat);var y=i.style;u="decimal"!==y&&"currency"!==y||void 0===c||"standard"===c?!0===i.useExponentialNotation?function(e,r){var t=e+"",n=0,i=t.split(/e/i),a=i[0];o.lastIndex=0;var s=o.exec(a);null!==s?(n=s[1].length-1,a=s[2]):a=a.replace(".","");var u=i.length>1?parseInt(i[1],10):0,l=parseInt(a,10),m=r.minimumIntegerDigits+r.maximumFractionDigits;if(a.length>m){m-=a.length;var c=Math.pow(10,m);l=Math.round(l*c)}var g=r.minimumIntegerDigits+r.minimumFractionDigits;l=f(l+="",g,!1),-1!==t.indexOf(".")?u-=r.minimumIntegerDigits-t.indexOf(".")+n:u-=g-a.length-r.minimumFractionDigits;var p=Math.abs(u);p=f(p+"",r.minExponentDigits,!0),u<0&&(p=r.minusSign+p);var v=l.slice(0,r.minimumIntegerDigits);return l.slice(r.minimumIntegerDigits).length>0?v+=r.decimalSeparator+l.slice(r.minimumIntegerDigits)+r.exponential+p:v+=r.exponential+p,v}(u,i):"unit"===y?function(r,t,n,i){var a,o;r>=d?(a="digital-tera",o=r/d):r>=v?(a="digital-giga",o=r/v):r>=p?(a="digital-mega",o=r/p):r>=g?(a="digital-kilo",o=r/g):(a="digital-",o=r),a+=n.unit;var s=n.lang,u=n.plurals[s](o);u="unitPattern-count-"+u;var l=x(o,t,n),m=i.units.narrow[a][u];return l=e.OraI18nUtils.formatString(m,[l])}(u,t,i,s):x(u,t,i):function(e,r,t){var n,i,a,o=function(e){for(var r=Object.keys(l),t=0;t<r.length;t++)for(var n=r[t],i=l[n].length,a=0;a<i;a++)if(l[n][a]<=e)return[n,l[n][a]];return[e,null]}(e),s="";if(null!==o[1]){var u=t.lang,c=t.plurals[u](Math.floor(e/m[o[0]]));if(n=o[1]+"-count-"+c,void 0===(n=t.shortDecimalFormat[n])&&(c="other",n=o[1]+"-count-"+c,n=t.shortDecimalFormat[n]),a=(i=function(e){var r=0,t=0,n=0,i="";if("0"!==e[0]){for(;"0"!==e[r]&&r<e.length;)r+=1;i=e.substr(0,r),n=r}for(r=n;r<e.length&&"0"===e[r];r++)t+=1;return[i,t]}(n))[1],s=i[0],a<n.length){var g=1*Math.pow(10,a);e/=g=o[1]/g*10}}var p="";return void 0!==n&&(p=n.substr(a+i[0].length)),p=s+x(e,r,t)+(p=p.replace(/'\.'/g,"."))}(u,t,i);var b="";b+=r<0&&u-0!=0?i.negativePrefix+u+i.negativeSuffix:i.positivePrefix+u+i.positiveSuffix;var S=h(a);if(void 0===e.OraI18nUtils.numeringSystems[S]&&(S="latn"),"latn"!==S){var F,I=[];for(F=0;F<b.length;F++)b[F]>="0"&&b[F]<="9"?I.push(e.OraI18nUtils.numeringSystems[S][b[F]]):I.push(b[F]);return I.join("")}return b}function N(r,t){var n=t.groupingSeparator,a=t.decimalSeparator,o=t.minusSign,s="",u="",l=e.OraI18nUtils.toUpper(t.exponential),m=e.OraI18nUtils.toUpper(r),c=n;m=(m=m.split(l).join("E")).split(c).join("");var g=c.replace(/\u00A0/g," ");c!==g&&(m=m.split(g).join("")),"."===(m=m.split(a).join(".")).charAt(0)&&(m=m.substr(1),u="."),m=m.replace(o,"-");var p=u+i.exec(m)[2];return e.OraI18nUtils.startsWith(p,"-")?(p=p.substr("-".length),s="-"):e.OraI18nUtils.startsWith(m,"+")&&(p=p.substr("+".length),s="+"),[s,p]}function O(r,t,n,i){return isNaN(r)&&_(n.style,n,i),!0===n.isPercent||"percent"===n.style?r/=100:!0===n.isPerMill&&(r/=1e3),e.OraI18nUtils.getGetOption(t,"OraNumberConverter.parse")("roundDuringParse","boolean",[!0,!1],!1)&&(r=function(e,r,t){var n=r.maximumFractionDigits,i=e<0,a=t.roundingMode||"DEFAULT",o=I(Math.abs(e),n,a);return i?-o:o}(r,n,t)),r}function _(e,r,t){var n,i="Unparsable number "+t+" The expected number pattern is "+r.pat;switch(e){case"decimal":n="decimalFormatMismatch";break;case"currency":n="currencyFormatMismatch";break;case"percent":n="percentFormatMismatch"}var a=new Error(i),o={errorCode:n,parameterMap:{value:t,format:r.pat}};throw a.errorInfo=o,a}function C(r,i,o,s){var u=e.OraI18nUtils.getLocaleElementsMainNode(i),l={},m=function(r,t){var n,i=h(t);if(void 0===e.OraI18nUtils.numeringSystems[i])return r;var a=[];for(n=0;n<r.length;n++){var o=e.OraI18nUtils.numeringSystems[i].indexOf(r[n]);-1!==o?a.push(o):a.push(r[n])}return a.join("")}(r,s);b(i,l,o,s);var c=NaN,g=m.replace(/ /g,"");if(t.test(g))return c=parseFloat(m);var p=function(r,t,n,i){var o,s=e.OraI18nUtils.trimNumber(r),u="",l=!1,m=i.numbers[n.numberingSystem].plusSign,c=new RegExp("^"+m.replace(a,"\\$1"));s=s.replace(c,"");var g=e.OraI18nUtils.trimNumber(n.positivePrefix),p=e.OraI18nUtils.trimNumber(n.positiveSuffix),v=e.OraI18nUtils.trimNumber(n.negativePrefix),d=e.OraI18nUtils.trimNumber(n.negativeSuffix),f=new RegExp("^"+(g||"").replace(a,"\\$1")),y=new RegExp((p||"").replace(a,"\\$1")+"$"),h=new RegExp("^"+(v||"").replace(a,"\\$1")),b=new RegExp((d||"").replace(a,"\\$1")+"$");if(!0===h.test(s)&&!0===b.test(s))s=(s=s.replace(h,"")).replace(b,""),u="-",l=!0;else if(!0===f.test(s)&&!0===y.test(s))s=(s=s.replace(f,"")).replace(y,""),u="+",l=!0;else if("currency"===n.style){var S,F=n.currencyCode,x=F;if(void 0!==i.numbers.currencies[F]&&(x=i.numbers.currencies[F].symbol),void 0===n.currencyDisplay||"symbol"===n.currencyDisplay?S=x:"code"===n.currencyDisplay&&(S=F),void 0!==S){var I=(g||"").replace(S,""),D=(p||"").replace(S,""),O=(v||"").replace(S,""),C=(d||"").replace(S,"");f=new RegExp(("^"+I).replace(a,"\\$1")),y=new RegExp(D.replace(a,"\\$1")+"$"),h=new RegExp(("^"+O).replace(a,"\\$1")),b=new RegExp(C.replace(a,"\\$1")+"$"),!0===h.test(s)&&!0===b.test(s)?(s=(s=s.replace(h,"")).replace(b,""),u="-",l=!0):!0===f.test(s)&&!0===y.test(s)&&(s=(s=s.replace(f,"")).replace(y,""),u="+",l=!0)}}return l?o=[u,s]:"full"===n.lenientParse?(o=N(s,n))[2]=!0:_(n.style,n,r),o}(m,0,l,u),v=p[0],d=p[1];if(v=v||"+",p[2])return O(c=parseFloat(v+d),o,l,r);var f=function(r,t){var n,i,a={},o=t.decimalSeparator,s=t.groupingSeparator,u=r.replace(/ /g,""),l=t.exponential,m=u.indexOf(l.toLowerCase());m<0&&(m=u.indexOf(e.OraI18nUtils.toUpper(l))),m<0?(i=u,a.exponent=null):(i=u.substr(0,m),a.exponent=u.substr(m+l.length));var c=o,g=i.indexOf(c);g<0?(n=i,a.fraction=null):(n=i.substr(0,g),a.fraction=i.substr(g+c.length)),n=n.split(s).join("");var p=s.replace(/\u00A0/g," ");return s!==p&&(n=n.split(p).join("")),a.integer=n,a}(d,l),y=f.integer,S=f.fraction,F=f.exponent,x=v+y;if(null!==S&&(x+="."+S),null!==F){var I=function(r,t){var n,i=t.minusSign,a=t.plusSign,o=e.OraI18nUtils.trimNumber(r);return i=e.OraI18nUtils.trimNumber(i),a=e.OraI18nUtils.trimNumber(a),e.OraI18nUtils.startsWith(o,i)?n=["-",o.substr(i.length)]:e.OraI18nUtils.startsWith(o,e.OraI18nUtils.trimNumber(a))&&(n=["+",o.substr(a.length)]),n||["",o]}(F,l);x+="e"+(I[0]||"+")+I[1]}return n.test(x)?c=parseFloat(x):"full"===l.lenientParse?(x=N(m,l),c=parseFloat(x[0]+x[1])):_(l.style,l,r),O(c,o,l,r)}var w,U,E,M,j="0",P=",",V=".",R="%",T="",A="#",L=";",$="E",k="-",H="'",G="",W=2147483647,K=2147483647;function q(e){var r=new SyntaxError('Unexpected character(s) encountered in the pattern "'+e+' An example of a valid pattern is "#,##0.###".'),t={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,propertyValueHint:"#,##0.###"}};throw r.errorInfo=t,r}function B(e,r,t,n){for(var i="",a=0;a<e.length;){var o=e.charAt(a);if(a+=1,o!==H){switch(o){case G:var s=t.currencyCode,u=s,l=s;void 0!==r.numbers.currencies[s]&&(u=r.numbers.currencies[s].displayName,l=r.numbers.currencies[s].symbol),void 0===t.currencyDisplay||"symbol"===t.currencyDisplay?o=l:"code"===t.currencyDisplay?o=s:(o=u,n.name=o);break;case R:o=r.numbers[t.numberingSystem].percentSign;break;case T:o=r.numbers[t.numberingSystem].perMille;break;case k:o=r.numbers[t.numberingSystem].minusSign}i=i.concat(o)}}return i}function z(e,r,t){var n={locale:t,style:void 0===e.style?"decimal":e.style,useGrouping:void 0===r.useGrouping||r.useGrouping,numberingSystem:e.numberingSystemKey};n.minimumIntegerDigits=e.minimumIntegerDigits,n.minimumFractionDigits=e.minimumFractionDigits,n.maximumFractionDigits=e.maximumFractionDigits,"decimal"===e.style&&void 0!==r.decimalFormat&&(n.decimalFormat=r.decimalFormat),"currency"===e.style&&void 0!==r.currencyFormat&&(n.currencyFormat=r.currencyFormat),"currency"===e.style&&(n.currency=r.currency,n.currencyDisplay=void 0===r.currencyDisplay?"symbol":r.currencyDisplay),void 0!==r.unit&&(n.unit=r.unit),void 0!==r.pattern&&(n.pattern=r.pattern);var i=r.roundingMode,a=r.roundDuringParse;void 0!==i&&(n.roundingMode=i),void 0!==a&&(n.roundDuringParse=a);var o=e.lenientParse;void 0!==o&&(n.lenientParse=o);var s=e.separators;return void 0!==s&&(n.separators=s),n.virtualKeyboardHint=function(e,r){var t="text";switch(r.style){case"unit":t="text";break;case"currency":case"percent":t=void 0===r.pattern?"text":Y(e,r);break;default:t=void 0===r.pattern?"short"===r.decimalFormat||"long"===r.decimalFormat?"text":function(e,r){if(void 0===r.useGrouping||r.useGrouping){if("."===e.decimalSeparator&&""===e.groupingSeparator)return"number"}else if("."===e.decimalSeparator)return"number";return"text"}(e,r):Y(e,r)}return t}(e,r),n}function Y(e,r){var t;if(t=r.pattern,/[^0-9.#]/i.test(t))return"text";var n=function(e){if(-1!==e.indexOf(","))return!0;return!1}(r.pattern),i=function(e){if(-1!==e.indexOf("."))return!0;return!1}(r.pattern);if(n&&i){if(""!==e.groupingSeparator||"."!==e.decimalSeparator)return"text";if(e.groupingSeparator===e.decimalSeparator)return"text"}return i&&!n&&"."!==e.decimalSeparator?"text":!i&&n&&""!==e.groupingSeparator?"text":"number"}function J(){return{format:function(e,r,t,n){(arguments.length<=2||void 0===t)&&(t={useGrouping:!0,style:"decimal"}),F(t,"OraNumberConverter.format");var i={};return b(r,i,t,n),D(e,t,r,i,n)},parse:function(e,r,t,n){return"number"==typeof e?e:"[object Number]"===Object.prototype.toString.call(e)?Number(e):((arguments.length<=2||void 0===t)&&(t={useGrouping:!0,style:"decimal"}),F(t,"OraNumberConverter.parse"),C(e,r,t,n))},resolvedOptions:function(r,t,n){return(arguments.length<3||void 0===n)&&(n=e.OraI18nUtils.getLocaleElementsMainNodeKey(r)),(arguments.length<2||void 0===t)&&(t={useGrouping:!0,style:"decimal"}),z(function(r,t,n){var i={};return F(t,"OraNumberConverter.resolvedOptions"),b(r,i,t,n),i.numberingSystemKey=h(n),void 0===e.OraI18nUtils.numeringSystems[i.numberingSystemKey]&&(i.numberingSystemKey="latn"),i}(r,t,n),t,n)}}}return{getInstance:function(){return r||(r=J()),r}}}();return u});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojchart',["ojs/ojcore","jquery","ojs/ojconfig","ojs/ojcomponentcore","ojs/ojdvt-base","ojs/internal-deps/dvt/DvtChart","ojs/ojattributegrouphandler","ojs/ojkeyset","ojs/ojlogger","ojs/ojmap","ojs/ojvalidation-base","ojs/ojvalidation-number"],function(e,t,r,n,o,i,a,s,l,p,u){"use strict";var y={properties:{animationOnDataChange:{type:"string",enumValues:["auto","none","slideToLeft","slideToRight"],value:"none"},animationOnDisplay:{type:"string",enumValues:["alphaFade","auto","none","zoom"],value:"none"},as:{type:"string",value:""},coordinateSystem:{type:"string",enumValues:["cartesian","polar"],value:"cartesian"},data:{type:"object"},dataCursor:{type:"string",enumValues:["auto","off","on"],value:"auto"},dataCursorBehavior:{type:"string",enumValues:["auto","smooth","snap"],value:"auto"},dataCursorPosition:{type:"object",writeback:!0,properties:{x:{type:"number|string"},y:{type:"number"},y2:{type:"number"}}},dataLabel:{type:"function"},dnd:{type:"object",properties:{drag:{type:"object",properties:{groups:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}},items:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}},series:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}}}},drop:{type:"object",properties:{legend:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},plotArea:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},xAxis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},y2Axis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}},yAxis:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}}}}}},dragMode:{type:"string",enumValues:["off","pan","select","user","zoom"],value:"user"},drilling:{type:"string",enumValues:["groupsOnly","off","on","seriesOnly"],value:"off"},groupComparator:{type:"function"},groups:{type:"Array<string>|Array<Object>|Promise"},hiddenCategories:{type:"Array<string>",writeback:!0,value:[]},hideAndShowBehavior:{type:"string",enumValues:["none","withRescale","withoutRescale"],value:"none"},highlightMatch:{type:"string",enumValues:["all","any"],value:"all"},highlightedCategories:{type:"Array<string>",writeback:!0,value:[]},hoverBehavior:{type:"string",enumValues:["dim","none"],value:"none"},initialZooming:{type:"string",enumValues:["first","last","none"],value:"none"},legend:{type:"object",properties:{backgroundColor:{type:"string"},borderColor:{type:"string"},maxSize:{type:"string"},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjectSection:{type:"object",properties:{title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},titleStyle:{type:"object",value:{}}}},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"},scrolling:{type:"string",enumValues:["asNeeded","off"],value:"asNeeded"},sections:{type:"Array<Object>",value:[]},seriesSection:{type:"object",properties:{title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},titleStyle:{type:"object",value:{}}}},size:{type:"string"},symbolHeight:{type:"number"},symbolWidth:{type:"number"},textStyle:{type:"object",value:{}},title:{type:"string"},titleHalign:{type:"string",enumValues:["center","end","start"],value:"start"},titleStyle:{type:"object",value:{}}}},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"vertical"},otherThreshold:{type:"number",value:0},overview:{type:"object",properties:{content:{type:"object",value:{}},height:{type:"string"},rendered:{type:"string",enumValues:["off","on"],value:"off"}}},pieCenter:{type:"object",properties:{converter:{type:"object"},label:{type:"string"},labelStyle:{type:"object",value:{}},renderer:{type:"function"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"}}},plotArea:{type:"object",properties:{backgroundColor:{type:"string"},borderColor:{type:"string"},borderWidth:{type:"number"},rendered:{type:"string",enumValues:["off","on"],value:"on"}}},polarGridShape:{type:"string",enumValues:["circle","polygon"],value:"circle"},selection:{type:"Array<any>",writeback:!0,value:[]},selectionMode:{type:"string",enumValues:["multiple","none","single"],value:"none"},series:{type:"Array<Object>|Promise"},seriesComparator:{type:"function"},sorting:{type:"string",enumValues:["ascending","descending","off"],value:"off"},splitDualY:{type:"string",enumValues:["auto","off","on"],value:"auto"},splitterPosition:{type:"number",value:.5},stack:{type:"string",enumValues:["off","on"],value:"off"},stackLabel:{type:"string",enumValues:["off","on"],value:"off"},styleDefaults:{type:"object",properties:{animationDownColor:{type:"string"},animationDuration:{type:"number"},animationIndicators:{type:"string",enumValues:["all","none"],value:"all"},animationUpColor:{type:"string"},barGapRatio:{type:"number"},borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string",value:""},medianSvgStyle:{type:"object",value:{}},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string",value:""},whiskerEndSvgStyle:{type:"object",value:{}},whiskerSvgClassName:{type:"string",value:""},whiskerSvgStyle:{type:"object",value:{}}}},colors:{type:"Array<string>"},dataCursor:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["off","on"],value:"on"},markerSize:{type:"number"}}},dataItemGaps:{type:"string"},dataLabelPosition:{type:"string|Array<string>",enumValues:["aboveMarker","afterMarker","auto","beforeMarker","belowMarker","center","insideBarEdge","none","outsideBarEdge","outsideSlice"],value:"auto"},dataLabelStyle:{type:"object|Array<Object>"},funnelBackgroundColor:{type:"string"},groupSeparators:{type:"object",properties:{color:{type:"string"},rendered:{type:"string",enumValues:["auto","off"],value:"auto"}}},hoverBehaviorDelay:{type:"number"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineType:{type:"string",enumValues:["auto","centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"],value:"auto"},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["auto","off","on"],value:"auto"},markerShape:{type:"string",value:"auto"},markerSize:{type:"number"},marqueeBorderColor:{type:"string"},marqueeColor:{type:"string"},maxBarWidth:{type:"number"},otherColor:{type:"string"},patterns:{type:"Array<string>"},pieFeelerColor:{type:"string"},pieInnerRadius:{type:"number",value:0},selectionEffect:{type:"string",enumValues:["explode","highlight","highlightAndExplode"],value:"highlight"},seriesEffect:{type:"string",enumValues:["color","gradient","pattern"],value:"gradient"},shapes:{type:"Array<string>"},stackLabelStyle:{type:"object",value:{}},stockFallingColor:{type:"string"},stockRangeColor:{type:"string"},stockRisingColor:{type:"string"},stockVolumeColor:{type:"string"},threeDEffect:{type:"string",enumValues:["off","on"],value:"off"},tooltipLabelStyle:{type:"object",value:{}},tooltipValueStyle:{type:"object",value:{}}}},timeAxisType:{type:"string",enumValues:["auto","disabled","enabled","mixedFrequency","skipGaps"],value:"auto"},tooltip:{type:"object",properties:{renderer:{type:"function"}}},touchResponse:{type:"string",enumValues:["auto","touchStart"],value:"auto"},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelClose:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelDate:{type:"string"},labelDefaultGroupName:{type:"string"},labelGroup:{type:"string"},labelHigh:{type:"string"},labelInvalidData:{type:"string"},labelLow:{type:"string"},labelNoData:{type:"string"},labelOpen:{type:"string"},labelOther:{type:"string"},labelPercentage:{type:"string"},labelQ1:{type:"string"},labelQ2:{type:"string"},labelQ3:{type:"string"},labelSeries:{type:"string"},labelTargetValue:{type:"string"},labelValue:{type:"string"},labelVolume:{type:"string"},labelX:{type:"string"},labelY:{type:"string"},labelZ:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"},tooltipPan:{type:"string"},tooltipSelect:{type:"string"},tooltipZoom:{type:"string"}}},type:{type:"string",enumValues:["area","bar","boxPlot","bubble","combo","funnel","line","lineWithArea","pie","pyramid","scatter","stock"],value:"bar"},valueFormats:{type:"object",properties:{close:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},group:{type:"object",properties:{tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string|Array<string>"}}},high:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},label:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"}}},low:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},open:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q1:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q2:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},q3:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},series:{type:"object",properties:{tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},targetValue:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},value:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},volume:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},x:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},y:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},y2:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}},z:{type:"object",properties:{converter:{type:"object"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},tooltipDisplay:{type:"string",enumValues:["auto","off"],value:"auto"},tooltipLabel:{type:"string"}}}}},xAxis:{type:"object",properties:{axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["off","on"],value:"on"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",enumValues:["auto","inherit"],value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number|string"},maxSize:{type:"string"},min:{type:"number|string"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},rendered:{type:"string",enumValues:["off","on"],value:"on"},rotation:{type:"string",enumValues:["auto","none"],value:"auto"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}},viewportEndGroup:{type:"number|string"},viewportMax:{type:"number|string"},viewportMin:{type:"number|string"},viewportStartGroup:{type:"number|string"}}},y2Axis:{type:"object",properties:{alignTickMarks:{type:"string",enumValues:["off","on"],value:"on"},axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",enumValues:["auto","inherit"],value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number"},maxSize:{type:"string"},min:{type:"number"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["inside","outside"],value:"outside"},rendered:{type:"string",enumValues:["off","on"],value:"on"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}}}},yAxis:{type:"object",properties:{axisLine:{type:"object",properties:{lineColor:{type:"string"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},baselineScaling:{type:"string",enumValues:["min","zero"],value:"zero"},dataMax:{type:"number"},dataMin:{type:"number"},majorTick:{type:"object",properties:{baselineColor:{type:"string",enumValues:["auto","inherit"],value:"auto"},baselineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},baselineWidth:{type:"number"},lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},max:{type:"number"},maxSize:{type:"string"},min:{type:"number"},minStep:{type:"number"},minorStep:{type:"number"},minorTick:{type:"object",properties:{lineColor:{type:"string"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineWidth:{type:"number"},rendered:{type:"string",enumValues:["auto","off","on"],value:"auto"}}},position:{type:"string",enumValues:["auto","bottom","end","start","top"],value:"auto"},referenceObjects:{type:"Array<Object>",value:[]},rendered:{type:"string",enumValues:["off","on"],value:"on"},scale:{type:"string",enumValues:["linear","log"],value:"linear"},size:{type:"string"},step:{type:"number"},tickLabel:{type:"object",properties:{converter:{type:"object"},position:{type:"string",enumValues:["inside","outside"],value:"outside"},rendered:{type:"string",enumValues:["off","on"],value:"on"},scaling:{type:"string",enumValues:["auto","billion","million","none","quadrillion","thousand","trillion"],value:"auto"},style:{type:"object",value:{}}}},title:{type:"string"},titleStyle:{type:"object",value:{}},viewportMax:{type:"number"},viewportMin:{type:"number"}}},zoomAndScroll:{type:"string",enumValues:["delayed","delayedScrollOnly","live","liveScrollOnly","off"],value:"off"},zoomDirection:{type:"string",enumValues:["auto","x","y"],value:"auto"}},methods:{getGroup:{},getSeries:{},getGroupCount:{},getSeriesCount:{},getDataItem:{},getLegend:{},getPlotArea:{},getXAxis:{},getY2Axis:{},getValuesAt:{},getContextByNode:{},refresh:{},setProperty:{},getProperty:{},setProperties:{},getYAxis:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojSelectInput:{},ojViewportChange:{},ojViewportChangeInput:{},ojDrill:{}},extension:{}},g={properties:{drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},labelStyle:{type:"object"},name:{type:"string"},shortDesc:{type:"string"}},extension:{}},d={properties:{borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},q2Color:{type:"string"},q2SvgClassName:{type:"string"},q2SvgStyle:{type:"object"},q3Color:{type:"string"},q3SvgClassName:{type:"string"},q3SvgStyle:{type:"object"},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerSvgStyle:{type:"object"}}},categories:{type:"Array<string>"},close:{type:"number"},color:{type:"string"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},groupId:{type:"Array<(string|number)>"},high:{type:"number"},items:{type:"Array<Object>|Array<number>"},label:{type:"string|Array<string>"},labelPosition:{type:"string|Array<string>",enumValues:["aboveMarker","afterMarker","auto","beforeMarker","belowMarker","center","insideBarEdge","none","outsideBarEdge","outsideSlice"]},labelStyle:{type:"object|Array<Object>"},low:{type:"number"},markerDisplayed:{type:"string",enumValues:["auto","off","on"]},markerShape:{type:"string"},markerSize:{type:"number"},open:{type:"number"},pattern:{type:"string",enumValues:["auto","largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"auto"},q1:{type:"number"},q2:{type:"number"},q3:{type:"number"},seriesId:{type:"string|number"},shortDesc:{type:"string"},source:{type:"string"},sourceHover:{type:"string"},sourceHoverSelected:{type:"string"},sourceSelected:{type:"string"},svgClassName:{type:"string"},svgStyle:{type:"object"},targetValue:{type:"number"},value:{type:"number"},volume:{type:"number"},x:{type:"number|string"},y:{type:"number"},z:{type:"number"}},extension:{}},c={properties:{areaColor:{type:"string"},areaSvgClassName:{type:"string"},areaSvgStyle:{type:"object"},assignedToY2:{type:"string",enumValues:["off","on"],value:"off"},borderColor:{type:"string"},borderWidth:{type:"number"},boxPlot:{type:"object",properties:{medianSvgClassName:{type:"string"},medianSvgStyle:{type:"object"},q2Color:{type:"string"},q2SvgClassName:{type:"string"},q2SvgStyle:{type:"object"},q3Color:{type:"string"},q3SvgClassName:{type:"string"},q3SvgStyle:{type:"object"},whiskerEndLength:{type:"string"},whiskerEndSvgClassName:{type:"string"},whiskerEndSvgStyle:{type:"object"},whiskerSvgClassName:{type:"string"},whiskerSvgStyle:{type:"object"}}},categories:{type:"Array<string>"},color:{type:"string"},displayInLegend:{type:"string",enumValues:["auto","off","on"],value:"auto"},drilling:{type:"string",enumValues:["inherit","off","on"],value:"inherit"},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineType:{type:"string",enumValues:["auto","centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"],value:"auto"},lineWidth:{type:"number"},markerColor:{type:"string"},markerDisplayed:{type:"string",enumValues:["auto","off","on"],value:"auto"},markerShape:{type:"string",value:"auto"},markerSize:{type:"number"},markerSvgClassName:{type:"string"},markerSvgStyle:{type:"object"},name:{type:"string"},pattern:{type:"string",enumValues:["auto","largeChecker","largeCrosshatch","largeDiagonalLeft","largeDiagonalRight","largeDiamond","largeTriangle","smallChecker","smallCrosshatch","smallDiagonalLeft","smallDiagonalRight","smallDiamond","smallTriangle"],value:"auto"},pieSliceExplode:{type:"number",value:0},shortDesc:{type:"string"},source:{type:"string"},sourceHover:{type:"string"},sourceHoverSelected:{type:"string"},sourceSelected:{type:"string"},stackCategory:{type:"string"},svgClassName:{type:"string"},svgStyle:{type:"object"},type:{type:"string",enumValues:["area","auto","bar","boxPlot","candlestick","line","lineWithArea"],value:"auto"}},extension:{}},m={properties:{animationDuration:{type:"number"},animationOnDataChange:{type:"string",enumValues:["auto","none"],value:"none"},animationOnDisplay:{type:"string",enumValues:["auto","none"],value:"none"},areaColor:{type:"string",value:""},areaSvgClassName:{type:"string",value:""},areaSvgStyle:{type:"object",value:{}},as:{type:"string",value:""},barGapRatio:{type:"number",value:.25},baselineScaling:{type:"string",enumValues:["min","zero"],value:"min"},color:{type:"string"},data:{type:"object"},firstColor:{type:"string",value:""},highColor:{type:"string",value:""},items:{type:"Array<Object>|Array<number>|Promise"},lastColor:{type:"string",value:""},lineStyle:{type:"string",enumValues:["dashed","dotted","solid"],value:"solid"},lineType:{type:"string",enumValues:["centeredSegmented","centeredStepped","curved","none","segmented","stepped","straight"],value:"straight"},lineWidth:{type:"number",value:1},lowColor:{type:"string",value:""},markerShape:{type:"string",value:"auto"},markerSize:{type:"number",value:5},referenceObjects:{type:"Array<Object>",value:[]},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},tooltip:{type:"object",properties:{renderer:{type:"function"}}},trackResize:{type:"string",enumValues:["off","on"],value:"on"},translations:{type:"object",value:{},properties:{componentName:{type:"string"},labelAndValue:{type:"string"},labelClearSelection:{type:"string"},labelCountWithTotal:{type:"string"},labelDataVisualization:{type:"string"},labelInvalidData:{type:"string"},labelNoData:{type:"string"},stateCollapsed:{type:"string"},stateDrillable:{type:"string"},stateExpanded:{type:"string"},stateHidden:{type:"string"},stateIsolated:{type:"string"},stateMaximized:{type:"string"},stateMinimized:{type:"string"},stateSelected:{type:"string"},stateUnselected:{type:"string"},stateVisible:{type:"string"}}},type:{type:"string",enumValues:["area","bar","line","lineWithArea"],value:"line"},visualEffects:{type:"string",enumValues:["auto","none"],value:"auto"}},methods:{getDataItem:{},refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}},h={properties:{borderColor:{type:"string",value:""},color:{type:"string",value:""},date:{type:"string",value:""},high:{type:"number"},low:{type:"number"},markerDisplayed:{type:"string",enumValues:["off","on"],value:"off"},markerShape:{type:"string"},markerSize:{type:"number"},svgClassName:{type:"string",value:""},svgStyle:{type:"object",value:{}},value:{type:"number"}},extension:{}};e.ChartDataProviderHandler=function(e,t,r,n){this._component=e,this._templateEngine=t,this._items=r,this._dataProperty=n,this.Init()},e.Object.createSubclass(e.ChartDataProviderHandler,e.Object,"oj.ChartDataProviderHandler"),e.ChartDataProviderHandler.prototype.Init=function(){this._parentElement=this._component.element[0],this._templateHandler=this._component._TemplateHandler,this._templates=this._templateHandler.getTemplates(),this._seriesTemplate=this._templates.seriesTemplate?this._templates.seriesTemplate[0]:null,this._groupTemplate=this._templates.groupTemplate?this._templates.groupTemplate[0]:null,this._seriesComparator=this._component.options.seriesComparator,this._groupComparator=this._component.options.groupComparator,this._itemMap=new Map,this._seriesContexts=new Map,this._groupContexts=new Map;var e=0,t=0;this._chartDataItems=[];for(var r=0;r<this._items.length;r++){var n=this._items[r];if(!this._itemMap.has(n.seriesId)||!this._itemMap.get(n.seriesId).has(n.groupId)){this._chartDataItems.push(n);var o={data:n._itemData,key:n.id,index:r},i=n.seriesId;if(!this._seriesContexts.has(i)){var a;a={componentElement:this._parentElement,id:i,items:[],index:e},this._seriesContexts.set(i,a),e+=1}this._seriesContexts.get(i).items.push(o);var s=n.groupId,l=t;this._groupContexts.has(s.slice(0,s.length-1))||(t+=1),this._addToGroupContexts(o,s,1,l),this._itemMap.has(n.seriesId)||this._itemMap.set(n.seriesId,new p),this._itemMap.get(n.seriesId).set(n.groupId,n)}}this._chartDataItems.length>0&&(this._groups=this._createGroups(),this._groupComparator&&this._sortGroups(this._groups),this._series=this._createSeries(this._groups),this._seriesComparator&&this._sortSeries(this._series))},e.ChartDataProviderHandler.prototype.getSeries=function(){return this._series||[]},e.ChartDataProviderHandler.prototype.getGroups=function(){return this._groups||[]},e.ChartDataProviderHandler.prototype._addToGroupContexts=function(e,t,r,n){var o=r-1;if(o<t.length){var i=t[o],a=this._groupContexts.get(i);a?a.items.push(e):this._groupContexts.set(i,{ids:t,componentElement:this._parentElement,items:[e],depth:r,leaf:r===t.length,index:n});var s=a?a.items.length-1:0;this._addToGroupContexts(e,t,r+1,s)}},e.ChartDataProviderHandler.prototype._createSeries=function(e){var t=[],r=!1;return this._seriesContexts.forEach(function(e,n){try{var o;if(!r)(o=this._seriesTemplate?this._templateHandler.processNodeTemplate(this._dataProperty,this._templateEngine,this._seriesTemplate,"oj-chart-series",e,n):{}).id=n,o.name=o.name||n+"",t.push(o)}catch(e){l.error(e),t=[],r=!0}},this),this._addItemsToSeries(t,e),t},e.ChartDataProviderHandler.prototype._addItemsToSeries=function(e,t){var r,n=function(e){if(!e.groups)return[e.id];for(var t=[],r=0;r<e.groups.length;r++)t.push([e.id].concat(n(e.groups[r])));return t},o=[];for(r=0;r<t.length;r++){var i=t[r],a=n(i);o=o.concat(a)}for(r=0;r<e.length;r++){for(var s=e[r],l=[],p=0;p<o.length;p++){var u=Array.isArray(o[p])?o[p]:[o[p]],y=this._itemMap.get(s.id).get(u)||null;y&&(delete y.groupId,delete y.seriesId),l.push(y)}e[r].items=l}},e.ChartDataProviderHandler.prototype._createGroups=function(){var e,t={},r=!1;this._groupContexts.forEach(function(e,n){try{var o;if(!r)(o=this._groupTemplate?this._templateHandler.processNodeTemplate(this._dataProperty,this._templateEngine,this._groupTemplate,"oj-chart-group",e,n):{}).id=n,o.name=o.name||n+"",t[n]=o}catch(e){l.error(e),t={},r=!0}},this);var n=[];if(!r)for(e=0;e<this._chartDataItems.length;e++){var o=this._chartDataItems[e];n=this._addGroupItem(o,o.groupId,n,t)}return n},e.ChartDataProviderHandler.prototype._addGroupItem=function(e,t,r,n){r||(r=[]);for(var o,i=t[0],a=null,s=0;s<r.length;s++)r[s].id===i&&(a=s);return null!=a?o=r[a]:(o=n[i],r.push(o)),t.length>1&&(o.groups=this._addGroupItem(e,t.slice(1),o.groups,n)),r},e.ChartDataProviderHandler.prototype._sortSeries=function(e){var t,r;e.sort((t=this._seriesContexts,r=this._seriesComparator,function(e,n){return r(t.get(e.id),t.get(n.id))}));for(var n=0;n<e.length;n++){var o=e[n].id;this._seriesContexts.get(o).index=n}},e.ChartDataProviderHandler.prototype._sortGroups=function(e){var t,r;e.sort((t=this._groupContexts,r=this._groupComparator,function(e,n){var o=e.id,i=n.id,a=t.get(o),s=t.get(i);return r(a,s)}));for(var n=0;n<e.length;n++){var o=e[n].id;this._groupContexts.get(o).index=n,e[n].groups&&this._sortGroups(e[n].groups)}},e.__registerWidget("oj.ojChart",t.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{data:null,series:null,groups:null,selectInput:null,tooltip:{renderer:null},viewportChange:null,viewportChangeInput:null,drill:null},_ComponentCreate:function(){this._super(),this._SetLocaleHelpers(u)},_CreateDvtComponent:function(e,t,r){return i.Chart.newInstance(e,t,r)},_ConvertLocatorToSubId:function(e){var t=e.subId;return"oj-chart-item"===t?t="dataItem["+e.seriesIndex+"]["+e.itemIndex+"]":"oj-chart-group"===t?t="group"+this._GetStringFromIndexPath(e.indexPath):"oj-chart-series"===t?t="series["+e.index+"]":"oj-chart-axis-title"===t?t=e.axis+":title":"oj-chart-reference-object"===t?t=e.axis+":referenceObject["+e.index+"]":"oj-legend-item"===t?(t="legend:section"+this._GetStringFromIndexPath(e.sectionIndexPath),t+=":item["+e.itemIndex+"]"):"oj-chart-tooltip"===t?t="tooltip":"oj-chart-pie-center-label"===t&&(t="pieCenterLabel"),t},_ProcessTemplates:function(t,r,n,o,i,a,s){var l=a?this._TemplateHandler.getComponentResults(t):null;if(!l){var p=this._super(t,r,n,o,i,a,s),u=new e.ChartDataProviderHandler(this,n,p.values[0],t);l={paths:["series","groups"],values:[u.getSeries(),u.getGroups()]},a&&this._TemplateHandler.setComponentResults(t,l)}return l},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:"itemTemplate",templateElementName:"oj-chart-item",resultPath:"_item"}}},_ProcessOptions:function(){this._super();var e=this.options.pieCenter;e&&e._renderer&&(e.renderer=this._GetTemplateRenderer(e._renderer,"center"));var t=this.options.selection;this._IsCustomElement()&&t&&"object"==typeof t[0]&&!this.options.data&&(this.options.selection=null)},_ConvertSubIdToLocator:function(e){var t={};if(0===e.indexOf("dataItem")){var r=this._GetIndexPath(e);t.subId="oj-chart-item",t.seriesIndex=r[0],t.itemIndex=r[1]}else if(0===e.indexOf("group"))t.subId="oj-chart-group",t.indexPath=this._GetIndexPath(e);else if(0===e.indexOf("series"))t.subId="oj-chart-series",t.index=this._GetFirstIndex(e);else if(e.indexOf("Axis:title")>0)t.subId="oj-chart-axis-title",t.axis=e.substring(0,e.indexOf(":"));else if(e.indexOf("Axis:referenceObject")>0)t.subId="oj-chart-reference-object",t.axis=e.substring(0,e.indexOf(":")),t.index=this._GetFirstIndex(e);else if(0===e.indexOf("legend")){if(e.indexOf(":item")>0){var n=e.indexOf(":item"),o=e.substring(0,n),i=e.substring(n);t.subId="oj-legend-item",t.sectionIndexPath=this._GetIndexPath(o),t.itemIndex=this._GetFirstIndex(i)}}else"tooltip"===e?t.subId="oj-chart-tooltip":"pieCenterLabel"===e&&(t.subId="oj-chart-pie-center-label");return t},_ProcessStyles:function(){if(this._super(),this.options.styleDefaults||(this.options.styleDefaults={}),!this.options.styleDefaults.colors){var e=new a.ColorAttributeGroupHandler;this.options.styleDefaults.colors=e.getValueRamp()}},_GetComponentRendererOptions:function(){return[{path:"tooltip/renderer",slot:"tooltipTemplate"},{path:"pieCenter/renderer",slot:"pieCenterTemplate"}]},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-chart"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-chart-data-label"]={path:"styleDefaults/dataLabelStyle",property:"TEXT"},e["oj-chart-data-cursor-line"]={path:"styleDefaults/dataCursor/lineColor",property:"color"},e["oj-chart-stack-label"]={path:"styleDefaults/stackLabelStyle",property:"TEXT"},e["oj-chart-pie-center-label"]={path:"pieCenter/labelStyle",property:"TEXT"},e["oj-chart-slice-label"]={path:"styleDefaults/sliceLabelStyle",property:"TEXT"},e["oj-chart-stock-falling"]={path:"styleDefaults/stockFallingColor",property:"background-color"},e["oj-chart-stock-range"]={path:"styleDefaults/stockRangeColor",property:"background-color"},e["oj-chart-stock-rising"]={path:"styleDefaults/stockRisingColor",property:"background-color"},e["oj-chart-tooltip-label"]={path:"styleDefaults/tooltipLabelStyle",property:"TEXT"},e["oj-chart-xaxis-tick-label"]={path:"xAxis/tickLabel/style",property:"TEXT"},e["oj-chart-xaxis-title"]={path:"xAxis/titleStyle",property:"TEXT"},e["oj-chart-yaxis-tick-label"]={path:"yAxis/tickLabel/style",property:"TEXT"},e["oj-chart-yaxis-title"]={path:"yAxis/titleStyle",property:"TEXT"},e["oj-chart-y2axis-tick-label"]={path:"y2Axis/tickLabel/style",property:"TEXT"},e["oj-chart-y2axis-title"]={path:"y2Axis/titleStyle",property:"TEXT"},e["oj-legend"]={path:"legend/textStyle",property:"TEXT"},e["oj-legend-title"]={path:"legend/titleStyle",property:"TEXT"},e},_GetEventTypes:function(){return["drill","optionChange","selectInput","viewportChange","viewportChangeInput"]},_HandleEvent:function(e){var t=e.type;if("selection"===t){var r=e.selection;if(r){for(var n=[],o=[],i=0;i<r.length;i++){var a;a=this._IsCustomElement()?r[i].id:{id:r[i].id,series:r[i].series,group:r[i].group};var s={data:r[i].data,seriesData:r[i].seriesData,groupData:r[i].groupData,itemData:r[i].itemData};n.push(a),o.push(s)}var l={endGroup:e.endGroup,startGroup:e.startGroup,xMax:e.xMax,xMin:e.xMin,yMax:e.yMax,yMin:e.yMin,y2Max:e.y2Max,y2Min:e.y2Min,selectionData:o};this._IsCustomElement()||(l.component=e.component),e.complete?this._UserOptionChange("selection",n,l):(l.items=n,this._trigger("selectInput",null,l))}}else if("viewportChange"===t){var p={endGroup:e.endGroup,startGroup:e.startGroup,xMax:e.xMax,xMin:e.xMin,yMax:e.yMax,yMin:e.yMin};e.complete&&(this.options.xAxis||(this.options.xAxis={}),this.options.yAxis||(this.options.yAxis={}),this.options.xAxis.viewportStartGroup=null,this.options.xAxis.viewportEndGroup=null,null!=e.xMin&&null!=e.xMax&&(this.options.xAxis.viewportMin=e.xMin,this.options.xAxis.viewportMax=e.xMax),null!=e.yMin&&null!=e.yMax&&(this.options.yAxis.viewportMin=e.yMin,this.options.yAxis.viewportMax=e.yMax)),this._trigger(e.complete?"viewportChange":"viewportChangeInput",null,p)}else"drill"===t?this._trigger("drill",null,{id:e.id,series:e.series,group:e.group,data:e.data,seriesData:e.seriesData,groupData:e.groupData,itemData:e.itemData,component:e.component}):this._super(e)},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var e=this.options._resources;e.overviewGrippy=r.getResourceUrl("resources/internal-deps/dvt/chart/drag_horizontal.png"),e.panCursorDown=r.getResourceUrl("resources/internal-deps/dvt/chart/hand-closed.cur"),e.panCursorUp=r.getResourceUrl("resources/internal-deps/dvt/chart/hand-open.cur"),e.panUp="oj-chart-pan-icon",e.panUpHover="oj-chart-pan-icon oj-hover",e.panDown="oj-chart-pan-icon oj-active",e.panDownHover="oj-chart-pan-icon oj-hover oj-active",e.selectUp="oj-chart-select-icon",e.selectUpHover="oj-chart-select-icon oj-hover",e.selectDown="oj-chart-select-icon oj-active",e.selectDownHover="oj-chart-select-icon oj-hover oj-active",e.zoomUp="oj-chart-zoom-icon",e.zoomUpHover="oj-chart-zoom-icon oj-hover",e.zoomDown="oj-chart-zoom-icon oj-active",e.zoomDownHover="oj-chart-zoom-icon oj-hover oj-active"},getTitle:function(){return this._component.getAutomation().getTitle()},getGroup:function(e){return this._component.getAutomation().getGroup(e)},getSeries:function(e){return this._component.getAutomation().getSeries(e)},getGroupCount:function(){return this._component.getAutomation().getGroupCount()},getSeriesCount:function(){return this._component.getAutomation().getSeriesCount()},getDataItem:function(e,t){return this._component.getAutomation().getDataItem(e,t)},getLegend:function(){return this._component.getAutomation().getLegend()},getPlotArea:function(){return this._component.getAutomation().getPlotArea()},getXAxis:function(){return this._component.getAutomation().getXAxis()},getYAxis:function(){return this._component.getAutomation().getYAxis()},getY2Axis:function(){return this._component.getAutomation().getY2Axis()},getValuesAt:function(e,t){return this._component.getValuesAt(e,t)},getContextByNode:function(e){var t=this.getSubIdByNode(e);return t&&"oj-chart-tooltip"!==t.subId?t:null},_GetComponentDeferredDataPaths:function(){return{root:["groups","series","data"]}},_CompareOptionValues:function(t,r,n){return"dataCursorPosition"===t?e.Object.compareValues(r,n):this._super(t,r,n)}}),e.__registerWidget("oj.ojSparkChart",t.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{as:"",data:null,items:null,referenceObjects:[],tooltip:{renderer:null},type:"line",color:"#267DB3",areaColor:"",areaSvgClassName:"",areaSvgStyle:{},svgClassName:"",svgStyle:{},firstColor:"",lastColor:"",highColor:"",lowColor:"",animationDuration:void 0,animationOnDataChange:"none",animationOnDisplay:"none",visualEffects:"auto",baselineScaling:"min",lineWidth:1,lineStyle:"solid",lineType:"straight",markerShape:"auto",markerSize:5,barGapRatio:.25},_CreateDvtComponent:function(e,t,r){return this._focusable({element:this.element,applyHighlight:!0}),i.SparkChart.newInstance(e,t,r)},_GetComponentStyleClasses:function(){var e=this._super();return e.push("oj-sparkchart"),e},_GetChildStyleClasses:function(){var e=this._super();return e["oj-dvtbase oj-sparkchart"]={path:"animationDuration",property:"ANIM_DUR"},e},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},getDataItem:function(e){var t=this._component.getAutomation().getDataItem(e);return this._AddAutomationGetters(t),t&&(t.getFloatValue=t.getLow),t},_GetComponentDeferredDataPaths:function(){return{root:["items","data"]}},_GetSimpleDataProviderConfigs:function(){return{data:{templateName:"itemTemplate",templateElementName:"oj-spark-chart-item",resultPath:"items"}}},_AddAutomationGetters:function(e){if(e){for(var t={},r=Object.keys(e),n=0;n<r.length;n++)this._addGetter(e,r[n],t);Object.defineProperties(e,t)}},_addGetter:function(e,t,r){r[("selected"===t?"is":"get")+t.charAt(0).toUpperCase()+t.slice(1)]={value:function(){return e[t]}}}}),function(){y.extension._WIDGET_NAME="ojChart";var t=o.shapeParseFunction({"style-defaults.marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0});e.CustomElementBridge.register("oj-chart",{metadata:y,parseFunction:function(e,r,n,o){return"number|string"===n.type?isNaN(e)?e:Number(e):"style-defaults.data-label-style"===r?JSON.parse(e):t(e,r,n,o)}})}(),function(){d.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-chart-item",{metadata:d,parseFunction:o.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}(),function(){c.extension._CONSTRUCTOR=function(){};e.CustomElementBridge.register("oj-chart-series",{metadata:c,parseFunction:o.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}(),g.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-chart-group",{metadata:g}),function(){m.extension._WIDGET_NAME="ojSparkChart";e.CustomElementBridge.register("oj-spark-chart",{metadata:m,parseFunction:o.shapeParseFunction({"marker-shape":!0},{square:!0,circle:!0,diamond:!0,plus:!0,triangleDown:!0,triangleUp:!0,human:!0,star:!0,auto:!0})})}(),h.extension._CONSTRUCTOR=function(){},e.CustomElementBridge.register("oj-spark-chart-item",{metadata:h})});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojchildmutationobserver',["ojs/ojcore","ojs/ojcustomelement"],function(e){"use strict";return function(t,n){var r=t,o=n,a=e.BaseCustomElementBridge.getRegistered(t.tagName)?e.BaseCustomElementBridge.getTrackChildrenOption(t):"none",s=function(t){var n=function(t){for(var n=[],o=0;o<t.length;o++)for(var s=t[o],i="childList"===s.type?s.target:s.target.parentNode;i;)i===r?(n.push(s),i=null):i="nearestCustomElement"!==a||e.ElementUtils.isValidCustomElementName(i.localName)?null:i.parentNode;return n}(t);n.length>0&&o(n)},i=new MutationObserver(s);return{observe:function(){"none"!==a&&i.observe(r,{attributes:!0,childList:!0,subtree:!0,characterData:!0})},disconnect:function(){var e=i.takeRecords();e&&e.length>0&&s(e),i.disconnect()}}}});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojoption',["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(e,t){"use strict";var n={properties:{disabled:{type:"boolean",value:!1},value:{type:"any"}},methods:{setProperty:{},getProperty:{},refresh:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};function o(n){function o(n){var o=e.BaseCustomElementBridge.getSlotMap(n),i=["startIcon","","endIcon"];t.each(o,function(e,o){-1===i.indexOf(e)&&function(e,n){t.each(n,function(t,n){e.removeChild(n)})}(n,o)}),t.each(i,function(e,i){o[i]&&function(e,n){t.each(n,function(t,n){e.appendChild(n)})}(n,o[i])})}this.updateDOM=function(){var e=n.element.customOptionRenderer;o(n.element),e&&"function"==typeof e&&e(n.element)}}n.properties.customOptionRenderer={},n.extension._CONSTRUCTOR=o,e.CustomElementBridge.register("oj-option",{metadata:n})});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojbutton',["ojs/ojcore","jquery","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojchildmutationobserver","ojs/ojoption"],function(t,e,n,o,s){"use strict";var i={properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},translations:{type:"object",value:{}}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{}},extension:{}},a={properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},focusManagement:{type:"string",enumValues:["none","oneTabstop"],value:"oneTabstop"},translations:{type:"object",value:{}},value:{type:"Array<any>",writeback:!0}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}},l={properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},focusManagement:{type:"string",enumValues:["none","oneTabstop"],value:"oneTabstop"},translations:{type:"object",value:{}},value:{type:"any",writeback:!0}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}},r={properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},translations:{type:"object",value:{}}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{}},extension:{}};!function(){var i,a,l="oj-button oj-component oj-enabled oj-default",r="oj-button-icons-only oj-button-icon-only oj-button-text-icons oj-button-text-icon-start oj-button-text-icon-end oj-button-text-only",u="oj-button-full-chrome oj-button-half-chrome oj-button-outlined-chrome",c={full:"oj-button-full-chrome",half:"oj-button-half-chrome",outlined:"oj-button-outlined-chrome"},h={button:["ojButtonset","ojToolbar"],buttonset:["ojToolbar"]};function d(t,e){f(t,u),t.classList.add(c[e])}function m(t,n){var o,s=t.name,i=t.form;if(s){var a=":radio[name='"+(s=s.replace(/'/g,"\\'"))+"']:oj-button";o=n?n.filter(a):i?e(i).find(a):e(a,t.ownerDocument).filter(function(){return!this.form})}else o=(n?n.filter(t):e(t)).filter(":oj-button");return o}function p(t,e,s){var i=function(t,e,n){for(var s=0;s<n.length;++s){var i=n[s];if(e.indexOf(i)>=0)for(;;t=t.parentNode){var a=o.__GetWidgetConstructor(t,i);if(a)return a}}return null}(e,s,h[t]);return i?i("option","chroming"):(n.parseJSONFromFontFamily("oj-"+t+"-option-defaults")||{}).chroming}function b(t,e){var n=t.className;if(n){for(var o=n.split(" "),s=e.split(" "),i=s.length;i>=0;i--)o.indexOf(s[i])>=0&&s.splice(i,1);s.length>0&&(t.className=n+" "+s.join(" "))}else t.className=e}function f(t,e){var n=t.className;if(n){for(var o=n.split(" "),s=e.split(" "),i=!1,a=0;a<s.length;a++){var l=o.indexOf(s[a]);l>=0&&(o.splice(l,1),i=!0)}i&&(t.className=o.join(" "))}}t.__registerWidget("oj.ojButton",e.oj.baseComponent,{defaultElement:"<button>",widgetEventPrefix:"oj",options:{chroming:"full",disabled:!1,display:"all",label:null,icons:{start:null,end:null},menu:null,action:null},_InitOptions:function(t,e){this._super(t,e),this._IsCustomElement()&&this._processSlots(),this._initButtonTypes(),this._IsCustomElement()||"disabled"in e||this.option("disabled",!!this.element[0].disabled,{_context:{internalSet:!0}}),"label"in e||(this.keepDomLabel=!0,this.option("label","inputPush"===this.type?this.buttonElement.val():this.buttonElement[0].innerHTML,{_context:{internalSet:!0}})),this._IsCustomElement()||!this.options.menu||e.icons&&void 0!==e.icons.end||this.option("icons.end","oj-component-icon oj-button-menu-dropdown-icon",{_context:{writeback:!0,internalSet:!0}})},_ComponentCreate:function(){this._super(),this.menuEventNamespace=this.eventNamespace+"menu",this._initButtonTypes2(),this.hasTitle=!!this.rootElement.getAttribute("title");var n=this,o=this._isToggle,s=o?"":"oj-active";b(this.rootElement,l),d(this.rootElement,this.options.chroming);var r=function(){s&&n.rootElement.classList.remove(s),n.rootElement.classList.remove("oj-hover"),n._toggleDefaultClasses()};if(t.DomUtils.isTouchSupported()&&this.buttonElement.bind("touchstart"+this.eventNamespace,function(){n._IsEffectivelyDisabled()||(s&&n.rootElement.classList.add(s),n._toggleDefaultClasses(),n.document.one("touchend",r))}).bind("touchend"+this.eventNamespace+" touchcancel"+this.eventNamespace,r),this.buttonElement.bind("mouseenter"+this.eventNamespace,function(){n._IsEffectivelyDisabled()||t.DomUtils.recentTouchEnd()||(this===i&&n.rootElement.classList.add("oj-active"),n.rootElement.classList.add("oj-hover"),n.rootElement.classList.remove("oj-default"),n.rootElement.classList.remove("oj-focus-only"))}).bind("mouseleave"+this.eventNamespace,function(){n.rootElement.classList.remove("oj-hover"),n._IsEffectivelyDisabled()||(s&&n.rootElement.classList.remove(s),n._toggleDefaultClasses())}),this._disabledClickHandler=function(t){n._IsEffectivelyDisabled()&&(t.preventDefault(),t.stopImmediatePropagation())},this._ojActionClickHandler=function(t){n._trigger("action",t,{})},this._IsCustomElement()?(this.rootElement.addEventListener("click",this._disabledClickHandler,!0),this.rootElement.addEventListener("click",this._ojActionClickHandler,!1)):this.buttonElement[0].addEventListener("click",this._disabledClickHandler,!0),this._focusable({element:e(this.rootElement),applyHighlight:!0,afterToggle:function(){n._toggleDefaultClasses()}}),o&&(this.element.bind("change"+this.eventNamespace,function(t){n._applyCheckedStateFromDom(!0);var e=n._getEnclosingContainerComponent("buttonset"),o=e&&e._getCheckedFromDom(e.$buttons);e&&void 0!==o&&e.option("checked",o,{_context:{writeback:!0,originalEvent:t,internalSet:!0}})}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(){n._IsEffectivelyDisabled()||(a=this,n.document.one("mouseup",function(){a=null}))}).bind("mouseup"+this.eventNamespace,function(){n._IsEffectivelyDisabled()||this===a&&n.element.focus()})),"checkbox"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(){if(n._IsEffectivelyDisabled())return!1}),this.element.bind("keyup"+this.eventNamespace,function(t){t.keyCode===e.ui.keyCode.ENTER&&(n._IsEffectivelyDisabled()||n.element.click())});else if("radio"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(){if(n._IsEffectivelyDisabled())return!1}),this.element.bind("keyup"+this.eventNamespace,function(t){t.keyCode===e.ui.keyCode.ENTER&&(n.element[0].checked||n._IsEffectivelyDisabled()||(n.element[0].checked=!0,n.element.change(),n.element.click()))});else if(this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){if(n._IsEffectivelyDisabled())return!1;1!==e.which||t.DomUtils.recentTouchEnd()||(n.rootElement.classList.add("oj-active"),n.rootElement.classList.remove("oj-default"),n.rootElement.classList.remove("oj-focus-only"),i=this,n.document.one("mouseup",function(){i=null}))}).bind("mouseup"+this.eventNamespace,function(){if(n._IsEffectivelyDisabled())return!1;n.rootElement.classList.remove("oj-active"),n._toggleDefaultClasses()}).bind("keydown"+this.eventNamespace,function(t){if(n._IsEffectivelyDisabled())return t.keyCode===e.ui.keyCode.TAB||t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT;var o=t.keyCode===e.ui.keyCode.SPACE,s="anchor"===n.type;s&&o&&t.preventDefault(),(o&&!s||t.keyCode===e.ui.keyCode.ENTER)&&(n.rootElement.classList.add("oj-active"),n.rootElement.classList.remove("oj-default"),n.rootElement.classList.remove("oj-focus-only"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){n.rootElement.classList.remove("oj-active"),n._toggleDefaultClasses()}),"anchor"===this.type){var u=this.buttonElement[0].getAttribute("tabindex");(null===u||isNaN(u))&&this.buttonElement[0].setAttribute("tabindex","0")}this.options.disabled&&this._manageAnchorTabIndex(!1,!0),this._updateEffectivelyDisabled();var c=n._getEnclosingContainerComponent("buttonset");this._IsCustomElement()||c&&c._IsCustomElement()?this._setDisplayOptionOnDom():this._handleLabelAndIconsAtCreateTime(),this._setupMenuButton(null),this._toggleDefaultClasses(),this._childMutationObserver&&this._childMutationObserver.observe()},_NotifyContextMenuGesture:function(t,n,o){this._OpenContextMenu(n,o,{position:{of:"keyboard"===o?e(this.rootElement):n}})},_addMutationObserver:function(){if(!this._childMutationObserver&&this._IsCustomElement()){var t=this;this._childMutationObserver=new s(this.rootElement,function(e){e.forEach(function(e){var n;if("childList"===e.type){var o=e.addedNodes&&e.addedNodes[0],s=e.target;if(o&&3===o.nodeType&&s&&1===s.nodeType&&s.classList.contains("oj-button-label")){t._childMutationObserver.disconnect(),n=!0;var i=t.buttonElement[0].querySelector(".oj-button-text");i&&(i.textContent=o.textContent),o.parentNode.removeChild(o)}}else"characterData"===e.type&&(t._childMutationObserver.disconnect(),n=!0);n&&(t._setDisplayOptionOnDom(),t._childMutationObserver.observe())})})}},_removeMutationObserver:function(){this._childMutationObserver&&(this._childMutationObserver.disconnect(),this._childMutationObserver=null)},_processSlots:function(){var n,o=this,s=this.element[0],i=s.parentNode,a="OJ-MENU-BUTTON"===i.tagName,l=t.BaseCustomElementBridge.getSlotMap(i);n=a?["startIcon","","endIcon","menu"]:["startIcon","","endIcon"],e.each(n,function(t,n){l[n]&&""!==n&&e.each(l[n],function(t,e){s.appendChild(e)})});for(var r=i.children,u=r.length-1;u>=0;u--){var c=r[u];c!==s&&"contextMenu"!==c.getAttribute("slot")&&i.removeChild(c)}var h=t.BaseCustomElementBridge.getSlotMap(s);e.each(n,function(t,n){h[n]&&e.each(h[n],function(t,i){if(s.appendChild(i),""===n){var a=i,l=a;3===a.nodeType&&(l=document.createElement("span"),a.parentNode.insertBefore(l,a),l.appendChild(a)),l.classList.add("oj-button-text"),o._setTextSpanIdAndLabelledBy(l)}else if("startIcon"===n)i.classList.add("oj-button-icon"),i.classList.add("oj-start");else if("endIcon"===n)i.classList.add("oj-button-icon"),i.classList.add("oj-end");else if("menu"===n&&(e(i).uniqueId(),o.menuSlot="#"+i.id,void 0===h.endIcon)){var r=document.createElement("span");r.className="oj-button-icon oj-end oj-component-icon oj-button-menu-dropdown-icon",r.setAttribute("slot","endIcon"),s.insertBefore(r,i)}})});var d=document.createElement("div");for(d.className="oj-button-label";s.hasChildNodes();)d.appendChild(s.firstChild);s.appendChild(d)},_getMenuNode:function(){return this._IsCustomElement()?this.menuSlot:this.options.menu},_initButtonTypes:function(){var t=this.element[0];if("INPUT"===t.tagName&&"checkbox"===t.type)this.type="checkbox",this._isToggle=!0;else if("INPUT"===t.tagName&&"radio"===t.type)this.type="radio",this._isToggle=!0;else if("INPUT"!==t.tagName||"button"!==t.type&&"submit"!==t.type&&"reset"!==t.type)if("BUTTON"===t.tagName)this.type="button";else{if("A"!==t.tagName)throw new Error("JET Button not supported on this element type");this.type="anchor"}else this.type="inputPush";if(this._isToggle){var e="label[for='"+this.element[0].getAttribute("id")+"']";this.buttonElement=this.element.siblings().filter(e)}else this.buttonElement=this.element},_initButtonTypes2:function(){var t=this.element[0];if(this._isToggle){this.buttonElement[0].classList.add("oj-button-label"),t.classList.add("oj-button-input"),t.classList.add("oj-helper-hidden-accessible"),t.setAttribute("data-oj-internal","");var e=document.createElement("span");this.element[0].parentNode.insertBefore(e,this.buttonElement[0]),e.appendChild(this.buttonElement[0]),e.appendChild(this.element[0]),this.rootElement=this.element[0].parentNode,this.rootElement.classList.add("oj-button-jqui"),this.rootElement.classList.add("oj-button-toggle"),t.checked&&(this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only"))}else this._IsCustomElement()?(this.rootElement=this.element[0].parentNode,t.classList.add("oj-button-button")):(this.rootElement=this.element[0],t.classList.add("oj-button-jqui"))},widget:function(){return e(this.rootElement)},_destroy:function(){this._removeMenuBehavior(this._getMenuNode()),this.buttonElement[0].removeEventListener("click",this._disabledClickHandler,!0),this.buttonElement[0].removeEventListener("click",this._ojActionClickHandler,!1);var e=this.element[0];e.classList.remove("oj-helper-hidden-accessible"),e.removeAttribute("aria-labelledby"),this.element.removeUniqueId(),this.options.disabled&&this._manageAnchorTabIndex(!0,!1);var n=this._isToggle;n||f(this.rootElement,l+" oj-button-jqui oj-hover oj-active oj-selected "+r+" "+u);var o=this.buttonElement[0].querySelector(".oj-button-text");o&&(this.buttonElement[0].innerHTML=o.innerHTML),n?(this.buttonElement[0].classList.remove("oj-button-label"),t.DomUtils.unwrap(this.element)):this.hasTitle||this.rootElement.removeAttribute("title"),a===this.buttonElement[0]&&(a=null),this.buttonElement.off("blur"),this._removeMutationObserver()},_NotifyDetached:function(){this._super(),this._toggleDefaultClasses()},__setAncestorComponentDisabled:function(t){this._super(t),this._updateEffectivelyDisabled()},_updateEffectivelyDisabled:function(){var t=this.element[0],e=this._IsEffectivelyDisabled();if(e?(this.rootElement.classList.add("oj-disabled"),this.rootElement.classList.remove("oj-enabled")):(this.rootElement.classList.remove("oj-disabled"),this.rootElement.classList.add("oj-enabled")),"anchor"!==this.type?(t.disabled=e,this.rootElement.removeAttribute("aria-disabled")):(t.setAttribute("aria-disabled",e),this._IsCustomElement()&&this.rootElement.removeAttribute("aria-disabled")),e){var n=this.widget()[0].classList;n.remove("oj-active"),n.remove("oj-default"),n.remove("oj-focus-only"),n.remove("oj-hover"),n.remove("oj-focus"),n.remove("oj-focus-highlight"),i=null,this._dismissMenu(this._getMenuNode())}else this._toggleDefaultClasses()},_setOption:function(t,e,n){var o=this.options[t];switch(this._super(t,e,n),t){case"chroming":d(this.rootElement,e);break;case"disabled":this._manageAnchorTabIndex(o,e),this._updateEffectivelyDisabled();var s=this._getEnclosingContainerElement("toolbar");s.length&&(this._IsCustomElement()?s[0].refresh():s.ojToolbar("refresh"));break;case"label":this._setLabelOption();break;case"display":"inputPush"!==this.type&&this._setDisplayOptionOnDom();break;case"icons":this._setIconsOption(!0);break;case"menu":this._setupMenuButton(o)}},refresh:function(){this._super(),this._ancestorDisabled&&!this._getEnclosingContainerElement("buttonset").length&&this.__setAncestorComponentDisabled(!1),d(this.rootElement,this.options.chroming)},_applyCheckedStateFromDom:function(t){"radio"===this.type?(t?m(this.element[0]):this.element).each(function(){var t=e(this).data("oj-ojButton");this.checked?(t.rootElement.classList.add("oj-selected"),t.rootElement.classList.remove("oj-default"),t.rootElement.classList.remove("oj-focus-only")):(t.rootElement.classList.remove("oj-selected"),t._toggleDefaultClasses())}):"checkbox"===this.type&&(this.element[0].checked?(this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only")):(this.rootElement.classList.remove("oj-selected"),this._toggleDefaultClasses()))},_handleLabelAndIconsAtCreateTime:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var t=this._setLabelOnDomAtCreateTime(),e=this._setIconOnDom(!0),n=this._setIconOnDom(!1);this._setDisplayOptionOnDom(t,e,n)}},_setLabelOnDomAtCreateTime:function(){var t=this.buttonElement[0],n=document.createElement("span");if(n.className="oj-button-text",this.keepDomLabel)for(;t.hasChildNodes();)n.appendChild(t.firstChild);else t.innerHTML="",n.textContent=this.options.label;if("button"===this.type){var o=document.createElement("div");o.className="oj-button-label",o.appendChild(n),this.element[0].appendChild(o)}else t.appendChild(n);return"button"!==this.type&&"anchor"!==this.type||this.element[0].hasAttribute("aria-label")||this.element[0].hasAttribute("aria-labelledby")||this._setTextSpanIdAndLabelledBy(n),e(n)},_setTextSpanIdAndLabelledBy:function(t){e(t).uniqueId(),this.element[0].setAttribute("aria-labelledby",t.getAttribute("id"))},_setLabelOption:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var t=this.buttonElement[0].querySelector(".oj-button-text");t.textContent=this.options.label,this._setDisplayOptionOnDom(e(t))}},_setLabelOnDomOfSpanlessButton:function(){this.options.label&&this.element.val(this.options.label)},_setIconsOption:function(){if("inputPush"!==this.type){var t=this._setIconOnDom(!0),e=this._setIconOnDom(!1);this._setDisplayOptionOnDom(void 0,t,e)}},_setIconOnDom:function(t){var e,n,o,s,i=this.buttonElement[0];"button"===this.type&&(i=this.element.children("div.oj-button-label")[0]),t?(e=".oj-button-icon.oj-start",n="oj-button-icon oj-start",o=this.options.icons.start,s="_lastStartIcon"):(e=".oj-button-icon.oj-end",n="oj-button-icon oj-end",o=this.options.icons.end,s="_lastEndIcon");var a,l,r=i.querySelectorAll(e);if(o)if(r.length){var u=this[s];for(a=0;a<r.length;a++)f(l=r[a],u),b(l,o)}else{var c=document.createElement("span");c.className=n+" "+o,t?i.insertBefore(c,i.firstChild):i.appendChild(c)}else for(a=0;a<r.length;a++)(l=r[a]).parentNode.removeChild(l);return this[s]=o,!!o},_setDisplayOptionOnDom:function(t,n,o){var s=this.buttonElement.children(".oj-button-label");if(!s.length){var i=this._getEnclosingContainerComponent("buttonset");s=this._IsCustomElement()||i&&i._IsCustomElement()?this.buttonElement.children("oj-option"):this.buttonElement}void 0===t&&(t=s.children(".oj-button-text")),void 0===n&&(n=!!this.options.icons.start||s.children("[slot='startIcon']").length),void 0===o&&(o=!!this.options.icons.end||s.children("[slot='endIcon']").length);var a,l=n&&o,u=n||o,c="icons"===this.options.display;if(u&&c){if(t[0]&&t[0].classList.add("oj-helper-hidden-accessible"),!this.hasTitle){var h=t[0]?t[0].textContent:"";this.rootElement.setAttribute("title",e.trim(h))}this._addMutationObserver()}else t[0]&&t[0].classList.remove("oj-helper-hidden-accessible"),this.hasTitle||this.rootElement.removeAttribute("title"),this._removeMutationObserver();a=u?c?l?"oj-button-icons-only":"oj-button-icon-only":l?"oj-button-text-icons":n?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only",f(this.rootElement,r),this.rootElement.classList.add(a)},_manageAnchorTabIndex:function(t,e){if(!t!=!e&&"anchor"===this.type&&!this._getEnclosingContainerElement("buttonset").length&&!this._getEnclosingContainerElement("toolbar").length){var n=this.element[0];if(e){var o=n.getAttribute("tabindex");this._oldAnchorTabIndex=this._isInteger(Number(o))?o:null,n.setAttribute("tabindex",-1)}else null==this._oldAnchorTabIndex?n.removeAttribute("tabindex"):n.setAttribute("tabindex",this._oldAnchorTabIndex)}},_isInteger:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},_selectorMap:{buttonset:".oj-buttonset",toolbar:".oj-toolbar"},_constructorMap:{buttonset:"ojButtonset",toolbar:"ojToolbar"},_getEnclosingContainerElement:function(t){return e(this.rootElement).closest(this._selectorMap[t])},_getEnclosingContainerComponent:function(t){var e=this._getEnclosingContainerElement(t)[0],n=o.__GetWidgetConstructor(e,this._constructorMap[t]);return n&&n("instance")},_setupMenuButton:function(t){if(this._getMenuNode()&&"INPUT"===this.element[0].tagName)throw new Error("Menu Button functionality is not supported on input elements.");if(this._removeMenuBehavior(t),this._getMenuNode()){var n=this;this.element.attr("aria-haspopup",!0).on("keydown"+this.menuEventNamespace,function(t){if(t.which===e.ui.keyCode.DOWN)return n._showMenu(t,"firstItem"),t.preventDefault(),!0;if(t.which===e.ui.keyCode.ESCAPE){var o=!n.rootElement.classList.contains("oj-selected");return n._dismissMenu(n._getMenuNode(),t),o}return!0}).on("click"+this.menuEventNamespace,function(t){var e=n._getMenu();return e.__spaceEnterDownInMenu||n._showMenu(t,"firstItem"),e.__spaceEnterDownInMenu=!1,t.preventDefault(),!0})}},_removeMenuBehavior:function(t){this.element.removeAttr("aria-haspopup").off(this.menuEventNamespace),this._dismissMenu(t),e(t).off(this.menuEventNamespace),this._menuListenerSet=!1},_getMenu:function(){var t=this._getMenuOnly(this._getMenuNode());if(!t)throw new Error('JET Button: "menu" option specified, but does not reference a valid JET Menu.');if(!this._menuListenerSet){var e,n=this;e=t._IsCustomElement()?"ojClose":"ojclose",t.widget().on(e+this.menuEventNamespace,function(t){n._menuDismissHandler(t)}),this._menuListenerSet=!0}return t},_getMenuOnly:function(t){var n=o.__GetWidgetConstructor(e(t)[0],"ojMenu");return n&&n("instance")},_showMenu:function(t,e){if(!this._IsEffectivelyDisabled()){var n=this._getMenu(),o=n.widget();n.open(t,{launcher:this.element,initialFocus:e}),o.is(":visible")&&(this._menuVisible=!0,o[0].getAttribute("aria-label")||o[0].getAttribute("aria-labelledby")||(this.element.uniqueId(),this._setAriaLabelledBy=!0,o[0].setAttribute("aria-labelledby",this.element[0].getAttribute("id"))),this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only"))}},_dismissMenu:function(t,e){if(this._menuVisible){var n=this._getMenuOnly(t);n&&(n.__collapseAll(e,!0),n.__dismiss(e))}},_menuDismissHandler:function(){this._setAriaLabelledBy&&(e(this._getMenuNode()).removeAttr("aria-labelledby"),this._setAriaLabelledBy=!1),this.rootElement.classList.remove("oj-selected"),this._toggleDefaultClasses(),this._menuVisible=!1},_toggleDefaultClasses:function(){var t,n;if(e(this.rootElement).is(".oj-hover, .oj-active, .oj-selected, .oj-disabled"))t=!1,n=!1;else{var o=e(this.rootElement).is(".oj-focus");t=!o,n=o}t?this.rootElement.classList.add("oj-default"):this.rootElement.classList.remove("oj-default"),n?this.rootElement.classList.add("oj-focus-only"):this.rootElement.classList.remove("oj-focus-only")}}),t.__registerWidget("oj.ojButtonset",e.oj.baseComponent,{_items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a",widgetEventPrefix:"oj",options:{checked:null,chroming:"full",display:"all",focusManagement:"oneTabstop"},_setCheckedOnDom:function(t,n){var o,s=e.type(t),i=this.element[0];if((o="OJ-BUTTONSET-MANY"===i.tagName||n.length>0&&n.filter("input[type=checkbox]").length===n.length)&&"array"!==s)throw new Error("Invalid 'checked' value set on JET Buttonset: "+t);if(!(this._setCheckedOnButtons(t,n,s,o)||null===t||this._IsCustomElement()&&n.length!==i.children.length))throw new Error("Invalid 'checked' value set on JET Buttonset: "+t)},_setCheckedOnButtons:function(t,e,n,o){var s=this._shallowCompare(t,e,o);return this._shouldDeepCompare(t,o,s)&&(s=this._deepCompare(t,e,o,s)),o?s===t.length:1===s},_shallowCompare:function(t,e,n){var o=this,s=0;return e.each(function(){var e=o._getInputValue(this);(n?t.indexOf(e)>-1:e===t)?(this.checked=!0,s+=1):this.checked=!1}),s},_shouldDeepCompare:function(t,e,n){return e?n!==t.length:!n},_deepCompare:function(t,e,n,o){var s=o,i=this;return e.each(function(){var e=i._getInputValue(this);if(n)for(var o=0;o<t.length;o++)i._deepCompareValues(e,t[o])&&(this.checked=!0,s+=1);else i._deepCompareValues(e,t)&&(this.checked=!0,s+=1)}),s},_deepCompareValues:function(n,o){return"object"===e.type(n)&&n.ojCompareValues?0===n.ojCompareValues(n,o):t.Object.compareValues(n,o)},_getInputValue:function(t){return this._IsCustomElement()?this._getOjOptionFromInput(t).value:t.value},_getOjOptionFromInput:function(t){return t.previousElementSibling.children[0]},_getCheckedFromDom:function(t){var e,n=null,o=null,s=this;return t.each(function(){if("input"!==this.tagName.toLowerCase())return e=void 0,!1;var t,i,a=this.type.toLowerCase();if("radio"===a)t=!0,i=this.name.toLowerCase();else{if("checkbox"!==a)return e=void 0,!1;t=!1,i=null}if(void 0!==e&&(t!==n||i!==o||n&&!o))return e=void 0,!1;var l=s._getInputValue(this);void 0===e?(e=t?this.checked?l:null:this.checked?[l]:[],n=t,o=i):this.checked&&(n?e=l:e.push(l))}),e},_CompareOptionValues:function(t,n,o){return"checked"===t?n===o||"array"===e.type(n)&&"array"===e.type(o)&&this._compareArraysAsSets(n,o):this._superApply(arguments)},_compareArraysAsSets:function(t,e){return!t.some(function(t){return e.indexOf(t)<0})&&!e.some(function(e){return t.indexOf(e)<0})},_removeNonOjOptions:function(){this.element.children(":not(oj-option)").remove()},_processOjOptions:function(){var t=this,n=this.element[0].querySelectorAll("oj-option");e.each(n,function(e,n){n.customOptionRenderer=t._customOptionRenderer.bind(t)})},_customOptionRenderer:function(t){this._removeOptionDecoration(t),this._addOptionDecoration(t)},_addOptionDecoration:function(t){this._addOptionClasses(t);var n="OJ-BUTTONSET-ONE"===this.element[0].tagName,o=n?"radio":"checkbox",s=t.value,i=t.disabled,a=document.createElement("input"),l=document.createElement("label");e(a).uniqueId(),a.value=s,a.type=o,a.disabled=i;var r=a.id;l.htmlFor=r,n&&(this._name||(this._name="_n_"+r),a.name=this._name),t.parentNode.insertBefore(l,t),l.appendChild(t),l.parentNode.insertBefore(a,l.nextElementSibling),this._setup(!1),this._setCheckedOnDom(this.options.checked,this.$buttons),this.$buttons.each(function(){e(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)})},_removeOptionDecoration:function(t){var n=t.parentNode;if("LABEL"===n.tagName){this._removeOptionClasses(t);var o=e(n).siblings(".oj-button-input");o.ojButton("destroy"),o.removeUniqueId(),o.remove(),n.parentNode.insertBefore(t,n),n.parentNode.removeChild(n)}},_addOptionClasses:function(e){var n=t.BaseCustomElementBridge.getSlotMap(e),o=n[""]?n[""]:null,s=n.startIcon?n.startIcon[0]:null,i=n.endIcon?n.endIcon[0]:null;if(s&&(s.classList.add("oj-button-icon"),s.classList.add("oj-start")),o)for(var a=0;a<o.length;a++){var l=o[a],r=l;3===l.nodeType&&(r=document.createElement("span"),l.parentNode.insertBefore(r,l),r.appendChild(l)),r.classList.add("oj-button-text")}i&&(i.classList.add("oj-button-icon"),i.classList.add("oj-end"))},_removeOptionClasses:function(e){var n=t.BaseCustomElementBridge.getSlotMap(e),o=n[""]?n[""]:null,s=n.startIcon?n.startIcon[0]:null,i=n.endIcon?n.endIcon[0]:null;if(s&&(s.classList.remove("oj-button-icon"),s.classList.remove("oj-start")),o)for(var a=0;a<o.length;a++)o[a].classList.remove("oj-button-text");i&&(i.classList.remove("oj-button-icon"),i.classList.remove("oj-end"))},_InitOptions:function(t,n){if(this._super(t,n),this.$buttons=this.element.find(this._items),!("checked"in n)){this.initCheckedFromDom=!0;var o=this._getCheckedFromDom(this.$buttons);"array"!==e.type(o)&&"OJ-BUTTONSET-MANY"!==this.element[0].tagName||(this.options.checked=[]),void 0!==o&&this.option("checked",o,{_context:{internalSet:!0}})}},_ComponentCreate:function(){this._super();var t=this.element[0];t.setAttribute(o._OJ_CONTAINER_ATTR,this.widgetName),t.classList.add("oj-buttonset"),t.classList.add("oj-component"),this._setRole(this.options.focusManagement),this._IsCustomElement()&&(this._removeNonOjOptions(),this._processOjOptions()),this._setup(!0)},_NotifyContextMenuGesture:function(t,e,n){var o=this.element.find(":oj-button[tabindex=0]");this._OpenContextMenu(e,n,{launcher:o,position:{of:"keyboard"===n?o.ojButton("widget"):e}})},_propagateDisabled:function(t){var n=!!t;this.$buttons.each(function(){e(this).data("oj-ojButton").__setAncestorComponentDisabled(n)})},_setRole:function(t){var e=this.element[0];"oneTabstop"===t?e.setAttribute("role","toolbar"):e.removeAttribute("role")},_setOption:function(t,n,o){this._superApply(arguments),"disabled"===t?(this._propagateDisabled(n),this._refreshTabStop()):"checked"===t?(this._setCheckedOnDom(n,this.$buttons),this.$buttons.each(function(){e(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)})):"focusManagement"===t?this._setRole(n):"chroming"===t?(d(this.element[0],n),this.$buttons.ojButton("refresh")):"display"===t&&this.$buttons.ojButton("option",t,n)},refresh:function(){this._super(),this._IsCustomElement()&&this._processOjOptions(),this._setup(!1)},_setup:function(t){var n=this,o=this.element[0];this.isRtl="rtl"===this._GetReadingDirection(),d(o,this.options.chroming),!t||this.initCheckedFromDom||this._IsCustomElement()||this._setCheckedOnDom(this.options.checked,this.$buttons),t||(this.$buttons=this.element.find(this._items)),this.$buttons.length>1?o.classList.add("oj-buttonset-multi"):o.classList.remove("oj-buttonset-multi"),this.$buttons.filter(":oj-button").ojButton("refresh").each(function(){e(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)}).end().not(":oj-button").ojButton({display:this.options.display}).end();for(var s=0,i=this.$buttons.length;s<i;s++){var a=this.$buttons.eq(s).ojButton("widget")[0];a.classList.remove("oj-buttonset-first"),a.classList.remove("oj-buttonset-last"),0===s?a.classList.add("oj-buttonset-first"):s===i-1&&a.classList.add("oj-buttonset-last")}this._propagateDisabled(this.options.disabled),"oneTabstop"===this.options.focusManagement&&(this.$buttons.unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(t){n._handleKeyDown(t,e(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(){e(this).data("oj-ojButton")._IsEffectivelyDisabled()||n._setTabStop(e(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(){n._setTabStop(e(this))}),this.$enabledButtons=this.$buttons.filter(function(){return!e(this).data("oj-ojButton")._IsEffectivelyDisabled()}),this._initTabindexes(t))},_refreshTabStop:function(){"oneTabstop"===this.options.focusManagement&&(this.$enabledButtons=this.$buttons.filter(function(){return!e(this).data("oj-ojButton")._IsEffectivelyDisabled()}),this._initTabindexes(!1))},_initTabindexes:function(t){var n,o=e(this._lastTabStop);this._lastTabStop=void 0,this.$buttons.attr("tabindex","-1"),n=t||!o.is(this.$enabledButtons)?this.$enabledButtons.first():o,this._setTabStop(n)},_mapToTabbable:function(t){var e=this.$enabledButtons;return t.map(function(t,n){if("radio"!==n.type||n.checked||""===n.name)return n;var o=m(n,e).filter(":checked");return o.length?o[0]:n})},_setTabStop:function(t){var e=(t=this._mapToTabbable(t))[0],n=this._lastTabStop;e!==n&&(n&&n.setAttribute("tabindex","-1"),t[0]&&t[0].setAttribute("tabindex","0"),this._lastTabStop=e)},_handleKeyDown:function(t,n){switch(t.which){case e.ui.keyCode.UP:case e.ui.keyCode.DOWN:if("radio"!==n[0].getAttribute("type"))break;case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:t.preventDefault();var o=this.$enabledButtons,s=o.length;if(s<2)break;var i=(o.index(n)+(t.which===e.ui.keyCode.DOWN||t.which===e.ui.keyCode.RIGHT!==this.isRtl?1:-1)+s)%s;o.eq(i).focus()}},_destroy:function(){var t=this.element[0];f(t,"oj-buttonset oj-component "+u),t.removeAttribute(o._OJ_CONTAINER_ATTR),t.removeAttribute("role"),"oneTabstop"===this.options.focusManagement&&this.$buttons.attr("tabindex","0"),this.$buttons.map(function(){return e(this).ojButton("widget")[0]}).removeClass("oj-buttonset-first oj-buttonset-last").end().ojButton("destroy")}}),o.setDefaultOptions({ojButton:{chroming:o.createDynamicPropertyGetter(function(t){return p("button",t.element,t.containers)})},ojButtonset:{chroming:o.createDynamicPropertyGetter(function(t){return p("buttonset",t.element,t.containers)})}})}(),i.extension._WIDGET_NAME="ojButton",i.extension._TRACK_CHILDREN="nearestCustomElement",i.extension._GLOBAL_TRANSFER_ATTRS=["href"],t.CustomElementBridge.register("oj-button",{metadata:i,innerDomFunction:function(t){return t.getAttribute("href")?"a":"button"}}),r.extension._WIDGET_NAME="ojButton",r.extension._TRACK_CHILDREN="nearestCustomElement",r.extension._GLOBAL_TRANSFER_ATTRS=["href"],t.CustomElementBridge.register("oj-menu-button",{metadata:r,innerDomFunction:function(t){return t.getAttribute("href")?"a":"button"}}),l.extension._WIDGET_NAME="ojButtonset",l.extension._ALIASED_PROPS={value:"checked"},t.CustomElementBridge.register("oj-buttonset-one",{metadata:l}),a.extension._WIDGET_NAME="ojButtonset",a.extension._ALIASED_PROPS={value:"checked"},t.CustomElementBridge.register("oj-buttonset-many",{metadata:a})});
define('appController',["ojs/ojresponsiveutils","ojs/ojresponsiveknockoututils","ojs/ojarraydataprovider","text!../js/resources/singleItemData.json","knockout","ojs/ojknockout","ojs/ojchart","ojs/ojbutton"],function(e,o,t,r,a){return new function(){var n=this,s=e.getFrameworkQuery(e.FRAMEWORK_QUERY_KEY.SM_ONLY);n.smScreen=o.createMediaQueryObservable(s),n.appName=a.observable("Progressive Web App in Oracle JET"),n.userLogin=a.observable("john.hancock@oracle.com"),n.innerRadius=a.observable(.5),n.centerLabel=a.observable("Center Label"),n.labelStyle=a.observable({fontSize:"20px",color:"#999999"}),n.jsonConverter={format:function(e){return JSON.stringify(e)},parse:function(e){return JSON.parse(e)}};var i=a.observableArray(JSON.parse(r));function l(e){n.latitude(e.coords.latitude),n.longitude(e.coords.longitude)}function c(e,o,t){this.name=e,this.linkId=o,this.linkTarget=t}n.dataProvider=new t(i,{keyAttributes:"id"}),n.getLocation=function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(l):alert("Geo Location not supported by browser")},n.latitude=a.observable(),n.longitude=a.observable(),n.footerLinks=a.observableArray([new c("About Oracle","aboutOracle","http://www.oracle.com/us/corporate/index.html#menu-about"),new c("Contact Us","contactUs","http://www.oracle.com/us/corporate/contact/index.html"),new c("Legal Notices","legalNotices","http://www.oracle.com/us/legal/index.html"),new c("Terms Of Use","termsOfUse","http://www.oracle.com/us/legal/terms/index.html"),new c("Your Privacy Rights","yourPrivacyRights","http://www.oracle.com/us/legal/privacy/index.html")])}});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojtoolbar',["ojs/ojcore","jquery","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojlogger"],function(t,e,n,o,s){"use strict";var i={properties:{chroming:{type:"string",enumValues:["full","half","outlined"]},translations:{type:"object",value:{}}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};!function(){t.__registerWidget("oj.ojToolbar",e.oj.baseComponent,{widgetEventPrefix:"oj",options:{chroming:"half"},_InitOptions:function(t,e){this._super(t,e),"disabled"in e&&s.warn("Caller attempted to set the 'disabled' option on Toolbar, but Toolbar does not support the 'disabled' option.  See API doc.")},_ComponentCreate:function(){this._super();var t=this.element[0];t.setAttribute(o._OJ_CONTAINER_ATTR,this.widgetName),t.classList.add("oj-toolbar"),t.classList.add("oj-component"),t.setAttribute("role","toolbar"),this._hasInitialFocusHandler=!1,this._setup()},_NotifyContextMenuGesture:function(t,e,n){var o=this.element.find(":oj-button[tabindex=0]");this._OpenContextMenu(e,n,{launcher:o,position:{of:"keyboard"===n?o.ojButton("widget"):e}})},_setOption:function(t,e){"disabled"!==t?(this._superApply(arguments),"chroming"===t&&this._refreshChildren()):s.warn("Caller attempted to set the 'disabled' option on Toolbar, but Toolbar does not support the 'disabled' option.  See API doc.  Ignoring the call.")},refresh:function(){this._super(),this._setup(),this._refreshTabindex()},_setup:function(){var t=this,n=this.element[0];this.isRtl="rtl"===this._GetReadingDirection(),this.$enabledButtons=e(),this._IsCustomElement()?(this._hasInitialFocusHandler||(this._focusinListener=function(e){t._handleInitialFocus()},n.addEventListener("focusin",this._focusinListener,!0),this._hasInitialFocusHandler=!0),this.topLevelChildren=n.querySelectorAll("oj-button, oj-menu-button, oj-buttonset-one, oj-buttonset-many"),this._refreshChildren()):(this.$buttons=this.element.find(":oj-button").unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(n){t._handleKeyDown(n,e(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(n){e(this).ojButton("option","disabled")||t._setTabStop(e(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(n){t._handleFocus(e(this))}),this.$buttonsets=this.element.find(":oj-buttonset").ojButtonset("refresh"),this.$topLevelButtons=this.$buttons.not(this.$buttonsets.find(":oj-button")).ojButton("refresh"))},_handleFocus:function(t){this._IsCustomElement()||0!==this.$enabledButtons.length?this._setTabStop(t):(this.$enabledButtons=this.$buttons.filter(function(){return!e(this).ojButton("option","disabled")}),this._initTabindexes(null==this._lastTabStop),this.$enabledButtons[0].focus())},_handleInitialFocus:function(){var t=this,n=this.element[0];n.removeEventListener("focusin",this._focusinListener,!0),this._hasInitialFocusHandler=!1,this.topLevelChildren=n.querySelectorAll("oj-button, oj-menu-button, oj-buttonset-one, oj-buttonset-many");var o=n.querySelectorAll("oj-button, oj-menu-button, oj-buttonset-one .oj-button, oj-buttonset-many .oj-button");this.$buttons=e(o).unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(n){var o=e(this);t._handleKeyDown(n,o)}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(n){var o=e(this);o.hasClass("oj-disabled")||t._setTabStop(o)}).unbind("focusin"+this.eventNamespace).bind("focusin"+this.eventNamespace,function(n){var o=e(this);t._handleFocus(o)}),this._IsCustomElement()?this.$enabledButtons=this.$buttons.filter(function(){return!e(this).hasClass("oj-disabled")}):this.$enabledButtons=this.$buttons.filter(function(){return!e(this).ojButton("option","disabled")}),this._initTabindexes(null==this._lastTabStop),this._getButtonFocusElem(this.$enabledButtons[0]).focus()},_refreshTabindex:function(){void 0!==this.$buttons&&(this._IsCustomElement()?this.$enabledButtons=this.$buttons.filter(function(){return!e(this).hasClass("oj-disabled")}):this.$enabledButtons=this.$buttons.filter(function(){return!e(this).ojButton("option","disabled")}),this._initTabindexes(null==this._lastTabStop))},_getButtonFocusElem:function(t){var e=t;if(void 0!==t&&this._IsCustomElement()){var n="button";t.classList.contains("oj-button-toggle")&&(n="input");for(var o=t.children,s=0;s<o.length;s++){var i=o[s];if(i.tagName.toLowerCase()===n){e=i;break}}}return e},_initTabindexes:function(t){var n,o=e(this._lastTabStop);if(this._lastTabStop=void 0,this._IsCustomElement())for(var s=0;s<this.$buttons.length;s++)this._getButtonFocusElem(this.$buttons[s]).setAttribute("tabindex","-1");else this.$buttons.attr("tabindex","-1");n=t||!o.is(this.$enabledButtons)?this.$enabledButtons.first():o,this._setTabStop(n)},_mapToTabbable:function(t){for(var n=[],o=0;o<this.$enabledButtons.length;o++)n.push(this._getButtonFocusElem(this.$enabledButtons[o]));var s=e(n);return t.map(function(t,e){if("radio"!==e.type||e.checked||""===e.name)return e;var n=function(t,e){var n,o=t.name;if(o){var s=":radio[name='"+(o=o.replace(/'/g,"\\'"))+"']:oj-button";n=e.filter(s)}else n=e.filter(t).filter(":oj-button");return n}(e,s).filter(":checked");return n.length?n[0]:e})},_setTabStop:function(t){var n=t,o=(n=this._IsCustomElement()?this._mapToTabbable(e(this._getButtonFocusElem(n[0]))):this._mapToTabbable(n))[0],s=this._lastTabStop;o!==s&&(e(s).attr("tabindex","-1"),n.attr("tabindex","0"),this._lastTabStop=o)},_handleKeyDown:function(t,n){switch(t.which){case e.ui.keyCode.UP:case e.ui.keyCode.DOWN:if("radio"!==n.attr("type"))break;case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:t.preventDefault();var o=this.$enabledButtons,s=o.length;if(s<2)break;var i=(o.index(n)+(t.which===e.ui.keyCode.DOWN||t.which===e.ui.keyCode.RIGHT^this.isRtl?1:-1)+s)%s;this._getButtonFocusElem(o.eq(i)[0]).focus()}},_destroy:function(){var t=this.element[0];t.classList.remove("oj-toolbar"),t.classList.remove("oj-component"),t.removeAttribute(o._OJ_CONTAINER_ATTR),t.removeAttribute("role"),this.$buttons.attr("tabindex","0"),this._refreshChildren()},_refreshChildren:function(){if(this._IsCustomElement())for(var t=0;t<this.topLevelChildren.length;t++){var e=this.topLevelChildren[t];"OJ-BUTTON"===e.tagName||"OJ-MENU-BUTTON"===e.tagName?o.__GetWidgetConstructor(this._getButtonFocusElem(e),"ojButton")&&e.refresh():"OJ-BUTTONSET-ONE"!==e.tagName&&"OJ-BUTTONSET-MANY"!==e.tagName||o.__GetWidgetConstructor(e,"ojButtonset")&&e.refresh()}else this.$buttonsets.ojButtonset("refresh"),this.$topLevelButtons.ojButton("refresh")}})}(),o.setDefaultOptions({ojToolbar:{chroming:o.createDynamicPropertyGetter(function(){return(n.parseJSONFromFontFamily("oj-toolbar-option-defaults")||{}).chroming})}}),i.extension._WIDGET_NAME="ojToolbar",t.CustomElementBridge.register("oj-toolbar",{metadata:i})});
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.7",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define('hammerjs',[],function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");
//# sourceMappingURL=hammer.min.js.map;
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojanimation',["ojs/ojcore","jquery","ojs/ojthemeutils","ojs/ojlogger","promise","ojs/ojcomponentcore"],function(t,i,n,e){"use strict";t.AnimationUtils={};t.AnimationUtils;return t.AnimationUtils._getName=function(i,n){if(!t.AnimationUtils._nameMap){t.AnimationUtils._nameMap={};var e=t.AnimationUtils._nameMap,a=i.style;e.backfaceVisibility=void 0!==a.webkitBackfaceVisibility?"webkitBackfaceVisibility":"backfaceVisibility",e.transform=void 0!==a.webkitTransform?"webkitTransform":"transform",e.transformOrigin=void 0!==a.webkitTransformOrigin?"webkitTransformOrigin":"transformOrigin",e.transition=void 0!==a.webkitTransition?"webkitTransition":"transition",e.transitionend=void 0!==a.webkitTransition?"webkitTransitionEnd":"transitionend"}return t.AnimationUtils._nameMap[n]||n},t.AnimationUtils._getElementStyle=function(i,n){return i.style[t.AnimationUtils._getName(i,n)]},t.AnimationUtils._setElementStyle=function(i,n,e){i.style[t.AnimationUtils._getName(i,n)]=e},t.AnimationUtils._animate=function(n,e,a,s,o,r){var l=[].concat(o),m=function(i,m){var f=function(i){var n=0===i.propertyName.indexOf("-webkit-")?i.propertyName.substr(8):i.propertyName;n=t.AnimationUtils._getCamelCasePropName(n);var e=l.indexOf(n);e>-1&&(l.length>1?l.splice(e,1):p())},c=0,d=!1;function p(){d||(c&&(window.cancelAnimationFrame(c),c=0),n.removeEventListener(t.AnimationUtils._getName(n,"transitionend"),f),i&&i(!0),d=!0)}null==a&&(a={}),null==a.css&&(a.css={}),a.css.transition=t.AnimationUtils._createTransitionValue(n,o,s);var u=t.AnimationUtils._saveStyle(n,e,a,s,r||o);t.AnimationUtils._applyState(n,e,u>1),n.addEventListener(t.AnimationUtils._getName(n,"transitionend"),f);var A=s.duration,g=s.delay,U=s._skipPromise;function _(){c=0,t.AnimationUtils._applyState(n,a,u>1)}null==e?_():(s._noReflow||(t.AnimationUtils._x=n.offsetWidth),c=window.requestAnimationFrame(_));var v=t.AnimationUtils._getTotalTiming(A,g);U||setTimeout(p,v+100)};return s._skipPromise?(m(null),null):new Promise(m).then(function(){e&&e.addClass&&i(n).removeClass(e.addClass),a&&a.addClass&&i(n).removeClass(a.addClass),t.AnimationUtils._restoreStyle(n)})},t.AnimationUtils._saveCssValues=function(i,n,e,a){for(var s=Object.keys(n),o=Object.prototype.hasOwnProperty,r=0;r<s.length;r++){var l=s[r];o.call(e,l)||a&&-1!==a.indexOf(l)||(e[l]=t.AnimationUtils._getElementStyle(i,l))}},t.AnimationUtils._saveStyle=function(i,n,e,a,s){var o=i._ojSavedStyle||{},r=n&&n.css?n.css:{},l=e&&e.css?e.css:{},m=s;a&&"all"===a.persist||(m=null),t.AnimationUtils._saveCssValues(i,r,o,m),t.AnimationUtils._saveCssValues(i,l,o,m),i._ojSavedStyle=o;var f=i._ojEffectCount||0;return f+=1,i._ojEffectCount=f,f},t.AnimationUtils._restoreStyle=function(i){var n=i,e=n._ojEffectCount;if(e>1)n._ojEffectCount=e-1;else{var a=n._ojSavedStyle;if(a){for(var s=Object.keys(a),o=0;o<s.length;o++){var r=s[o];t.AnimationUtils._setElementStyle(n,r,a[r])}delete n._ojSavedStyle,delete n._ojEffectCount}}},t.AnimationUtils._getCamelCasePropName=function(t){if(t.indexOf("-")>=0){for(var i="",n=t.split("-"),e=0;e<n.length;e++){var a=n[e];a&&(i?i+=a.charAt(0).toUpperCase()+a.slice(1):i=a)}return i}return t},t.AnimationUtils._getHyphenatedPropName=function(t){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return 0===i.indexOf("webkit")&&(i="-"+i),i},t.AnimationUtils._concatMultiValue=function(i,n,e,a,s){if(n.css[e]){var o=t.AnimationUtils._getElementStyle(i,e);o&&0!==o.indexOf(a)&&(n.css[e]=o+s+n.css[e])}},t.AnimationUtils._splitTransform=function(t){var i=[];if(t&&"none"!==t)for(var n=t,e=n.indexOf(")");e>0;){var a=n.substr(0,e+1);i.push(a.trim()),e=(n=n.slice(e+1)).indexOf(")")}return i},t.AnimationUtils._getTransformFuncName=function(t){var i=t.indexOf("(");return i>=1?t.substr(0,i):t},t.AnimationUtils._applyTransform=function(i,n){for(var e=t.AnimationUtils._getElementStyle(i,"transform"),a=t.AnimationUtils._splitTransform(e),s=t.AnimationUtils._splitTransform(n),o=[],r=0;r<s.length;r++){var l=t.AnimationUtils._getTransformFuncName(s[r]),m=!1;if(l)for(var f=0;f<a.length;f++)0===a[f].indexOf(l+"(")&&(a[f]=s[r],m=!0);m||o.push(s[r])}return(a=a.concat(o)).join(" ")},t.AnimationUtils._applyState=function(n,e,a){if(e){if(e.css){a&&t.AnimationUtils._concatMultiValue(n,e,"transition","all",", "),e.css.transform&&(e.css.transform=t.AnimationUtils._applyTransform(n,e.css.transform));for(var s=e.css,o=Object.keys(s),r=0;r<o.length;r++){var l=o[r];t.AnimationUtils._setElementStyle(n,l,s[l])}}e.addClass&&i(n).addClass(e.addClass),e.removeClass&&i(n).removeClass(e.removeClass)}},t.AnimationUtils._getTimingValue=function(t){var i=parseFloat(t);return isNaN(i)?0:t.indexOf("ms")>-1?i:1e3*i},t.AnimationUtils._getTotalTiming=function(i,n){var e=t.AnimationUtils._getTimingValue(i);return e>0?e+(n?t.AnimationUtils._getTimingValue(n):0):0},t.AnimationUtils._calcCssTime=function(i,n,e){for(var a=i.split(","),s=n.split(","),o=e.split(","),r=a.length,l=s.length,m=o.length,f=0,c=0;c<r;c++){var d=o[c%m],p=s[c%l],u=t.AnimationUtils._getTotalTiming(d,p);f=Math.max(f,u)}return f},t.AnimationUtils._calcEffectTime=function(i){var n,e,a,s=window.getComputedStyle(i);n=s.animationName||s.webkitAnimationName,e=s.animationDelay||s.webkitAnimationDelay,a=s.animationDuration||s.webkitAnimationDuration;var o=t.AnimationUtils._calcCssTime(n,e,a);n=s.transitionProperty||s.webkitTransitionProperty,e=s.transitionDelay||s.webkitTransitionDelay,a=s.transitionDuration||s.webkitTransitionDuration;var r=t.AnimationUtils._calcCssTime(n,e,a);return Math.max(o,r)},t.AnimationUtils._fillEmptyOptions=function(t,i){t.delay=t.delay||i.delay,t.duration=t.duration||i.duration,t.timingFunction=t.timingFunction||i.timingFunction,t.persist=t.persist||i.persist},t.AnimationUtils._triggerEvent=function(t,i,n,e){var a;if(e&&e._trigger)a=!e._trigger(i,null,n);else{var s="oj"+i.substr(0,1).toUpperCase()+i.substr(1),o=new CustomEvent(s,{detail:n,bubbles:!0,cancelable:!0}),r=e||t;r.dispatchEvent&&r.dispatchEvent(o),a=o.defaultPrevented}return a},t.AnimationUtils.startAnimation=function(n,e,a,s){return n=i(n)[0],new Promise(function(o,r){var l=i(n),m="oj-animate-"+e,f=m+"-active",c=!1,d=!1,p=function(){if(c&&d){l.removeClass(m),l.removeClass(f),t.AnimationUtils._restoreStyle(n),o(!0);var i={action:e,element:n};t.AnimationUtils._triggerEvent(n,"animateEnd",i,s)}},u=function(){c=!0,p()},A=function(){d=!0,p()};t.AnimationUtils._saveStyle(n,null,null,null,null);var g={action:e,element:n,endCallback:u};if(!t.AnimationUtils._triggerEvent(n,"animateStart",g,s)){for(var U=[].concat(a),_=[],v={},h=0;h<U.length;h++){var y,x=U[h],b="";null!=x&&"none"!==x&&("string"==typeof x?(b=x,y={}):"object"==typeof x&&(b=x.effect,y=i.extend({},x)),t.AnimationUtils._fillEmptyOptions(y,v),v=i.extend({},y)),b&&t.AnimationUtils[b]&&_.push(t.AnimationUtils[b](n,y))}_.length?Promise.all(_).then(u):u()}l.addClass(m);var w=window.requestAnimationFrame(function(){w=0,l.addClass(f);var i=t.AnimationUtils._calcEffectTime(n);i>0?setTimeout(A,i+100):A()});setTimeout(function(){w&&(window.cancelAnimationFrame(w),w=0,A())},1e3)})},t.AnimationUtils._mergeOptions=function(e,a){return null==t.AnimationUtils._defaultOptions&&(t.AnimationUtils._defaultOptions=n.parseJSONFromFontFamily("oj-animation-effect-default-options")),i.extend({duration:"400ms"},t.AnimationUtils._defaultOptions?t.AnimationUtils._defaultOptions[e]:null,a)},t.AnimationUtils._createTransitionValue=function(i,n,e){var a="";if(n)for(var s=0;s<n.length;s++){var o=t.AnimationUtils._getName(i,n[s]);a+=(s>0?", ":"")+t.AnimationUtils._getHyphenatedPropName(o)+" "+e.duration,e.timingFunction&&(a+=" "+e.timingFunction),e.delay&&(a+=" "+e.delay)}return a},t.AnimationUtils._fade=function(i,n,e,a,s){var o=t.AnimationUtils._mergeOptions(e,n),r={css:{opacity:a}},l={css:{opacity:s}};return o&&(o.startOpacity&&(r.css.opacity=o.startOpacity),o.endOpacity&&(l.css.opacity=o.endOpacity)),t.AnimationUtils._animate(i,r,l,o,["opacity"])},t.AnimationUtils.fadeIn=function(i,n){return t.AnimationUtils._fade(i,n,"fadeIn",0,1)},t.AnimationUtils.fadeOut=function(i,n){return t.AnimationUtils._fade(i,n,"fadeOut",1,0)},t.AnimationUtils.expand=function(i,n){return t.AnimationUtils._expandCollapse(i,n,!0)},t.AnimationUtils.collapse=function(i,n){return t.AnimationUtils._expandCollapse(i,n,!1)},t.AnimationUtils._wrapRowContent=function(t,i){var n,e,a=[],s=t.children,o=[],r=[];for(t._ojSavedHeight=t.style.height,e=0;e<s.length;e++){n=s[e];var l=window.getComputedStyle(n);o.push(l.padding),r.push(l.textAlign),n._ojSavedPadding=n.style.padding}for(e=0;e<s.length;e++){n=s[e];var m=document.createElement("div");m.style.overflow="hidden;";var f=document.createElement("div");for(f.style.display="table-cell",f.style.verticalAlign="middle",f.style.boxSizing="border-box",f.style.height=i,f.style.padding=o[e],f.style.textAlign=r[e],m.appendChild(f);n.firstChild;)f.appendChild(n.firstChild);n.appendChild(m),n.style.padding="0",a.push(m)}return t.style.height="0",a},t.AnimationUtils._unwrapRowContent=function(t){for(var i=t.children,n=0;n<i.length;n++){var e=i[n],a=e.children[0];if(a){var s=a.children[0];if(s)for(;s.firstChild;)e.appendChild(s.firstChild);e.removeChild(a)}e.style.padding=e._ojSavedPadding,delete e._ojSavedPadding}t.style.height=t._ojSavedHeight,delete t._ojSavedHeight},t.AnimationUtils._expandCollapseRow=function(n,e,a){var s,o=n.offsetHeight+"px",r=t.AnimationUtils._wrapRowContent(n,o),l=i.extend({},e);if(a?l.endMaxHeight||(l.endMaxHeight=o):l.startMaxHeight||(l.startMaxHeight=o),l.persist="all",l._noReflow=!0,r.length)for(var m=0;m<r.length;m++)0===m?(l._skipPromise=!1,s=t.AnimationUtils._expandCollapse(r[m],l,a)):(l._skipPromise=!0,t.AnimationUtils._expandCollapse(r[m],l,a));else s=Promise.resolve();return s.then(function(){null!=e&&"all"===e.persist||t.AnimationUtils._unwrapRowContent(n)})},t.AnimationUtils._getSizeLimit=function(t,i,n,e,a){var s=n;if(!s)if(e)s="0";else{var o=a?i.maxWidth:i.maxHeight;s="none"!==o?o:(a?t.offsetWidth:t.offsetHeight)+"px"}return s},t.AnimationUtils._expandCollapse=function(i,n,e){if(i&&"TR"===i.tagName)return t.AnimationUtils._expandCollapseRow(i,n,e);var a=t.AnimationUtils._mergeOptions(e?"expand":"collapse",n),s={css:{}},o={css:{}},r=a.direction||"height",l=s.css,m=o.css,f=window.getComputedStyle(i),c=[];if("both"===r||"height"===r){var d=t.AnimationUtils._getSizeLimit(i,f,a.startMaxHeight,e,!1),p=t.AnimationUtils._getSizeLimit(i,f,a.endMaxHeight,!e,!1);l.maxHeight=d,m.maxHeight=p,c.push("maxHeight")}if("both"===r||"width"===r){var u=t.AnimationUtils._getSizeLimit(i,f,a.startMaxWidth,e,!0),A=t.AnimationUtils._getSizeLimit(i,f,a.endMaxWidth,!e,!0);l.maxWidth=u,m.maxWidth=A,c.push("maxWidth")}l.overflow=a.overflow?a.overflow:"hidden";var g=[].concat(c);return g.push("overflow"),t.AnimationUtils._animate(i,s,o,a,c,g)},t.AnimationUtils.zoomIn=function(i,n){return t.AnimationUtils._zoom(i,n,!0)},t.AnimationUtils.zoomOut=function(i,n){return t.AnimationUtils._zoom(i,n,!1)},t.AnimationUtils._zoom=function(i,n,e){var a,s=t.AnimationUtils._mergeOptions(e?"zoomIn":"zoomOut",n),o={css:{}},r={css:{}},l=s.axis||"both";a="both"===l?"scale":"x"===l?"scaleX":"scaleY";var m=o.css,f=r.css;return m.transform=a+"("+(e?0:1)+") translateZ(0)",f.transform=a+"("+(e?1:0)+") translateZ(0)",m.transformOrigin=s.transformOrigin||"center",t.AnimationUtils._animate(i,o,r,s,["transform"])},t.AnimationUtils.slideIn=function(i,n){return t.AnimationUtils._slide(i,n,!0)},t.AnimationUtils.slideOut=function(i,n){return t.AnimationUtils._slide(i,n,!1)},t.AnimationUtils._slide=function(i,n,e){var a=t.AnimationUtils._mergeOptions(e?"slideIn":"slideOut",n),s={css:{}},o={css:{}},r=a.direction||"start",l="0",m="0",f=s.css,c=o.css;if(a.offsetX||a.offsetY)a.offsetX&&(l=a.offsetX),a.offsetY&&(m=a.offsetY);else{var d="rtl"===t.DomUtils.getReadingDirection();switch(r){case"left":l=(e?i.offsetWidth:-i.offsetWidth)+"px";break;case"right":l=(e?-i.offsetWidth:i.offsetWidth)+"px";break;case"top":m=(e?i.offsetHeight:-i.offsetHeight)+"px";break;case"bottom":m=(e?-i.offsetHeight:i.offsetHeight)+"px";break;case"end":l=(e?-i.offsetWidth:i.offsetWidth)*(d?-1:1)+"px";break;default:l=(e?i.offsetWidth:-i.offsetWidth)*(d?-1:1)+"px"}}return e?(f.transform="translate("+l+","+m+") translateZ(0)",c.transform="translate(0,0) translateZ(0)"):(f.transform="translate(0,0) translateZ(0)",c.transform="translate("+l+","+m+") translateZ(0)"),t.AnimationUtils._animate(i,s,o,a,["transform"])},t.AnimationUtils.ripple=function(n,e){var a=t.AnimationUtils._mergeOptions("ripple",e),s={css:{}},o={css:{}},r=n.offsetWidth,l=n.offsetHeight,m=i("<div>").css({position:"absolute",overflow:"hidden"}),f=i("<div class='oj-animation-effect-ripple oj-animation-rippler'>"),c="static"===window.getComputedStyle(n).position?{left:n.offsetLeft,top:n.offsetTop}:{left:0,top:0};n.insertBefore(m[0],n.firstChild),m.css({left:c.left+"px",top:c.top+"px",width:r+"px",height:l+"px"}),m.prepend(f);var d=s.css,p=o.css;return t.AnimationUtils._setRippleOptions(d,f,m,a),d.transform="scale(0) translateZ(0)",d.opacity=a.startOpacity||f.css("opacity"),p.transform="scale(1) translateZ(0)",p.opacity=a.endOpacity||0,a.persist="all",t.AnimationUtils._animate(f[0],s,o,a,["transform","opacity"]).then(function(){m.remove()})},t.AnimationUtils._setRippleOptions=function(i,n,e,a){var s=i,o=n.width(),r=e.width(),l=e.height();if(a.diameter){var m=a.diameter,f=parseInt(m,10);isNaN(f)||(o="%"===m.charAt(m.length-1)?Math.floor(Math.min(r,l)*(f/100)):f,s.width=o+"px",s.height=o+"px")}var c,d="static"===e.css("position")?e.position():{left:0,top:0};null!=(c=t.AnimationUtils._calcRippleOffset(a.offsetX,o,r,d.left))&&(s.left=c+"px"),null!=(c=t.AnimationUtils._calcRippleOffset(a.offsetY,o,l,d.top))&&(s.top=c+"px"),a.color&&(s.backgroundColor=a.color)},t.AnimationUtils._calcRippleOffset=function(t,i,n,e){var a,s=t||"50%",o=parseInt(s,10);return isNaN(o)||(a="%"===s.charAt(s.length-1)?n*(o/100)-i/2:o-i/2,a=Math.floor(a+e)),a},t.AnimationUtils._removeRipple=function(n,a){var s=a||{},o=s.removeEffect||"fadeOut",r=i(".oj-animation-rippler",n);if(0!==r.length)return o in{fadeOut:1,collapse:1,zoomOut:1,slideOut:1}?t.AnimationUtils[o](r,s).then(function(){r.remove()}):r.remove();e.warn("No rippler so returning")},t.AnimationUtils._calcBackfaceAngle=function(t){var i,n=t.match(/^([+-]?\d*\.?\d*)(.*)$/),a=parseFloat(n[1]),s=n[2];switch(s){case"deg":i=a-180+s;break;case"grad":i=a-200+s;break;case"rad":i=a-3.1416+s;break;case"turn":i=a-.5+s;break;default:e.error("Unknown angle unit in flip animation: "+s)}return i},t.AnimationUtils._flip=function(n,e,a,s,o){if(e&&"children"===e.flipTarget){var r,l=[],m=i(n).children(),f=i.extend({},e);delete f.flipTarget;var c=i.extend({},f);c.startAngle=t.AnimationUtils._calcBackfaceAngle(e.startAngle||s),c.endAngle=t.AnimationUtils._calcBackfaceAngle(e.endAngle||o);for(var d=0;d<m.length;d++)r=i(m[d]).hasClass("oj-animation-backface")?c:f,l.push(t.AnimationUtils._flip(m[d],r,a,s,o));return Promise.all(l)}var p,u={},A={},g={css:u},U={css:A},_="rotateY(",v="2000px",h="hidden",y="center";(e=t.AnimationUtils._mergeOptions(a,e))&&("x"===e.axis&&(_="rotateX("),e.startAngle&&(s=e.startAngle),e.endAngle&&(o=e.endAngle),e.perspective&&(v=e.perspective),e.backfaceVisibility&&(h=e.backfaceVisibility),e.transformOrigin&&(y=e.transformOrigin)),p="perspective("+v+") "+_;return u.transform=p+s+")",u.backfaceVisibility=h,u.transformOrigin=y,A.transform=p+o+")",t.AnimationUtils._animate(n,g,U,e,["transform"],["transform","backfaceVisibility","transformOrigin"])},t.AnimationUtils.flipIn=function(i,n){return t.AnimationUtils._flip(i,n,"flipIn","-180deg","0deg")},t.AnimationUtils.flipOut=function(i,n){return t.AnimationUtils._flip(i,n,"flipOut","0deg","180deg")},t.AnimationUtils.addTransition=function(i,n){var e=t.AnimationUtils._mergeOptions("addTransition",n);return t.AnimationUtils._animate(i,null,null,e,e.transitionProperties)},t.AnimationUtils});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojjquery-hammer',["ojs/ojcore","jquery","hammerjs","ojs/ojlogger"],function(e,t,a,r){"use strict";var o;a?(t.fn.ojHammer=function(e){switch(e){case"instance":return this.data("ojHammer");case"destroy":return this.each(function(){var e=t(this),a=e.data("ojHammer");a&&(a.destroy(),e.removeData("ojHammer"))});default:return this.each(function(){var r=t(this);r.data("ojHammer")||r.data("ojHammer",new a.Manager(r[0],e))})}},a.Manager.prototype.emit=(o=a.Manager.prototype.emit,function(e,a){o.call(this,e,a),t(this.element).trigger({type:e,gesture:a})})):r.warn("Hammer jQuery extension loaded without Hammer.")});
!function(t){"function"==typeof define&&define.amd?define('jqueryui-amd/position',["jquery","./version"],t):t(jQuery)}(function(t){return function(){var i,o=Math.max,e=Math.abs,l=/left|center|right/,n=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,h=/%$/,r=t.fn.position;function p(t,i,o){return[parseFloat(t[0])*(h.test(t[0])?i/100:1),parseFloat(t[1])*(h.test(t[1])?o/100:1)]}function c(i,o){return parseInt(t.css(i,o),10)||0}t.position={scrollbarWidth:function(){if(void 0!==i)return i;var o,e,l=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=l.children()[0];return t("body").append(l),o=n.offsetWidth,l.css("overflow","scroll"),o===(e=n.offsetWidth)&&(e=l[0].clientWidth),l.remove(),i=o-e},getScrollInfo:function(i){var o=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),e=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),l="scroll"===o||"auto"===o&&i.width<i.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&i.height<i.element[0].scrollHeight?t.position.scrollbarWidth():0,height:l?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var o=t(i||window),e=t.isWindow(o[0]),l=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:e,isDocument:l,offset:!e&&!l?t(i).offset():{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return r.apply(this,arguments);i=t.extend({},i);var h,a,d,g,u,m,w,W,v=t(i.of),y=t.position.getWithinInfo(i.within),H=t.position.getScrollInfo(y),b=(i.collision||"flip").split(" "),x={};return m=9===(W=(w=v)[0]).nodeType?{width:w.width(),height:w.height(),offset:{top:0,left:0}}:t.isWindow(W)?{width:w.width(),height:w.height(),offset:{top:w.scrollTop(),left:w.scrollLeft()}}:W.preventDefault?{width:0,height:0,offset:{top:W.pageY,left:W.pageX}}:{width:w.outerWidth(),height:w.outerHeight(),offset:w.offset()},v[0].preventDefault&&(i.at="left top"),a=m.width,d=m.height,g=m.offset,u=t.extend({},g),t.each(["my","at"],function(){var t,o,e=(i[this]||"").split(" ");1===e.length&&(e=l.test(e[0])?e.concat(["center"]):n.test(e[0])?["center"].concat(e):["center","center"]),e[0]=l.test(e[0])?e[0]:"center",e[1]=n.test(e[1])?e[1]:"center",t=f.exec(e[0]),o=f.exec(e[1]),x[this]=[t?t[0]:0,o?o[0]:0],i[this]=[s.exec(e[0])[0],s.exec(e[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===i.at[0]?u.left+=a:"center"===i.at[0]&&(u.left+=a/2),"bottom"===i.at[1]?u.top+=d:"center"===i.at[1]&&(u.top+=d/2),h=p(x.at,a,d),u.left+=h[0],u.top+=h[1],this.each(function(){var l,n,f=t(this),s=f.outerWidth(),r=f.outerHeight(),m=c(this,"marginLeft"),w=c(this,"marginTop"),W=s+m+c(this,"marginRight")+H.width,T=r+w+c(this,"marginBottom")+H.height,L=t.extend({},u),P=p(x.my,f.outerWidth(),f.outerHeight());"right"===i.my[0]?L.left-=s:"center"===i.my[0]&&(L.left-=s/2),"bottom"===i.my[1]?L.top-=r:"center"===i.my[1]&&(L.top-=r/2),L.left+=P[0],L.top+=P[1],l={marginLeft:m,marginTop:w},t.each(["left","top"],function(o,e){t.ui.position[b[o]]&&t.ui.position[b[o]][e](L,{targetWidth:a,targetHeight:d,elemWidth:s,elemHeight:r,collisionPosition:l,collisionWidth:W,collisionHeight:T,offset:[h[0]+P[0],h[1]+P[1]],my:i.my,at:i.at,within:y,elem:f})}),i.using&&(n=function(t){var l=g.left-L.left,n=l+a-s,h=g.top-L.top,p=h+d-r,c={target:{element:v,left:g.left,top:g.top,width:a,height:d},element:{element:f,left:L.left,top:L.top,width:s,height:r},horizontal:n<0?"left":l>0?"right":"center",vertical:p<0?"top":h>0?"bottom":"middle"};a<s&&e(l+n)<a&&(c.horizontal="center"),d<r&&e(h+p)<d&&(c.vertical="middle"),o(e(l),e(n))>o(e(h),e(p))?c.important="horizontal":c.important="vertical",i.using.call(this,t,c)}),f.offset(t.extend(L,{using:n}))})},t.ui.position={fit:{left:function(t,i){var e,l=i.within,n=l.isWindow?l.scrollLeft:l.offset.left,f=l.width,s=t.left-i.collisionPosition.marginLeft,h=n-s,r=s+i.collisionWidth-f-n;i.collisionWidth>f?h>0&&r<=0?(e=t.left+h+i.collisionWidth-f-n,t.left+=h-e):t.left=r>0&&h<=0?n:h>r?n+f-i.collisionWidth:n:h>0?t.left+=h:r>0?t.left-=r:t.left=o(t.left-s,t.left)},top:function(t,i){var e,l=i.within,n=l.isWindow?l.scrollTop:l.offset.top,f=i.within.height,s=t.top-i.collisionPosition.marginTop,h=n-s,r=s+i.collisionHeight-f-n;i.collisionHeight>f?h>0&&r<=0?(e=t.top+h+i.collisionHeight-f-n,t.top+=h-e):t.top=r>0&&h<=0?n:h>r?n+f-i.collisionHeight:n:h>0?t.top+=h:r>0?t.top-=r:t.top=o(t.top-s,t.top)}},flip:{left:function(t,i){var o,l,n=i.within,f=n.offset.left+n.scrollLeft,s=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,r=t.left-i.collisionPosition.marginLeft,p=r-h,c=r+i.collisionWidth-s-h,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];p<0?((o=t.left+a+d+g+i.collisionWidth-s-f)<0||o<e(p))&&(t.left+=a+d+g):c>0&&((l=t.left-i.collisionPosition.marginLeft+a+d+g-h)>0||e(l)<c)&&(t.left+=a+d+g)},top:function(t,i){var o,l,n=i.within,f=n.offset.top+n.scrollTop,s=n.height,h=n.isWindow?n.scrollTop:n.offset.top,r=t.top-i.collisionPosition.marginTop,p=r-h,c=r+i.collisionHeight-s-h,a="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,d="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,g=-2*i.offset[1];p<0?((l=t.top+a+d+g+i.collisionHeight-s-f)<0||l<e(p))&&(t.top+=a+d+g):c>0&&((o=t.top-i.collisionPosition.marginTop+a+d+g-h)>0||e(o)<c)&&(t.top+=a+d+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojpopupcore',["ojs/ojcore","jquery","ojs/ojcontext","ojs/ojcomponentcore","ojs/ojlogger","promise","jqueryui-amd/position"],function(e,t,r,i,o){"use strict";e.PopupService=function(){this.Init()},e.Object.createSubclass(e.PopupService,e.Object,"oj.PopupService"),e.PopupService.prototype.Init=function(){e.PopupService.superclass.Init.call(this)},e.PopupService.getInstance=function(t){return e.PopupService._popupService||(e.PopupService._popupService=new e.PopupServiceImpl),e.PopupService._popupService},e.PopupService.prototype.open=function(t){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.close=function(t){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.changeOptions=function(t){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.triggerOnDescendents=function(t,r,i){e.Assert.failedInAbstractFunction()},e.PopupService.prototype.destroy=function(){e.PopupService._popupService=null},e.PopupService.MODALITY={NONE:"none",MODAL:"modal",MODELESS:"modeless"},e.PopupService.EVENT={POPUP_REMOVE:"ojPopupRemove",POPUP_CLOSE:"ojPopupClose",POPUP_REFRESH:"ojPopupRefresh",POPUP_AUTODISMISS:"ojPopupAutoDismiss",POPUP_BEFORE_OPEN:"ojPopupBeforeOpen",POPUP_AFTER_OPEN:"ojPopupAfterOpen",POPUP_BEFORE_CLOSE:"ojPopupBeforeClose",POPUP_AFTER_CLOSE:"ojPopupAfterClose"},e.PopupService.LAYER_LEVEL={TOP_LEVEL:"topLevel",NEAREST_ANCESTOR:"nearestAncestor"},e.PopupService.OPTION={POPUP:"popup",EVENTS:"events",MODALITY:"modality",LAUNCHER:"launcher",POSITION:"position",LAYER_SELECTORS:"layerSelectors",LAYER_LEVEL:"layerLevel",CONTEXT:"context",CUSTOM_ELEMENT:"customElement"},e.PopupServiceImpl=function(){this.Init()},e.Object.createSubclass(e.PopupServiceImpl,e.PopupService,"oj.PopupServiceImpl"),e.PopupServiceImpl.prototype.open=function(r){e.Assert.assertObject(r);var n=r[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(n,t);var s=e.ZOrderUtils.getStatus(n);if(s===e.ZOrderUtils.STATUS.UNKNOWN||s===e.ZOrderUtils.STATUS.BEFORE_OPEN||s===e.ZOrderUtils.STATUS.CLOSE){var l=r[e.PopupService.OPTION.LAUNCHER];e.Assert.assertPrototype(l,t);var a=r[e.PopupService.OPTION.POSITION];e.Assert.assertObjectOrNull(a);var p=r[e.PopupService.OPTION.EVENTS];e.Assert.assertObject(p);var u=r[e.PopupService.OPTION.MODALITY];(!u||e.PopupService.MODALITY.MODELESS!==u&&e.PopupService.MODALITY.MODAL!==u)&&(u=e.PopupService.MODALITY.NONE);var c=r[e.PopupService.OPTION.LAYER_SELECTORS];e.Assert.assertString(c);var d=r[e.PopupService.OPTION.CUSTOM_ELEMENT],_=r[e.PopupService.OPTION.LAYER_LEVEL];(!_||e.PopupService.LAYER_LEVEL.TOP_LEVEL!==_&&e.PopupService.LAYER_LEVEL.NEAREST_ANCESTOR!==_)&&(_=e.PopupService.LAYER_LEVEL.NEAREST_ANCESTOR);var O=p[e.PopupService.EVENT.POPUP_BEFORE_OPEN];O&&t.isFunction(O)||(O=e.PopupServiceImpl._defaultBeforeOpenCallback);var E=p[e.PopupService.EVENT.POPUP_AFTER_OPEN];e.ZOrderUtils.setStatus(n,e.ZOrderUtils.STATUS.OPENING),e.DomUtils.setLogicalParent(n,l),e.ZOrderUtils.addToAncestorLayer(n,l,u,c,_,d);var S,v=function(){try{n.removeAttr("aria-hidden"),this._assertEventSink(),i.subtreeShown(n[0])}catch(e){o.error("Error opening popup:\n%o",e)}finally{e.ZOrderUtils.setStatus(n,e.ZOrderUtils.STATUS.OPEN),E&&E(r);var s=e.ZOrderUtils.getFirstAncestorLayer(n);if(e.Assert.assertPrototype(s,t),e.ZOrderUtils.applyEvents(s,p),!e.ZOrderUtils._getSurrogate(s)&&t.isFunction(p[e.PopupService.EVENT.POPUP_REMOVE]))(0,p[e.PopupService.EVENT.POPUP_REMOVE])()}};v=v.bind(this);try{S=O(r)}catch(e){o.error("Error before open popup:\n%o",e)}finally{S&&S instanceof Promise?S.then(v):v()}}else this._assertEventSink()},e.PopupServiceImpl._defaultBeforeOpenCallback=function(r){var i=r[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(i,t);var o=r[e.PopupService.OPTION.POSITION];i.show(),o&&i.position(o)},e.PopupServiceImpl.prototype.close=function(r){e.Assert.assertObject(r);var n=r[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(n,t);var s=e.ZOrderUtils.getOpenPopupLayer(n);e.Assert.assertPrototype(s,t);var l=r[e.PopupService.OPTION.EVENTS];l?l=t.extend(e.ZOrderUtils.getEvents(s),l):(l=e.ZOrderUtils.getEvents(s),r[e.PopupService.OPTION.EVENTS]=l);var a=e.ZOrderUtils.getStatus(n);if(a!==e.ZOrderUtils.STATUS.OPEN&&a!==e.ZOrderUtils.STATUS.BEFORE_CLOSE||!l)this._assertEventSink();else{var p=l[e.PopupService.EVENT.POPUP_BEFORE_CLOSE];p&&t.isFunction(p)||(p=e.PopupServiceImpl._defaultBeforeCloseCallback);var u=l[e.PopupService.EVENT.POPUP_AFTER_CLOSE];e.ZOrderUtils.setStatus(n,e.ZOrderUtils.STATUS.CLOSING),e.ZOrderUtils.applyEvents(s,{});var c,d=function(){try{n.hide(),n.attr("aria-hidden","true"),n.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),e.ZOrderUtils.removeFromAncestorLayer(n),e.DomUtils.setLogicalParent(n,null),this._assertEventSink(),i.subtreeHidden(n[0])}catch(e){o.error("Error closing popup:\n%o",e)}finally{e.ZOrderUtils.setStatus(n,e.ZOrderUtils.STATUS.CLOSE),u&&t.isFunction(u)&&u(r)}};d=d.bind(this);try{c=p(r)}catch(e){o.error("Error before close popup:\n%o",e)}finally{c&&c instanceof Promise?c.then(d):d()}}},e.PopupServiceImpl._defaultBeforeCloseCallback=function(r){var i=r[e.PopupService.OPTION.POPUP];e.Assert.assertPrototype(i,t),i.hide()},e.PopupServiceImpl.prototype.changeOptions=function(r){e.Assert.assertObject(r);var i=r[e.PopupService.OPTION.POPUP];if(e.Assert.assertPrototype(i,t),e.ZOrderUtils.getStatus(i)===e.ZOrderUtils.STATUS.OPEN){var o=e.ZOrderUtils.getOpenPopupLayer(i);e.Assert.assertPrototype(o,t);var n=r[e.PopupService.OPTION.EVENTS];n&&e.ZOrderUtils.applyEvents(o,n);var s=r[e.PopupService.OPTION.MODALITY];s&&e.ZOrderUtils.applyModality(o,s);var l=r[e.PopupService.OPTION.LAYER_SELECTORS];e.StringUtils.isEmptyOrUndefined(l)||o.attr("class",l)}},e.PopupServiceImpl.prototype.triggerOnDescendents=function(t,r,i){if(e.ZOrderUtils.isPopupOpen(t)){var o={};o.event=r,o.argsArray=i;var n=e.ZOrderUtils.getFirstAncestorLayer(t);e.ZOrderUtils.postOrderVisit(n,this._triggerOnDescendentsVisitCallback,o)}},e.PopupServiceImpl.prototype._triggerOnDescendentsVisitCallback=function(r,i){var o=i.event,n=i.argsArray,s=e.ZOrderUtils.getEvents(r);return s&&t.isFunction(s[o])&&s[o].apply(this,n),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.PopupServiceImpl.prototype._assertEventSink=function(){var t,r,i,o=e.ZOrderUtils.hasPopupsOpen(),n=this._callbackEventFilter;if(!o&&n){for(window.removeEventListener("resize",e.PopupServiceImpl._refreshCallback,!0),window.removeEventListener("scroll",e.PopupServiceImpl._refreshCallback,!0),(r=document.documentElement).removeEventListener("mousewheel",e.PopupServiceImpl._refreshCallback,!0),r.removeEventListener("DOMMouseScroll",e.PopupServiceImpl._refreshCallback,!0),this._callbackEventFilter=null,t=0;t<e.PopupServiceImpl._REDISTRIBUTE_EVENTS.length;t++)i=e.PopupServiceImpl._REDISTRIBUTE_EVENTS[t],r.removeEventListener(i,n,!0);var s=this._simpleTapRecognizer;s&&(s.destroy(),this._simpleTapRecognizer=null)}else if(o&&!n){for(window.addEventListener("resize",e.PopupServiceImpl._refreshCallback,!0),window.addEventListener("scroll",e.PopupServiceImpl._refreshCallback,!0),(r=document.documentElement).addEventListener("mousewheel",e.PopupServiceImpl._refreshCallback,!0),r.addEventListener("DOMMouseScroll",e.PopupServiceImpl._refreshCallback,!0),n=this._eventFilterCallback.bind(this),this._callbackEventFilter=n,t=0;t<e.PopupServiceImpl._REDISTRIBUTE_EVENTS.length;t++)i=e.PopupServiceImpl._REDISTRIBUTE_EVENTS[t],r.addEventListener(i,n,!0);e.DomUtils.isTouchSupported()&&(this._simpleTapRecognizer=new e.SimpleTapRecognizer(n))}},e.PopupServiceImpl.prototype._eventFilterCallback=function(r){var i=t(r.target);if(e.ZOrderUtils.hasPopupsOpen()){if(!e.DomUtils.isChromeEvent(r)&&("focus"!==r.type||i.is(":focusable"))){var o=e.ZOrderUtils.getDefaultLayer();if("keydown"!==r.type||!e.ZOrderUtils.hasModalDialogOpen()||e.DomUtils.isAncestor(o[0],i[0])){var n,s=e.ZOrderUtils.getFirstAncestorLayer(i);if(o[0]!==s[0]?s.hasClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR)||((n=this._lastFocusLayer)&&n.removeClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR),s.addClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR),this._lastFocusLayer=s):(n=this._lastFocusLayer)&&(n.removeClass(e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR),this._lastFocusLayer=null),"focus"!==r.type||"-1"!==i.attr("tabindex")){for(var l={},a=e.PopupServiceImpl._COPY_SAFE_EVENT_PROPERTIES,p={},u=0;u<a.length;u++){var c=a[u],d=r[c];void 0===d||t.isFunction(d)||(p[c]=d)}l.event=t.Event(r,p),e.ZOrderUtils.postOrderVisit(o,e.PopupServiceImpl._redistributeVisitCallback,l)}}else e.ZOrderUtils.eatEvent(r)}}else this._assertEventSink()},e.PopupServiceImpl._redistributeVisitCallback=function(r,i){var o=e.ZOrderUtils.getEvents(r),n=i.event;return o&&t.isFunction(o[e.PopupService.EVENT.POPUP_AUTODISMISS])&&o[e.PopupService.EVENT.POPUP_AUTODISMISS](n),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.PopupServiceImpl._refreshCallback=function(r){var i=e.PopupServiceImpl._refreshTimerId;isNaN(i)&&(e.PopupServiceImpl._refreshTimerId=window.setTimeout(function(){e.PopupServiceImpl._refreshTimerId=Number.NaN;var r=e.ZOrderUtils.getDefaultLayer();t.isFunction(window.requestAnimationFrame)?e.PopupServiceImpl._afRequestId=window.requestAnimationFrame(function(){e.PopupServiceImpl._afRequestId=null,e.ZOrderUtils.postOrderVisit(r,e.PopupServiceImpl._refreshVisitCallback)}):e.ZOrderUtils.postOrderVisit(r,e.PopupServiceImpl._refreshVisitCallback)},e.PopupServiceImpl._REFRESH_DELAY))},e.PopupServiceImpl._refreshVisitCallback=function(r,i){if(i.level>0)return e.ZOrderUtils.VISIT_RESULT.REJECT;var o=e.ZOrderUtils.getEvents(r);return o&&t.isFunction(o[e.PopupService.EVENT.POPUP_REFRESH])&&o[e.PopupService.EVENT.POPUP_REFRESH](),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.PopupServiceImpl.prototype.destroy=function(){e.PopupServiceImpl.superclass.destroy.call(this)},e.PopupServiceImpl._FOCUS_WITHIN_SELECTOR="oj-focus-within",e.PopupServiceImpl._REDISTRIBUTE_EVENTS=["focus","mousedown","keydown"],e.PopupServiceImpl._COPY_SAFE_EVENT_PROPERTIES=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","view","which","button","buttons","clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement","char","charCode","key","keyCode"],e.PopupServiceImpl._REFRESH_DELAY=10,e.ZOrderUtils={},e.ZOrderUtils.STATUS={UNKNOWN:0,BEFORE_OPEN:.5,OPENING:1,OPEN:2,BEFORE_CLOSE:2.5,CLOSING:3,CLOSE:4},e.ZOrderUtils._STATUS_DATA="oj-popup-status",e.ZOrderUtils.getStatus=function(r){r instanceof Element&&(r=t(r));var i=r.data(e.ZOrderUtils._STATUS_DATA);return isNaN(i)?e.ZOrderUtils.STATUS.UNKNOWN:i},e.ZOrderUtils.setStatus=function(r,i){r instanceof Element&&(r=t(r)),i>e.ZOrderUtils.STATUS.UNKNOWN&&i<=e.ZOrderUtils.STATUS.CLOSE&&r.data(e.ZOrderUtils._STATUS_DATA,i)},e.ZOrderUtils.getFirstAncestorLayer=function(t){if(!t)return e.ZOrderUtils.getDefaultLayer();for(var r=t;r&&r.length>0&&r.attr(e.ZOrderUtils._SURROGATE_ATTR)!==e.ZOrderUtils._DEFAULT_LAYER_ID;){if(e.ZOrderUtils._hasSurrogate(r[0]))return r;r=r.parent()}return e.ZOrderUtils.getDefaultLayer()},e.ZOrderUtils.getDefaultLayer=function(){var r=t(document.getElementById(e.ZOrderUtils._DEFAULT_LAYER_ID));return r.length>0?r:((r=t("<div>")).attr("role","presentation"),r.attr("id",e.ZOrderUtils._DEFAULT_LAYER_ID),r.prependTo(t(document.body)),r)},e.ZOrderUtils.addToAncestorLayer=function(r,o,n,s,l,a){var p=r[0];if(e.ZOrderUtils._hasSurrogate(p.parentNode))throw new Error("JET Popup is already open - id: "+p.getAttribute("id"));var u=e.ZOrderUtils.getFirstAncestorLayer(l===e.PopupService.LAYER_LEVEL.TOP_LEVEL?null:o),c=t("<div>"),d=r.attr("id");e.StringUtils.isEmptyOrUndefined(d)?c.uniqueId():c.attr("id",[d,"layer"].join("_")),c.attr("role","presentation"),c.addClass(s),r.after(c),e.ZOrderUtils._createSurrogate(c,a),i.subtreeDetached(p),r.appendTo(c),r.data(e.ZOrderUtils._LAYER_ID_DATA,c.attr("id")),c.appendTo(u),i.subtreeAttached(p),e.ZOrderUtils.applyModality(c,n)},e.ZOrderUtils._getSurrogate=function(t){var r=t.attr(e.ZOrderUtils._SURROGATE_ATTR);if(r)return document.getElementById(r)},e.ZOrderUtils.applyEvents=function(r,o,n){n||(n=t(e.ZOrderUtils._getSurrogate(r))),r.data(e.ZOrderUtils._EVENTS_DATA,o),n.length>0&&o&&t.isFunction(o[e.PopupService.EVENT.POPUP_REMOVE])&&i.setComponentOption(n[0],"beforeDestroy",o[e.PopupService.EVENT.POPUP_REMOVE])},e.ZOrderUtils.getEvents=function(t){return t.data(e.ZOrderUtils._EVENTS_DATA)},e.ZOrderUtils._createSurrogate=function(r,i){var o="script";i&&(o="oj-surrogate");var n=t(document.createElement(o)),s=r.attr("id");e.StringUtils.isEmptyOrUndefined(s)||n.attr("id",[s,"surrogate"].join("_")),i&&n.attr("data-oj-binding-provider","none"),n.insertBefore(r),i||n.ojSurrogate();var l=n.attr("id");return r.attr(e.ZOrderUtils._SURROGATE_ATTR,l),n},e.ZOrderUtils._removeSurrogate=function(r){var o=r.attr(e.ZOrderUtils._SURROGATE_ATTR);r.removeAttr(e.ZOrderUtils._SURROGATE_ATTR);var n=t(document.getElementById(o)),s=n.length>0;return s&&(r.insertAfter(n),i.setComponentOption(n[0],"beforeDestroy",null),n.remove()),s},e.ZOrderUtils.getOpenPopupLayer=function(r){var i=r.parent();if(!i||0===i.length){var o=r.data(e.ZOrderUtils._LAYER_ID_DATA);i=t(document.getElementById(o))}return i},e.ZOrderUtils.removeFromAncestorLayer=function(t){var r=e.ZOrderUtils.getOpenPopupLayer(t);e.ZOrderUtils.preOrderVisit(r,e.ZOrderUtils._closeDescendantPopupsCallback),e.ZOrderUtils._removeOverlayFromAncestorLayer(r),r.removeData(e.ZOrderUtils._EVENTS_DATA),r.removeData(e.ZOrderUtils._MODALITY_DATA),t.removeData(e.ZOrderUtils._LAYER_ID_DATA);var o=t[0];i.subtreeDetached(o),e.ZOrderUtils._removeSurrogate(r)&&o&&o.parentElement?(e.DomUtils.unwrap(t,r),i.subtreeAttached(o)):r.remove()},e.ZOrderUtils._closeDescendantPopupsCallback=function(r,i){if(i.level>0)return e.ZOrderUtils.VISIT_RESULT.REJECT;var o=r.data(e.ZOrderUtils._EVENTS_DATA);return o&&t.isFunction(o[e.PopupService.EVENT.POPUP_CLOSE])&&o[e.PopupService.EVENT.POPUP_CLOSE](),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils.applyModality=function(t,r){var i=t.data(e.ZOrderUtils._MODALITY_DATA);t.data(e.ZOrderUtils._MODALITY_DATA,r),e.StringUtils.isEmptyOrUndefined(i)?e.PopupService.MODALITY.MODAL===r?e.ZOrderUtils._addOverlayToAncestorLayer(t):e.ZOrderUtils._removeOverlayFromAncestorLayer(t):i!==r&&(r!==i&&r===e.PopupService.MODALITY.MODAL?e.ZOrderUtils._addOverlayToAncestorLayer(t):e.ZOrderUtils._removeOverlayFromAncestorLayer(t)),r===e.PopupService.MODALITY.MODAL?t.attr("aria-modal","true"):t.removeAttr("aria-modal")},e.ZOrderUtils.hasModalDialogOpen=function(){for(var r=e.ZOrderUtils.getDefaultLayer().children(),i=r.length-1;i>-1;i--){if(t(r[i]).hasClass(e.ZOrderUtils._OVERLAY_SELECTOR))return!0}return!1},e.ZOrderUtils._addOverlayToAncestorLayer=function(r){var i=t("<div>");i.addClass(e.ZOrderUtils._OVERLAY_SELECTOR),i.addClass(r[0].className),i.attr("role","presentation");var o=r.attr("id");e.StringUtils.isEmptyOrUndefined(o)?i.uniqueId():i.attr("id",[o,"overlay"].join("_")),r.before(i);var n=i.attr("id");r.attr(e.ZOrderUtils._OVERLAY_ATTR,n)},e.ZOrderUtils._removeOverlayFromAncestorLayer=function(r){var i=r.attr(e.ZOrderUtils._OVERLAY_ATTR);e.StringUtils.isEmptyOrUndefined(i)||(r.removeAttr(e.ZOrderUtils._OVERLAY_ATTR),t(document.getElementById(i)).remove())},e.ZOrderUtils.VISIT_RESULT={ACCEPT:0,REJECT:1,COMPLETE:2},e.ZOrderUtils._VISIT_TRAVERSAL={PRE_ORDER:0,POST_ORDER:1},e.ZOrderUtils.postOrderVisit=function(t,r,i){var o=i;i||(o={}),o.level=0,o.type=e.ZOrderUtils._VISIT_TRAVERSAL.POST_ORDER,e.ZOrderUtils._visitTree(t,r,o)},e.ZOrderUtils.preOrderVisit=function(t,r,i){var o=i;i||(o={}),o.level=0,o.type=e.ZOrderUtils._VISIT_TRAVERSAL.PRE_ORDER,e.ZOrderUtils._visitTree(t,r,o)},e.ZOrderUtils._visitTree=function(r,i,o){for(var n=o.level,s=r.children(),l=s.length-1;l>-1;l--){var a=t(s[l]);if(e.ZOrderUtils._hasSurrogate(a[0])){var p;if(o.type===e.ZOrderUtils._VISIT_TRAVERSAL.PRE_ORDER){if((p=i(a,o))===e.ZOrderUtils.VISIT_RESULT.COMPLETE)return p;if(p===e.ZOrderUtils.VISIT_RESULT.REJECT)break}if(o.level=n+1,p=e.ZOrderUtils._visitTree(a,i,o),o.level=n,p===e.ZOrderUtils.VISIT_RESULT.COMPLETE)return p;if(o.type===e.ZOrderUtils._VISIT_TRAVERSAL.POST_ORDER){if((p=i(a,o))===e.ZOrderUtils.VISIT_RESULT.COMPLETE)return p;if(p===e.ZOrderUtils.VISIT_RESULT.REJECT)break}}}return e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils._hasSurrogate=function(t){return!(!t||1!==t.nodeType||!t.hasAttribute(e.ZOrderUtils._SURROGATE_ATTR))},e.ZOrderUtils.hasPopupsOpen=function(){return e.ZOrderUtils.getDefaultLayer().children().length>0},e.ZOrderUtils.getOpenPopupCount=function(){var t={popupCount:0},r=e.ZOrderUtils.getDefaultLayer();return e.ZOrderUtils.preOrderVisit(r,e.ZOrderUtils._openPopupCountCallback,t),t.popupCount},e.ZOrderUtils._openPopupCountCallback=function(t,r){return r.popupCount+=1,e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils.findOpenPopups=function(){var r={},i=[];r.popups=i;var o=e.ZOrderUtils.getDefaultLayer();return e.ZOrderUtils.preOrderVisit(o,e.ZOrderUtils._openPopupsCallback,r),i=r.popups,t(i)},e.ZOrderUtils._openPopupsCallback=function(t,r){return r.popups.push(t[0]),e.ZOrderUtils.VISIT_RESULT.ACCEPT},e.ZOrderUtils.isAboveTopModalLayer=function(r){if(!r||!e.ZOrderUtils.hasPopupsOpen())return!0;var i=function(){var r={topLayer:null},i=e.ZOrderUtils.getDefaultLayer();if(e.ZOrderUtils.preOrderVisit(i,function(r,i){if(i.level>0)return e.ZOrderUtils.VISIT_RESULT.REJECT;var o=i.topLayer;return o?e.ZOrderUtils.compareStackingContexts(t(r),t(o))>0&&(i.topLayer=r):i.topLayer=r,e.ZOrderUtils.VISIT_RESULT.ACCEPT},r),r.topLayer)return r.topLayer[0]}();if(!i)return!0;var o=function(r){var i={topModalPopup:null};if(r.hasAttribute(e.ZOrderUtils._OVERLAY_ATTR)&&(i.topModalPopup=t(r)),e.ZOrderUtils.postOrderVisit(t(r),function(t,r){return t[0].hasAttribute(e.ZOrderUtils._OVERLAY_ATTR)?(r.topModalPopup=t,e.ZOrderUtils.VISIT_RESULT.COMPLETE):e.ZOrderUtils.VISIT_RESULT.ACCEPT},i),i.topModalPopup)return i.topModalPopup[0]}(i);return!o||(e.DomUtils.isAncestorOrSelf(o,r)||e.ZOrderUtils.compareStackingContexts(t(o),t(r))<0)},e.ZOrderUtils.compareStackingContexts=function(r,i){function o(r,i){var o,n=["absolute","relative","fixed"],s=r.parents(),l=[];for(o=s.length-1;o>-1;o--)l.push(t(s[o]));(s=l).push(r);var a=[],p=0;for(o=0;o<s.length;o++){var u=s[o],c=u.css("position"),d=e.DomUtils.getCSSLengthAsFloat(u.css("opacity")),_=e.DomUtils.getCSSLengthAsInt(u.css("z-index")),O=t.inArray(u[0],u.parent().children());t.inArray(c,n)>-1&&_>0?(a.push({weight:[p,_,O],order:[O]}),p+=1):d<1?(a.push({weight:[p,1,O],order:[O]}),p+=1):i&&a.push({weight:[0,0,O],order:[O]})}return a}function n(e,t){for(var r=Math.max(e.length,t.length),i=0;i<r;i++){var o=i<e.length?e[i]:0,n=i<t.length?t[i]:0;if(o!==n)return o<n?-1:1}return 0}e.Assert.assertPrototype(r,t),e.Assert.assertPrototype(i,t);var s,l,a=o(r,!1),p=o(i,!1),u=Math.max(a.length,p.length);for(s=0;s<u;s++)if(0!==(l=n(s<a.length?a[s].weight:[-1],s<p.length?p[s].weight:[-1])))return l;for(a=o(r,!0),p=o(i,!0),u=Math.max(a.length,p.length),s=0;s<u;s++)if(0!==(l=n(s<a.length?a[s].order:[-1],s<p.length?p[s].order:[-1])))return l;return 0},e.ZOrderUtils.eatEvent=function(e){e.stopPropagation(),e.preventDefault()},e.ZOrderUtils.isPopupOpen=function(t){var r=t.parent();return!(!r||1!==r.length||!e.ZOrderUtils._hasSurrogate(r[0]))},e.ZOrderUtils._EVENTS_DATA="oj-popup-events",e.ZOrderUtils._MODALITY_DATA="oj-popup-modality",e.ZOrderUtils._DEFAULT_LAYER_ID="__oj_zorder_container",e.ZOrderUtils._SURROGATE_ATTR="data-oj-surrogate-id",e.ZOrderUtils._LAYER_ID_DATA="oj-popup-layer-id",e.ZOrderUtils._OVERLAY_ATTR="data-oj-overlayid",e.ZOrderUtils._OVERLAY_SELECTOR="oj-component-overlay",e.__registerWidget("oj.ojSurrogate",t.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{beforeDestroy:null},_ComponentCreate:function(){this._super(),this.element.uniqueId()},_invokeBeforeDestroy:function(){var e=this.options.beforeDestroy;this.options.beforeDestroy=null,e&&e()},_destroy:function(){this._invokeBeforeDestroy(),this.element.removeUniqueId(),this._super()},_NotifyDetached:function(){this._invokeBeforeDestroy(),this._super()}});e.CustomElementBridge.register("oj-surrogate",{metadata:{properties:{beforeDestroy:{type:"function"}},extension:{_WIDGET_NAME:"ojSurrogate"}}}),e.SimpleTapRecognizer=function(e){this._tapCallback=e,this.Init()},e.Object.createSubclass(e.SimpleTapRecognizer,e.Object,"oj.SimpleTapRecognizer"),e.SimpleTapRecognizer.prototype.Init=function(){e.SimpleTapRecognizer.superclass.Init.call(this);var t=this._eventHandler.bind(this);this._eventHandlerCallback=t;for(var r=document.documentElement,i=0;i<e.SimpleTapRecognizer._TOUCHEVENTS.length;i++)r.addEventListener(e.SimpleTapRecognizer._TOUCHEVENTS[i],t,!0)},e.SimpleTapRecognizer.prototype._eventHandler=function(t){var r=this._tapCallback,i=t.type;if("touchstart"===i)this._touchStartEvent=t,this._touchStartEvent._tapStart=(new Date).getTime();else if("touchmove"===i||"touchcancel"===i)this._touchStartEvent=null;else if("touchend"===i){if(this._touchStartEvent){var o=this._touchStartEvent._tapStart;if(isNaN(o))r(this._touchStartEvent);else(new Date).getTime()-o<e.SimpleTapRecognizer._PRESSHOLDTHRESSHOLD&&r(this._touchStartEvent)}this._touchStartEvent=null}},e.SimpleTapRecognizer.prototype.destroy=function(){this._tapCallback=null;var t=this._eventHandlerCallback;this._eventHandlerCallback=null;for(var r=document.documentElement,i=0;i<e.SimpleTapRecognizer._TOUCHEVENTS.length;i++)r.removeEventListener(e.SimpleTapRecognizer._TOUCHEVENTS[i],t,!0)},e.SimpleTapRecognizer._TOUCHEVENTS=["touchstart","touchmove","touchcancel","touchend"],e.SimpleTapRecognizer._PRESSHOLDTHRESSHOLD=700,e.PopupLiveRegion=function(){this.Init()},e.Object.createSubclass(e.PopupLiveRegion,e.Object,"oj.PopupLiveRegion"),e.PopupLiveRegion.prototype.Init=function(){e.PopupLiveRegion.superclass.Init.call(this),isNaN(e.PopupLiveRegion._refCounter)?e.PopupLiveRegion._refCounter=1:e.PopupLiveRegion._refCounter+=1},e.PopupLiveRegion.prototype.destroy=function(){if(!isNaN(e.PopupLiveRegion._refCounter)&&(e.PopupLiveRegion._refCounter-=1,e.PopupLiveRegion._refCounter<1)){var r=t(document.getElementById(e.PopupLiveRegion._POPUP_LIVE_REGION_ID));r.length>0&&r.remove()}},e.PopupLiveRegion.prototype.announce=function(r){if(!e.StringUtils.isEmpty(r)){var i=e.PopupLiveRegion._getLiveRegion();i.children().remove(),t("<div>").text(r).appendTo(i)}},e.PopupLiveRegion._getLiveRegion=function(){var r=t(document.getElementById(e.PopupLiveRegion._POPUP_LIVE_REGION_ID));return 0===r.length&&((r=t("<div>")).attr({id:e.PopupLiveRegion._POPUP_LIVE_REGION_ID,role:"log","aria-live":"polite","aria-relevant":"additions"}),r.addClass("oj-helper-hidden-accessible"),r.appendTo(document.body)),r},e.PopupLiveRegion._POPUP_LIVE_REGION_ID="__oj_popup_arialiveregion",e.PopupSkipLink=function(r,i,o,n,s){e.Assert.assertPrototype(r,t),e.Assert.assertString(i),e.Assert.assertFunction(o),e.Assert.assertStringOrNull(n),this._options={insertBefore:!1,preventKeyEvents:!0},s&&(this._options=Object.assign({},this._options,s)),this._sibling=r,this._message=i,this._callback=o,this._id=n,this.Init()},e.Object.createSubclass(e.PopupSkipLink,e.Object,"oj.PopupSkipLink"),e.PopupSkipLink.prototype.Init=function(){e.PopupSkipLink.superclass.Init.call(this);var r=this._sibling,i=this._callback,o=this._message,n=this._options.insertBefore,s=this._options.preventKeyEvents;this._message=null;var l=this._id;this._id=null;var a=t(document.getElementById(l));a.length<1&&(a=t("<a>").attr({tabindex:"-1",href:"#",role:"link"})),a.attr("id",l),a.addClass("oj-helper-hidden-accessible"),a.text(o),n?a.insertBefore(r):a.insertAfter(r),a.on("click",e.PopupSkipLink._activateHandler.bind(this,i)),s&&a.on("keydown keyup keypress",e.PopupSkipLink._keyHandler),r.data(e.PopupSkipLink._SKIPLINK_ATTR,a)},e.PopupSkipLink._activateHandler=function(t,r){e.ZOrderUtils.eatEvent(r),window.setImmediate(t)},e.PopupSkipLink._keyHandler=function(r){r.keyCode===t.ui.keyCode.ENTER&&e.ZOrderUtils.eatEvent(r)},e.PopupSkipLink.prototype.destroy=function(){var t=this._sibling;if(delete this._sibling,delete this._callback,t){var r=t.data(e.PopupSkipLink._SKIPLINK_ATTR);t.removeData(e.PopupSkipLink._SKIPLINK_ATTR),r&&(r.off("click keydown keyup keypress"),r.remove())}},e.PopupSkipLink.prototype.getLink=function(){var t,r=this._sibling;return r&&(t=r.data(e.PopupSkipLink._SKIPLINK_ATTR)),t},e.PopupSkipLink._SKIPLINK_ATTR="oj-skiplink",e.PopupWhenReadyMediator=function(e,t,r,i){this._element=e,this._operation=t,this._widgetName=r,this._isCustomElement=!!i,this.Init()},e.Object.createSubclass(e.PopupWhenReadyMediator,e.Object,"oj.PopupWhenReadyMediator"),e.PopupWhenReadyMediator.prototype.Init=function(){e.PopupWhenReadyMediator.superclass.Init.call(this),this._resolvedQueue=[],this._callback=this._eventHandler.bind(this);var t=this._operation,i=["oj"];this._isCustomElement?(i.push(t.charAt(0).toUpperCase()),i.push(t.slice(1))):i.push(t);var o=i.join("");this._eventType=o,this._element.on(o,this._callback);var n=r.getContext(this._element[0]).getBusyContext(),s={description:this._getBusyStateDescription.bind(this,this._element,this._operation,this._widgetName)},l=n.addBusyState(s);this.AddPromiseExecutor(l),this._whenReadyPromise=new Promise(this.AddPromiseExecutor.bind(this))},e.PopupWhenReadyMediator.prototype._getBusyStateDescription=function(e,t,r){return r+" identified by '"+e.attr("id")+"' is busy animating on the '"+t+"' operation."},e.PopupWhenReadyMediator.prototype._deliverResolved=function(e){var t=this._resolvedQueue;this._resolvedQueue=null;var r=e||this._operation;this._operation=null;for(var i=0;i<t.length;i++)try{t[i](r)}catch(e){o.error("Error resolving whenReady promises:\n%o",e)}this._whenReadyPromise=Promise.resolve("none")},e.PopupWhenReadyMediator.prototype.destroy=function(){if(this._resolvedQueue&&this._deliverResolved("none"),this._callback){var e=this._eventType;this._element.off(e,this._callback)}this._callback=null,this._element=null,this._operation=null,this._whenReadyPromise=null,this._widgetName=null,this._eventType=null},e.PopupWhenReadyMediator.prototype.getWhenReadyPromise=function(){return this._whenReadyPromise},e.PopupWhenReadyMediator.prototype._eventHandler=function(e){e.target===this._element[0]&&(this._element.off(e.type,this._callback),this._deliverResolved(),this._callback=null)},e.PopupWhenReadyMediator.prototype._getPendingOperation=function(){return this._operation?this._operation:"none"},e.PopupWhenReadyMediator.prototype.AddPromiseExecutor=function(e,t){this._resolvedQueue&&this._resolvedQueue.push(e)},e.PopupWhenReadyMediator.prototype.isOperationPending=function(e,t,r,i){var n=!1,s=this._widgetName,l=this._getPendingOperation();if(t===l)o.info("An %s instance invoked a '%s' operation while pending animation of the same type of operation.  The second request will be ignored.",s,t),n=!0;else if("none"!==l){o.info("An %s instance invoked a '%s' operation while pending animation of a '%s' operation. The second request will be invoked after the pending operation completes.",s,t,l),new Promise(this.AddPromiseExecutor.bind(this)).then(function(){this[r].apply(this,i)}.bind(e)),n=!0}return n},e.PositionUtils={},e.PositionUtils.normalizeHorizontalAlignment=function(r,i){for(var o=t.extend({},r),n=0;n<e.PositionUtils._ALIGN_RULE_PROPERTIES.length;n++){var s=e.PositionUtils._ALIGN_RULE_PROPERTIES[n],l=o[s];if(l)if(e.StringUtils.isString(l))o[s]=l.replace("start",i?"right":"left").replace("end",i?"left":"right").replace("<",i?"+":"-").replace(">",i?"-":"+");else for(var a=0;a<e.PositionUtils._SUB_ALIGN_RULE_PROPERTIES.length;a++){var p=e.PositionUtils._SUB_ALIGN_RULE_PROPERTIES[a],u=l[p];e.StringUtils.isString(u)&&(l[p]=u.replace("start",i?"right":"left").replace("end",i?"left":"right").replace("<",i?"+":"-").replace(">",i?"-":"+"))}}return o},e.PositionUtils.normalizePositionOf=function(e,t,r){return"event"===e?r:null==e||"launcher"===e?t:e},e.PositionUtils._normalizeEventForPosition=function(e){t.each(["pageX","pageY"],function(t,r){if(e&&void 0===e[r]&&e.originalEvent){var i,o=e.originalEvent,n=o.type;if(i="touchstart"===n||"touchmove"===n?"touches":"touchend"===n?"changedTouches":null){var s=o[i][0];s&&(e[r]=s[r])}}})},e.PositionUtils._ALIGN_RULE_PROPERTIES=["my","at"],e.PositionUtils._SUB_ALIGN_RULE_PROPERTIES=["vertical","horizontal"],e.PositionUtils.isAligningPositionClipped=function(t){if(t.target&&t.target.height>0&&t.target.width>0){var r=t.target.element;return!e.PositionUtils.isWithinViewport(r)}return!1},e.PositionUtils.isWithinViewport=function(r){function i(t,r){var i;if(["hidden","scroll","auto"].indexOf(r.overflowY)>-1){if(t.bottom-r.top<-1)return!1;if(i="auto"===r.overflowX&&r.scrollWidth>r.innerWidth||"scroll"===r.overflowX?e.DomUtils.getScrollBarWidth():0,r.bottom-i-t.top<1)return!1}return!(["hidden","scroll","auto"].indexOf(r.overflowX)>-1&&(i="auto"===r.overflowY&&r.scrollHeight>r.innerHeight||"scroll"===r.overflowY?e.DomUtils.getScrollBarWidth():0,t.right-(r.left+("rtl"===e.DomUtils.getReadingDirection()?i:0))<-1||t.left-(r.right-("ltr"===e.DomUtils.getReadingDirection()?i:0))>-1))}function o(e){var r=e[0];if(1===r.nodeType){var i=t.extend({},r.getBoundingClientRect());return i.overflowX=e.css("overflow-x"),i.overflowY=e.css("overflow-y"),i.innerHeight=e.innerHeight(),i.innerWidth=e.innerWidth(),i.scrollHeight=r.scrollHeight,i.scrollWidth=r.scrollWidth,i}return{height:0,width:0}}function n(t){return["fixed","absolute","relative"].indexOf(t.css("position"))>-1&&(Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("top")))>0||Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("bottom")))>0||Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("left")))>0||Math.abs(e.DomUtils.getCSSLengthAsInt(t.css("right")))>0)}if(!r)return!1;if(t.isWindow(r[0])||n(r))return!0;for(var s,l=o(r),a=!0,p=r.parent();a&&p&&p.length>0&&"BODY"!==p[0].nodeName&&1===p[0].nodeType&&!n(p);){if("visible"!==(s=p).css("overflow-x")||"visible"!==s.css("overflow-y")){var u=o(p);u.height>0&&u.width>0&&(a=i(l,u))}p=p.parent()}return a},e.PositionUtils._ANIMATION_TRANSFORM_ORIGIN_RULES={"right-top":"right top","right-middle":"right center","right-bottom":"right bottom","left-top":"left top","left-middle":"left center","left-bottom":"left bottom","center-top":"center top","center-middle":"center center","center-bottom":"center bottom"},e.PositionUtils._ALIGN_MNEMONIC_DATA="oj-popup-align-mnemonic",e.PositionUtils.captureTransformOriginAnimationEffectsOption=function(t,r){var i=[r.horizontal,r.vertical].join("-");t.data(e.PositionUtils._ALIGN_MNEMONIC_DATA,i)},e.PositionUtils.addTransformOriginAnimationEffectsOption=function(t,r){var i,o;e.StringUtils.isString(r)?(o=!0,i=r):(o=!1,i=JSON.stringify(r));var n=/#myPosition/g;if(i.match(n)){var s=t.data(e.PositionUtils._ALIGN_MNEMONIC_DATA);e.StringUtils.isEmptyOrUndefined(s)&&(s="center-middle");var l=e.PositionUtils._ANIMATION_TRANSFORM_ORIGIN_RULES[s];i=i.replace(n,l),r=o?i:JSON.parse(i)}return r},e.PositionUtils._JQUI_MNEMONIC_GRP_REGX=/^(\w+)(\+|-)?(\d+)?/,e.PositionUtils._VERTICAL_ENUM_TST_REGX=/^top$|^center$|^bottom$/,e.PositionUtils._HORIZONTAL_ENUM_TST_REGX=/^start$|^left$|^center$|^end$|^right$/,e.PositionUtils._COLLISION_ENUM_TST_REGX=/^none$|^flip$|^flipfit$|^fit$|^flipcenter$/,e.PositionUtils._parsePositionNmnemonic=function(t,r){var i=[null,Number.NaN],o=e.PositionUtils._JQUI_MNEMONIC_GRP_REGX.exec(t);if(o[1]&&r.test(o[1])&&(i[0]=o[1],o[2])){var n=parseInt(o[3],10);isNaN(n)||(n*="-"===o[2]?-1:1,i[1]=n)}return i},e.PositionUtils._parseJSON=function(t){if(e.StringUtils.isString(t)&&/^{/.test(t)&&/}$/.test(t))try{return JSON.parse(t)}catch(e){}return null},e.PositionUtils._coerceMyAtToJet=function(r,i,o,n){var s=e.PositionUtils._parseJSON(i);s&&(i=s),(s=e.PositionUtils._parseJSON(o))&&(o=s),n||(n={});var l,a=t.extend({},n),p={x:0,y:0};if(o&&"x"in o&&"y"in o&&(p.x=e.DomUtils.getCSSLengthAsInt(o.x),p.y=e.DomUtils.getCSSLengthAsInt(o.y)),e.StringUtils.isString(i)){var u=i.split(/\s/);u.length>0&&!e.StringUtils.isEmpty(u[0])&&(l=e.PositionUtils._parsePositionNmnemonic(u[0],e.PositionUtils._HORIZONTAL_ENUM_TST_REGX))[0]&&(a.horizontal=l[0],isNaN(l[1])||(p.x=l[1])),u.length>1&&!e.StringUtils.isEmpty(u[1])&&(l=e.PositionUtils._parsePositionNmnemonic(u[1],e.PositionUtils._VERTICAL_ENUM_TST_REGX))[0]&&(a.vertical=l[0],isNaN(l[1])||(p.y=l[1]))}else i&&("horizontal"in i&&(l=e.PositionUtils._parsePositionNmnemonic(i.horizontal,e.PositionUtils._HORIZONTAL_ENUM_TST_REGX))[0]&&(a.horizontal=l[0],isNaN(l[1])||(p.x=l[1])),"vertical"in i&&(l=e.PositionUtils._parsePositionNmnemonic(i.vertical,e.PositionUtils._VERTICAL_ENUM_TST_REGX))[0]&&(a.vertical=l[0],isNaN(l[1])||(p.y=l[1])));var c={};return c[r]=a,c.offset=p,c},e.PositionUtils._coerceCollisionToJet=function(t,r){var i=r;return e.PositionUtils._COLLISION_ENUM_TST_REGX.test(t)&&(i=t),{collision:i}},e.PositionUtils._coerceOfToJet=function(r,i){var o=e.PositionUtils._parseJSON(r);o&&(r=o);var n=i;if(e.StringUtils.isString(r))n=r;else if(t.isWindow(r))n="window";else if(r instanceof Element||r instanceof t){(r=t(r)).uniqueId(),n="#"+function(e){for(var t=[],r=/\w|_|-/,i=0;i<e.length;i++){var o=e.substring(i,i+1);r.test(o)?t.push(o):t.push("\\"+o)}return t.join("")}(r.attr("id"))}else r instanceof Event||r instanceof t.Event?("pageX"in r||"pageY"in r)&&((n={}).x=e.DomUtils.getCSSLengthAsFloat(r.pageX),n.y=e.DomUtils.getCSSLengthAsFloat(r.pageY)):r&&("x"in r||"y"in r)&&((n={}).x=e.DomUtils.getCSSLengthAsFloat(r.x),n.y=e.DomUtils.getCSSLengthAsFloat(r.y));return{of:n}},e.PositionUtils.coerceToJet=function(r,i){r||(r={});var o=e.PositionUtils._parseJSON(r);o&&(r=o),i||(i={});var n=i.my,s=i.at,l=i.collision,a=i.of,p=e.PositionUtils._coerceMyAtToJet("my",r.my,r.offset,n),u=e.PositionUtils._coerceMyAtToJet("at",r.at,null,s),c={offset:{x:p.offset.x+u.offset.x,y:p.offset.y+u.offset.y}};return delete p.offset,delete u.offset,t.extend({},p,u,c,e.PositionUtils._coerceCollisionToJet(r.collision,l),e.PositionUtils._coerceOfToJet(r.of,a),function(e,r){return{using:t.isFunction(e)?e:r}}(r.using,void 0))},e.PositionUtils.coerceToJqUi=function(r){function i(e,t){var i=[];if(r[e][t]?i.push(r[e][t]):i.push("center"),"my"===e&&r.offset){var o="horizontal"===t?"x":"y",n=r.offset[o];isNaN(n)||0===n||(i.push(n>0?"+":""),i.push(Math.floor(n).toString()))}return i.join("")}var o={};["my","at"].forEach(function(e){if(r[e]){var t=[];t.push(i(e,"horizontal")),t.push(" "),t.push(i(e,"vertical")),o[e]=t.join("")}});var n=r.of;if(e.StringUtils.isString(n))o.of="window"===n?window:n;else if(n&&!e.StringUtils.isString(n)&&"x"in n&&"y"in n){var s=n.x,l=n.y,a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,1,s,l,s,l,!1,!1,!1,!1,0,null),o.of=t.Event(a,{pageX:s,pageY:l})}else o.of=n;return r.collision&&(o.collision=r.collision),r.using&&(o.using=r.using),o},t.ui.position.flipcenter={left:function(r,i){var o=r.left;t.ui.position.flip.left.call(this,r,i);var n=i.within,s=n.isWindow?n.scrollLeft:n.offset.left,l=n.width,a=r.left-i.collisionPosition.marginLeft,p=s-a,u=a+i.collisionWidth-l-s;(p>0||u>0)&&("right"===i.at[0]?o-=i.targetWidth/2:"left"===i.at[0]&&(o+=i.targetWidth/2),o-=("rtl"===e.DomUtils.getReadingDirection()?-1:1)*(i.elemWidth/2),r.left=Math.max(0,o))},top:function(e,r){var i=e.top;t.ui.position.flip.top.call(this,e,r);var o=r.within,n=o.isWindow?o.scrollTop:o.offset.top,s=r.within.height,l=e.top-r.collisionPosition.marginTop,a=n-l,p=l+r.collisionHeight-s-n;(a>0||p>0)&&("top"===r.at[1]?i+=r.targetHeight/2:"bottom"===r.at[1]&&(i-=r.targetHeight/2),i+=r.elemHeight/2,e.top=Math.max(0,i))}};var n=t.ui.position.flip.left;t.ui.position.flip={left:n.bind(this),top:function(e,t){var r,i,o=t.within,n=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,a=e.top-t.collisionPosition.marginTop,p=a-l,u=a+t.collisionHeight-s-l;r="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,i="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0;var c,d,_=-2*t.offset[1];p<0?((c=e.top+r+i+_+t.collisionHeight-s-n)<0||c<Math.abs(p))&&u<0&&p>u&&(e.top+=r+i+_):u>0&&((d=e.top-t.collisionPosition.marginTop+r+i+_-l)>0||Math.abs(d)<u)&&(e.top+=r+i+_)}}});
/**
 * @license
 * Copyright (c) 2014, 2019, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
define('ojs/ojmenu',["ojs/ojcore","jquery","hammerjs","ojs/ojcontext","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojlogger","ojs/ojjquery-hammer","promise","ojs/ojpopupcore","ojs/ojoption"],function(e,t,i,n,s,o,r,a){"use strict";var l={properties:{disabled:{type:"boolean",value:!1},openOptions:{type:"object",properties:{display:{type:"string",enumValues:["auto","dropDown","sheet"],value:"auto"},initialFocus:{type:"string",enumValues:["firstItem","menu","none"],value:"menu"},launcher:{type:"string|Element"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"]},vertical:{type:"string",enumValues:["bottom","center","top"]}}},collision:{type:"string",enumValues:["fit","flip","flipcenter","flipfit","none"],value:"flipfit"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"top"}}},of:{type:"string|object"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}}}},translations:{type:"object",value:{},properties:{ariaFocusSkipLink:{type:"string"},labelCancel:{type:"string"}}}},methods:{refresh:{},close:{},open:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateStart:{},ojAnimateEnd:{},ojBeforeOpen:{},ojClose:{},ojOpen:{},ojAction:{}},extension:{}};!function(){var l=[],u=!1,c="oj-menu-position",h=e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.MAC&&e.AgentUtils.getAgentInfo().browser===e.AgentUtils.BROWSER.SAFARI,m=s.parseJSONFromFontFamily("oj-menu-config")||{},d="menuItem"===m.sheetCancelAffordance,p="dismiss"===m.sheetSwipeDownBehavior,_=m.dropDownModality||"modeless",f=m.sheetModality||"modal",v="bottom-"+(m.sheetMarginBottom||0),g=p&&{recognizers:[[i.Swipe,{direction:i.DIRECTION_DOWN}]]},O=function(){var e=m.dropDownThresholdWidth;null==e&&(e="768px");var t="(min-width: "+e+")";return window.matchMedia(t)}();function b(e){var i,n=[],s=e.children("oj-defer").first();i=s.length>0?s.children(".oj-menu-item, oj-menu-select-many"):e.children(".oj-menu-item, oj-menu-select-many");for(var o=0;o<i.length;o++){var r=t(i[o]);r.is(".oj-menu-item")?n.push(r[0]):"OJ-MENU-SELECT-MANY"===r[0].nodeName&&(n=t.merge(n,r.children(".oj-menu-item")))}return n}e.__registerWidget("oj.ojMenu",t.oj.baseComponent,{defaultElement:"<ul>",delay:300,role:"menu",widgetEventPrefix:"oj",options:{menuSelector:"ul",openOptions:{display:"auto",initialFocus:"menu",launcher:null,position:{my:{horizontal:"start",vertical:"top"},offset:{x:0,y:0},at:{horizontal:"start",vertical:"bottom"},of:void 0,collision:"flipfit"}},submenuOpenOptions:{position:{my:"start top",at:"end top",collision:"flipfit"}},animateStart:null,animateEnd:null,beforeOpen:null,close:null,open:null,action:null},_ComponentCreate:function(){if(this._super(),this._focusForTesting=this._focus,this._nextForTesting=this._next,this._selectForTesting=this._select,this._IsCustomElement()){this.element.hide();var t=this.options;t.openOptions.position=e.PositionUtils.coerceToJet(t.openOptions.position);var i=this.element[0].querySelector("oj-defer");i&&i.setAttribute("data-oj-context",!0)}else this._createAsTopLevelMenu()},_createAsTopLevelMenu:function(){var e=this;this.activeMenu=this.element,this.mouseHandled=!1,this._setupSwipeBehavior(),this.element.uniqueId().addClass("oj-menu oj-component").hide().attr({role:this.role,tabIndex:"0","aria-hidden":"true"}),this._on(!0,{"mousedown .oj-menu-item":function(e){this.options.disabled&&e.preventDefault()},click:function(e){this.options.disabled&&e.preventDefault()},keydown:function(e){this.options.disabled&&(e.keyCode!==t.ui.keyCode.ESCAPE&&e.keyCode!==t.ui.keyCode.TAB||(e.keyCode===t.ui.keyCode.TAB&&e.preventDefault(),this._focusLauncherAndDismiss(e)))}}),this.options.disabled&&this.element.addClass("oj-disabled").attr("aria-disabled","true");var i=function(e){if(!this.focusHandled){this.focusHandled=!0;var i=t(e.currentTarget);try{this._focusIsFromPointer=!0,this._focus(e,i)}finally{this._focusIsFromPointer=!1}}}.bind(this),n=function(e){t(e.target).is(":visible")&&this._collapse(e,"eventSubtree")}.bind(this);this._on({"click .oj-disabled > a":function(e){e.preventDefault()},click:function(){this.mouseHandled=!1},touchstart:function(){this.focusHandled=!1},mouseover:function(){this.focusHandled=!1},"click .oj-menu-item:has(a)":function(e){var i=t(e.target).closest(".oj-menu-item");if(!this.mouseHandled&&i.not(".oj-disabled").length){if(this.mouseHandled=!0,e.preventDefault(),this.active&&this.active.closest(i).length&&this.active.get(0)!==i.get(0))return;i.has(".oj-menu").length?this._expand(e):(this._select(e),this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".oj-menu").length&&this._clearTimer&&this._clearTimer()))}},"mouseenter .oj-menu-item":i,"touchstart .oj-menu-item":i,mouseleave:n,"mouseleave .oj-menu":n,focus:function(e,i){if(!(i||e.target===this.element[0]||this._focusSkipLink&&e.target===this._focusSkipLink.getLink()[0])){var n=this.active||t(b(this.element)).first(0);this._focus(e,n)}},keydown:this._keydown,keyup:function(e){e.keyCode!==t.ui.keyCode.ENTER&&e.keyCode!==t.ui.keyCode.SPACE||(this.__spaceEnterDownInMenu=!1)}}),this._focusable({applyHighlight:!h,recentPointer:function(){return e._focusIsFromPointer},setupHandlers:function(t,i){e._focusInHandler=t,e._focusOutHandler=i}}),this._usingCallback=t.proxy(this._usingHandler,this),this._setup()},_createAsSubmenu:function(){this.element.attr(o._OJ_CONTAINER_ATTR,this.widgetName),this.element.uniqueId().addClass("oj-menu oj-component oj-menu-submenu oj-menu-dropdown").hide().attr({role:this.role,tabIndex:"0","aria-hidden":"true"}),this._setup()},__contextMenuPressHoldJustEnded:function(e){if(!arguments.length)return u;u=e},_processOjOptions:function(){this._maxEndIconCount=0,this._maxStartIconCount=0,this._startIconWidth=0,this._endIconWidth=0;var e=function(e){var i,n=[],s=e.children("oj-defer").first();i=s.length>0?s.children("oj-option, oj-menu-select-many"):e.children("oj-option, oj-menu-select-many");for(var o=0;o<i.length;o++){var r=t(i[o]);"OJ-OPTION"===r[0].nodeName?n.push(r[0]):"OJ-MENU-SELECT-MANY"===r[0].nodeName&&(n=t.merge(n,r.children("oj-option")))}return t(n)}(this.element);this._clearOption(e);for(var i=0;i<e.length;i++){e[i].customOptionRenderer=this._customOptionRenderer.bind(this)}},_customOptionRenderer:function(i){function n(e){if(e.previousElementSibling&&"OJ-OPTION"===e.previousElementSibling.nodeName)return e.previousElementSibling;if(e.previousElementSibling&&"OJ-MENU-SELECT-MANY"===e.previousElementSibling.nodeName){var t=e.previousElementSibling.lastElementChild;return"OJ-OPTION"===t.nodeName?t:t.previousElementSibling?t.previousElementSibling:n(t)}return e.previousElementSibling||"OJ-MENU-SELECT-MANY"!==e.parentElement.nodeName?void 0:n(e.parentElement)}function s(e){return e.nextElementSibling&&"OJ-OPTION"===e.nextElementSibling.nodeName?e.nextElementSibling:e.nextElementSibling&&"OJ-MENU-SELECT-MANY"===e.nextElementSibling.nodeName?e.nextElementSibling.firstElementChild:e.nextElementSibling&&"OJ-OPTION"===e.nextElementSibling.nodeName||"OJ-MENU-SELECT-MANY"!==e.parentElement.nodeName?void 0:s(e.parentElement)}var o=t(i),r="OJ-MENU-SELECT-MANY"===o.parent().prop("nodeName"),a=this;this._hasSubmenus=!1;for(var l,u,c,h,m=o.children('a[ojmenu="opt"]'),d=0;d<m.length;d++)(l=t(m[d])).children().removeClass("oj-menu-item-icon").removeClass("oj-menu-item-end-icon"),l.replaceWith(l.contents());if(o.children('span[ojmenu="opt"]').remove(),/[^\-\u2014\u2013\s]/.test(o.text())){this._initMenuItems(o);var p=document.createElement("a");p.setAttribute("href","#"),p.setAttribute("ojmenu","opt"),(l=t(p)).uniqueId().attr({tabIndex:"-1",role:this._itemRole(o)}),r&&(l.attr("aria-checked","false"),(u=i).previousElementSibling||n(u)||t(u).addClass("oj-top"),u.nextElementSibling&&"OJ-OPTION"===u.nextElementSibling.nodeName||s(u)||t(u).addClass("oj-bottom")),o.prepend(p);var _=e.BaseCustomElementBridge.getSlotMap(i),f=_.startIcon;if(f||r){if(r){var v=document.createElement("span");v.setAttribute("slot","startIcon"),v.setAttribute("ojmenu","opt"),v.setAttribute("class","oj-menucheckbox-icon"),f?f.splice(0,0,v):f=[v]}var g=f.length;a._maxStartIconCount=Math.max(a._maxStartIconCount,g),t.each(f,function(e,i){t(i).addClass("oj-menu-item-icon"),l.append(i),g>1&&a._positionStartIcon(i,e,g)})}var O=0,b=_.endIcon;b&&(O=b.length,a._maxEndIconCount=Math.max(a._maxEndIconCount,O));var j=_[""];t.each(j,function(e,i){t(i).is("oj-menu")?(a._setupSubmenu(l,t(i),0===O),a._hasSubmenus=!0):l.append(i)}),b&&t.each(b,function(e,i){t(i).addClass("oj-menu-item-end-icon"),l.append(i),O>1&&a._positionEndIcon(i,e,O)}),i.disabled?(o.addClass("oj-disabled"),l.attr("aria-disabled","true")):(o.removeClass("oj-disabled"),l.removeAttr("aria-disabled"))}else this._initDividers(o),(h=n(c=i))&&t(h).addClass("oj-menu-item-before-divider"),(h=s(c))&&t(h).addClass("oj-menu-item-after-divider")},_positionStartIcon:function(e,i,n){var s;s=this.isRtl?"margin-right":"margin-left";var o=parseInt(t(e).css(s),10);this._startIconWidth=-1*o,t(e).css(s,o*(n-i)+"px")},_positionEndIcon:function(e,i,n){var s,o;this.isRtl?(s="margin-left",o="margin-right"):(s="margin-right",o="margin-left");var r=parseInt(t(e).css(s),10);this._endIconWidth=-1*parseInt(t(e).css(o),10),t(e).css(s,r+this._endIconWidth*(n-i-1)+"px")},_updateMenuPadding:function(e){var i=t(b(e)).children(),n=i.children(".oj-menu-item-icon:not(.oj-menu-cancel-icon)").length;e.toggleClass("oj-menu-icons",!!n).toggleClass("oj-menu-text-only",!n),this._maxStartIconCount&&this._maxStartIconCount>1&&this._applyAnchorIconPadding(i,this._startIconWidth,this._maxStartIconCount,!0);var s=i.children(".oj-menu-item-end-icon").length;e.toggleClass("oj-menu-end-icons",!!s),this._maxEndIconCount&&this._maxEndIconCount>1&&this._applyAnchorIconPadding(i,this._endIconWidth,this._maxEndIconCount,!1)},_applyAnchorIconPadding:function(e,i,n,s){var o;o=this.isRtl&&s||!this.isRtl&&!s?"padding-right":"padding-left",e.each(function(){var e=parseInt(t(this).css(o),10);t(this).css(o,e+i*(n-1)+"px")})},_clickAwayHandler:function(e){if("focus"===e.type||"mousedown"===e.type||"touchstart"===e.type||121===e.keyCode&&e.shiftKey||93===e.keyCode){if("mousedown"===e.type&&u)return;var i=this,n=l.slice(0,l.length);t.each(n,function(n,s){if(!t(e.target).closest(s.element).length&&("keydown"===e.type||"mousedown"===e.type&&3===e.which||!t(e.target).closest(s._launcher).length||s._launcherClickShouldDismiss&&("mousedown"===e.type&&3!==e.which||"touchstart"===e.type))&&!s._dismissEvent){s._dismissEvent=e;var o=s._collapse(e,"eventSubtree");i._runOnPromise(o,function(){s.__dismiss(e),s._dismissEvent=null})}})}},_setOption:function(e,t){switch(this._superApply(arguments),e){case"translations":this._cancelAnchor&&this._cancelAnchor.text(this.options.translations.labelCancel)}},_destroy:function(){this.element.is(":visible")&&this.__dismiss(),this._setWhenReady("none"),this._clearTimer&&this._clearTimer(),delete this._clearTimer,this.element.removeAttr("aria-activedescendant").removeClass("oj-component").find(".oj-menu").addBack().removeClass("oj-menu oj-menu-submenu oj-menu-icons oj-menu-end-icons oj-menu-text-only").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".oj-menu-item").removeClass("oj-menu-item").removeAttr("role").children("a").removeAttr("aria-disabled").removeUniqueId().removeClass("oj-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("oj-ojMenu-submenu-icon")&&e.remove()}),this.element.find("a").removeAttr("aria-expanded"),this.element.find(".oj-menu-divider").removeClass("oj-menu-divider").removeAttr("role"),delete this._popupServiceEvents,delete this._usingCallback;var e=this._clearCloseDelayTimer;delete this._clearCloseDelayTimer,e&&e(),this.element.ojHammer("destroy"),this._super()},_keydown:function(e){var i=!0;function n(e){return e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}switch(e.keyCode){case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this._previous(e);break;case t.ui.keyCode.DOWN:this._next(e);break;case t.ui.keyCode.LEFT:case t.ui.keyCode.RIGHT:e.keyCode===t.ui.keyCode.RIGHT!==this.isRtl?this.active&&!this.active.is(".oj-disabled")&&this._expand(e):this._collapse(e,"active");break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._handleEnterSpace(e),this.__spaceEnterDownInMenu=!0;var s=this;setTimeout(function(){s.__spaceEnterDownInMenu=!1},100);break;case t.ui.keyCode.TAB:e.preventDefault(),this._focusLauncherAndDismiss(e);break;case t.ui.keyCode.ESCAPE:if(this._launcher){var o=this.element.attr("aria-activedescendant"),r=t(document.getElementById(o)).parents(".oj-menu").first();r.length>0&&r[0]!==this.element[0]?this._collapse(e,"active"):this._focusLauncherAndDismiss(e)}else this._collapse(e,"active");break;default:i=!1;var a=this.previousFilter||"",l=String.fromCharCode(e.keyCode),u=!1;clearTimeout(this.filterTimer),l===a?u=!0:l=a+l;var c=new RegExp("^"+n(l),"i"),h=t(b(this.activeMenu)).filter(function(){return c.test(t(this).children("a").text())});(h=u&&-1!==h.index(this.active.next())?this.active.nextAll(".oj-menu-item"):h).length||(l=String.fromCharCode(e.keyCode),c=new RegExp("^"+n(l),"i"),h=t(b(this.activeMenu)).filter(function(){return c.test(t(this).children("a").text())})),h.length?(this._focus(e,h),h.length>1?(this.previousFilter=l,this.filterTimer=setTimeout(function(){delete this.previousFilter}.bind(this),1e3)):delete this.previousFilter):delete this.previousFilter}i&&e.preventDefault()},_handleEnterSpace:function(e){this.active&&!this.active.is(".oj-disabled")&&(this.active.children("a[aria-haspopup='true']").length?this._expand(e):this._select(e))},refresh:function(){function e(e){for(var i=e.element.find("oj-menu:not(.oj-menu-submenu)"),s=0;s<i.length;s++){t(i[s]).attr("aria-hidden","true").hide(),n.getContext(i[s]).getBusyContext().whenReady().then(function(e){e.refresh()}.bind(e,i[s]))}}(this._super(),this._IsCustomElement()&&!this._wasCreated)?(this.element.parent().is("oj-option")&&(this._isSubmenu=!0,this._createAsSubmenu()),this._isSubmenu||(o.subtreeShown(this.element[0]),this._createAsTopLevelMenu(),e(this)),this._wasCreated=!0):(e(this),this._setup());this._reposition()},_reposition:function(){var e=this.element;if(e.is(":visible")&&(i=e[0],!((n=i.getBoundingClientRect()).width>document.documentElement.clientWidth||n.height>document.documentElement.clientHeight))){var i,n,s=e.data(c);e.position(s),e.find(".oj-menu").each(function(){var e=t(this);e.is(":visible")&&(s=e.data(c),e.position(s))})}},_setup:function(){this.isRtl="rtl"===this._GetReadingDirection(),this._IsCustomElement()?(this._processOjOptions(),this._isSubmenu&&(this.options.openOptions.launcher=this.element.parent()),this._updateMenuPadding(this.element)):this._setupWidgetMenus(),this.active&&!t.contains(this.element[0],this.active[0])&&this._blur()},_setupWidgetMenus:function(){var e=this,i=this.element.find(this.options.menuSelector),n=i.add(this.element),s=n.children();this._hasSubmenus=!!i.length,s.filter(".oj-menu-divider").has("a").removeClass("oj-menu-divider oj-menu-item").removeAttr("role");var o=s.filter(":not(.oj-menu-item):has(a)"),r=o.children("a");this._initMenuItems(o),this._initAnchors(r);var a=s.filter(function(e,i){var n=t(i);return n.is(":not(.oj-menu-item)")&&!/[^\-\u2014\u2013\s]/.test(n.text())});this._initDividers(a),this._initDividerNeighbors(s,a),s.filter(".oj-disabled").children("a").attr("aria-disabled","true"),s.filter(":not(.oj-disabled)").children("a").removeAttr("aria-disabled"),i.filter(":not(.oj-menu)").addClass("oj-menu oj-menu-submenu oj-menu-dropdown").hide().attr({role:this.role,"aria-hidden":"true"}).each(function(){var i=t(this);e._setupSubmenu(e._getSubmenuAnchor(i),i,!0)}),n.each(function(){e._updateMenuPadding(t(this))})},_setupSubmenu:function(e,i,n){if(e.attr("aria-haspopup","true").attr("aria-expanded","false"),n){var s=t("<span>");s.addClass("oj-menu-submenu-icon oj-component-icon").data("oj-ojMenu-submenu-icon",!0),e.append(s)}i.attr("aria-labelledby",e.attr("id"))},_initMenuItems:function(e){e.addClass("oj-menu-item").attr("role","presentation")},_initAnchors:function(e){for(var i=0;i<e.length;i++){var n=t(e[i]);n.uniqueId().attr({tabIndex:"-1",role:this._itemRole(n.parent())})}},_initDividers:function(e){e.addClass("oj-menu-divider").attr("role","separator")},_initDividerNeighbors:function(e,t){e.removeClass("oj-menu-item-before-divider oj-menu-item-after-divider"),t.prev().addClass("oj-menu-item-before-divider"),t.next().addClass("oj-menu-item-after-divider")},_clearOption:function(e){e.removeClass("oj-menu-item-before-divider oj-menu-item-after-divider oj-menu-divider oj-menu-item").removeAttr("role")},_getSubmenuAnchor:function(e){return e.prev("a")},_getSubmenuWidget:function(e){return o.__GetWidgetConstructor(e,"ojMenu")("instance")},_itemRole:function(e){return"OJ-MENU-SELECT-MANY"===e.parent().prop("nodeName")?"menuitemcheckbox":"menuitem"},_getAdjacentDividers:function(e,t){var i=e.prev(".oj-menu-divider").add(e.next(".oj-menu-divider"));return t&&(i=i.add(e)),i},_focus:function(e,i){var n=this.active?this.active:t();if(!i.is(n)){e&&"focus"===e.type||this._clearTimer&&this._clearTimer(),i=i.first(),this._makeActive(i,e);var s=i.parents(".oj-menu").first(),o=s.closest(".oj-menu-item");s.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor"),this._getAdjacentDividers(o,!0).addClass("oj-focus-ancestor"),e&&"keydown"===e.type?this._close():this._clearTimer=this._setTimer(function(){return delete this._clearTimer,this._close()},this._getSubmenuBusyStateDescription("closing"),this.delay);var r=this._IsCustomElement()?i.children("oj-menu"):i.children(".oj-menu"),a=r.length>0&&n.length>0&&t.contains(r[0],n[0]);r.length&&e&&/^mouse|click/.test(e.type)&&!this.active.hasClass("oj-disabled")&&!a&&this._startOpening(e,r),this.activeMenu=i.parents(".oj-menu").first()}},_makeActive:function(e,i){if(!e.is(this.active)){var n,s,o=this.active?this.active:t(),r=e.children("a");this.active=e,this.element.attr("aria-activedescendant",r.attr("id")),this._focusOutHandler(o),this._focusInHandler(e),this._getAdjacentDividers(o).removeClass("oj-focus"),this._getAdjacentDividers(e).addClass("oj-focus"),this._trigger("_activeItem",i,{previousItem:o,item:e,privateNotice:"The _activeItem event is private.  Do not use."}),i&&/^key/.test(i.type)&&(n=r[0],(s=n.getBoundingClientRect()).top<0||s.bottom>document.documentElement.clientHeight||s.left<0||s.right>document.documentElement.clientWidth)&&r[0].scrollIntoView()}},_removeActive:function(e){if(this.active){var i=this.active;this.active=null,this.element.removeAttr("aria-activedescendant"),this._focusOutHandler(i),this._getAdjacentDividers(i).removeClass("oj-focus"),this._trigger("_activeItem",e,{previousItem:i,item:t(),privateNotice:"The _activeItem event is private.  Do not use."})}},_blur:function(e){this._clearTimer&&this._clearTimer(),this._removeActive(e)},_focusLauncherAndDismiss:function(e,t){this._launcher&&this._launcher.focus(),this.__dismiss(e,t)},close:function(){this.__dismiss()},__dismiss:function(t,i){if(!this._isOperationPending("close","__dismiss",[t,i])&&e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN){var n=this.element.is(":visible");this._setWhenReady("close");var s={};s[e.PopupService.OPTION.POPUP]=this.element,s[e.PopupService.OPTION.CONTEXT]={event:t,selectUi:i,isOpen:n},e.PopupService.getInstance().close(s)}},_getDefaultAnimation:function(e,t){return s.parseJSONFromFontFamily("oj-menu-option-defaults").animation[e][t]},_isAnimationDisabled:function(){return!this._IsCustomElement()||this._disableAnimation},_replaceAnimationOptions:function(e,t){var i=e;if(t&&e&&"string"!=typeof e){for(var n=JSON.stringify(e),s=Object.keys(t),o=0;o<s.length;o++){var r=s[o];n=n.replace(new RegExp(r,"g"),t[r])}i=JSON.parse(n)}return i},_runOnPromise:function(e,t){return e?e.then(t):t()},_beforeCloseHandler:function(t){var i=t[e.PopupService.OPTION.POPUP];if(this._IsCustomElement()){var n=t[e.PopupService.OPTION.CONTEXT],s=n.selectUi;if(s&&s.item.length){var o={},a=s.item[0],l=n.event;o.originalEvent=l.originalEvent;var u={detail:o,cancelable:!0,bubbles:!0},c=new CustomEvent("ojAction",u);a.dispatchEvent(c),n.event=c}}if(!this._isAnimationDisabled()){var h=this._getDefaultAnimation(this._sheetMenuIsOpen?"sheet":"dropdown","close"),m=r.startAnimation(i[0],"close",e.PositionUtils.addTransformOriginAnimationEffectsOption(i,h),this);return m.then(function(){i.attr("aria-hidden","true").hide()}),m}i.attr("aria-hidden","true").hide()},_afterCloseHandler:function(t){var i=t[e.PopupService.OPTION.CONTEXT],n=i.event,s=i.selectUi,o=i.isOpen;(this.element.removeData(c),this._launcher=void 0,this._sheetMenuIsOpen=!1,!this._IsCustomElement()&&s)&&(n=this._trigger2("select",n,s).event);o&&this._trigger("close",n,{}),this._currentOpenOptions=null;var r=l.indexOf(this);l.splice(r,1),this._destroyVoiceOverAssist()},getCurrentOpenOptions:function(){return t.extend(!0,{},this._currentOpenOptions||this.options.openOptions)},open:function(i,n){var s=arguments[2];if(!this._isOperationPending("open","open",[i,n,s])){this._IsCustomElement()&&this.refresh(),this.element.removeAttr("aria-activedescendant"),this.element.find(".oj-focus").removeClass("oj-focus"),this.focusHandled=!1,this._focusIsFromPointer=!1,this.mouseHandled=!1,this.activeMenu=this.element,this.active=null,(n=t.extend({},this.options.openOptions,n)).position=t.extend({},n.position),this._IsCustomElement()&&this._setPosition(n.position),s=t.extend({},this.options.submenuOpenOptions,s);var o=this._currentOpenOptions;this._currentOpenOptions=n,e.PositionUtils._normalizeEventForPosition(i),this._launcherClickShouldDismiss=this.element[0].__openingContextMenu;var r=this._trigger2("beforeOpen",i,{openOptions:n});if(!r.proceed)return this._currentOpenOptions=o,void(this._disableAnimation=!1);this.element.is(":visible")&&(this._disableAnimation=!0,this._currentOpenOptions=o,this.__dismiss(r.event),this._dismissEvent=null,this._currentOpenOptions=n);var u=n.launcher;if(!(u=this._IsCustomElement()?"string"===t.type(u)?t(document.getElementById(u)):t(u):"string"===t.type(u)?t(u):u)||!u.length)return a.warn("When calling Menu.open(), must specify openOptions.launcher via the component option, method param, or beforeOpen listener.  Ignoring the call."),this._currentOpenOptions=null,void(this._disableAnimation=!1);var h,m,d=this._isDropDown(n.display);if(this._toggleCancelDom(d),d){this.element.addClass("oj-menu-dropdown").removeClass("oj-menu-sheet"),m=_;var p=e.PositionUtils.normalizeHorizontalAlignment(n.position,this.isRtl);this._IsCustomElement()?(p=e.PositionUtils.coerceToJet(p,this.options.openOptions.position),h=e.PositionUtils.coerceToJqUi(p)):h=p,h.of=e.PositionUtils.normalizePositionOf(h.of,u,i)}else this.element.addClass("oj-menu-sheet").removeClass("oj-menu-dropdown"),m=f,h={my:"bottom",at:v,of:window,collision:"flipfit"};var g=this.element[0],O=l.slice(0,l.length);t.each(O,function(e,t){t.element[0]!==g&&(t._collapse(i,"eventSubtree"),t.__dismiss(i))}),this._submenuPosition=e.PositionUtils.normalizeHorizontalAlignment(s.position,this.isRtl);var b=this._usingCallback;t.isFunction(h.using)&&(h.origUsing=h.using),h.using=b,this.element.data(c,h),this._setWhenReady("open");var j={};j[e.PopupService.OPTION.POPUP]=this.element,j[e.PopupService.OPTION.LAUNCHER]=u,j[e.PopupService.OPTION.POSITION]=h,j[e.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),j[e.PopupService.OPTION.LAYER_SELECTORS]="oj-menu-layer",j[e.PopupService.OPTION.MODALITY]=m,j[e.PopupService.OPTION.CONTEXT]={event:i,initialFocus:n.initialFocus,launcher:u,isDropDown:d},j[e.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement();var E=e.PopupService.getInstance(),C=E.open.bind(E,j),S=this.element[0].querySelector("oj-defer");if(S)e.Context.getContext(S).getBusyContext().whenReady().then(C);else C();this._disableAnimation=!1}},_setPosition:function(t){var i=this.options;i.openOptions.position=e.PositionUtils.coerceToJet(t,i.openOptions.position)},_beforeOpenHandler:function(t){var i,n=t[e.PopupService.OPTION.POPUP],s=t[e.PopupService.OPTION.POSITION],o=t[e.PopupService.OPTION.CONTEXT],a=o.event,l=o.isDropDown,u=o.initialFocus;if(n.show(),n.position(s),this._initVoiceOverAssist(u),"firstItem"===u){var c=this._getFirstItem();this._focus(a,c)}if(!this._isAnimationDisabled()){var h=this._getDefaultAnimation(l?"dropdown":"sheet","open");i=r.startAnimation(n[0],"open",e.PositionUtils.addTransformOriginAnimationEffectsOption(n,h),this)}return i},_afterOpenHandler:function(t){var i,n=t[e.PopupService.OPTION.CONTEXT],s=n.event,o=n.launcher,r=n.isDropDown,a=n.initialFocus;(this._launcher=o,this._sheetMenuIsOpen=!r,l.push(this),"firstItem"===a||"menu"===a)&&(i=this._focusSkipLink&&"menu"===a?this._focusSkipLink.getLink():this.element,this._IsCustomElement()?window.setImmediate(function(){i.focus()}):i.focus());this._trigger("open",s,{})},_initVoiceOverAssist:function(t){if("menu"===t&&(e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.IOS||e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.ANDROID)){var i=this._getFirstItem();if(!(i.length<1)){var n=this.element.attr("id");e.StringUtils.isEmptyOrUndefined(n)&&(n=this.uuid);var s=[n,"focusSkipLink"].join("_"),o=function(){window.setImmediate(function(e,t){t.find("a").first().focus(),e._focus(null,t)}.bind(this,this,i))}.bind(this),r=this.options.translations.ariaFocusSkipLink;this._focusSkipLink=new e.PopupSkipLink(i,r,o,s,{insertBefore:!0,preventKeyEvents:!1})}}},_destroyVoiceOverAssist:function(){this._focusSkipLink&&(this._focusSkipLink.destroy(),delete this._focusSkipLink)},_getFirstItem:function(){return this.element.find(".oj-menu-item").first()},_startOpening:function(e,t){this._clearTimer&&this._clearTimer(),this._IsCustomElement()&&t[0].refresh(),this._clearTimer=this._setTimer(function(){return delete this._clearTimer,this._close().then(function(){this._open(e,t)}.bind(this))},this._getSubmenuBusyStateDescription("closing and opening"),this.delay)},_open:function(i,s){if("true"===s.attr("aria-hidden")&&this.active){var o;if(this._IsCustomElement()){var a=this._getSubmenuWidget(s);if(!a._trigger2("beforeOpen",i).proceed)return;o=e.PositionUtils.coerceToJqUi(a.options.openOptions.position),o=e.PositionUtils.normalizeHorizontalAlignment(o,this.isRtl)}else o=this._submenuPosition;if(o=t.extend({of:this.active},o),this._clearTimer&&this._clearTimer(),this.element.find(".oj-menu").not(s.parents(".oj-menu")).hide().attr("aria-hidden","true").removeData(c),s.show().removeAttr("aria-hidden").position(o).data(c,o),this._getSubmenuAnchor(s).attr("aria-expanded","true"),!this._isAnimationDisabled()){var l=n.getContext(this.element[0]).getBusyContext().addBusyState({description:this._getSubmenuBusyStateDescription("opening")}),u=this._getDefaultAnimation("submenu","open");u=this._replaceAnimationOptions(u,{"#myPosition":o.my}),r.startAnimation(s[0],"open",u,this).then(l)}}},__collapseAll:function(e,i,s){var o;this._clearTimer&&this._clearTimer();var r=this,a=function(){delete r._clearTimer;var n=i?r.element:t(e&&e.target).closest(r.element.find(".oj-menu"));n.length||(n=r.element);var s=r._close(n);return s=r._runOnPromise(s,function(){r._blur(e),r.activeMenu=n})};if(s?this._isAnimationDisabled()?r._clearTimer=r._setTimer(a,r._getSubmenuBusyStateDescription("closing"),s):o=new Promise(function(e){r._clearTimer=r._setTimer(a,r._getSubmenuBusyStateDescription("closing"),s,function(){e(!0)})}):o=a(),o){var l=n.getContext(this.element[0]).getBusyContext().addBusyState({description:"closing submenus"});o.then(l)}return o},_close:function(e){var i;e||(e=this.active?this.active.parents(".oj-menu").first():this.element);var n=this,s=n._getDefaultAnimation("submenu","close"),o=e.find(".oj-menu"),a=function(e){e.hide().attr("aria-hidden","true").removeData(c),n._getSubmenuAnchor(e).attr("aria-expanded","false")};if(this._isAnimationDisabled())a(o),e.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor"),i=Promise.resolve(!0);else{var l=function(e){var i=null;return t(b(e)).children(".oj-menu").each(function(e,o){var u=t(o);if(u.is(":visible")){var h=l(u);i=n._runOnPromise(h,function(){var e=u.data(c),t=n._replaceAnimationOptions(s,{"#myPosition":e.my});return r.startAnimation(o,"close",t,n).then(function(){a(u)})})}else a(u),i=Promise.resolve(!0)}),i};i=l(e),i=this._runOnPromise(i,function(){e.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor")})}return i},_collapse:function(e,t){var i;if(null==t||"active"===t){var n=this.activeMenu&&this.activeMenu.closest(".oj-menu-item",this.element);if(n&&n.length){var s=this;i=this._close(),i=this._runOnPromise(i,function(){s._focus(e,n)})}}else"all"===t||"eventSubtree"===t?i=this.__collapseAll(e,"all"===t,this.delay):a.warn("Invalid param "+t+" passed to Menu._collapse().  Ignoring the call.");return i},_expand:function(e){var i,n;if(this.active){var s=b(n=this.active.children(".oj-menu ").first());s.length>0&&(i=t(s[0]))}i&&i.length&&(this._open(e,n),this._clearTimer&&this._clearTimer(),this._clearTimer=this._setTimer(function(){delete this._clearTimer,this._focus(e,i)},this._getBusyStateDescription("focusing an item")))},_next:function(e){this._move("next","first",e)},_previous:function(e){this._move("prev","last",e)},_move:function(e,i,n){var s,o=b(this.activeMenu),r=o.indexOf(this.active?this.active[0]:null);r>-1?"first"===e?s=o[0]:"last"===e?s=o[o.length-1]:"next"===e?s=r+1<o.length?o[r+1]:o[0]:"prev"===e&&(s=r-1>-1?o[r-1]:o[o.length-1]):s="first"===i?o[0]:o[o.length-1],this._focus(n,t(s))},_select:function(e){if(!this.active&&e&&e.target){var i=t(e.target).closest(".oj-menu-item");i.closest(this.element).length&&this._makeActive(i,e)}var n=this.active.is(this._cancelItem)?void 0:{item:this.active},s=this.__collapseAll(e,!0);this._runOnPromise(s,function(){this._focusLauncherAndDismiss(e,n)}.bind(this))},_surrogateRemoveHandler:function(){var t=this.element;e.ZOrderUtils.getStatus(t)===e.ZOrderUtils.STATUS.OPEN&&t.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var t={};this._popupServiceEvents=t,t[e.PopupService.EVENT.POPUP_CLOSE]=this._closeAll.bind(this),t[e.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),t[e.PopupService.EVENT.POPUP_REFRESH]=this._reposition.bind(this),t[e.PopupService.EVENT.POPUP_AUTODISMISS]=this._clickAwayHandler.bind(this),t[e.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),t[e.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),t[e.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),t[e.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this)}return this._popupServiceEvents},_closeAll:function(){this._disableAnimation=!0,this._close(this.element),this.__dismiss(null),this._setWhenReady("none")},_usingHandler:function(t,i){var n=i.element.element;n.css(t),e.PositionUtils.captureTransformOriginAnimationEffectsOption(n,i);var s=n.data(c).origUsing;s&&s(t,i),e.PositionUtils.isAligningPositionClipped(i)&&(this._clearCloseDelayTimer=this._setTimer(this._closeAll,this._getSubmenuBusyStateDescription("closing"),1))},getNodeBySubId:function(e){switch(e&&e.subId){case"oj-menu-cancel-command":return this._cancelDomAttached?this._cancelItem[0]:null;default:return this._super(e)}},getSubIdByNode:function(e){return this._cancelItem&&this._cancelItem.is(t(e).parents().addBack(e))?{subId:"oj-menu-cancel-command"}:this._super(e)},_isDropDown:function(e){if(this._hasSubmenus)return!0;switch(e){case"dropDown":return!0;case"sheet":return!1;default:return O.matches}},_toggleCancelDom:function(e){function i(e,i){var n=b(e),s=n.indexOf(i[1]);return t(n[s-1])}if(d)if(e)this._cancelDomAttached&&(i(this.element,this._getCancelDom()).removeClass("oj-menu-item-before-divider"),this._getCancelDom().detach(),this._cancelDomAttached=!1);else{var n=this._getCancelDom();n.appendTo(this.element),i(this.element,n).addClass("oj-menu-item-before-divider"),this._cancelDomAttached=!0}},_getCancelDom:function(){if(!this._cancelDom){var e=t("<li></li>",this.document[0]),i=t("<a href='#'></a>",this.document[0]).text(this.options.translations.labelCancel);t("<span class='oj-menu-item-icon oj-component-icon oj-menu-cancel-icon'></span>",this.document[0]).prependTo(i);var n=t("<li></li>",this.document[0]).addClass("oj-menu-item-cancel oj-menu-item-after-divider").append(i);this._initDividers(e),this._initAnchors(i),this._initMenuItems(n),this._cancelAnchor=i,this._cancelItem=n,this._cancelDom=t([e[0],n[0]])}return this._cancelDom},_setupSwipeBehavior:function(){p&&(this.element.ojHammer(g),this._on({swipedown:function(e){this._sheetMenuIsOpen&&"touch"===e.gesture.pointerType&&(this.__collapseAll(e,!0),this._focusLauncherAndDismiss(e))}}))},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojMenu",this._IsCustomElement()))},_isOperationPending:function(e,t,i){var n=this._whenReadyMediator;return!!n&&n.isOperationPending(this,e,t,i)},_setTimer:function(e,t,i,s){var o=n.getContext(this.element[0]).getBusyContext().addBusyState({description:t}),r=function(){o&&(o(),o=null,s&&s())},a=this,l=setTimeout(function(){var t=e.bind(a)();t&&t instanceof Promise?t.then(r):r()},i||0);return function(){clearTimeout(l),r()}},_getBusyStateDescription:function(e){return"Menu with id '"+this.element.attr("id")+"' is busy "+e+"."},_getSubmenuBusyStateDescription:function(e){return this._getBusyStateDescription(e+" a submenu")},_NotifyDetached:function(){e.ZOrderUtils.getStatus(this.element)===e.ZOrderUtils.STATUS.OPEN&&this._closeAll(),this._super()}}),o.setDefaultOptions({ojMenu:{openOptions:o.createDynamicPropertyGetter(function(t){return{position:null!=e.BaseCustomElementBridge.getRegistered(t.element.tagName)?t.containers.indexOf("ojMenu")>=0?{my:{horizontal:"start",vertical:"top"},at:{horizontal:"end",vertical:"top"},offset:{x:0,y:0},collision:"flipfit"}:{my:{horizontal:"start",vertical:"top"},at:{horizontal:"start",vertical:"bottom"},offset:{x:0,y:0},collision:"flipfit"}:{my:"start top",at:"start bottom",collision:"flipfit"}}})}})}(),l.extension._WIDGET_NAME="ojMenu",e.CustomElementBridge.register("oj-menu",{metadata:l})});
requirejs.config({baseUrl:"js",paths:{knockout:"libs/knockout/knockout-3.5.0",jquery:"libs/jquery/jquery-3.4.1.min","jqueryui-amd":"libs/jquery/jqueryui-amd-1.12.1.min",promise:"libs/es6-promise/es6-promise.min",hammerjs:"libs/hammer/hammer-2.0.8.min",ojdnd:"libs/dnd-polyfill/dnd-polyfill-1.0.0.min",ojs:"libs/oj/v7.0.1/min",ojL10n:"libs/oj/v7.0.1/ojL10n",ojtranslations:"libs/oj/v7.0.1/resources",text:"libs/require/text",signals:"libs/js-signals/signals.min",touchr:"libs/touchr/touchr",customElements:"libs/webcomponents/custom-elements.min",css:"libs/require-css/css.min","css-builder":"libs/require-css/css-builder",normalize:"libs/require-css/normalize"}}),require(["ojs/ojbootstrap","knockout","appController","ojs/ojknockout","ojs/ojbutton","ojs/ojtoolbar","ojs/ojmenu"],function(s,o,e){s.whenDocumentReady().then(function(){function s(){o.applyBindings(e,document.getElementById("globalBody"))}document.body.classList.contains("oj-hybrid")?document.addEventListener("deviceready",s):s()})}),window.onload=(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("./../sw.js")});
define("main-temp", function(){});

